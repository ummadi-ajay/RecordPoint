function _Z(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _u(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var G_={exports:{}},Rm={};var XR;function AZ(){if(XR)return Rm;XR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Rm.Fragment=e,Rm.jsx=n,Rm.jsxs=n,Rm}var QR;function SZ(){return QR||(QR=1,G_.exports=AZ()),G_.exports}var y=SZ(),q_={exports:{}},hn={};var ZR;function TZ(){if(ZR)return hn;ZR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),w=Symbol.iterator;function A(Q){return Q===null||typeof Q!="object"?null:(Q=w&&Q[w]||Q["@@iterator"],typeof Q=="function"?Q:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,I={};function j(Q,ee,oe){this.props=Q,this.context=ee,this.refs=I,this.updater=oe||N}j.prototype.isReactComponent={},j.prototype.setState=function(Q,ee){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,ee,"setState")},j.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function D(){}D.prototype=j.prototype;function P(Q,ee,oe){this.props=Q,this.context=ee,this.refs=I,this.updater=oe||N}var V=P.prototype=new D;V.constructor=P,S(V,j.prototype),V.isPureReactComponent=!0;var K=Array.isArray;function Z(){}var F={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function B(Q,ee,oe){var se=oe.ref;return{$$typeof:t,type:Q,key:ee,ref:se!==void 0?se:null,props:oe}}function J(Q,ee){return B(Q.type,ee,Q.props)}function H(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===t}function G(Q){var ee={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(oe){return ee[oe]})}var q=/\/+/g;function Ce(Q,ee){return typeof Q=="object"&&Q!==null&&Q.key!=null?G(""+Q.key):ee.toString(36)}function re(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(Z,Z):(Q.status="pending",Q.then(function(ee){Q.status==="pending"&&(Q.status="fulfilled",Q.value=ee)},function(ee){Q.status==="pending"&&(Q.status="rejected",Q.reason=ee)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function ue(Q,ee,oe,se,fe){var Ee=typeof Q;(Ee==="undefined"||Ee==="boolean")&&(Q=null);var Ne=!1;if(Q===null)Ne=!0;else switch(Ee){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(Q.$$typeof){case t:case e:Ne=!0;break;case p:return Ne=Q._init,ue(Ne(Q._payload),ee,oe,se,fe)}}if(Ne)return fe=fe(Q),Ne=se===""?"."+Ce(Q,0):se,K(fe)?(oe="",Ne!=null&&(oe=Ne.replace(q,"$&/")+"/"),ue(fe,ee,oe,"",function(ze){return ze})):fe!=null&&(H(fe)&&(fe=J(fe,oe+(fe.key==null||Q&&Q.key===fe.key?"":(""+fe.key).replace(q,"$&/")+"/")+Ne)),ee.push(fe)),1;Ne=0;var Ge=se===""?".":se+":";if(K(Q))for(var _e=0;_e<Q.length;_e++)se=Q[_e],Ee=Ge+Ce(se,_e),Ne+=ue(se,ee,oe,Ee,fe);else if(_e=A(Q),typeof _e=="function")for(Q=_e.call(Q),_e=0;!(se=Q.next()).done;)se=se.value,Ee=Ge+Ce(se,_e++),Ne+=ue(se,ee,oe,Ee,fe);else if(Ee==="object"){if(typeof Q.then=="function")return ue(re(Q),ee,oe,se,fe);throw ee=String(Q),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function me(Q,ee,oe){if(Q==null)return Q;var se=[],fe=0;return ue(Q,se,"","",function(Ee){return ee.call(oe,Ee,fe++)}),se}function Re(Q){if(Q._status===-1){var ee=Q._result;ee=ee(),ee.then(function(oe){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=oe)},function(oe){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=oe)}),Q._status===-1&&(Q._status=0,Q._result=ee)}if(Q._status===1)return Q._result.default;throw Q._result}var Be=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)},be={map:me,forEach:function(Q,ee,oe){me(Q,function(){ee.apply(this,arguments)},oe)},count:function(Q){var ee=0;return me(Q,function(){ee++}),ee},toArray:function(Q){return me(Q,function(ee){return ee})||[]},only:function(Q){if(!H(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}};return hn.Activity=x,hn.Children=be,hn.Component=j,hn.Fragment=n,hn.Profiler=i,hn.PureComponent=P,hn.StrictMode=r,hn.Suspense=d,hn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,hn.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return F.H.useMemoCache(Q)}},hn.cache=function(Q){return function(){return Q.apply(null,arguments)}},hn.cacheSignal=function(){return null},hn.cloneElement=function(Q,ee,oe){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var se=S({},Q.props),fe=Q.key;if(ee!=null)for(Ee in ee.key!==void 0&&(fe=""+ee.key),ee)!U.call(ee,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ee.ref===void 0||(se[Ee]=ee[Ee]);var Ee=arguments.length-2;if(Ee===1)se.children=oe;else if(1<Ee){for(var Ne=Array(Ee),Ge=0;Ge<Ee;Ge++)Ne[Ge]=arguments[Ge+2];se.children=Ne}return B(Q.type,fe,se)},hn.createContext=function(Q){return Q={$$typeof:s,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:a,_context:Q},Q},hn.createElement=function(Q,ee,oe){var se,fe={},Ee=null;if(ee!=null)for(se in ee.key!==void 0&&(Ee=""+ee.key),ee)U.call(ee,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(fe[se]=ee[se]);var Ne=arguments.length-2;if(Ne===1)fe.children=oe;else if(1<Ne){for(var Ge=Array(Ne),_e=0;_e<Ne;_e++)Ge[_e]=arguments[_e+2];fe.children=Ge}if(Q&&Q.defaultProps)for(se in Ne=Q.defaultProps,Ne)fe[se]===void 0&&(fe[se]=Ne[se]);return B(Q,Ee,fe)},hn.createRef=function(){return{current:null}},hn.forwardRef=function(Q){return{$$typeof:c,render:Q}},hn.isValidElement=H,hn.lazy=function(Q){return{$$typeof:p,_payload:{_status:-1,_result:Q},_init:Re}},hn.memo=function(Q,ee){return{$$typeof:u,type:Q,compare:ee===void 0?null:ee}},hn.startTransition=function(Q){var ee=F.T,oe={};F.T=oe;try{var se=Q(),fe=F.S;fe!==null&&fe(oe,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Z,Be)}catch(Ee){Be(Ee)}finally{ee!==null&&oe.types!==null&&(ee.types=oe.types),F.T=ee}},hn.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},hn.use=function(Q){return F.H.use(Q)},hn.useActionState=function(Q,ee,oe){return F.H.useActionState(Q,ee,oe)},hn.useCallback=function(Q,ee){return F.H.useCallback(Q,ee)},hn.useContext=function(Q){return F.H.useContext(Q)},hn.useDebugValue=function(){},hn.useDeferredValue=function(Q,ee){return F.H.useDeferredValue(Q,ee)},hn.useEffect=function(Q,ee){return F.H.useEffect(Q,ee)},hn.useEffectEvent=function(Q){return F.H.useEffectEvent(Q)},hn.useId=function(){return F.H.useId()},hn.useImperativeHandle=function(Q,ee,oe){return F.H.useImperativeHandle(Q,ee,oe)},hn.useInsertionEffect=function(Q,ee){return F.H.useInsertionEffect(Q,ee)},hn.useLayoutEffect=function(Q,ee){return F.H.useLayoutEffect(Q,ee)},hn.useMemo=function(Q,ee){return F.H.useMemo(Q,ee)},hn.useOptimistic=function(Q,ee){return F.H.useOptimistic(Q,ee)},hn.useReducer=function(Q,ee,oe){return F.H.useReducer(Q,ee,oe)},hn.useRef=function(Q){return F.H.useRef(Q)},hn.useState=function(Q){return F.H.useState(Q)},hn.useSyncExternalStore=function(Q,ee,oe){return F.H.useSyncExternalStore(Q,ee,oe)},hn.useTransition=function(){return F.H.useTransition()},hn.version="19.2.4",hn}var JR;function bp(){return JR||(JR=1,q_.exports=TZ()),q_.exports}var R=bp();const Br=_u(R),CZ=_Z({__proto__:null,default:Br},[R]);var Y_={exports:{}},km={},$_={exports:{}},K_={};var ek;function IZ(){return ek||(ek=1,(function(t){function e(ue,me){var Re=ue.length;ue.push(me);e:for(;0<Re;){var Be=Re-1>>>1,be=ue[Be];if(0<i(be,me))ue[Be]=me,ue[Re]=be,Re=Be;else break e}}function n(ue){return ue.length===0?null:ue[0]}function r(ue){if(ue.length===0)return null;var me=ue[0],Re=ue.pop();if(Re!==me){ue[0]=Re;e:for(var Be=0,be=ue.length,Q=be>>>1;Be<Q;){var ee=2*(Be+1)-1,oe=ue[ee],se=ee+1,fe=ue[se];if(0>i(oe,Re))se<be&&0>i(fe,oe)?(ue[Be]=fe,ue[se]=Re,Be=se):(ue[Be]=oe,ue[ee]=Re,Be=ee);else if(se<be&&0>i(fe,Re))ue[Be]=fe,ue[se]=Re,Be=se;else break e}}return me}function i(ue,me){var Re=ue.sortIndex-me.sortIndex;return Re!==0?Re:ue.id-me.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var d=[],u=[],p=1,x=null,w=3,A=!1,N=!1,S=!1,I=!1,j=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function V(ue){for(var me=n(u);me!==null;){if(me.callback===null)r(u);else if(me.startTime<=ue)r(u),me.sortIndex=me.expirationTime,e(d,me);else break;me=n(u)}}function K(ue){if(S=!1,V(ue),!N)if(n(d)!==null)N=!0,Z||(Z=!0,G());else{var me=n(u);me!==null&&re(K,me.startTime-ue)}}var Z=!1,F=-1,U=5,B=-1;function J(){return I?!0:!(t.unstable_now()-B<U)}function H(){if(I=!1,Z){var ue=t.unstable_now();B=ue;var me=!0;try{e:{N=!1,S&&(S=!1,D(F),F=-1),A=!0;var Re=w;try{t:{for(V(ue),x=n(d);x!==null&&!(x.expirationTime>ue&&J());){var Be=x.callback;if(typeof Be=="function"){x.callback=null,w=x.priorityLevel;var be=Be(x.expirationTime<=ue);if(ue=t.unstable_now(),typeof be=="function"){x.callback=be,V(ue),me=!0;break t}x===n(d)&&r(d),V(ue)}else r(d);x=n(d)}if(x!==null)me=!0;else{var Q=n(u);Q!==null&&re(K,Q.startTime-ue),me=!1}}break e}finally{x=null,w=Re,A=!1}me=void 0}}finally{me?G():Z=!1}}}var G;if(typeof P=="function")G=function(){P(H)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Ce=q.port2;q.port1.onmessage=H,G=function(){Ce.postMessage(null)}}else G=function(){j(H,0)};function re(ue,me){F=j(function(){ue(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ue){ue.callback=null},t.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<ue?Math.floor(1e3/ue):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(ue){switch(w){case 1:case 2:case 3:var me=3;break;default:me=w}var Re=w;w=me;try{return ue()}finally{w=Re}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(ue,me){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var Re=w;w=ue;try{return me()}finally{w=Re}},t.unstable_scheduleCallback=function(ue,me,Re){var Be=t.unstable_now();switch(typeof Re=="object"&&Re!==null?(Re=Re.delay,Re=typeof Re=="number"&&0<Re?Be+Re:Be):Re=Be,ue){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=Re+be,ue={id:p++,callback:me,priorityLevel:ue,startTime:Re,expirationTime:be,sortIndex:-1},Re>Be?(ue.sortIndex=Re,e(u,ue),n(d)===null&&ue===n(u)&&(S?(D(F),F=-1):S=!0,re(K,Re-Be))):(ue.sortIndex=be,e(d,ue),N||A||(N=!0,Z||(Z=!0,G()))),ue},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(ue){var me=w;return function(){var Re=w;w=me;try{return ue.apply(this,arguments)}finally{w=Re}}}})(K_)),K_}var tk;function NZ(){return tk||(tk=1,$_.exports=IZ()),$_.exports}var X_={exports:{}},Ka={};var nk;function OZ(){if(nk)return Ka;nk=1;var t=bp();function e(d){var u="https://react.dev/errors/"+d;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,u,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:d,containerInfo:u,implementation:p}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,u){if(d==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Ka.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ka.createPortal=function(d,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return a(d,u,null,p)},Ka.flushSync=function(d){var u=s.T,p=r.p;try{if(s.T=null,r.p=2,d)return d()}finally{s.T=u,r.p=p,r.d.f()}},Ka.preconnect=function(d,u){typeof d=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(d,u))},Ka.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Ka.preinit=function(d,u){if(typeof d=="string"&&u&&typeof u.as=="string"){var p=u.as,x=c(p,u.crossOrigin),w=typeof u.integrity=="string"?u.integrity:void 0,A=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;p==="style"?r.d.S(d,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:A}):p==="script"&&r.d.X(d,{crossOrigin:x,integrity:w,fetchPriority:A,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Ka.preinitModule=function(d,u){if(typeof d=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var p=c(u.as,u.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(d)},Ka.preload=function(d,u){if(typeof d=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var p=u.as,x=c(p,u.crossOrigin);r.d.L(d,p,{crossOrigin:x,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Ka.preloadModule=function(d,u){if(typeof d=="string")if(u){var p=c(u.as,u.crossOrigin);r.d.m(d,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(d)},Ka.requestFormReset=function(d){r.d.r(d)},Ka.unstable_batchedUpdates=function(d,u){return d(u)},Ka.useFormState=function(d,u,p){return s.H.useFormState(d,u,p)},Ka.useFormStatus=function(){return s.H.useHostTransitionStatus()},Ka.version="19.2.4",Ka}var rk;function OF(){if(rk)return X_.exports;rk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),X_.exports=OZ(),X_.exports}var ik;function MZ(){if(ik)return km;ik=1;var t=NZ(),e=bp(),n=OF();function r(o){var f="https://react.dev/errors/"+o;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+o+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var f=o,g=o;if(o.alternate)for(;f.return;)f=f.return;else{o=f;do f=o,(f.flags&4098)!==0&&(g=f.return),o=f.return;while(o)}return f.tag===3?g:null}function s(o){if(o.tag===13){var f=o.memoizedState;if(f===null&&(o=o.alternate,o!==null&&(f=o.memoizedState)),f!==null)return f.dehydrated}return null}function c(o){if(o.tag===31){var f=o.memoizedState;if(f===null&&(o=o.alternate,o!==null&&(f=o.memoizedState)),f!==null)return f.dehydrated}return null}function d(o){if(a(o)!==o)throw Error(r(188))}function u(o){var f=o.alternate;if(!f){if(f=a(o),f===null)throw Error(r(188));return f!==o?null:o}for(var g=o,E=f;;){var O=g.return;if(O===null)break;var k=O.alternate;if(k===null){if(E=O.return,E!==null){g=E;continue}break}if(O.child===k.child){for(k=O.child;k;){if(k===g)return d(O),o;if(k===E)return d(O),f;k=k.sibling}throw Error(r(188))}if(g.return!==E.return)g=O,E=k;else{for(var Y=!1,le=O.child;le;){if(le===g){Y=!0,g=O,E=k;break}if(le===E){Y=!0,E=O,g=k;break}le=le.sibling}if(!Y){for(le=k.child;le;){if(le===g){Y=!0,g=k,E=O;break}if(le===E){Y=!0,E=k,g=O;break}le=le.sibling}if(!Y)throw Error(r(189))}}if(g.alternate!==E)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?o:f}function p(o){var f=o.tag;if(f===5||f===26||f===27||f===6)return o;for(o=o.child;o!==null;){if(f=p(o),f!==null)return f;o=o.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),P=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function G(o){return o===null||typeof o!="object"?null:(o=H&&o[H]||o["@@iterator"],typeof o=="function"?o:null)}var q=Symbol.for("react.client.reference");function Ce(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===q?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case j:return"Profiler";case I:return"StrictMode";case K:return"Suspense";case Z:return"SuspenseList";case B:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case N:return"Portal";case P:return o.displayName||"Context";case D:return(o._context.displayName||"Context")+".Consumer";case V:var f=o.render;return o=o.displayName,o||(o=f.displayName||f.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case F:return f=o.displayName||null,f!==null?f:Ce(o.type)||"Memo";case U:f=o._payload,o=o._init;try{return Ce(o(f))}catch{}}return null}var re=Array.isArray,ue=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re={pending:!1,data:null,method:null,action:null},Be=[],be=-1;function Q(o){return{current:o}}function ee(o){0>be||(o.current=Be[be],Be[be]=null,be--)}function oe(o,f){be++,Be[be]=o.current,o.current=f}var se=Q(null),fe=Q(null),Ee=Q(null),Ne=Q(null);function Ge(o,f){switch(oe(Ee,f),oe(fe,o),oe(se,null),f.nodeType){case 9:case 11:o=(o=f.documentElement)&&(o=o.namespaceURI)?vR(o):0;break;default:if(o=f.tagName,f=f.namespaceURI)f=vR(f),o=bR(f,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ee(se),oe(se,o)}function _e(){ee(se),ee(fe),ee(Ee)}function ze(o){o.memoizedState!==null&&oe(Ne,o);var f=se.current,g=bR(f,o.type);f!==g&&(oe(fe,o),oe(se,g))}function tt(o){fe.current===o&&(ee(se),ee(fe)),Ne.current===o&&(ee(Ne),Im._currentValue=Re)}var Me,gt;function nt(o){if(Me===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);Me=f&&f[1]||"",gt=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Me+o+gt}var Ut=!1;function Ct(o,f){if(!o||Ut)return"";Ut=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(f){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(Xe){var qe=Xe}Reflect.construct(o,[],at)}else{try{at.call()}catch(Xe){qe=Xe}o.call(at.prototype)}}else{try{throw Error()}catch(Xe){qe=Xe}(at=o())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(Xe){if(Xe&&qe&&typeof Xe.stack=="string")return[Xe.stack,qe.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=E.DetermineComponentFrameRoot(),Y=k[0],le=k[1];if(Y&&le){var Ae=Y.split(`
`),He=le.split(`
`);for(O=E=0;E<Ae.length&&!Ae[E].includes("DetermineComponentFrameRoot");)E++;for(;O<He.length&&!He[O].includes("DetermineComponentFrameRoot");)O++;if(E===Ae.length||O===He.length)for(E=Ae.length-1,O=He.length-1;1<=E&&0<=O&&Ae[E]!==He[O];)O--;for(;1<=E&&0<=O;E--,O--)if(Ae[E]!==He[O]){if(E!==1||O!==1)do if(E--,O--,0>O||Ae[E]!==He[O]){var et=`
`+Ae[E].replace(" at new "," at ");return o.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",o.displayName)),et}while(1<=E&&0<=O);break}}}finally{Ut=!1,Error.prepareStackTrace=g}return(g=o?o.displayName||o.name:"")?nt(g):""}function st(o,f){switch(o.tag){case 26:case 27:case 5:return nt(o.type);case 16:return nt("Lazy");case 13:return o.child!==f&&f!==null?nt("Suspense Fallback"):nt("Suspense");case 19:return nt("SuspenseList");case 0:case 15:return Ct(o.type,!1);case 11:return Ct(o.type.render,!1);case 1:return Ct(o.type,!0);case 31:return nt("Activity");default:return""}}function It(o){try{var f="",g=null;do f+=st(o,g),g=o,o=o.return;while(o);return f}catch(E){return`
Error generating stack: `+E.message+`
`+E.stack}}var _t=Object.prototype.hasOwnProperty,bt=t.unstable_scheduleCallback,mt=t.unstable_cancelCallback,fi=t.unstable_shouldYield,nr=t.unstable_requestPaint,Kt=t.unstable_now,Rr=t.unstable_getCurrentPriorityLevel,ye=t.unstable_ImmediatePriority,yt=t.unstable_UserBlockingPriority,Rt=t.unstable_NormalPriority,Xt=t.unstable_LowPriority,In=t.unstable_IdlePriority,nn=t.log,Ea=t.unstable_setDisableYieldValue,mn=null,ct=null;function yn(o){if(typeof nn=="function"&&Ea(o),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(mn,o)}catch{}}var Ht=Math.clz32?Math.clz32:Wr,gn=Math.log,di=Math.LN2;function Wr(o){return o>>>=0,o===0?32:31-(gn(o)/di|0)|0}var hi=256,sn=262144,kn=4194304;function kr(o){var f=o&42;if(f!==0)return f;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function sa(o,f,g){var E=o.pendingLanes;if(E===0)return 0;var O=0,k=o.suspendedLanes,Y=o.pingedLanes;o=o.warmLanes;var le=E&134217727;return le!==0?(E=le&~k,E!==0?O=kr(E):(Y&=le,Y!==0?O=kr(Y):g||(g=le&~o,g!==0&&(O=kr(g))))):(le=E&~k,le!==0?O=kr(le):Y!==0?O=kr(Y):g||(g=E&~o,g!==0&&(O=kr(g)))),O===0?0:f!==0&&f!==O&&(f&k)===0&&(k=O&-O,g=f&-f,k>=g||k===32&&(g&4194048)!==0)?f:O}function _r(o,f){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&f)===0}function qs(o,f){switch(o){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dr(){var o=kn;return kn<<=1,(kn&62914560)===0&&(kn=4194304),o}function ni(o){for(var f=[],g=0;31>g;g++)f.push(o);return f}function Ha(o,f){o.pendingLanes|=f,f!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Un(o,f,g,E,O,k){var Y=o.pendingLanes;o.pendingLanes=g,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=g,o.entangledLanes&=g,o.errorRecoveryDisabledLanes&=g,o.shellSuspendCounter=0;var le=o.entanglements,Ae=o.expirationTimes,He=o.hiddenUpdates;for(g=Y&~g;0<g;){var et=31-Ht(g),at=1<<et;le[et]=0,Ae[et]=-1;var qe=He[et];if(qe!==null)for(He[et]=null,et=0;et<qe.length;et++){var Xe=qe[et];Xe!==null&&(Xe.lane&=-536870913)}g&=~at}E!==0&&Gr(o,E,0),k!==0&&O===0&&o.tag!==0&&(o.suspendedLanes|=k&~(Y&~f))}function Gr(o,f,g){o.pendingLanes|=f,o.suspendedLanes&=~f;var E=31-Ht(f);o.entangledLanes|=f,o.entanglements[E]=o.entanglements[E]|1073741824|g&261930}function Ar(o,f){var g=o.entangledLanes|=f;for(o=o.entanglements;g;){var E=31-Ht(g),O=1<<E;O&f|o[E]&f&&(o[E]|=f),g&=~O}}function Pi(o,f){var g=f&-f;return g=(g&42)!==0?1:Pr(g),(g&(o.suspendedLanes|f))!==0?0:g}function Pr(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Ci(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function ie(){var o=me.p;return o!==0?o:(o=window.event,o===void 0?32:HR(o.type))}function ce(o,f){var g=me.p;try{return me.p=o,f()}finally{me.p=g}}var de=Math.random().toString(36).slice(2),pe="__reactFiber$"+de,ge="__reactProps$"+de,we="__reactContainer$"+de,Le="__reactEvents$"+de,Ze="__reactListeners$"+de,Pe="__reactHandles$"+de,We="__reactResources$"+de,Ve="__reactMarker$"+de;function ot(o){delete o[pe],delete o[ge],delete o[Le],delete o[Ze],delete o[Pe]}function dt(o){var f=o[pe];if(f)return f;for(var g=o.parentNode;g;){if(f=g[we]||g[pe]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(o=CR(o);o!==null;){if(g=o[pe])return g;o=CR(o)}return f}o=g,g=o.parentNode}return null}function ht(o){if(o=o[pe]||o[we]){var f=o.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return o}return null}function pt(o){var f=o.tag;if(f===5||f===26||f===27||f===6)return o.stateNode;throw Error(r(33))}function Et(o){var f=o[We];return f||(f=o[We]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function kt(o){o[Ve]=!0}var Qe=new Set,Qn={};function tn(o,f){ri(o,f),ri(o+"Capture",f)}function ri(o,f){for(Qn[o]=f,o=0;o<f.length;o++)Qe.add(f[o])}var Ys=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vn={},ln={};function fn(o){return _t.call(ln,o)?!0:_t.call(vn,o)?!1:Ys.test(o)?ln[o]=!0:(vn[o]=!0,!1)}function ji(o,f,g){if(fn(f))if(g===null)o.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":o.removeAttribute(f);return;case"boolean":var E=f.toLowerCase().slice(0,5);if(E!=="data-"&&E!=="aria-"){o.removeAttribute(f);return}}o.setAttribute(f,""+g)}}function _a(o,f,g){if(g===null)o.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttribute(f,""+g)}}function qr(o,f,g,E){if(E===null)o.removeAttribute(g);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(g);return}o.setAttributeNS(f,g,""+E)}}function Tn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Aa(o){var f=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function od(o,f,g){var E=Object.getOwnPropertyDescriptor(o.constructor.prototype,f);if(!o.hasOwnProperty(f)&&typeof E<"u"&&typeof E.get=="function"&&typeof E.set=="function"){var O=E.get,k=E.set;return Object.defineProperty(o,f,{configurable:!0,get:function(){return O.call(this)},set:function(Y){g=""+Y,k.call(this,Y)}}),Object.defineProperty(o,f,{enumerable:E.enumerable}),{getValue:function(){return g},setValue:function(Y){g=""+Y},stopTracking:function(){o._valueTracker=null,delete o[f]}}}}function Jt(o){if(!o._valueTracker){var f=Aa(o)?"checked":"value";o._valueTracker=od(o,f,""+o[f])}}function Wa(o){if(!o)return!1;var f=o._valueTracker;if(!f)return!0;var g=f.getValue(),E="";return o&&(E=Aa(o)?o.checked?"true":"false":o.value),o=E,o!==g?(f.setValue(o),!0):!1}function _o(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Ss=/[\n"\\]/g;function wn(o){return o.replace(Ss,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function ii(o,f,g,E,O,k,Y,le){o.name="",Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?o.type=Y:o.removeAttribute("type"),f!=null?Y==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+Tn(f)):o.value!==""+Tn(f)&&(o.value=""+Tn(f)):Y!=="submit"&&Y!=="reset"||o.removeAttribute("value"),f!=null?xe(o,Y,Tn(f)):g!=null?xe(o,Y,Tn(g)):E!=null&&o.removeAttribute("value"),O==null&&k!=null&&(o.defaultChecked=!!k),O!=null&&(o.checked=O&&typeof O!="function"&&typeof O!="symbol"),le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"?o.name=""+Tn(le):o.removeAttribute("name")}function je(o,f,g,E,O,k,Y,le){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(o.type=k),f!=null||g!=null){if(!(k!=="submit"&&k!=="reset"||f!=null)){Jt(o);return}g=g!=null?""+Tn(g):"",f=f!=null?""+Tn(f):g,le||f===o.value||(o.value=f),o.defaultValue=f}E=E??O,E=typeof E!="function"&&typeof E!="symbol"&&!!E,o.checked=le?o.checked:!!E,o.defaultChecked=!!E,Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"&&(o.name=Y),Jt(o)}function xe(o,f,g){f==="number"&&_o(o.ownerDocument)===o||o.defaultValue===""+g||(o.defaultValue=""+g)}function Lt(o,f,g,E){if(o=o.options,f){f={};for(var O=0;O<g.length;O++)f["$"+g[O]]=!0;for(g=0;g<o.length;g++)O=f.hasOwnProperty("$"+o[g].value),o[g].selected!==O&&(o[g].selected=O),O&&E&&(o[g].defaultSelected=!0)}else{for(g=""+Tn(g),f=null,O=0;O<o.length;O++){if(o[O].value===g){o[O].selected=!0,E&&(o[O].defaultSelected=!0);return}f!==null||o[O].disabled||(f=o[O])}f!==null&&(f.selected=!0)}}function ai(o,f,g){if(f!=null&&(f=""+Tn(f),f!==o.value&&(o.value=f),g==null)){o.defaultValue!==f&&(o.defaultValue=f);return}o.defaultValue=g!=null?""+Tn(g):""}function Ii(o,f,g,E){if(f==null){if(E!=null){if(g!=null)throw Error(r(92));if(re(E)){if(1<E.length)throw Error(r(93));E=E[0]}g=E}g==null&&(g=""),f=g}g=Tn(f),o.defaultValue=g,E=o.textContent,E===g&&E!==""&&E!==null&&(o.value=E),Jt(o)}function Ga(o,f){if(f){var g=o.firstChild;if(g&&g===o.lastChild&&g.nodeType===3){g.nodeValue=f;return}}o.textContent=f}var ku=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oa(o,f,g){var E=f.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?E?o.setProperty(f,""):f==="float"?o.cssFloat="":o[f]="":E?o.setProperty(f,g):typeof g!="number"||g===0||ku.has(f)?f==="float"?o.cssFloat=g:o[f]=(""+g).trim():o[f]=g+"px"}function Wt(o,f,g){if(f!=null&&typeof f!="object")throw Error(r(62));if(o=o.style,g!=null){for(var E in g)!g.hasOwnProperty(E)||f!=null&&f.hasOwnProperty(E)||(E.indexOf("--")===0?o.setProperty(E,""):E==="float"?o.cssFloat="":o[E]="");for(var O in f)E=f[O],f.hasOwnProperty(O)&&g[O]!==E&&oa(o,O,E)}else for(var k in f)f.hasOwnProperty(k)&&oa(o,k,f[k])}function rr(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ld=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dl(o){return kl.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function qa(){}var bc=null;function Ts(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Sr=null,Ya=null;function $a(o){var f=ht(o);if(f&&(o=f.stateNode)){var g=o[ge]||null;e:switch(o=f.stateNode,f.type){case"input":if(ii(o,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),f=g.name,g.type==="radio"&&f!=null){for(g=o;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+wn(""+f)+'"][type="radio"]'),f=0;f<g.length;f++){var E=g[f];if(E!==o&&E.form===o.form){var O=E[ge]||null;if(!O)throw Error(r(90));ii(E,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(f=0;f<g.length;f++)E=g[f],E.form===o.form&&Wa(E)}break e;case"textarea":ai(o,g.value,g.defaultValue);break e;case"select":f=g.value,f!=null&&Lt(o,!!g.multiple,f,!1)}}}var qt=!1;function Pl(o,f,g){if(qt)return o(f,g);qt=!0;try{var E=o(f);return E}finally{if(qt=!1,(Sr!==null||Ya!==null)&&(Gx(),Sr&&(f=Sr,o=Ya,Ya=Sr=null,$a(f),o)))for(f=0;f<o.length;f++)$a(o[f])}}function Qt(o,f){var g=o.stateNode;if(g===null)return null;var E=g[ge]||null;if(E===null)return null;g=E[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(o=o.type,E=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!E;break e;default:o=!1}if(o)return null;if(g&&typeof g!="function")throw Error(r(231,f,typeof g));return g}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wc=!1;if(ir)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){wc=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{wc=!1}var $s=null,Ks=null,Ec=null;function rl(){if(Ec)return Ec;var o,f=Ks,g=f.length,E,O="value"in $s?$s.value:$s.textContent,k=O.length;for(o=0;o<g&&f[o]===O[o];o++);var Y=g-o;for(E=1;E<=Y&&f[g-E]===O[k-E];E++);return Ec=O.slice(o,1<E?1-E:void 0)}function Xs(o){var f=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&f===13&&(o=13)):o=f,o===10&&(o=13),32<=o||o===13?o:0}function ls(){return!0}function Cs(){return!1}function si(o){function f(g,E,O,k,Y){this._reactName=g,this._targetInst=O,this.type=E,this.nativeEvent=k,this.target=Y,this.currentTarget=null;for(var le in o)o.hasOwnProperty(le)&&(g=o[le],this[le]=g?g(k):k[le]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?ls:Cs,this.isPropagationStopped=Cs,this}return x(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),f}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jr=si(cs),il=x({},cs,{view:0,detail:0}),Du=si(il),al,Pu,Ao,ju=x({},il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:To,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ao&&(Ao&&o.type==="mousemove"?(al=o.screenX-Ao.screenX,Pu=o.screenY-Ao.screenY):Pu=al=0,Ao=o),al)},movementY:function(o){return"movementY"in o?o.movementY:Pu}}),Hn=si(ju),jl=x({},ju,{dataTransfer:0}),_c=si(jl),Qs=x({},il,{relatedTarget:0}),Ac=si(Qs),Ye=x({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),dn=si(Ye),Yr=x({},cs,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Sc=si(Yr),cd=x({},cs,{data:0}),So=si(cd),Lh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $r(o){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(o):(o=Lu[o])?!!f[o]:!1}function To(){return $r}var Cn=x({},il,{key:function(o){if(o.key){var f=Lh[o.key]||o.key;if(f!=="Unidentified")return f}return o.type==="keypress"?(o=Xs(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Fh[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:To,charCode:function(o){return o.type==="keypress"?Xs(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Xs(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Tc=si(Cn),Co=x({},ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nn=si(Co),T=x({},il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:To}),z=si(T),X=x({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),he=si(X),ke=x({},ju,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Ke=si(ke),wt=x({},cs,{newState:0,oldState:0}),on=si(wt),Kr=[9,13,27,32],zn=ir&&"CompositionEvent"in window,Tr=null;ir&&"documentMode"in document&&(Tr=document.documentMode);var us=ir&&"TextEvent"in window&&!Tr,Io=ir&&(!zn||Tr&&8<Tr&&11>=Tr),la=" ",fs=!1;function Cc(o,f){switch(o){case"keyup":return Kr.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function No(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Fu=!1;function Ll(o,f){switch(o){case"compositionend":return No(f);case"keypress":return f.which!==32?null:(fs=!0,la);case"textInput":return o=f.data,o===la&&fs?null:o;default:return null}}function Bh(o,f){if(Fu)return o==="compositionend"||!zn&&Cc(o,f)?(o=rl(),Ec=Ks=$s=null,Fu=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Io&&f.locale!=="ko"?null:f.data;default:return null}}var Is={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zp(o){var f=o&&o.nodeName&&o.nodeName.toLowerCase();return f==="input"?!!Is[o.type]:f==="textarea"}function Zs(o,f,g,E){Sr?Ya?Ya.push(E):Ya=[E]:Sr=E,f=Zx(f,"onChange"),0<f.length&&(g=new jr("onChange","change",null,g,E),o.push({event:g,listeners:f}))}var ud=null,Ic=null;function iE(o){hR(o,0)}function fd(o){var f=pt(o);if(Wa(f))return o}function Js(o,f){if(o==="change")return f}var cx=!1;if(ir){var dd;if(ir){var Nc="oninput"in document;if(!Nc){var Dn=document.createElement("div");Dn.setAttribute("oninput","return;"),Nc=typeof Dn.oninput=="function"}dd=Nc}else dd=!1;cx=dd&&(!document.documentMode||9<document.documentMode)}function hd(){ud&&(ud.detachEvent("onpropertychange",te),Ic=ud=null)}function te(o){if(o.propertyName==="value"&&fd(Ic)){var f=[];Zs(f,Ic,o,Ts(o)),Pl(iE,f)}}function l(o,f,g){o==="focusin"?(hd(),ud=f,Ic=g,ud.attachEvent("onpropertychange",te)):o==="focusout"&&hd()}function h(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return fd(Ic)}function m(o,f){if(o==="click")return fd(f)}function v(o,f){if(o==="input"||o==="change")return fd(f)}function b(o,f){return o===f&&(o!==0||1/o===1/f)||o!==o&&f!==f}var _=typeof Object.is=="function"?Object.is:b;function C(o,f){if(_(o,f))return!0;if(typeof o!="object"||o===null||typeof f!="object"||f===null)return!1;var g=Object.keys(o),E=Object.keys(f);if(g.length!==E.length)return!1;for(E=0;E<g.length;E++){var O=g[E];if(!_t.call(f,O)||!_(o[O],f[O]))return!1}return!0}function M(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function L(o,f){var g=M(o);o=0;for(var E;g;){if(g.nodeType===3){if(E=o+g.textContent.length,o<=f&&E>=f)return{node:g,offset:f-o};o=E}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=M(g)}}function W(o,f){return o&&f?o===f?!0:o&&o.nodeType===3?!1:f&&f.nodeType===3?W(o,f.parentNode):"contains"in o?o.contains(f):o.compareDocumentPosition?!!(o.compareDocumentPosition(f)&16):!1:!1}function ne(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var f=_o(o.document);f instanceof o.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)o=f.contentWindow;else break;f=_o(o.document)}return f}function ae(o){var f=o&&o.nodeName&&o.nodeName.toLowerCase();return f&&(f==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||f==="textarea"||o.contentEditable==="true")}var ve=ir&&"documentMode"in document&&11>=document.documentMode,Se=null,Te=null,De=null,$e=!1;function vt(o,f,g){var E=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;$e||Se==null||Se!==_o(E)||(E=Se,"selectionStart"in E&&ae(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),De&&C(De,E)||(De=E,E=Zx(Te,"onSelect"),0<E.length&&(f=new jr("onSelect","select",null,f,g),o.push({event:f,listeners:E}),f.target=Se)))}function xt(o,f){var g={};return g[o.toLowerCase()]=f.toLowerCase(),g["Webkit"+o]="webkit"+f,g["Moz"+o]="moz"+f,g}var ft={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionrun:xt("Transition","TransitionRun"),transitionstart:xt("Transition","TransitionStart"),transitioncancel:xt("Transition","TransitionCancel"),transitionend:xt("Transition","TransitionEnd")},_n={},cn={};ir&&(cn=document.createElement("div").style,"AnimationEvent"in window||(delete ft.animationend.animation,delete ft.animationiteration.animation,delete ft.animationstart.animation),"TransitionEvent"in window||delete ft.transitionend.transition);function pi(o){if(_n[o])return _n[o];if(!ft[o])return o;var f=ft[o],g;for(g in f)if(f.hasOwnProperty(g)&&g in cn)return _n[o]=f[g];return o}var Ns=pi("animationend"),Sa=pi("animationiteration"),ar=pi("animationstart"),Qi=pi("transitionrun"),ds=pi("transitionstart"),Bu=pi("transitioncancel"),Oc=pi("transitionend"),ux=new Map,Jp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jp.push("scrollEnd");function sl(o,f){ux.set(o,f),tn(f,[o])}var fx=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Oo=[],Uh=0,aE=0;function dx(){for(var o=Uh,f=aE=Uh=0;f<o;){var g=Oo[f];Oo[f++]=null;var E=Oo[f];Oo[f++]=null;var O=Oo[f];Oo[f++]=null;var k=Oo[f];if(Oo[f++]=null,E!==null&&O!==null){var Y=E.pending;Y===null?O.next=O:(O.next=Y.next,Y.next=O),E.pending=O}k!==0&&$O(g,O,k)}}function hx(o,f,g,E){Oo[Uh++]=o,Oo[Uh++]=f,Oo[Uh++]=g,Oo[Uh++]=E,aE|=E,o.lanes|=E,o=o.alternate,o!==null&&(o.lanes|=E)}function sE(o,f,g,E){return hx(o,f,g,E),px(o)}function pd(o,f){return hx(o,null,null,f),px(o)}function $O(o,f,g){o.lanes|=g;var E=o.alternate;E!==null&&(E.lanes|=g);for(var O=!1,k=o.return;k!==null;)k.childLanes|=g,E=k.alternate,E!==null&&(E.childLanes|=g),k.tag===22&&(o=k.stateNode,o===null||o._visibility&1||(O=!0)),o=k,k=k.return;return o.tag===3?(k=o.stateNode,O&&f!==null&&(O=31-Ht(g),o=k.hiddenUpdates,E=o[O],E===null?o[O]=[f]:E.push(f),f.lane=g|536870912),k):null}function px(o){if(50<wm)throw wm=0,m_=null,Error(r(185));for(var f=o.return;f!==null;)o=f,f=o.return;return o.tag===3?o.stateNode:null}var zh={};function sQ(o,f,g,E){this.tag=o,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function eo(o,f,g,E){return new sQ(o,f,g,E)}function oE(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Mc(o,f){var g=o.alternate;return g===null?(g=eo(o.tag,f,o.key,o.mode),g.elementType=o.elementType,g.type=o.type,g.stateNode=o.stateNode,g.alternate=o,o.alternate=g):(g.pendingProps=f,g.type=o.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=o.flags&65011712,g.childLanes=o.childLanes,g.lanes=o.lanes,g.child=o.child,g.memoizedProps=o.memoizedProps,g.memoizedState=o.memoizedState,g.updateQueue=o.updateQueue,f=o.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=o.sibling,g.index=o.index,g.ref=o.ref,g.refCleanup=o.refCleanup,g}function KO(o,f){o.flags&=65011714;var g=o.alternate;return g===null?(o.childLanes=0,o.lanes=f,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=g.childLanes,o.lanes=g.lanes,o.child=g.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=g.memoizedProps,o.memoizedState=g.memoizedState,o.updateQueue=g.updateQueue,o.type=g.type,f=g.dependencies,o.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),o}function mx(o,f,g,E,O,k){var Y=0;if(E=o,typeof o=="function")oE(o)&&(Y=1);else if(typeof o=="string")Y=fZ(o,g,se.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case B:return o=eo(31,g,f,O),o.elementType=B,o.lanes=k,o;case S:return md(g.children,O,k,f);case I:Y=8,O|=24;break;case j:return o=eo(12,g,f,O|2),o.elementType=j,o.lanes=k,o;case K:return o=eo(13,g,f,O),o.elementType=K,o.lanes=k,o;case Z:return o=eo(19,g,f,O),o.elementType=Z,o.lanes=k,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case P:Y=10;break e;case D:Y=9;break e;case V:Y=11;break e;case F:Y=14;break e;case U:Y=16,E=null;break e}Y=29,g=Error(r(130,o===null?"null":typeof o,"")),E=null}return f=eo(Y,g,f,O),f.elementType=o,f.type=E,f.lanes=k,f}function md(o,f,g,E){return o=eo(7,o,E,f),o.lanes=g,o}function lE(o,f,g){return o=eo(6,o,null,f),o.lanes=g,o}function XO(o){var f=eo(18,null,null,0);return f.stateNode=o,f}function cE(o,f,g){return f=eo(4,o.children!==null?o.children:[],o.key,f),f.lanes=g,f.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},f}var QO=new WeakMap;function Mo(o,f){if(typeof o=="object"&&o!==null){var g=QO.get(o);return g!==void 0?g:(f={value:o,source:f,stack:It(f)},QO.set(o,f),f)}return{value:o,source:f,stack:It(f)}}var Vh=[],Hh=0,gx=null,em=0,Ro=[],ko=0,Uu=null,Fl=1,Bl="";function Rc(o,f){Vh[Hh++]=em,Vh[Hh++]=gx,gx=o,em=f}function ZO(o,f,g){Ro[ko++]=Fl,Ro[ko++]=Bl,Ro[ko++]=Uu,Uu=o;var E=Fl;o=Bl;var O=32-Ht(E)-1;E&=~(1<<O),g+=1;var k=32-Ht(f)+O;if(30<k){var Y=O-O%5;k=(E&(1<<Y)-1).toString(32),E>>=Y,O-=Y,Fl=1<<32-Ht(f)+O|g<<O|E,Bl=k+o}else Fl=1<<k|g<<O|E,Bl=o}function uE(o){o.return!==null&&(Rc(o,1),ZO(o,1,0))}function fE(o){for(;o===gx;)gx=Vh[--Hh],Vh[Hh]=null,em=Vh[--Hh],Vh[Hh]=null;for(;o===Uu;)Uu=Ro[--ko],Ro[ko]=null,Bl=Ro[--ko],Ro[ko]=null,Fl=Ro[--ko],Ro[ko]=null}function JO(o,f){Ro[ko++]=Fl,Ro[ko++]=Bl,Ro[ko++]=Uu,Fl=f.id,Bl=f.overflow,Uu=o}var Ta=null,Lr=null,Vn=!1,zu=null,Do=!1,dE=Error(r(519));function Vu(o){var f=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tm(Mo(f,o)),dE}function eM(o){var f=o.stateNode,g=o.type,E=o.memoizedProps;switch(f[pe]=o,f[ge]=E,g){case"dialog":Mn("cancel",f),Mn("close",f);break;case"iframe":case"object":case"embed":Mn("load",f);break;case"video":case"audio":for(g=0;g<_m.length;g++)Mn(_m[g],f);break;case"source":Mn("error",f);break;case"img":case"image":case"link":Mn("error",f),Mn("load",f);break;case"details":Mn("toggle",f);break;case"input":Mn("invalid",f),je(f,E.value,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name,!0);break;case"select":Mn("invalid",f);break;case"textarea":Mn("invalid",f),Ii(f,E.value,E.defaultValue,E.children)}g=E.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||f.textContent===""+g||E.suppressHydrationWarning===!0||xR(f.textContent,g)?(E.popover!=null&&(Mn("beforetoggle",f),Mn("toggle",f)),E.onScroll!=null&&Mn("scroll",f),E.onScrollEnd!=null&&Mn("scrollend",f),E.onClick!=null&&(f.onclick=qa),f=!0):f=!1,f||Vu(o,!0)}function tM(o){for(Ta=o.return;Ta;)switch(Ta.tag){case 5:case 31:case 13:Do=!1;return;case 27:case 3:Do=!0;return;default:Ta=Ta.return}}function Wh(o){if(o!==Ta)return!1;if(!Vn)return tM(o),Vn=!0,!1;var f=o.tag,g;if((g=f!==3&&f!==27)&&((g=f===5)&&(g=o.type,g=!(g!=="form"&&g!=="button")||O_(o.type,o.memoizedProps)),g=!g),g&&Lr&&Vu(o),tM(o),f===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Lr=TR(o)}else if(f===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Lr=TR(o)}else f===27?(f=Lr,nf(o.type)?(o=P_,P_=null,Lr=o):Lr=f):Lr=Ta?jo(o.stateNode.nextSibling):null;return!0}function gd(){Lr=Ta=null,Vn=!1}function hE(){var o=zu;return o!==null&&(ks===null?ks=o:ks.push.apply(ks,o),zu=null),o}function tm(o){zu===null?zu=[o]:zu.push(o)}var pE=Q(null),xd=null,kc=null;function Hu(o,f,g){oe(pE,f._currentValue),f._currentValue=g}function Dc(o){o._currentValue=pE.current,ee(pE)}function mE(o,f,g){for(;o!==null;){var E=o.alternate;if((o.childLanes&f)!==f?(o.childLanes|=f,E!==null&&(E.childLanes|=f)):E!==null&&(E.childLanes&f)!==f&&(E.childLanes|=f),o===g)break;o=o.return}}function gE(o,f,g,E){var O=o.child;for(O!==null&&(O.return=o);O!==null;){var k=O.dependencies;if(k!==null){var Y=O.child;k=k.firstContext;e:for(;k!==null;){var le=k;k=O;for(var Ae=0;Ae<f.length;Ae++)if(le.context===f[Ae]){k.lanes|=g,le=k.alternate,le!==null&&(le.lanes|=g),mE(k.return,g,o),E||(Y=null);break e}k=le.next}}else if(O.tag===18){if(Y=O.return,Y===null)throw Error(r(341));Y.lanes|=g,k=Y.alternate,k!==null&&(k.lanes|=g),mE(Y,g,o),Y=null}else Y=O.child;if(Y!==null)Y.return=O;else for(Y=O;Y!==null;){if(Y===o){Y=null;break}if(O=Y.sibling,O!==null){O.return=Y.return,Y=O;break}Y=Y.return}O=Y}}function Gh(o,f,g,E){o=null;for(var O=f,k=!1;O!==null;){if(!k){if((O.flags&524288)!==0)k=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var Y=O.alternate;if(Y===null)throw Error(r(387));if(Y=Y.memoizedProps,Y!==null){var le=O.type;_(O.pendingProps.value,Y.value)||(o!==null?o.push(le):o=[le])}}else if(O===Ne.current){if(Y=O.alternate,Y===null)throw Error(r(387));Y.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(o!==null?o.push(Im):o=[Im])}O=O.return}o!==null&&gE(f,o,g,E),f.flags|=262144}function xx(o){for(o=o.firstContext;o!==null;){if(!_(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function yd(o){xd=o,kc=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Ca(o){return nM(xd,o)}function yx(o,f){return xd===null&&yd(o),nM(o,f)}function nM(o,f){var g=f._currentValue;if(f={context:f,memoizedValue:g,next:null},kc===null){if(o===null)throw Error(r(308));kc=f,o.dependencies={lanes:0,firstContext:f},o.flags|=524288}else kc=kc.next=f;return g}var oQ=typeof AbortController<"u"?AbortController:function(){var o=[],f=this.signal={aborted:!1,addEventListener:function(g,E){o.push(E)}};this.abort=function(){f.aborted=!0,o.forEach(function(g){return g()})}},lQ=t.unstable_scheduleCallback,cQ=t.unstable_NormalPriority,Li={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xE(){return{controller:new oQ,data:new Map,refCount:0}}function nm(o){o.refCount--,o.refCount===0&&lQ(cQ,function(){o.controller.abort()})}var rm=null,yE=0,qh=0,Yh=null;function uQ(o,f){if(rm===null){var g=rm=[];yE=0,qh=w_(),Yh={status:"pending",value:void 0,then:function(E){g.push(E)}}}return yE++,f.then(rM,rM),f}function rM(){if(--yE===0&&rm!==null){Yh!==null&&(Yh.status="fulfilled");var o=rm;rm=null,qh=0,Yh=null;for(var f=0;f<o.length;f++)(0,o[f])()}}function fQ(o,f){var g=[],E={status:"pending",value:null,reason:null,then:function(O){g.push(O)}};return o.then(function(){E.status="fulfilled",E.value=f;for(var O=0;O<g.length;O++)(0,g[O])(f)},function(O){for(E.status="rejected",E.reason=O,O=0;O<g.length;O++)(0,g[O])(void 0)}),E}var iM=ue.S;ue.S=function(o,f){z8=Kt(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&uQ(o,f),iM!==null&&iM(o,f)};var vd=Q(null);function vE(){var o=vd.current;return o!==null?o:Cr.pooledCache}function vx(o,f){f===null?oe(vd,vd.current):oe(vd,f.pool)}function aM(){var o=vE();return o===null?null:{parent:Li._currentValue,pool:o}}var $h=Error(r(460)),bE=Error(r(474)),bx=Error(r(542)),wx={then:function(){}};function sM(o){return o=o.status,o==="fulfilled"||o==="rejected"}function oM(o,f,g){switch(g=o[g],g===void 0?o.push(f):g!==f&&(f.then(qa,qa),f=g),f.status){case"fulfilled":return f.value;case"rejected":throw o=f.reason,cM(o),o;default:if(typeof f.status=="string")f.then(qa,qa);else{if(o=Cr,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=f,o.status="pending",o.then(function(E){if(f.status==="pending"){var O=f;O.status="fulfilled",O.value=E}},function(E){if(f.status==="pending"){var O=f;O.status="rejected",O.reason=E}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw o=f.reason,cM(o),o}throw wd=f,$h}}function bd(o){try{var f=o._init;return f(o._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(wd=g,$h):g}}var wd=null;function lM(){if(wd===null)throw Error(r(459));var o=wd;return wd=null,o}function cM(o){if(o===$h||o===bx)throw Error(r(483))}var Kh=null,im=0;function Ex(o){var f=im;return im+=1,Kh===null&&(Kh=[]),oM(Kh,o,f)}function am(o,f){f=f.props.ref,o.ref=f!==void 0?f:null}function _x(o,f){throw f.$$typeof===w?Error(r(525)):(o=Object.prototype.toString.call(f),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":o)))}function uM(o){function f(Oe,Ie){if(o){var Ue=Oe.deletions;Ue===null?(Oe.deletions=[Ie],Oe.flags|=16):Ue.push(Ie)}}function g(Oe,Ie){if(!o)return null;for(;Ie!==null;)f(Oe,Ie),Ie=Ie.sibling;return null}function E(Oe){for(var Ie=new Map;Oe!==null;)Oe.key!==null?Ie.set(Oe.key,Oe):Ie.set(Oe.index,Oe),Oe=Oe.sibling;return Ie}function O(Oe,Ie){return Oe=Mc(Oe,Ie),Oe.index=0,Oe.sibling=null,Oe}function k(Oe,Ie,Ue){return Oe.index=Ue,o?(Ue=Oe.alternate,Ue!==null?(Ue=Ue.index,Ue<Ie?(Oe.flags|=67108866,Ie):Ue):(Oe.flags|=67108866,Ie)):(Oe.flags|=1048576,Ie)}function Y(Oe){return o&&Oe.alternate===null&&(Oe.flags|=67108866),Oe}function le(Oe,Ie,Ue,rt){return Ie===null||Ie.tag!==6?(Ie=lE(Ue,Oe.mode,rt),Ie.return=Oe,Ie):(Ie=O(Ie,Ue),Ie.return=Oe,Ie)}function Ae(Oe,Ie,Ue,rt){var Yt=Ue.type;return Yt===S?et(Oe,Ie,Ue.props.children,rt,Ue.key):Ie!==null&&(Ie.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===U&&bd(Yt)===Ie.type)?(Ie=O(Ie,Ue.props),am(Ie,Ue),Ie.return=Oe,Ie):(Ie=mx(Ue.type,Ue.key,Ue.props,null,Oe.mode,rt),am(Ie,Ue),Ie.return=Oe,Ie)}function He(Oe,Ie,Ue,rt){return Ie===null||Ie.tag!==4||Ie.stateNode.containerInfo!==Ue.containerInfo||Ie.stateNode.implementation!==Ue.implementation?(Ie=cE(Ue,Oe.mode,rt),Ie.return=Oe,Ie):(Ie=O(Ie,Ue.children||[]),Ie.return=Oe,Ie)}function et(Oe,Ie,Ue,rt,Yt){return Ie===null||Ie.tag!==7?(Ie=md(Ue,Oe.mode,rt,Yt),Ie.return=Oe,Ie):(Ie=O(Ie,Ue),Ie.return=Oe,Ie)}function at(Oe,Ie,Ue){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return Ie=lE(""+Ie,Oe.mode,Ue),Ie.return=Oe,Ie;if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case A:return Ue=mx(Ie.type,Ie.key,Ie.props,null,Oe.mode,Ue),am(Ue,Ie),Ue.return=Oe,Ue;case N:return Ie=cE(Ie,Oe.mode,Ue),Ie.return=Oe,Ie;case U:return Ie=bd(Ie),at(Oe,Ie,Ue)}if(re(Ie)||G(Ie))return Ie=md(Ie,Oe.mode,Ue,null),Ie.return=Oe,Ie;if(typeof Ie.then=="function")return at(Oe,Ex(Ie),Ue);if(Ie.$$typeof===P)return at(Oe,yx(Oe,Ie),Ue);_x(Oe,Ie)}return null}function qe(Oe,Ie,Ue,rt){var Yt=Ie!==null?Ie.key:null;if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return Yt!==null?null:le(Oe,Ie,""+Ue,rt);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case A:return Ue.key===Yt?Ae(Oe,Ie,Ue,rt):null;case N:return Ue.key===Yt?He(Oe,Ie,Ue,rt):null;case U:return Ue=bd(Ue),qe(Oe,Ie,Ue,rt)}if(re(Ue)||G(Ue))return Yt!==null?null:et(Oe,Ie,Ue,rt,null);if(typeof Ue.then=="function")return qe(Oe,Ie,Ex(Ue),rt);if(Ue.$$typeof===P)return qe(Oe,Ie,yx(Oe,Ue),rt);_x(Oe,Ue)}return null}function Xe(Oe,Ie,Ue,rt,Yt){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return Oe=Oe.get(Ue)||null,le(Ie,Oe,""+rt,Yt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case A:return Oe=Oe.get(rt.key===null?Ue:rt.key)||null,Ae(Ie,Oe,rt,Yt);case N:return Oe=Oe.get(rt.key===null?Ue:rt.key)||null,He(Ie,Oe,rt,Yt);case U:return rt=bd(rt),Xe(Oe,Ie,Ue,rt,Yt)}if(re(rt)||G(rt))return Oe=Oe.get(Ue)||null,et(Ie,Oe,rt,Yt,null);if(typeof rt.then=="function")return Xe(Oe,Ie,Ue,Ex(rt),Yt);if(rt.$$typeof===P)return Xe(Oe,Ie,Ue,yx(Ie,rt),Yt);_x(Ie,rt)}return null}function Ft(Oe,Ie,Ue,rt){for(var Yt=null,Yn=null,Vt=Ie,En=Ie=0,jn=null;Vt!==null&&En<Ue.length;En++){Vt.index>En?(jn=Vt,Vt=null):jn=Vt.sibling;var $n=qe(Oe,Vt,Ue[En],rt);if($n===null){Vt===null&&(Vt=jn);break}o&&Vt&&$n.alternate===null&&f(Oe,Vt),Ie=k($n,Ie,En),Yn===null?Yt=$n:Yn.sibling=$n,Yn=$n,Vt=jn}if(En===Ue.length)return g(Oe,Vt),Vn&&Rc(Oe,En),Yt;if(Vt===null){for(;En<Ue.length;En++)Vt=at(Oe,Ue[En],rt),Vt!==null&&(Ie=k(Vt,Ie,En),Yn===null?Yt=Vt:Yn.sibling=Vt,Yn=Vt);return Vn&&Rc(Oe,En),Yt}for(Vt=E(Vt);En<Ue.length;En++)jn=Xe(Vt,Oe,En,Ue[En],rt),jn!==null&&(o&&jn.alternate!==null&&Vt.delete(jn.key===null?En:jn.key),Ie=k(jn,Ie,En),Yn===null?Yt=jn:Yn.sibling=jn,Yn=jn);return o&&Vt.forEach(function(lf){return f(Oe,lf)}),Vn&&Rc(Oe,En),Yt}function en(Oe,Ie,Ue,rt){if(Ue==null)throw Error(r(151));for(var Yt=null,Yn=null,Vt=Ie,En=Ie=0,jn=null,$n=Ue.next();Vt!==null&&!$n.done;En++,$n=Ue.next()){Vt.index>En?(jn=Vt,Vt=null):jn=Vt.sibling;var lf=qe(Oe,Vt,$n.value,rt);if(lf===null){Vt===null&&(Vt=jn);break}o&&Vt&&lf.alternate===null&&f(Oe,Vt),Ie=k(lf,Ie,En),Yn===null?Yt=lf:Yn.sibling=lf,Yn=lf,Vt=jn}if($n.done)return g(Oe,Vt),Vn&&Rc(Oe,En),Yt;if(Vt===null){for(;!$n.done;En++,$n=Ue.next())$n=at(Oe,$n.value,rt),$n!==null&&(Ie=k($n,Ie,En),Yn===null?Yt=$n:Yn.sibling=$n,Yn=$n);return Vn&&Rc(Oe,En),Yt}for(Vt=E(Vt);!$n.done;En++,$n=Ue.next())$n=Xe(Vt,Oe,En,$n.value,rt),$n!==null&&(o&&$n.alternate!==null&&Vt.delete($n.key===null?En:$n.key),Ie=k($n,Ie,En),Yn===null?Yt=$n:Yn.sibling=$n,Yn=$n);return o&&Vt.forEach(function(EZ){return f(Oe,EZ)}),Vn&&Rc(Oe,En),Yt}function yr(Oe,Ie,Ue,rt){if(typeof Ue=="object"&&Ue!==null&&Ue.type===S&&Ue.key===null&&(Ue=Ue.props.children),typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case A:e:{for(var Yt=Ue.key;Ie!==null;){if(Ie.key===Yt){if(Yt=Ue.type,Yt===S){if(Ie.tag===7){g(Oe,Ie.sibling),rt=O(Ie,Ue.props.children),rt.return=Oe,Oe=rt;break e}}else if(Ie.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===U&&bd(Yt)===Ie.type){g(Oe,Ie.sibling),rt=O(Ie,Ue.props),am(rt,Ue),rt.return=Oe,Oe=rt;break e}g(Oe,Ie);break}else f(Oe,Ie);Ie=Ie.sibling}Ue.type===S?(rt=md(Ue.props.children,Oe.mode,rt,Ue.key),rt.return=Oe,Oe=rt):(rt=mx(Ue.type,Ue.key,Ue.props,null,Oe.mode,rt),am(rt,Ue),rt.return=Oe,Oe=rt)}return Y(Oe);case N:e:{for(Yt=Ue.key;Ie!==null;){if(Ie.key===Yt)if(Ie.tag===4&&Ie.stateNode.containerInfo===Ue.containerInfo&&Ie.stateNode.implementation===Ue.implementation){g(Oe,Ie.sibling),rt=O(Ie,Ue.children||[]),rt.return=Oe,Oe=rt;break e}else{g(Oe,Ie);break}else f(Oe,Ie);Ie=Ie.sibling}rt=cE(Ue,Oe.mode,rt),rt.return=Oe,Oe=rt}return Y(Oe);case U:return Ue=bd(Ue),yr(Oe,Ie,Ue,rt)}if(re(Ue))return Ft(Oe,Ie,Ue,rt);if(G(Ue)){if(Yt=G(Ue),typeof Yt!="function")throw Error(r(150));return Ue=Yt.call(Ue),en(Oe,Ie,Ue,rt)}if(typeof Ue.then=="function")return yr(Oe,Ie,Ex(Ue),rt);if(Ue.$$typeof===P)return yr(Oe,Ie,yx(Oe,Ue),rt);_x(Oe,Ue)}return typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint"?(Ue=""+Ue,Ie!==null&&Ie.tag===6?(g(Oe,Ie.sibling),rt=O(Ie,Ue),rt.return=Oe,Oe=rt):(g(Oe,Ie),rt=lE(Ue,Oe.mode,rt),rt.return=Oe,Oe=rt),Y(Oe)):g(Oe,Ie)}return function(Oe,Ie,Ue,rt){try{im=0;var Yt=yr(Oe,Ie,Ue,rt);return Kh=null,Yt}catch(Vt){if(Vt===$h||Vt===bx)throw Vt;var Yn=eo(29,Vt,null,Oe.mode);return Yn.lanes=rt,Yn.return=Oe,Yn}}}var Ed=uM(!0),fM=uM(!1),Wu=!1;function wE(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function EE(o,f){o=o.updateQueue,f.updateQueue===o&&(f.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Gu(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function qu(o,f,g){var E=o.updateQueue;if(E===null)return null;if(E=E.shared,(Zn&2)!==0){var O=E.pending;return O===null?f.next=f:(f.next=O.next,O.next=f),E.pending=f,f=px(o),$O(o,null,g),f}return hx(o,E,f,g),px(o)}function sm(o,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194048)!==0)){var E=f.lanes;E&=o.pendingLanes,g|=E,f.lanes=g,Ar(o,g)}}function _E(o,f){var g=o.updateQueue,E=o.alternate;if(E!==null&&(E=E.updateQueue,g===E)){var O=null,k=null;if(g=g.firstBaseUpdate,g!==null){do{var Y={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};k===null?O=k=Y:k=k.next=Y,g=g.next}while(g!==null);k===null?O=k=f:k=k.next=f}else O=k=f;g={baseState:E.baseState,firstBaseUpdate:O,lastBaseUpdate:k,shared:E.shared,callbacks:E.callbacks},o.updateQueue=g;return}o=g.lastBaseUpdate,o===null?g.firstBaseUpdate=f:o.next=f,g.lastBaseUpdate=f}var AE=!1;function om(){if(AE){var o=Yh;if(o!==null)throw o}}function lm(o,f,g,E){AE=!1;var O=o.updateQueue;Wu=!1;var k=O.firstBaseUpdate,Y=O.lastBaseUpdate,le=O.shared.pending;if(le!==null){O.shared.pending=null;var Ae=le,He=Ae.next;Ae.next=null,Y===null?k=He:Y.next=He,Y=Ae;var et=o.alternate;et!==null&&(et=et.updateQueue,le=et.lastBaseUpdate,le!==Y&&(le===null?et.firstBaseUpdate=He:le.next=He,et.lastBaseUpdate=Ae))}if(k!==null){var at=O.baseState;Y=0,et=He=Ae=null,le=k;do{var qe=le.lane&-536870913,Xe=qe!==le.lane;if(Xe?(Pn&qe)===qe:(E&qe)===qe){qe!==0&&qe===qh&&(AE=!0),et!==null&&(et=et.next={lane:0,tag:le.tag,payload:le.payload,callback:null,next:null});e:{var Ft=o,en=le;qe=f;var yr=g;switch(en.tag){case 1:if(Ft=en.payload,typeof Ft=="function"){at=Ft.call(yr,at,qe);break e}at=Ft;break e;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=en.payload,qe=typeof Ft=="function"?Ft.call(yr,at,qe):Ft,qe==null)break e;at=x({},at,qe);break e;case 2:Wu=!0}}qe=le.callback,qe!==null&&(o.flags|=64,Xe&&(o.flags|=8192),Xe=O.callbacks,Xe===null?O.callbacks=[qe]:Xe.push(qe))}else Xe={lane:qe,tag:le.tag,payload:le.payload,callback:le.callback,next:null},et===null?(He=et=Xe,Ae=at):et=et.next=Xe,Y|=qe;if(le=le.next,le===null){if(le=O.shared.pending,le===null)break;Xe=le,le=Xe.next,Xe.next=null,O.lastBaseUpdate=Xe,O.shared.pending=null}}while(!0);et===null&&(Ae=at),O.baseState=Ae,O.firstBaseUpdate=He,O.lastBaseUpdate=et,k===null&&(O.shared.lanes=0),Qu|=Y,o.lanes=Y,o.memoizedState=at}}function dM(o,f){if(typeof o!="function")throw Error(r(191,o));o.call(f)}function hM(o,f){var g=o.callbacks;if(g!==null)for(o.callbacks=null,o=0;o<g.length;o++)dM(g[o],f)}var Xh=Q(null),Ax=Q(0);function pM(o,f){o=Hc,oe(Ax,o),oe(Xh,f),Hc=o|f.baseLanes}function SE(){oe(Ax,Hc),oe(Xh,Xh.current)}function TE(){Hc=Ax.current,ee(Xh),ee(Ax)}var to=Q(null),Po=null;function Yu(o){var f=o.alternate;oe(Ni,Ni.current&1),oe(to,o),Po===null&&(f===null||Xh.current!==null||f.memoizedState!==null)&&(Po=o)}function CE(o){oe(Ni,Ni.current),oe(to,o),Po===null&&(Po=o)}function mM(o){o.tag===22?(oe(Ni,Ni.current),oe(to,o),Po===null&&(Po=o)):$u()}function $u(){oe(Ni,Ni.current),oe(to,to.current)}function no(o){ee(to),Po===o&&(Po=null),ee(Ni)}var Ni=Q(0);function Sx(o){for(var f=o;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||k_(g)||D_(g)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===o)break;for(;f.sibling===null;){if(f.return===null||f.return===o)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Pc=0,bn=null,gr=null,Fi=null,Tx=!1,Qh=!1,_d=!1,Cx=0,cm=0,Zh=null,dQ=0;function mi(){throw Error(r(321))}function IE(o,f){if(f===null)return!1;for(var g=0;g<f.length&&g<o.length;g++)if(!_(o[g],f[g]))return!1;return!0}function NE(o,f,g,E,O,k){return Pc=k,bn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,ue.H=o===null||o.memoizedState===null?ZM:WE,_d=!1,k=g(E,O),_d=!1,Qh&&(k=xM(f,g,E,O)),gM(o),k}function gM(o){ue.H=dm;var f=gr!==null&&gr.next!==null;if(Pc=0,Fi=gr=bn=null,Tx=!1,cm=0,Zh=null,f)throw Error(r(300));o===null||Bi||(o=o.dependencies,o!==null&&xx(o)&&(Bi=!0))}function xM(o,f,g,E){bn=o;var O=0;do{if(Qh&&(Zh=null),cm=0,Qh=!1,25<=O)throw Error(r(301));if(O+=1,Fi=gr=null,o.updateQueue!=null){var k=o.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}ue.H=JM,k=f(g,E)}while(Qh);return k}function hQ(){var o=ue.H,f=o.useState()[0];return f=typeof f.then=="function"?um(f):f,o=o.useState()[0],(gr!==null?gr.memoizedState:null)!==o&&(bn.flags|=1024),f}function OE(){var o=Cx!==0;return Cx=0,o}function ME(o,f,g){f.updateQueue=o.updateQueue,f.flags&=-2053,o.lanes&=~g}function RE(o){if(Tx){for(o=o.memoizedState;o!==null;){var f=o.queue;f!==null&&(f.pending=null),o=o.next}Tx=!1}Pc=0,Fi=gr=bn=null,Qh=!1,cm=Cx=0,Zh=null}function hs(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fi===null?bn.memoizedState=Fi=o:Fi=Fi.next=o,Fi}function Oi(){if(gr===null){var o=bn.alternate;o=o!==null?o.memoizedState:null}else o=gr.next;var f=Fi===null?bn.memoizedState:Fi.next;if(f!==null)Fi=f,gr=o;else{if(o===null)throw bn.alternate===null?Error(r(467)):Error(r(310));gr=o,o={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},Fi===null?bn.memoizedState=Fi=o:Fi=Fi.next=o}return Fi}function Ix(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function um(o){var f=cm;return cm+=1,Zh===null&&(Zh=[]),o=oM(Zh,o,f),f=bn,(Fi===null?f.memoizedState:Fi.next)===null&&(f=f.alternate,ue.H=f===null||f.memoizedState===null?ZM:WE),o}function Nx(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return um(o);if(o.$$typeof===P)return Ca(o)}throw Error(r(438,String(o)))}function kE(o){var f=null,g=bn.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var E=bn.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(f={data:E.data.map(function(O){return O.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=Ix(),bn.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(o),E=0;E<o;E++)g[E]=J;return f.index++,g}function jc(o,f){return typeof f=="function"?f(o):f}function Ox(o){var f=Oi();return DE(f,gr,o)}function DE(o,f,g){var E=o.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=g;var O=o.baseQueue,k=E.pending;if(k!==null){if(O!==null){var Y=O.next;O.next=k.next,k.next=Y}f.baseQueue=O=k,E.pending=null}if(k=o.baseState,O===null)o.memoizedState=k;else{f=O.next;var le=Y=null,Ae=null,He=f,et=!1;do{var at=He.lane&-536870913;if(at!==He.lane?(Pn&at)===at:(Pc&at)===at){var qe=He.revertLane;if(qe===0)Ae!==null&&(Ae=Ae.next={lane:0,revertLane:0,gesture:null,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),at===qh&&(et=!0);else if((Pc&qe)===qe){He=He.next,qe===qh&&(et=!0);continue}else at={lane:0,revertLane:He.revertLane,gesture:null,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null},Ae===null?(le=Ae=at,Y=k):Ae=Ae.next=at,bn.lanes|=qe,Qu|=qe;at=He.action,_d&&g(k,at),k=He.hasEagerState?He.eagerState:g(k,at)}else qe={lane:at,revertLane:He.revertLane,gesture:He.gesture,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null},Ae===null?(le=Ae=qe,Y=k):Ae=Ae.next=qe,bn.lanes|=at,Qu|=at;He=He.next}while(He!==null&&He!==f);if(Ae===null?Y=k:Ae.next=le,!_(k,o.memoizedState)&&(Bi=!0,et&&(g=Yh,g!==null)))throw g;o.memoizedState=k,o.baseState=Y,o.baseQueue=Ae,E.lastRenderedState=k}return O===null&&(E.lanes=0),[o.memoizedState,E.dispatch]}function PE(o){var f=Oi(),g=f.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=o;var E=g.dispatch,O=g.pending,k=f.memoizedState;if(O!==null){g.pending=null;var Y=O=O.next;do k=o(k,Y.action),Y=Y.next;while(Y!==O);_(k,f.memoizedState)||(Bi=!0),f.memoizedState=k,f.baseQueue===null&&(f.baseState=k),g.lastRenderedState=k}return[k,E]}function yM(o,f,g){var E=bn,O=Oi(),k=Vn;if(k){if(g===void 0)throw Error(r(407));g=g()}else g=f();var Y=!_((gr||O).memoizedState,g);if(Y&&(O.memoizedState=g,Bi=!0),O=O.queue,FE(wM.bind(null,E,O,o),[o]),O.getSnapshot!==f||Y||Fi!==null&&Fi.memoizedState.tag&1){if(E.flags|=2048,Jh(9,{destroy:void 0},bM.bind(null,E,O,g,f),null),Cr===null)throw Error(r(349));k||(Pc&127)!==0||vM(E,f,g)}return g}function vM(o,f,g){o.flags|=16384,o={getSnapshot:f,value:g},f=bn.updateQueue,f===null?(f=Ix(),bn.updateQueue=f,f.stores=[o]):(g=f.stores,g===null?f.stores=[o]:g.push(o))}function bM(o,f,g,E){f.value=g,f.getSnapshot=E,EM(f)&&_M(o)}function wM(o,f,g){return g(function(){EM(f)&&_M(o)})}function EM(o){var f=o.getSnapshot;o=o.value;try{var g=f();return!_(o,g)}catch{return!0}}function _M(o){var f=pd(o,2);f!==null&&Ds(f,o,2)}function jE(o){var f=hs();if(typeof o=="function"){var g=o;if(o=g(),_d){yn(!0);try{g()}finally{yn(!1)}}}return f.memoizedState=f.baseState=o,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jc,lastRenderedState:o},f}function AM(o,f,g,E){return o.baseState=g,DE(o,gr,typeof E=="function"?E:jc)}function pQ(o,f,g,E,O){if(kx(o))throw Error(r(485));if(o=f.action,o!==null){var k={payload:O,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Y){k.listeners.push(Y)}};ue.T!==null?g(!0):k.isTransition=!1,E(k),g=f.pending,g===null?(k.next=f.pending=k,SM(f,k)):(k.next=g.next,f.pending=g.next=k)}}function SM(o,f){var g=f.action,E=f.payload,O=o.state;if(f.isTransition){var k=ue.T,Y={};ue.T=Y;try{var le=g(O,E),Ae=ue.S;Ae!==null&&Ae(Y,le),TM(o,f,le)}catch(He){LE(o,f,He)}finally{k!==null&&Y.types!==null&&(k.types=Y.types),ue.T=k}}else try{k=g(O,E),TM(o,f,k)}catch(He){LE(o,f,He)}}function TM(o,f,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(E){CM(o,f,E)},function(E){return LE(o,f,E)}):CM(o,f,g)}function CM(o,f,g){f.status="fulfilled",f.value=g,IM(f),o.state=g,f=o.pending,f!==null&&(g=f.next,g===f?o.pending=null:(g=g.next,f.next=g,SM(o,g)))}function LE(o,f,g){var E=o.pending;if(o.pending=null,E!==null){E=E.next;do f.status="rejected",f.reason=g,IM(f),f=f.next;while(f!==E)}o.action=null}function IM(o){o=o.listeners;for(var f=0;f<o.length;f++)(0,o[f])()}function NM(o,f){return f}function OM(o,f){if(Vn){var g=Cr.formState;if(g!==null){e:{var E=bn;if(Vn){if(Lr){t:{for(var O=Lr,k=Do;O.nodeType!==8;){if(!k){O=null;break t}if(O=jo(O.nextSibling),O===null){O=null;break t}}k=O.data,O=k==="F!"||k==="F"?O:null}if(O){Lr=jo(O.nextSibling),E=O.data==="F!";break e}}Vu(E)}E=!1}E&&(f=g[0])}}return g=hs(),g.memoizedState=g.baseState=f,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:NM,lastRenderedState:f},g.queue=E,g=KM.bind(null,bn,E),E.dispatch=g,E=jE(!1),k=HE.bind(null,bn,!1,E.queue),E=hs(),O={state:f,dispatch:null,action:o,pending:null},E.queue=O,g=pQ.bind(null,bn,O,k,g),O.dispatch=g,E.memoizedState=o,[f,g,!1]}function MM(o){var f=Oi();return RM(f,gr,o)}function RM(o,f,g){if(f=DE(o,f,NM)[0],o=Ox(jc)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var E=um(f)}catch(Y){throw Y===$h?bx:Y}else E=f;f=Oi();var O=f.queue,k=O.dispatch;return g!==f.memoizedState&&(bn.flags|=2048,Jh(9,{destroy:void 0},mQ.bind(null,O,g),null)),[E,k,o]}function mQ(o,f){o.action=f}function kM(o){var f=Oi(),g=gr;if(g!==null)return RM(f,g,o);Oi(),f=f.memoizedState,g=Oi();var E=g.queue.dispatch;return g.memoizedState=o,[f,E,!1]}function Jh(o,f,g,E){return o={tag:o,create:g,deps:E,inst:f,next:null},f=bn.updateQueue,f===null&&(f=Ix(),bn.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=o.next=o:(E=g.next,g.next=o,o.next=E,f.lastEffect=o),o}function DM(){return Oi().memoizedState}function Mx(o,f,g,E){var O=hs();bn.flags|=o,O.memoizedState=Jh(1|f,{destroy:void 0},g,E===void 0?null:E)}function Rx(o,f,g,E){var O=Oi();E=E===void 0?null:E;var k=O.memoizedState.inst;gr!==null&&E!==null&&IE(E,gr.memoizedState.deps)?O.memoizedState=Jh(f,k,g,E):(bn.flags|=o,O.memoizedState=Jh(1|f,k,g,E))}function PM(o,f){Mx(8390656,8,o,f)}function FE(o,f){Rx(2048,8,o,f)}function gQ(o){bn.flags|=4;var f=bn.updateQueue;if(f===null)f=Ix(),bn.updateQueue=f,f.events=[o];else{var g=f.events;g===null?f.events=[o]:g.push(o)}}function jM(o){var f=Oi().memoizedState;return gQ({ref:f,nextImpl:o}),function(){if((Zn&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}function LM(o,f){return Rx(4,2,o,f)}function FM(o,f){return Rx(4,4,o,f)}function BM(o,f){if(typeof f=="function"){o=o();var g=f(o);return function(){typeof g=="function"?g():f(null)}}if(f!=null)return o=o(),f.current=o,function(){f.current=null}}function UM(o,f,g){g=g!=null?g.concat([o]):null,Rx(4,4,BM.bind(null,f,o),g)}function BE(){}function zM(o,f){var g=Oi();f=f===void 0?null:f;var E=g.memoizedState;return f!==null&&IE(f,E[1])?E[0]:(g.memoizedState=[o,f],o)}function VM(o,f){var g=Oi();f=f===void 0?null:f;var E=g.memoizedState;if(f!==null&&IE(f,E[1]))return E[0];if(E=o(),_d){yn(!0);try{o()}finally{yn(!1)}}return g.memoizedState=[E,f],E}function UE(o,f,g){return g===void 0||(Pc&1073741824)!==0&&(Pn&261930)===0?o.memoizedState=f:(o.memoizedState=g,o=H8(),bn.lanes|=o,Qu|=o,g)}function HM(o,f,g,E){return _(g,f)?g:Xh.current!==null?(o=UE(o,g,E),_(o,f)||(Bi=!0),o):(Pc&42)===0||(Pc&1073741824)!==0&&(Pn&261930)===0?(Bi=!0,o.memoizedState=g):(o=H8(),bn.lanes|=o,Qu|=o,f)}function WM(o,f,g,E,O){var k=me.p;me.p=k!==0&&8>k?k:8;var Y=ue.T,le={};ue.T=le,HE(o,!1,f,g);try{var Ae=O(),He=ue.S;if(He!==null&&He(le,Ae),Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var et=fQ(Ae,E);fm(o,f,et,ao(o))}else fm(o,f,E,ao(o))}catch(at){fm(o,f,{then:function(){},status:"rejected",reason:at},ao())}finally{me.p=k,Y!==null&&le.types!==null&&(Y.types=le.types),ue.T=Y}}function xQ(){}function zE(o,f,g,E){if(o.tag!==5)throw Error(r(476));var O=GM(o).queue;WM(o,O,f,Re,g===null?xQ:function(){return qM(o),g(E)})}function GM(o){var f=o.memoizedState;if(f!==null)return f;f={memoizedState:Re,baseState:Re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jc,lastRenderedState:Re},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jc,lastRenderedState:g},next:null},o.memoizedState=f,o=o.alternate,o!==null&&(o.memoizedState=f),f}function qM(o){var f=GM(o);f.next===null&&(f=o.alternate.memoizedState),fm(o,f.next.queue,{},ao())}function VE(){return Ca(Im)}function YM(){return Oi().memoizedState}function $M(){return Oi().memoizedState}function yQ(o){for(var f=o.return;f!==null;){switch(f.tag){case 24:case 3:var g=ao();o=Gu(g);var E=qu(f,o,g);E!==null&&(Ds(E,f,g),sm(E,f,g)),f={cache:xE()},o.payload=f;return}f=f.return}}function vQ(o,f,g){var E=ao();g={lane:E,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},kx(o)?XM(f,g):(g=sE(o,f,g,E),g!==null&&(Ds(g,o,E),QM(g,f,E)))}function KM(o,f,g){var E=ao();fm(o,f,g,E)}function fm(o,f,g,E){var O={lane:E,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(kx(o))XM(f,O);else{var k=o.alternate;if(o.lanes===0&&(k===null||k.lanes===0)&&(k=f.lastRenderedReducer,k!==null))try{var Y=f.lastRenderedState,le=k(Y,g);if(O.hasEagerState=!0,O.eagerState=le,_(le,Y))return hx(o,f,O,0),Cr===null&&dx(),!1}catch{}if(g=sE(o,f,O,E),g!==null)return Ds(g,o,E),QM(g,f,E),!0}return!1}function HE(o,f,g,E){if(E={lane:2,revertLane:w_(),gesture:null,action:E,hasEagerState:!1,eagerState:null,next:null},kx(o)){if(f)throw Error(r(479))}else f=sE(o,g,E,2),f!==null&&Ds(f,o,2)}function kx(o){var f=o.alternate;return o===bn||f!==null&&f===bn}function XM(o,f){Qh=Tx=!0;var g=o.pending;g===null?f.next=f:(f.next=g.next,g.next=f),o.pending=f}function QM(o,f,g){if((g&4194048)!==0){var E=f.lanes;E&=o.pendingLanes,g|=E,f.lanes=g,Ar(o,g)}}var dm={readContext:Ca,use:Nx,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useLayoutEffect:mi,useInsertionEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useSyncExternalStore:mi,useId:mi,useHostTransitionStatus:mi,useFormState:mi,useActionState:mi,useOptimistic:mi,useMemoCache:mi,useCacheRefresh:mi};dm.useEffectEvent=mi;var ZM={readContext:Ca,use:Nx,useCallback:function(o,f){return hs().memoizedState=[o,f===void 0?null:f],o},useContext:Ca,useEffect:PM,useImperativeHandle:function(o,f,g){g=g!=null?g.concat([o]):null,Mx(4194308,4,BM.bind(null,f,o),g)},useLayoutEffect:function(o,f){return Mx(4194308,4,o,f)},useInsertionEffect:function(o,f){Mx(4,2,o,f)},useMemo:function(o,f){var g=hs();f=f===void 0?null:f;var E=o();if(_d){yn(!0);try{o()}finally{yn(!1)}}return g.memoizedState=[E,f],E},useReducer:function(o,f,g){var E=hs();if(g!==void 0){var O=g(f);if(_d){yn(!0);try{g(f)}finally{yn(!1)}}}else O=f;return E.memoizedState=E.baseState=O,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:O},E.queue=o,o=o.dispatch=vQ.bind(null,bn,o),[E.memoizedState,o]},useRef:function(o){var f=hs();return o={current:o},f.memoizedState=o},useState:function(o){o=jE(o);var f=o.queue,g=KM.bind(null,bn,f);return f.dispatch=g,[o.memoizedState,g]},useDebugValue:BE,useDeferredValue:function(o,f){var g=hs();return UE(g,o,f)},useTransition:function(){var o=jE(!1);return o=WM.bind(null,bn,o.queue,!0,!1),hs().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,f,g){var E=bn,O=hs();if(Vn){if(g===void 0)throw Error(r(407));g=g()}else{if(g=f(),Cr===null)throw Error(r(349));(Pn&127)!==0||vM(E,f,g)}O.memoizedState=g;var k={value:g,getSnapshot:f};return O.queue=k,PM(wM.bind(null,E,k,o),[o]),E.flags|=2048,Jh(9,{destroy:void 0},bM.bind(null,E,k,g,f),null),g},useId:function(){var o=hs(),f=Cr.identifierPrefix;if(Vn){var g=Bl,E=Fl;g=(E&~(1<<32-Ht(E)-1)).toString(32)+g,f="_"+f+"R_"+g,g=Cx++,0<g&&(f+="H"+g.toString(32)),f+="_"}else g=dQ++,f="_"+f+"r_"+g.toString(32)+"_";return o.memoizedState=f},useHostTransitionStatus:VE,useFormState:OM,useActionState:OM,useOptimistic:function(o){var f=hs();f.memoizedState=f.baseState=o;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=HE.bind(null,bn,!0,g),g.dispatch=f,[o,f]},useMemoCache:kE,useCacheRefresh:function(){return hs().memoizedState=yQ.bind(null,bn)},useEffectEvent:function(o){var f=hs(),g={impl:o};return f.memoizedState=g,function(){if((Zn&2)!==0)throw Error(r(440));return g.impl.apply(void 0,arguments)}}},WE={readContext:Ca,use:Nx,useCallback:zM,useContext:Ca,useEffect:FE,useImperativeHandle:UM,useInsertionEffect:LM,useLayoutEffect:FM,useMemo:VM,useReducer:Ox,useRef:DM,useState:function(){return Ox(jc)},useDebugValue:BE,useDeferredValue:function(o,f){var g=Oi();return HM(g,gr.memoizedState,o,f)},useTransition:function(){var o=Ox(jc)[0],f=Oi().memoizedState;return[typeof o=="boolean"?o:um(o),f]},useSyncExternalStore:yM,useId:YM,useHostTransitionStatus:VE,useFormState:MM,useActionState:MM,useOptimistic:function(o,f){var g=Oi();return AM(g,gr,o,f)},useMemoCache:kE,useCacheRefresh:$M};WE.useEffectEvent=jM;var JM={readContext:Ca,use:Nx,useCallback:zM,useContext:Ca,useEffect:FE,useImperativeHandle:UM,useInsertionEffect:LM,useLayoutEffect:FM,useMemo:VM,useReducer:PE,useRef:DM,useState:function(){return PE(jc)},useDebugValue:BE,useDeferredValue:function(o,f){var g=Oi();return gr===null?UE(g,o,f):HM(g,gr.memoizedState,o,f)},useTransition:function(){var o=PE(jc)[0],f=Oi().memoizedState;return[typeof o=="boolean"?o:um(o),f]},useSyncExternalStore:yM,useId:YM,useHostTransitionStatus:VE,useFormState:kM,useActionState:kM,useOptimistic:function(o,f){var g=Oi();return gr!==null?AM(g,gr,o,f):(g.baseState=o,[o,g.queue.dispatch])},useMemoCache:kE,useCacheRefresh:$M};JM.useEffectEvent=jM;function GE(o,f,g,E){f=o.memoizedState,g=g(E,f),g=g==null?f:x({},f,g),o.memoizedState=g,o.lanes===0&&(o.updateQueue.baseState=g)}var qE={enqueueSetState:function(o,f,g){o=o._reactInternals;var E=ao(),O=Gu(E);O.payload=f,g!=null&&(O.callback=g),f=qu(o,O,E),f!==null&&(Ds(f,o,E),sm(f,o,E))},enqueueReplaceState:function(o,f,g){o=o._reactInternals;var E=ao(),O=Gu(E);O.tag=1,O.payload=f,g!=null&&(O.callback=g),f=qu(o,O,E),f!==null&&(Ds(f,o,E),sm(f,o,E))},enqueueForceUpdate:function(o,f){o=o._reactInternals;var g=ao(),E=Gu(g);E.tag=2,f!=null&&(E.callback=f),f=qu(o,E,g),f!==null&&(Ds(f,o,g),sm(f,o,g))}};function e8(o,f,g,E,O,k,Y){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(E,k,Y):f.prototype&&f.prototype.isPureReactComponent?!C(g,E)||!C(O,k):!0}function t8(o,f,g,E){o=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,E),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,E),f.state!==o&&qE.enqueueReplaceState(f,f.state,null)}function Ad(o,f){var g=f;if("ref"in f){g={};for(var E in f)E!=="ref"&&(g[E]=f[E])}if(o=o.defaultProps){g===f&&(g=x({},g));for(var O in o)g[O]===void 0&&(g[O]=o[O])}return g}function n8(o){fx(o)}function r8(o){console.error(o)}function i8(o){fx(o)}function Dx(o,f){try{var g=o.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(E){setTimeout(function(){throw E})}}function a8(o,f,g){try{var E=o.onCaughtError;E(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function YE(o,f,g){return g=Gu(g),g.tag=3,g.payload={element:null},g.callback=function(){Dx(o,f)},g}function s8(o){return o=Gu(o),o.tag=3,o}function o8(o,f,g,E){var O=g.type.getDerivedStateFromError;if(typeof O=="function"){var k=E.value;o.payload=function(){return O(k)},o.callback=function(){a8(f,g,E)}}var Y=g.stateNode;Y!==null&&typeof Y.componentDidCatch=="function"&&(o.callback=function(){a8(f,g,E),typeof O!="function"&&(Zu===null?Zu=new Set([this]):Zu.add(this));var le=E.stack;this.componentDidCatch(E.value,{componentStack:le!==null?le:""})})}function bQ(o,f,g,E,O){if(g.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(f=g.alternate,f!==null&&Gh(f,g,O,!0),g=to.current,g!==null){switch(g.tag){case 31:case 13:return Po===null?qx():g.alternate===null&&gi===0&&(gi=3),g.flags&=-257,g.flags|=65536,g.lanes=O,E===wx?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([E]):f.add(E),y_(o,E,O)),!1;case 22:return g.flags|=65536,E===wx?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([E])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([E]):g.add(E)),y_(o,E,O)),!1}throw Error(r(435,g.tag))}return y_(o,E,O),qx(),!1}if(Vn)return f=to.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=O,E!==dE&&(o=Error(r(422),{cause:E}),tm(Mo(o,g)))):(E!==dE&&(f=Error(r(423),{cause:E}),tm(Mo(f,g))),o=o.current.alternate,o.flags|=65536,O&=-O,o.lanes|=O,E=Mo(E,g),O=YE(o.stateNode,E,O),_E(o,O),gi!==4&&(gi=2)),!1;var k=Error(r(520),{cause:E});if(k=Mo(k,g),bm===null?bm=[k]:bm.push(k),gi!==4&&(gi=2),f===null)return!0;E=Mo(E,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,o=O&-O,g.lanes|=o,o=YE(g.stateNode,E,o),_E(g,o),!1;case 1:if(f=g.type,k=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Zu===null||!Zu.has(k))))return g.flags|=65536,O&=-O,g.lanes|=O,O=s8(O),o8(O,o,g,E),_E(g,O),!1}g=g.return}while(g!==null);return!1}var $E=Error(r(461)),Bi=!1;function Ia(o,f,g,E){f.child=o===null?fM(f,null,g,E):Ed(f,o.child,g,E)}function l8(o,f,g,E,O){g=g.render;var k=f.ref;if("ref"in E){var Y={};for(var le in E)le!=="ref"&&(Y[le]=E[le])}else Y=E;return yd(f),E=NE(o,f,g,Y,k,O),le=OE(),o!==null&&!Bi?(ME(o,f,O),Lc(o,f,O)):(Vn&&le&&uE(f),f.flags|=1,Ia(o,f,E,O),f.child)}function c8(o,f,g,E,O){if(o===null){var k=g.type;return typeof k=="function"&&!oE(k)&&k.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=k,u8(o,f,k,E,O)):(o=mx(g.type,null,E,f,f.mode,O),o.ref=f.ref,o.return=f,f.child=o)}if(k=o.child,!n_(o,O)){var Y=k.memoizedProps;if(g=g.compare,g=g!==null?g:C,g(Y,E)&&o.ref===f.ref)return Lc(o,f,O)}return f.flags|=1,o=Mc(k,E),o.ref=f.ref,o.return=f,f.child=o}function u8(o,f,g,E,O){if(o!==null){var k=o.memoizedProps;if(C(k,E)&&o.ref===f.ref)if(Bi=!1,f.pendingProps=E=k,n_(o,O))(o.flags&131072)!==0&&(Bi=!0);else return f.lanes=o.lanes,Lc(o,f,O)}return KE(o,f,g,E,O)}function f8(o,f,g,E){var O=E.children,k=o!==null?o.memoizedState:null;if(o===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),E.mode==="hidden"){if((f.flags&128)!==0){if(k=k!==null?k.baseLanes|g:g,o!==null){for(E=f.child=o.child,O=0;E!==null;)O=O|E.lanes|E.childLanes,E=E.sibling;E=O&~k}else E=0,f.child=null;return d8(o,f,k,g,E)}if((g&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},o!==null&&vx(f,k!==null?k.cachePool:null),k!==null?pM(f,k):SE(),mM(f);else return E=f.lanes=536870912,d8(o,f,k!==null?k.baseLanes|g:g,g,E)}else k!==null?(vx(f,k.cachePool),pM(f,k),$u(),f.memoizedState=null):(o!==null&&vx(f,null),SE(),$u());return Ia(o,f,O,g),f.child}function hm(o,f){return o!==null&&o.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function d8(o,f,g,E,O){var k=vE();return k=k===null?null:{parent:Li._currentValue,pool:k},f.memoizedState={baseLanes:g,cachePool:k},o!==null&&vx(f,null),SE(),mM(f),o!==null&&Gh(o,f,E,!0),f.childLanes=O,null}function Px(o,f){return f=Lx({mode:f.mode,children:f.children},o.mode),f.ref=o.ref,o.child=f,f.return=o,f}function h8(o,f,g){return Ed(f,o.child,null,g),o=Px(f,f.pendingProps),o.flags|=2,no(f),f.memoizedState=null,o}function wQ(o,f,g){var E=f.pendingProps,O=(f.flags&128)!==0;if(f.flags&=-129,o===null){if(Vn){if(E.mode==="hidden")return o=Px(f,E),f.lanes=536870912,hm(null,o);if(CE(f),(o=Lr)?(o=SR(o,Do),o=o!==null&&o.data==="&"?o:null,o!==null&&(f.memoizedState={dehydrated:o,treeContext:Uu!==null?{id:Fl,overflow:Bl}:null,retryLane:536870912,hydrationErrors:null},g=XO(o),g.return=f,f.child=g,Ta=f,Lr=null)):o=null,o===null)throw Vu(f);return f.lanes=536870912,null}return Px(f,E)}var k=o.memoizedState;if(k!==null){var Y=k.dehydrated;if(CE(f),O)if(f.flags&256)f.flags&=-257,f=h8(o,f,g);else if(f.memoizedState!==null)f.child=o.child,f.flags|=128,f=null;else throw Error(r(558));else if(Bi||Gh(o,f,g,!1),O=(g&o.childLanes)!==0,Bi||O){if(E=Cr,E!==null&&(Y=Pi(E,g),Y!==0&&Y!==k.retryLane))throw k.retryLane=Y,pd(o,Y),Ds(E,o,Y),$E;qx(),f=h8(o,f,g)}else o=k.treeContext,Lr=jo(Y.nextSibling),Ta=f,Vn=!0,zu=null,Do=!1,o!==null&&JO(f,o),f=Px(f,E),f.flags|=4096;return f}return o=Mc(o.child,{mode:E.mode,children:E.children}),o.ref=f.ref,f.child=o,o.return=f,o}function jx(o,f){var g=f.ref;if(g===null)o!==null&&o.ref!==null&&(f.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(o===null||o.ref!==g)&&(f.flags|=4194816)}}function KE(o,f,g,E,O){return yd(f),g=NE(o,f,g,E,void 0,O),E=OE(),o!==null&&!Bi?(ME(o,f,O),Lc(o,f,O)):(Vn&&E&&uE(f),f.flags|=1,Ia(o,f,g,O),f.child)}function p8(o,f,g,E,O,k){return yd(f),f.updateQueue=null,g=xM(f,E,g,O),gM(o),E=OE(),o!==null&&!Bi?(ME(o,f,k),Lc(o,f,k)):(Vn&&E&&uE(f),f.flags|=1,Ia(o,f,g,k),f.child)}function m8(o,f,g,E,O){if(yd(f),f.stateNode===null){var k=zh,Y=g.contextType;typeof Y=="object"&&Y!==null&&(k=Ca(Y)),k=new g(E,k),f.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=qE,f.stateNode=k,k._reactInternals=f,k=f.stateNode,k.props=E,k.state=f.memoizedState,k.refs={},wE(f),Y=g.contextType,k.context=typeof Y=="object"&&Y!==null?Ca(Y):zh,k.state=f.memoizedState,Y=g.getDerivedStateFromProps,typeof Y=="function"&&(GE(f,g,Y,E),k.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(Y=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),Y!==k.state&&qE.enqueueReplaceState(k,k.state,null),lm(f,E,k,O),om(),k.state=f.memoizedState),typeof k.componentDidMount=="function"&&(f.flags|=4194308),E=!0}else if(o===null){k=f.stateNode;var le=f.memoizedProps,Ae=Ad(g,le);k.props=Ae;var He=k.context,et=g.contextType;Y=zh,typeof et=="object"&&et!==null&&(Y=Ca(et));var at=g.getDerivedStateFromProps;et=typeof at=="function"||typeof k.getSnapshotBeforeUpdate=="function",le=f.pendingProps!==le,et||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(le||He!==Y)&&t8(f,k,E,Y),Wu=!1;var qe=f.memoizedState;k.state=qe,lm(f,E,k,O),om(),He=f.memoizedState,le||qe!==He||Wu?(typeof at=="function"&&(GE(f,g,at,E),He=f.memoizedState),(Ae=Wu||e8(f,g,Ae,E,qe,He,Y))?(et||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(f.flags|=4194308)):(typeof k.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=E,f.memoizedState=He),k.props=E,k.state=He,k.context=Y,E=Ae):(typeof k.componentDidMount=="function"&&(f.flags|=4194308),E=!1)}else{k=f.stateNode,EE(o,f),Y=f.memoizedProps,et=Ad(g,Y),k.props=et,at=f.pendingProps,qe=k.context,He=g.contextType,Ae=zh,typeof He=="object"&&He!==null&&(Ae=Ca(He)),le=g.getDerivedStateFromProps,(He=typeof le=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(Y!==at||qe!==Ae)&&t8(f,k,E,Ae),Wu=!1,qe=f.memoizedState,k.state=qe,lm(f,E,k,O),om();var Xe=f.memoizedState;Y!==at||qe!==Xe||Wu||o!==null&&o.dependencies!==null&&xx(o.dependencies)?(typeof le=="function"&&(GE(f,g,le,E),Xe=f.memoizedState),(et=Wu||e8(f,g,et,E,qe,Xe,Ae)||o!==null&&o.dependencies!==null&&xx(o.dependencies))?(He||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(E,Xe,Ae),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(E,Xe,Ae)),typeof k.componentDidUpdate=="function"&&(f.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof k.componentDidUpdate!="function"||Y===o.memoizedProps&&qe===o.memoizedState||(f.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||Y===o.memoizedProps&&qe===o.memoizedState||(f.flags|=1024),f.memoizedProps=E,f.memoizedState=Xe),k.props=E,k.state=Xe,k.context=Ae,E=et):(typeof k.componentDidUpdate!="function"||Y===o.memoizedProps&&qe===o.memoizedState||(f.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||Y===o.memoizedProps&&qe===o.memoizedState||(f.flags|=1024),E=!1)}return k=E,jx(o,f),E=(f.flags&128)!==0,k||E?(k=f.stateNode,g=E&&typeof g.getDerivedStateFromError!="function"?null:k.render(),f.flags|=1,o!==null&&E?(f.child=Ed(f,o.child,null,O),f.child=Ed(f,null,g,O)):Ia(o,f,g,O),f.memoizedState=k.state,o=f.child):o=Lc(o,f,O),o}function g8(o,f,g,E){return gd(),f.flags|=256,Ia(o,f,g,E),f.child}var XE={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function QE(o){return{baseLanes:o,cachePool:aM()}}function ZE(o,f,g){return o=o!==null?o.childLanes&~g:0,f&&(o|=io),o}function x8(o,f,g){var E=f.pendingProps,O=!1,k=(f.flags&128)!==0,Y;if((Y=k)||(Y=o!==null&&o.memoizedState===null?!1:(Ni.current&2)!==0),Y&&(O=!0,f.flags&=-129),Y=(f.flags&32)!==0,f.flags&=-33,o===null){if(Vn){if(O?Yu(f):$u(),(o=Lr)?(o=SR(o,Do),o=o!==null&&o.data!=="&"?o:null,o!==null&&(f.memoizedState={dehydrated:o,treeContext:Uu!==null?{id:Fl,overflow:Bl}:null,retryLane:536870912,hydrationErrors:null},g=XO(o),g.return=f,f.child=g,Ta=f,Lr=null)):o=null,o===null)throw Vu(f);return D_(o)?f.lanes=32:f.lanes=536870912,null}var le=E.children;return E=E.fallback,O?($u(),O=f.mode,le=Lx({mode:"hidden",children:le},O),E=md(E,O,g,null),le.return=f,E.return=f,le.sibling=E,f.child=le,E=f.child,E.memoizedState=QE(g),E.childLanes=ZE(o,Y,g),f.memoizedState=XE,hm(null,E)):(Yu(f),JE(f,le))}var Ae=o.memoizedState;if(Ae!==null&&(le=Ae.dehydrated,le!==null)){if(k)f.flags&256?(Yu(f),f.flags&=-257,f=e_(o,f,g)):f.memoizedState!==null?($u(),f.child=o.child,f.flags|=128,f=null):($u(),le=E.fallback,O=f.mode,E=Lx({mode:"visible",children:E.children},O),le=md(le,O,g,null),le.flags|=2,E.return=f,le.return=f,E.sibling=le,f.child=E,Ed(f,o.child,null,g),E=f.child,E.memoizedState=QE(g),E.childLanes=ZE(o,Y,g),f.memoizedState=XE,f=hm(null,E));else if(Yu(f),D_(le)){if(Y=le.nextSibling&&le.nextSibling.dataset,Y)var He=Y.dgst;Y=He,E=Error(r(419)),E.stack="",E.digest=Y,tm({value:E,source:null,stack:null}),f=e_(o,f,g)}else if(Bi||Gh(o,f,g,!1),Y=(g&o.childLanes)!==0,Bi||Y){if(Y=Cr,Y!==null&&(E=Pi(Y,g),E!==0&&E!==Ae.retryLane))throw Ae.retryLane=E,pd(o,E),Ds(Y,o,E),$E;k_(le)||qx(),f=e_(o,f,g)}else k_(le)?(f.flags|=192,f.child=o.child,f=null):(o=Ae.treeContext,Lr=jo(le.nextSibling),Ta=f,Vn=!0,zu=null,Do=!1,o!==null&&JO(f,o),f=JE(f,E.children),f.flags|=4096);return f}return O?($u(),le=E.fallback,O=f.mode,Ae=o.child,He=Ae.sibling,E=Mc(Ae,{mode:"hidden",children:E.children}),E.subtreeFlags=Ae.subtreeFlags&65011712,He!==null?le=Mc(He,le):(le=md(le,O,g,null),le.flags|=2),le.return=f,E.return=f,E.sibling=le,f.child=E,hm(null,E),E=f.child,le=o.child.memoizedState,le===null?le=QE(g):(O=le.cachePool,O!==null?(Ae=Li._currentValue,O=O.parent!==Ae?{parent:Ae,pool:Ae}:O):O=aM(),le={baseLanes:le.baseLanes|g,cachePool:O}),E.memoizedState=le,E.childLanes=ZE(o,Y,g),f.memoizedState=XE,hm(o.child,E)):(Yu(f),g=o.child,o=g.sibling,g=Mc(g,{mode:"visible",children:E.children}),g.return=f,g.sibling=null,o!==null&&(Y=f.deletions,Y===null?(f.deletions=[o],f.flags|=16):Y.push(o)),f.child=g,f.memoizedState=null,g)}function JE(o,f){return f=Lx({mode:"visible",children:f},o.mode),f.return=o,o.child=f}function Lx(o,f){return o=eo(22,o,null,f),o.lanes=0,o}function e_(o,f,g){return Ed(f,o.child,null,g),o=JE(f,f.pendingProps.children),o.flags|=2,f.memoizedState=null,o}function y8(o,f,g){o.lanes|=f;var E=o.alternate;E!==null&&(E.lanes|=f),mE(o.return,f,g)}function t_(o,f,g,E,O,k){var Y=o.memoizedState;Y===null?o.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:E,tail:g,tailMode:O,treeForkCount:k}:(Y.isBackwards=f,Y.rendering=null,Y.renderingStartTime=0,Y.last=E,Y.tail=g,Y.tailMode=O,Y.treeForkCount=k)}function v8(o,f,g){var E=f.pendingProps,O=E.revealOrder,k=E.tail;E=E.children;var Y=Ni.current,le=(Y&2)!==0;if(le?(Y=Y&1|2,f.flags|=128):Y&=1,oe(Ni,Y),Ia(o,f,E,g),E=Vn?em:0,!le&&o!==null&&(o.flags&128)!==0)e:for(o=f.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&y8(o,g,f);else if(o.tag===19)y8(o,g,f);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===f)break e;for(;o.sibling===null;){if(o.return===null||o.return===f)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(O){case"forwards":for(g=f.child,O=null;g!==null;)o=g.alternate,o!==null&&Sx(o)===null&&(O=g),g=g.sibling;g=O,g===null?(O=f.child,f.child=null):(O=g.sibling,g.sibling=null),t_(f,!1,O,g,k,E);break;case"backwards":case"unstable_legacy-backwards":for(g=null,O=f.child,f.child=null;O!==null;){if(o=O.alternate,o!==null&&Sx(o)===null){f.child=O;break}o=O.sibling,O.sibling=g,g=O,O=o}t_(f,!0,g,null,k,E);break;case"together":t_(f,!1,null,null,void 0,E);break;default:f.memoizedState=null}return f.child}function Lc(o,f,g){if(o!==null&&(f.dependencies=o.dependencies),Qu|=f.lanes,(g&f.childLanes)===0)if(o!==null){if(Gh(o,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(o!==null&&f.child!==o.child)throw Error(r(153));if(f.child!==null){for(o=f.child,g=Mc(o,o.pendingProps),f.child=g,g.return=f;o.sibling!==null;)o=o.sibling,g=g.sibling=Mc(o,o.pendingProps),g.return=f;g.sibling=null}return f.child}function n_(o,f){return(o.lanes&f)!==0?!0:(o=o.dependencies,!!(o!==null&&xx(o)))}function EQ(o,f,g){switch(f.tag){case 3:Ge(f,f.stateNode.containerInfo),Hu(f,Li,o.memoizedState.cache),gd();break;case 27:case 5:ze(f);break;case 4:Ge(f,f.stateNode.containerInfo);break;case 10:Hu(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,CE(f),null;break;case 13:var E=f.memoizedState;if(E!==null)return E.dehydrated!==null?(Yu(f),f.flags|=128,null):(g&f.child.childLanes)!==0?x8(o,f,g):(Yu(f),o=Lc(o,f,g),o!==null?o.sibling:null);Yu(f);break;case 19:var O=(o.flags&128)!==0;if(E=(g&f.childLanes)!==0,E||(Gh(o,f,g,!1),E=(g&f.childLanes)!==0),O){if(E)return v8(o,f,g);f.flags|=128}if(O=f.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),oe(Ni,Ni.current),E)break;return null;case 22:return f.lanes=0,f8(o,f,g,f.pendingProps);case 24:Hu(f,Li,o.memoizedState.cache)}return Lc(o,f,g)}function b8(o,f,g){if(o!==null)if(o.memoizedProps!==f.pendingProps)Bi=!0;else{if(!n_(o,g)&&(f.flags&128)===0)return Bi=!1,EQ(o,f,g);Bi=(o.flags&131072)!==0}else Bi=!1,Vn&&(f.flags&1048576)!==0&&ZO(f,em,f.index);switch(f.lanes=0,f.tag){case 16:e:{var E=f.pendingProps;if(o=bd(f.elementType),f.type=o,typeof o=="function")oE(o)?(E=Ad(o,E),f.tag=1,f=m8(null,f,o,E,g)):(f.tag=0,f=KE(null,f,o,E,g));else{if(o!=null){var O=o.$$typeof;if(O===V){f.tag=11,f=l8(null,f,o,E,g);break e}else if(O===F){f.tag=14,f=c8(null,f,o,E,g);break e}}throw f=Ce(o)||o,Error(r(306,f,""))}}return f;case 0:return KE(o,f,f.type,f.pendingProps,g);case 1:return E=f.type,O=Ad(E,f.pendingProps),m8(o,f,E,O,g);case 3:e:{if(Ge(f,f.stateNode.containerInfo),o===null)throw Error(r(387));E=f.pendingProps;var k=f.memoizedState;O=k.element,EE(o,f),lm(f,E,null,g);var Y=f.memoizedState;if(E=Y.cache,Hu(f,Li,E),E!==k.cache&&gE(f,[Li],g,!0),om(),E=Y.element,k.isDehydrated)if(k={element:E,isDehydrated:!1,cache:Y.cache},f.updateQueue.baseState=k,f.memoizedState=k,f.flags&256){f=g8(o,f,E,g);break e}else if(E!==O){O=Mo(Error(r(424)),f),tm(O),f=g8(o,f,E,g);break e}else for(o=f.stateNode.containerInfo,o.nodeType===9?o=o.body:o=o.nodeName==="HTML"?o.ownerDocument.body:o,Lr=jo(o.firstChild),Ta=f,Vn=!0,zu=null,Do=!0,g=fM(f,null,E,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(gd(),E===O){f=Lc(o,f,g);break e}Ia(o,f,E,g)}f=f.child}return f;case 26:return jx(o,f),o===null?(g=MR(f.type,null,f.pendingProps,null))?f.memoizedState=g:Vn||(g=f.type,o=f.pendingProps,E=Jx(Ee.current).createElement(g),E[pe]=f,E[ge]=o,Na(E,g,o),kt(E),f.stateNode=E):f.memoizedState=MR(f.type,o.memoizedProps,f.pendingProps,o.memoizedState),null;case 27:return ze(f),o===null&&Vn&&(E=f.stateNode=IR(f.type,f.pendingProps,Ee.current),Ta=f,Do=!0,O=Lr,nf(f.type)?(P_=O,Lr=jo(E.firstChild)):Lr=O),Ia(o,f,f.pendingProps.children,g),jx(o,f),o===null&&(f.flags|=4194304),f.child;case 5:return o===null&&Vn&&((O=E=Lr)&&(E=ZQ(E,f.type,f.pendingProps,Do),E!==null?(f.stateNode=E,Ta=f,Lr=jo(E.firstChild),Do=!1,O=!0):O=!1),O||Vu(f)),ze(f),O=f.type,k=f.pendingProps,Y=o!==null?o.memoizedProps:null,E=k.children,O_(O,k)?E=null:Y!==null&&O_(O,Y)&&(f.flags|=32),f.memoizedState!==null&&(O=NE(o,f,hQ,null,null,g),Im._currentValue=O),jx(o,f),Ia(o,f,E,g),f.child;case 6:return o===null&&Vn&&((o=g=Lr)&&(g=JQ(g,f.pendingProps,Do),g!==null?(f.stateNode=g,Ta=f,Lr=null,o=!0):o=!1),o||Vu(f)),null;case 13:return x8(o,f,g);case 4:return Ge(f,f.stateNode.containerInfo),E=f.pendingProps,o===null?f.child=Ed(f,null,E,g):Ia(o,f,E,g),f.child;case 11:return l8(o,f,f.type,f.pendingProps,g);case 7:return Ia(o,f,f.pendingProps,g),f.child;case 8:return Ia(o,f,f.pendingProps.children,g),f.child;case 12:return Ia(o,f,f.pendingProps.children,g),f.child;case 10:return E=f.pendingProps,Hu(f,f.type,E.value),Ia(o,f,E.children,g),f.child;case 9:return O=f.type._context,E=f.pendingProps.children,yd(f),O=Ca(O),E=E(O),f.flags|=1,Ia(o,f,E,g),f.child;case 14:return c8(o,f,f.type,f.pendingProps,g);case 15:return u8(o,f,f.type,f.pendingProps,g);case 19:return v8(o,f,g);case 31:return wQ(o,f,g);case 22:return f8(o,f,g,f.pendingProps);case 24:return yd(f),E=Ca(Li),o===null?(O=vE(),O===null&&(O=Cr,k=xE(),O.pooledCache=k,k.refCount++,k!==null&&(O.pooledCacheLanes|=g),O=k),f.memoizedState={parent:E,cache:O},wE(f),Hu(f,Li,O)):((o.lanes&g)!==0&&(EE(o,f),lm(f,null,null,g),om()),O=o.memoizedState,k=f.memoizedState,O.parent!==E?(O={parent:E,cache:E},f.memoizedState=O,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=O),Hu(f,Li,E)):(E=k.cache,Hu(f,Li,E),E!==O.cache&&gE(f,[Li],g,!0))),Ia(o,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function Fc(o){o.flags|=4}function r_(o,f,g,E,O){if((f=(o.mode&32)!==0)&&(f=!1),f){if(o.flags|=16777216,(O&335544128)===O)if(o.stateNode.complete)o.flags|=8192;else if(Y8())o.flags|=8192;else throw wd=wx,bE}else o.flags&=-16777217}function w8(o,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!jR(f))if(Y8())o.flags|=8192;else throw wd=wx,bE}function Fx(o,f){f!==null&&(o.flags|=4),o.flags&16384&&(f=o.tag!==22?Dr():536870912,o.lanes|=f,r0|=f)}function pm(o,f){if(!Vn)switch(o.tailMode){case"hidden":f=o.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?o.tail=null:g.sibling=null;break;case"collapsed":g=o.tail;for(var E=null;g!==null;)g.alternate!==null&&(E=g),g=g.sibling;E===null?f||o.tail===null?o.tail=null:o.tail.sibling=null:E.sibling=null}}function Fr(o){var f=o.alternate!==null&&o.alternate.child===o.child,g=0,E=0;if(f)for(var O=o.child;O!==null;)g|=O.lanes|O.childLanes,E|=O.subtreeFlags&65011712,E|=O.flags&65011712,O.return=o,O=O.sibling;else for(O=o.child;O!==null;)g|=O.lanes|O.childLanes,E|=O.subtreeFlags,E|=O.flags,O.return=o,O=O.sibling;return o.subtreeFlags|=E,o.childLanes=g,f}function _Q(o,f,g){var E=f.pendingProps;switch(fE(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fr(f),null;case 1:return Fr(f),null;case 3:return g=f.stateNode,E=null,o!==null&&(E=o.memoizedState.cache),f.memoizedState.cache!==E&&(f.flags|=2048),Dc(Li),_e(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(Wh(f)?Fc(f):o===null||o.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,hE())),Fr(f),null;case 26:var O=f.type,k=f.memoizedState;return o===null?(Fc(f),k!==null?(Fr(f),w8(f,k)):(Fr(f),r_(f,O,null,E,g))):k?k!==o.memoizedState?(Fc(f),Fr(f),w8(f,k)):(Fr(f),f.flags&=-16777217):(o=o.memoizedProps,o!==E&&Fc(f),Fr(f),r_(f,O,o,E,g)),null;case 27:if(tt(f),g=Ee.current,O=f.type,o!==null&&f.stateNode!=null)o.memoizedProps!==E&&Fc(f);else{if(!E){if(f.stateNode===null)throw Error(r(166));return Fr(f),null}o=se.current,Wh(f)?eM(f):(o=IR(O,E,g),f.stateNode=o,Fc(f))}return Fr(f),null;case 5:if(tt(f),O=f.type,o!==null&&f.stateNode!=null)o.memoizedProps!==E&&Fc(f);else{if(!E){if(f.stateNode===null)throw Error(r(166));return Fr(f),null}if(k=se.current,Wh(f))eM(f);else{var Y=Jx(Ee.current);switch(k){case 1:k=Y.createElementNS("http://www.w3.org/2000/svg",O);break;case 2:k=Y.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;default:switch(O){case"svg":k=Y.createElementNS("http://www.w3.org/2000/svg",O);break;case"math":k=Y.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;case"script":k=Y.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof E.is=="string"?Y.createElement("select",{is:E.is}):Y.createElement("select"),E.multiple?k.multiple=!0:E.size&&(k.size=E.size);break;default:k=typeof E.is=="string"?Y.createElement(O,{is:E.is}):Y.createElement(O)}}k[pe]=f,k[ge]=E;e:for(Y=f.child;Y!==null;){if(Y.tag===5||Y.tag===6)k.appendChild(Y.stateNode);else if(Y.tag!==4&&Y.tag!==27&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===f)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===f)break e;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}f.stateNode=k;e:switch(Na(k,O,E),O){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break e;case"img":E=!0;break e;default:E=!1}E&&Fc(f)}}return Fr(f),r_(f,f.type,o===null?null:o.memoizedProps,f.pendingProps,g),null;case 6:if(o&&f.stateNode!=null)o.memoizedProps!==E&&Fc(f);else{if(typeof E!="string"&&f.stateNode===null)throw Error(r(166));if(o=Ee.current,Wh(f)){if(o=f.stateNode,g=f.memoizedProps,E=null,O=Ta,O!==null)switch(O.tag){case 27:case 5:E=O.memoizedProps}o[pe]=f,o=!!(o.nodeValue===g||E!==null&&E.suppressHydrationWarning===!0||xR(o.nodeValue,g)),o||Vu(f,!0)}else o=Jx(o).createTextNode(E),o[pe]=f,f.stateNode=o}return Fr(f),null;case 31:if(g=f.memoizedState,o===null||o.memoizedState!==null){if(E=Wh(f),g!==null){if(o===null){if(!E)throw Error(r(318));if(o=f.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[pe]=f}else gd(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Fr(f),o=!1}else g=hE(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=g),o=!0;if(!o)return f.flags&256?(no(f),f):(no(f),null);if((f.flags&128)!==0)throw Error(r(558))}return Fr(f),null;case 13:if(E=f.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(O=Wh(f),E!==null&&E.dehydrated!==null){if(o===null){if(!O)throw Error(r(318));if(O=f.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));O[pe]=f}else gd(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Fr(f),O=!1}else O=hE(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=O),O=!0;if(!O)return f.flags&256?(no(f),f):(no(f),null)}return no(f),(f.flags&128)!==0?(f.lanes=g,f):(g=E!==null,o=o!==null&&o.memoizedState!==null,g&&(E=f.child,O=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(O=E.alternate.memoizedState.cachePool.pool),k=null,E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(k=E.memoizedState.cachePool.pool),k!==O&&(E.flags|=2048)),g!==o&&g&&(f.child.flags|=8192),Fx(f,f.updateQueue),Fr(f),null);case 4:return _e(),o===null&&S_(f.stateNode.containerInfo),Fr(f),null;case 10:return Dc(f.type),Fr(f),null;case 19:if(ee(Ni),E=f.memoizedState,E===null)return Fr(f),null;if(O=(f.flags&128)!==0,k=E.rendering,k===null)if(O)pm(E,!1);else{if(gi!==0||o!==null&&(o.flags&128)!==0)for(o=f.child;o!==null;){if(k=Sx(o),k!==null){for(f.flags|=128,pm(E,!1),o=k.updateQueue,f.updateQueue=o,Fx(f,o),f.subtreeFlags=0,o=g,g=f.child;g!==null;)KO(g,o),g=g.sibling;return oe(Ni,Ni.current&1|2),Vn&&Rc(f,E.treeForkCount),f.child}o=o.sibling}E.tail!==null&&Kt()>Hx&&(f.flags|=128,O=!0,pm(E,!1),f.lanes=4194304)}else{if(!O)if(o=Sx(k),o!==null){if(f.flags|=128,O=!0,o=o.updateQueue,f.updateQueue=o,Fx(f,o),pm(E,!0),E.tail===null&&E.tailMode==="hidden"&&!k.alternate&&!Vn)return Fr(f),null}else 2*Kt()-E.renderingStartTime>Hx&&g!==536870912&&(f.flags|=128,O=!0,pm(E,!1),f.lanes=4194304);E.isBackwards?(k.sibling=f.child,f.child=k):(o=E.last,o!==null?o.sibling=k:f.child=k,E.last=k)}return E.tail!==null?(o=E.tail,E.rendering=o,E.tail=o.sibling,E.renderingStartTime=Kt(),o.sibling=null,g=Ni.current,oe(Ni,O?g&1|2:g&1),Vn&&Rc(f,E.treeForkCount),o):(Fr(f),null);case 22:case 23:return no(f),TE(),E=f.memoizedState!==null,o!==null?o.memoizedState!==null!==E&&(f.flags|=8192):E&&(f.flags|=8192),E?(g&536870912)!==0&&(f.flags&128)===0&&(Fr(f),f.subtreeFlags&6&&(f.flags|=8192)):Fr(f),g=f.updateQueue,g!==null&&Fx(f,g.retryQueue),g=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),E=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(E=f.memoizedState.cachePool.pool),E!==g&&(f.flags|=2048),o!==null&&ee(vd),null;case 24:return g=null,o!==null&&(g=o.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),Dc(Li),Fr(f),null;case 25:return null;case 30:return null}throw Error(r(156,f.tag))}function AQ(o,f){switch(fE(f),f.tag){case 1:return o=f.flags,o&65536?(f.flags=o&-65537|128,f):null;case 3:return Dc(Li),_e(),o=f.flags,(o&65536)!==0&&(o&128)===0?(f.flags=o&-65537|128,f):null;case 26:case 27:case 5:return tt(f),null;case 31:if(f.memoizedState!==null){if(no(f),f.alternate===null)throw Error(r(340));gd()}return o=f.flags,o&65536?(f.flags=o&-65537|128,f):null;case 13:if(no(f),o=f.memoizedState,o!==null&&o.dehydrated!==null){if(f.alternate===null)throw Error(r(340));gd()}return o=f.flags,o&65536?(f.flags=o&-65537|128,f):null;case 19:return ee(Ni),null;case 4:return _e(),null;case 10:return Dc(f.type),null;case 22:case 23:return no(f),TE(),o!==null&&ee(vd),o=f.flags,o&65536?(f.flags=o&-65537|128,f):null;case 24:return Dc(Li),null;case 25:return null;default:return null}}function E8(o,f){switch(fE(f),f.tag){case 3:Dc(Li),_e();break;case 26:case 27:case 5:tt(f);break;case 4:_e();break;case 31:f.memoizedState!==null&&no(f);break;case 13:no(f);break;case 19:ee(Ni);break;case 10:Dc(f.type);break;case 22:case 23:no(f),TE(),o!==null&&ee(vd);break;case 24:Dc(Li)}}function mm(o,f){try{var g=f.updateQueue,E=g!==null?g.lastEffect:null;if(E!==null){var O=E.next;g=O;do{if((g.tag&o)===o){E=void 0;var k=g.create,Y=g.inst;E=k(),Y.destroy=E}g=g.next}while(g!==O)}}catch(le){lr(f,f.return,le)}}function Ku(o,f,g){try{var E=f.updateQueue,O=E!==null?E.lastEffect:null;if(O!==null){var k=O.next;E=k;do{if((E.tag&o)===o){var Y=E.inst,le=Y.destroy;if(le!==void 0){Y.destroy=void 0,O=f;var Ae=g,He=le;try{He()}catch(et){lr(O,Ae,et)}}}E=E.next}while(E!==k)}}catch(et){lr(f,f.return,et)}}function _8(o){var f=o.updateQueue;if(f!==null){var g=o.stateNode;try{hM(f,g)}catch(E){lr(o,o.return,E)}}}function A8(o,f,g){g.props=Ad(o.type,o.memoizedProps),g.state=o.memoizedState;try{g.componentWillUnmount()}catch(E){lr(o,f,E)}}function gm(o,f){try{var g=o.ref;if(g!==null){switch(o.tag){case 26:case 27:case 5:var E=o.stateNode;break;case 30:E=o.stateNode;break;default:E=o.stateNode}typeof g=="function"?o.refCleanup=g(E):g.current=E}}catch(O){lr(o,f,O)}}function Ul(o,f){var g=o.ref,E=o.refCleanup;if(g!==null)if(typeof E=="function")try{E()}catch(O){lr(o,f,O)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(O){lr(o,f,O)}else g.current=null}function S8(o){var f=o.type,g=o.memoizedProps,E=o.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":g.autoFocus&&E.focus();break e;case"img":g.src?E.src=g.src:g.srcSet&&(E.srcset=g.srcSet)}}catch(O){lr(o,o.return,O)}}function i_(o,f,g){try{var E=o.stateNode;qQ(E,o.type,g,f),E[ge]=f}catch(O){lr(o,o.return,O)}}function T8(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&nf(o.type)||o.tag===4}function a_(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||T8(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&nf(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function s_(o,f,g){var E=o.tag;if(E===5||E===6)o=o.stateNode,f?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(o,f):(f=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,f.appendChild(o),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=qa));else if(E!==4&&(E===27&&nf(o.type)&&(g=o.stateNode,f=null),o=o.child,o!==null))for(s_(o,f,g),o=o.sibling;o!==null;)s_(o,f,g),o=o.sibling}function Bx(o,f,g){var E=o.tag;if(E===5||E===6)o=o.stateNode,f?g.insertBefore(o,f):g.appendChild(o);else if(E!==4&&(E===27&&nf(o.type)&&(g=o.stateNode),o=o.child,o!==null))for(Bx(o,f,g),o=o.sibling;o!==null;)Bx(o,f,g),o=o.sibling}function C8(o){var f=o.stateNode,g=o.memoizedProps;try{for(var E=o.type,O=f.attributes;O.length;)f.removeAttributeNode(O[0]);Na(f,E,g),f[pe]=o,f[ge]=g}catch(k){lr(o,o.return,k)}}var Bc=!1,Ui=!1,o_=!1,I8=typeof WeakSet=="function"?WeakSet:Set,ca=null;function SQ(o,f){if(o=o.containerInfo,I_=sy,o=ne(o),ae(o)){if("selectionStart"in o)var g={start:o.selectionStart,end:o.selectionEnd};else e:{g=(g=o.ownerDocument)&&g.defaultView||window;var E=g.getSelection&&g.getSelection();if(E&&E.rangeCount!==0){g=E.anchorNode;var O=E.anchorOffset,k=E.focusNode;E=E.focusOffset;try{g.nodeType,k.nodeType}catch{g=null;break e}var Y=0,le=-1,Ae=-1,He=0,et=0,at=o,qe=null;t:for(;;){for(var Xe;at!==g||O!==0&&at.nodeType!==3||(le=Y+O),at!==k||E!==0&&at.nodeType!==3||(Ae=Y+E),at.nodeType===3&&(Y+=at.nodeValue.length),(Xe=at.firstChild)!==null;)qe=at,at=Xe;for(;;){if(at===o)break t;if(qe===g&&++He===O&&(le=Y),qe===k&&++et===E&&(Ae=Y),(Xe=at.nextSibling)!==null)break;at=qe,qe=at.parentNode}at=Xe}g=le===-1||Ae===-1?null:{start:le,end:Ae}}else g=null}g=g||{start:0,end:0}}else g=null;for(N_={focusedElem:o,selectionRange:g},sy=!1,ca=f;ca!==null;)if(f=ca,o=f.child,(f.subtreeFlags&1028)!==0&&o!==null)o.return=f,ca=o;else for(;ca!==null;){switch(f=ca,k=f.alternate,o=f.flags,f.tag){case 0:if((o&4)!==0&&(o=f.updateQueue,o=o!==null?o.events:null,o!==null))for(g=0;g<o.length;g++)O=o[g],O.ref.impl=O.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&k!==null){o=void 0,g=f,O=k.memoizedProps,k=k.memoizedState,E=g.stateNode;try{var Ft=Ad(g.type,O);o=E.getSnapshotBeforeUpdate(Ft,k),E.__reactInternalSnapshotBeforeUpdate=o}catch(en){lr(g,g.return,en)}}break;case 3:if((o&1024)!==0){if(o=f.stateNode.containerInfo,g=o.nodeType,g===9)R_(o);else if(g===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":R_(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=f.sibling,o!==null){o.return=f.return,ca=o;break}ca=f.return}}function N8(o,f,g){var E=g.flags;switch(g.tag){case 0:case 11:case 15:zc(o,g),E&4&&mm(5,g);break;case 1:if(zc(o,g),E&4)if(o=g.stateNode,f===null)try{o.componentDidMount()}catch(Y){lr(g,g.return,Y)}else{var O=Ad(g.type,f.memoizedProps);f=f.memoizedState;try{o.componentDidUpdate(O,f,o.__reactInternalSnapshotBeforeUpdate)}catch(Y){lr(g,g.return,Y)}}E&64&&_8(g),E&512&&gm(g,g.return);break;case 3:if(zc(o,g),E&64&&(o=g.updateQueue,o!==null)){if(f=null,g.child!==null)switch(g.child.tag){case 27:case 5:f=g.child.stateNode;break;case 1:f=g.child.stateNode}try{hM(o,f)}catch(Y){lr(g,g.return,Y)}}break;case 27:f===null&&E&4&&C8(g);case 26:case 5:zc(o,g),f===null&&E&4&&S8(g),E&512&&gm(g,g.return);break;case 12:zc(o,g);break;case 31:zc(o,g),E&4&&R8(o,g);break;case 13:zc(o,g),E&4&&k8(o,g),E&64&&(o=g.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(g=DQ.bind(null,g),eZ(o,g))));break;case 22:if(E=g.memoizedState!==null||Bc,!E){f=f!==null&&f.memoizedState!==null||Ui,O=Bc;var k=Ui;Bc=E,(Ui=f)&&!k?Vc(o,g,(g.subtreeFlags&8772)!==0):zc(o,g),Bc=O,Ui=k}break;case 30:break;default:zc(o,g)}}function O8(o){var f=o.alternate;f!==null&&(o.alternate=null,O8(f)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(f=o.stateNode,f!==null&&ot(f)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Xr=null,Os=!1;function Uc(o,f,g){for(g=g.child;g!==null;)M8(o,f,g),g=g.sibling}function M8(o,f,g){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(mn,g)}catch{}switch(g.tag){case 26:Ui||Ul(g,f),Uc(o,f,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Ui||Ul(g,f);var E=Xr,O=Os;nf(g.type)&&(Xr=g.stateNode,Os=!1),Uc(o,f,g),Sm(g.stateNode),Xr=E,Os=O;break;case 5:Ui||Ul(g,f);case 6:if(E=Xr,O=Os,Xr=null,Uc(o,f,g),Xr=E,Os=O,Xr!==null)if(Os)try{(Xr.nodeType===9?Xr.body:Xr.nodeName==="HTML"?Xr.ownerDocument.body:Xr).removeChild(g.stateNode)}catch(k){lr(g,f,k)}else try{Xr.removeChild(g.stateNode)}catch(k){lr(g,f,k)}break;case 18:Xr!==null&&(Os?(o=Xr,_R(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,g.stateNode),f0(o)):_R(Xr,g.stateNode));break;case 4:E=Xr,O=Os,Xr=g.stateNode.containerInfo,Os=!0,Uc(o,f,g),Xr=E,Os=O;break;case 0:case 11:case 14:case 15:Ku(2,g,f),Ui||Ku(4,g,f),Uc(o,f,g);break;case 1:Ui||(Ul(g,f),E=g.stateNode,typeof E.componentWillUnmount=="function"&&A8(g,f,E)),Uc(o,f,g);break;case 21:Uc(o,f,g);break;case 22:Ui=(E=Ui)||g.memoizedState!==null,Uc(o,f,g),Ui=E;break;default:Uc(o,f,g)}}function R8(o,f){if(f.memoizedState===null&&(o=f.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{f0(o)}catch(g){lr(f,f.return,g)}}}function k8(o,f){if(f.memoizedState===null&&(o=f.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{f0(o)}catch(g){lr(f,f.return,g)}}function TQ(o){switch(o.tag){case 31:case 13:case 19:var f=o.stateNode;return f===null&&(f=o.stateNode=new I8),f;case 22:return o=o.stateNode,f=o._retryCache,f===null&&(f=o._retryCache=new I8),f;default:throw Error(r(435,o.tag))}}function Ux(o,f){var g=TQ(o);f.forEach(function(E){if(!g.has(E)){g.add(E);var O=PQ.bind(null,o,E);E.then(O,O)}})}function Ms(o,f){var g=f.deletions;if(g!==null)for(var E=0;E<g.length;E++){var O=g[E],k=o,Y=f,le=Y;e:for(;le!==null;){switch(le.tag){case 27:if(nf(le.type)){Xr=le.stateNode,Os=!1;break e}break;case 5:Xr=le.stateNode,Os=!1;break e;case 3:case 4:Xr=le.stateNode.containerInfo,Os=!0;break e}le=le.return}if(Xr===null)throw Error(r(160));M8(k,Y,O),Xr=null,Os=!1,k=O.alternate,k!==null&&(k.return=null),O.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)D8(f,o),f=f.sibling}var ol=null;function D8(o,f){var g=o.alternate,E=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Ms(f,o),Rs(o),E&4&&(Ku(3,o,o.return),mm(3,o),Ku(5,o,o.return));break;case 1:Ms(f,o),Rs(o),E&512&&(Ui||g===null||Ul(g,g.return)),E&64&&Bc&&(o=o.updateQueue,o!==null&&(E=o.callbacks,E!==null&&(g=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=g===null?E:g.concat(E))));break;case 26:var O=ol;if(Ms(f,o),Rs(o),E&512&&(Ui||g===null||Ul(g,g.return)),E&4){var k=g!==null?g.memoizedState:null;if(E=o.memoizedState,g===null)if(E===null)if(o.stateNode===null){e:{E=o.type,g=o.memoizedProps,O=O.ownerDocument||O;t:switch(E){case"title":k=O.getElementsByTagName("title")[0],(!k||k[Ve]||k[pe]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=O.createElement(E),O.head.insertBefore(k,O.querySelector("head > title"))),Na(k,E,g),k[pe]=o,kt(k),E=k;break e;case"link":var Y=DR("link","href",O).get(E+(g.href||""));if(Y){for(var le=0;le<Y.length;le++)if(k=Y[le],k.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&k.getAttribute("rel")===(g.rel==null?null:g.rel)&&k.getAttribute("title")===(g.title==null?null:g.title)&&k.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){Y.splice(le,1);break t}}k=O.createElement(E),Na(k,E,g),O.head.appendChild(k);break;case"meta":if(Y=DR("meta","content",O).get(E+(g.content||""))){for(le=0;le<Y.length;le++)if(k=Y[le],k.getAttribute("content")===(g.content==null?null:""+g.content)&&k.getAttribute("name")===(g.name==null?null:g.name)&&k.getAttribute("property")===(g.property==null?null:g.property)&&k.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&k.getAttribute("charset")===(g.charSet==null?null:g.charSet)){Y.splice(le,1);break t}}k=O.createElement(E),Na(k,E,g),O.head.appendChild(k);break;default:throw Error(r(468,E))}k[pe]=o,kt(k),E=k}o.stateNode=E}else PR(O,o.type,o.stateNode);else o.stateNode=kR(O,E,o.memoizedProps);else k!==E?(k===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):k.count--,E===null?PR(O,o.type,o.stateNode):kR(O,E,o.memoizedProps)):E===null&&o.stateNode!==null&&i_(o,o.memoizedProps,g.memoizedProps)}break;case 27:Ms(f,o),Rs(o),E&512&&(Ui||g===null||Ul(g,g.return)),g!==null&&E&4&&i_(o,o.memoizedProps,g.memoizedProps);break;case 5:if(Ms(f,o),Rs(o),E&512&&(Ui||g===null||Ul(g,g.return)),o.flags&32){O=o.stateNode;try{Ga(O,"")}catch(Ft){lr(o,o.return,Ft)}}E&4&&o.stateNode!=null&&(O=o.memoizedProps,i_(o,O,g!==null?g.memoizedProps:O)),E&1024&&(o_=!0);break;case 6:if(Ms(f,o),Rs(o),E&4){if(o.stateNode===null)throw Error(r(162));E=o.memoizedProps,g=o.stateNode;try{g.nodeValue=E}catch(Ft){lr(o,o.return,Ft)}}break;case 3:if(ny=null,O=ol,ol=ey(f.containerInfo),Ms(f,o),ol=O,Rs(o),E&4&&g!==null&&g.memoizedState.isDehydrated)try{f0(f.containerInfo)}catch(Ft){lr(o,o.return,Ft)}o_&&(o_=!1,P8(o));break;case 4:E=ol,ol=ey(o.stateNode.containerInfo),Ms(f,o),Rs(o),ol=E;break;case 12:Ms(f,o),Rs(o);break;case 31:Ms(f,o),Rs(o),E&4&&(E=o.updateQueue,E!==null&&(o.updateQueue=null,Ux(o,E)));break;case 13:Ms(f,o),Rs(o),o.child.flags&8192&&o.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Vx=Kt()),E&4&&(E=o.updateQueue,E!==null&&(o.updateQueue=null,Ux(o,E)));break;case 22:O=o.memoizedState!==null;var Ae=g!==null&&g.memoizedState!==null,He=Bc,et=Ui;if(Bc=He||O,Ui=et||Ae,Ms(f,o),Ui=et,Bc=He,Rs(o),E&8192)e:for(f=o.stateNode,f._visibility=O?f._visibility&-2:f._visibility|1,O&&(g===null||Ae||Bc||Ui||Sd(o)),g=null,f=o;;){if(f.tag===5||f.tag===26){if(g===null){Ae=g=f;try{if(k=Ae.stateNode,O)Y=k.style,typeof Y.setProperty=="function"?Y.setProperty("display","none","important"):Y.display="none";else{le=Ae.stateNode;var at=Ae.memoizedProps.style,qe=at!=null&&at.hasOwnProperty("display")?at.display:null;le.style.display=qe==null||typeof qe=="boolean"?"":(""+qe).trim()}}catch(Ft){lr(Ae,Ae.return,Ft)}}}else if(f.tag===6){if(g===null){Ae=f;try{Ae.stateNode.nodeValue=O?"":Ae.memoizedProps}catch(Ft){lr(Ae,Ae.return,Ft)}}}else if(f.tag===18){if(g===null){Ae=f;try{var Xe=Ae.stateNode;O?AR(Xe,!0):AR(Ae.stateNode,!1)}catch(Ft){lr(Ae,Ae.return,Ft)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===o)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===o)break e;for(;f.sibling===null;){if(f.return===null||f.return===o)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}E&4&&(E=o.updateQueue,E!==null&&(g=E.retryQueue,g!==null&&(E.retryQueue=null,Ux(o,g))));break;case 19:Ms(f,o),Rs(o),E&4&&(E=o.updateQueue,E!==null&&(o.updateQueue=null,Ux(o,E)));break;case 30:break;case 21:break;default:Ms(f,o),Rs(o)}}function Rs(o){var f=o.flags;if(f&2){try{for(var g,E=o.return;E!==null;){if(T8(E)){g=E;break}E=E.return}if(g==null)throw Error(r(160));switch(g.tag){case 27:var O=g.stateNode,k=a_(o);Bx(o,k,O);break;case 5:var Y=g.stateNode;g.flags&32&&(Ga(Y,""),g.flags&=-33);var le=a_(o);Bx(o,le,Y);break;case 3:case 4:var Ae=g.stateNode.containerInfo,He=a_(o);s_(o,He,Ae);break;default:throw Error(r(161))}}catch(et){lr(o,o.return,et)}o.flags&=-3}f&4096&&(o.flags&=-4097)}function P8(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var f=o;P8(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),o=o.sibling}}function zc(o,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)N8(o,f.alternate,f),f=f.sibling}function Sd(o){for(o=o.child;o!==null;){var f=o;switch(f.tag){case 0:case 11:case 14:case 15:Ku(4,f,f.return),Sd(f);break;case 1:Ul(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount=="function"&&A8(f,f.return,g),Sd(f);break;case 27:Sm(f.stateNode);case 26:case 5:Ul(f,f.return),Sd(f);break;case 22:f.memoizedState===null&&Sd(f);break;case 30:Sd(f);break;default:Sd(f)}o=o.sibling}}function Vc(o,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var E=f.alternate,O=o,k=f,Y=k.flags;switch(k.tag){case 0:case 11:case 15:Vc(O,k,g),mm(4,k);break;case 1:if(Vc(O,k,g),E=k,O=E.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(He){lr(E,E.return,He)}if(E=k,O=E.updateQueue,O!==null){var le=E.stateNode;try{var Ae=O.shared.hiddenCallbacks;if(Ae!==null)for(O.shared.hiddenCallbacks=null,O=0;O<Ae.length;O++)dM(Ae[O],le)}catch(He){lr(E,E.return,He)}}g&&Y&64&&_8(k),gm(k,k.return);break;case 27:C8(k);case 26:case 5:Vc(O,k,g),g&&E===null&&Y&4&&S8(k),gm(k,k.return);break;case 12:Vc(O,k,g);break;case 31:Vc(O,k,g),g&&Y&4&&R8(O,k);break;case 13:Vc(O,k,g),g&&Y&4&&k8(O,k);break;case 22:k.memoizedState===null&&Vc(O,k,g),gm(k,k.return);break;case 30:break;default:Vc(O,k,g)}f=f.sibling}}function l_(o,f){var g=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),o=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(o=f.memoizedState.cachePool.pool),o!==g&&(o!=null&&o.refCount++,g!=null&&nm(g))}function c_(o,f){o=null,f.alternate!==null&&(o=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==o&&(f.refCount++,o!=null&&nm(o))}function ll(o,f,g,E){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)j8(o,f,g,E),f=f.sibling}function j8(o,f,g,E){var O=f.flags;switch(f.tag){case 0:case 11:case 15:ll(o,f,g,E),O&2048&&mm(9,f);break;case 1:ll(o,f,g,E);break;case 3:ll(o,f,g,E),O&2048&&(o=null,f.alternate!==null&&(o=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==o&&(f.refCount++,o!=null&&nm(o)));break;case 12:if(O&2048){ll(o,f,g,E),o=f.stateNode;try{var k=f.memoizedProps,Y=k.id,le=k.onPostCommit;typeof le=="function"&&le(Y,f.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Ae){lr(f,f.return,Ae)}}else ll(o,f,g,E);break;case 31:ll(o,f,g,E);break;case 13:ll(o,f,g,E);break;case 23:break;case 22:k=f.stateNode,Y=f.alternate,f.memoizedState!==null?k._visibility&2?ll(o,f,g,E):xm(o,f):k._visibility&2?ll(o,f,g,E):(k._visibility|=2,e0(o,f,g,E,(f.subtreeFlags&10256)!==0||!1)),O&2048&&l_(Y,f);break;case 24:ll(o,f,g,E),O&2048&&c_(f.alternate,f);break;default:ll(o,f,g,E)}}function e0(o,f,g,E,O){for(O=O&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var k=o,Y=f,le=g,Ae=E,He=Y.flags;switch(Y.tag){case 0:case 11:case 15:e0(k,Y,le,Ae,O),mm(8,Y);break;case 23:break;case 22:var et=Y.stateNode;Y.memoizedState!==null?et._visibility&2?e0(k,Y,le,Ae,O):xm(k,Y):(et._visibility|=2,e0(k,Y,le,Ae,O)),O&&He&2048&&l_(Y.alternate,Y);break;case 24:e0(k,Y,le,Ae,O),O&&He&2048&&c_(Y.alternate,Y);break;default:e0(k,Y,le,Ae,O)}f=f.sibling}}function xm(o,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=o,E=f,O=E.flags;switch(E.tag){case 22:xm(g,E),O&2048&&l_(E.alternate,E);break;case 24:xm(g,E),O&2048&&c_(E.alternate,E);break;default:xm(g,E)}f=f.sibling}}var ym=8192;function t0(o,f,g){if(o.subtreeFlags&ym)for(o=o.child;o!==null;)L8(o,f,g),o=o.sibling}function L8(o,f,g){switch(o.tag){case 26:t0(o,f,g),o.flags&ym&&o.memoizedState!==null&&dZ(g,ol,o.memoizedState,o.memoizedProps);break;case 5:t0(o,f,g);break;case 3:case 4:var E=ol;ol=ey(o.stateNode.containerInfo),t0(o,f,g),ol=E;break;case 22:o.memoizedState===null&&(E=o.alternate,E!==null&&E.memoizedState!==null?(E=ym,ym=16777216,t0(o,f,g),ym=E):t0(o,f,g));break;default:t0(o,f,g)}}function F8(o){var f=o.alternate;if(f!==null&&(o=f.child,o!==null)){f.child=null;do f=o.sibling,o.sibling=null,o=f;while(o!==null)}}function vm(o){var f=o.deletions;if((o.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var E=f[g];ca=E,U8(E,o)}F8(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)B8(o),o=o.sibling}function B8(o){switch(o.tag){case 0:case 11:case 15:vm(o),o.flags&2048&&Ku(9,o,o.return);break;case 3:vm(o);break;case 12:vm(o);break;case 22:var f=o.stateNode;o.memoizedState!==null&&f._visibility&2&&(o.return===null||o.return.tag!==13)?(f._visibility&=-3,zx(o)):vm(o);break;default:vm(o)}}function zx(o){var f=o.deletions;if((o.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var E=f[g];ca=E,U8(E,o)}F8(o)}for(o=o.child;o!==null;){switch(f=o,f.tag){case 0:case 11:case 15:Ku(8,f,f.return),zx(f);break;case 22:g=f.stateNode,g._visibility&2&&(g._visibility&=-3,zx(f));break;default:zx(f)}o=o.sibling}}function U8(o,f){for(;ca!==null;){var g=ca;switch(g.tag){case 0:case 11:case 15:Ku(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var E=g.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:nm(g.memoizedState.cache)}if(E=g.child,E!==null)E.return=g,ca=E;else e:for(g=o;ca!==null;){E=ca;var O=E.sibling,k=E.return;if(O8(E),E===g){ca=null;break e}if(O!==null){O.return=k,ca=O;break e}ca=k}}}var CQ={getCacheForType:function(o){var f=Ca(Li),g=f.data.get(o);return g===void 0&&(g=o(),f.data.set(o,g)),g},cacheSignal:function(){return Ca(Li).controller.signal}},IQ=typeof WeakMap=="function"?WeakMap:Map,Zn=0,Cr=null,On=null,Pn=0,or=0,ro=null,Xu=!1,n0=!1,u_=!1,Hc=0,gi=0,Qu=0,Td=0,f_=0,io=0,r0=0,bm=null,ks=null,d_=!1,Vx=0,z8=0,Hx=1/0,Wx=null,Zu=null,Zi=0,Ju=null,i0=null,Wc=0,h_=0,p_=null,V8=null,wm=0,m_=null;function ao(){return(Zn&2)!==0&&Pn!==0?Pn&-Pn:ue.T!==null?w_():ie()}function H8(){if(io===0)if((Pn&536870912)===0||Vn){var o=sn;sn<<=1,(sn&3932160)===0&&(sn=262144),io=o}else io=536870912;return o=to.current,o!==null&&(o.flags|=32),io}function Ds(o,f,g){(o===Cr&&(or===2||or===9)||o.cancelPendingCommit!==null)&&(a0(o,0),ef(o,Pn,io,!1)),Ha(o,g),((Zn&2)===0||o!==Cr)&&(o===Cr&&((Zn&2)===0&&(Td|=g),gi===4&&ef(o,Pn,io,!1)),zl(o))}function W8(o,f,g){if((Zn&6)!==0)throw Error(r(327));var E=!g&&(f&127)===0&&(f&o.expiredLanes)===0||_r(o,f),O=E?MQ(o,f):x_(o,f,!0),k=E;do{if(O===0){n0&&!E&&ef(o,f,0,!1);break}else{if(g=o.current.alternate,k&&!NQ(g)){O=x_(o,f,!1),k=!1;continue}if(O===2){if(k=f,o.errorRecoveryDisabledLanes&k)var Y=0;else Y=o.pendingLanes&-536870913,Y=Y!==0?Y:Y&536870912?536870912:0;if(Y!==0){f=Y;e:{var le=o;O=bm;var Ae=le.current.memoizedState.isDehydrated;if(Ae&&(a0(le,Y).flags|=256),Y=x_(le,Y,!1),Y!==2){if(u_&&!Ae){le.errorRecoveryDisabledLanes|=k,Td|=k,O=4;break e}k=ks,ks=O,k!==null&&(ks===null?ks=k:ks.push.apply(ks,k))}O=Y}if(k=!1,O!==2)continue}}if(O===1){a0(o,0),ef(o,f,0,!0);break}e:{switch(E=o,k=O,k){case 0:case 1:throw Error(r(345));case 4:if((f&4194048)!==f)break;case 6:ef(E,f,io,!Xu);break e;case 2:ks=null;break;case 3:case 5:break;default:throw Error(r(329))}if((f&62914560)===f&&(O=Vx+300-Kt(),10<O)){if(ef(E,f,io,!Xu),sa(E,0,!0)!==0)break e;Wc=f,E.timeoutHandle=wR(G8.bind(null,E,g,ks,Wx,d_,f,io,Td,r0,Xu,k,"Throttled",-0,0),O);break e}G8(E,g,ks,Wx,d_,f,io,Td,r0,Xu,k,null,-0,0)}}break}while(!0);zl(o)}function G8(o,f,g,E,O,k,Y,le,Ae,He,et,at,qe,Xe){if(o.timeoutHandle=-1,at=f.subtreeFlags,at&8192||(at&16785408)===16785408){at={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qa},L8(f,k,at);var Ft=(k&62914560)===k?Vx-Kt():(k&4194048)===k?z8-Kt():0;if(Ft=hZ(at,Ft),Ft!==null){Wc=k,o.cancelPendingCommit=Ft(J8.bind(null,o,f,k,g,E,O,Y,le,Ae,et,at,null,qe,Xe)),ef(o,k,Y,!He);return}}J8(o,f,k,g,E,O,Y,le,Ae)}function NQ(o){for(var f=o;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var E=0;E<g.length;E++){var O=g[E],k=O.getSnapshot;O=O.value;try{if(!_(k(),O))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===o)break;for(;f.sibling===null;){if(f.return===null||f.return===o)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function ef(o,f,g,E){f&=~f_,f&=~Td,o.suspendedLanes|=f,o.pingedLanes&=~f,E&&(o.warmLanes|=f),E=o.expirationTimes;for(var O=f;0<O;){var k=31-Ht(O),Y=1<<k;E[k]=-1,O&=~Y}g!==0&&Gr(o,g,f)}function Gx(){return(Zn&6)===0?(Em(0),!1):!0}function g_(){if(On!==null){if(or===0)var o=On.return;else o=On,kc=xd=null,RE(o),Kh=null,im=0,o=On;for(;o!==null;)E8(o.alternate,o),o=o.return;On=null}}function a0(o,f){var g=o.timeoutHandle;g!==-1&&(o.timeoutHandle=-1,KQ(g)),g=o.cancelPendingCommit,g!==null&&(o.cancelPendingCommit=null,g()),Wc=0,g_(),Cr=o,On=g=Mc(o.current,null),Pn=f,or=0,ro=null,Xu=!1,n0=_r(o,f),u_=!1,r0=io=f_=Td=Qu=gi=0,ks=bm=null,d_=!1,(f&8)!==0&&(f|=f&32);var E=o.entangledLanes;if(E!==0)for(o=o.entanglements,E&=f;0<E;){var O=31-Ht(E),k=1<<O;f|=o[O],E&=~k}return Hc=f,dx(),g}function q8(o,f){bn=null,ue.H=dm,f===$h||f===bx?(f=lM(),or=3):f===bE?(f=lM(),or=4):or=f===$E?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,ro=f,On===null&&(gi=1,Dx(o,Mo(f,o.current)))}function Y8(){var o=to.current;return o===null?!0:(Pn&4194048)===Pn?Po===null:(Pn&62914560)===Pn||(Pn&536870912)!==0?o===Po:!1}function $8(){var o=ue.H;return ue.H=dm,o===null?dm:o}function K8(){var o=ue.A;return ue.A=CQ,o}function qx(){gi=4,Xu||(Pn&4194048)!==Pn&&to.current!==null||(n0=!0),(Qu&134217727)===0&&(Td&134217727)===0||Cr===null||ef(Cr,Pn,io,!1)}function x_(o,f,g){var E=Zn;Zn|=2;var O=$8(),k=K8();(Cr!==o||Pn!==f)&&(Wx=null,a0(o,f)),f=!1;var Y=gi;e:do try{if(or!==0&&On!==null){var le=On,Ae=ro;switch(or){case 8:g_(),Y=6;break e;case 3:case 2:case 9:case 6:to.current===null&&(f=!0);var He=or;if(or=0,ro=null,s0(o,le,Ae,He),g&&n0){Y=0;break e}break;default:He=or,or=0,ro=null,s0(o,le,Ae,He)}}OQ(),Y=gi;break}catch(et){q8(o,et)}while(!0);return f&&o.shellSuspendCounter++,kc=xd=null,Zn=E,ue.H=O,ue.A=k,On===null&&(Cr=null,Pn=0,dx()),Y}function OQ(){for(;On!==null;)X8(On)}function MQ(o,f){var g=Zn;Zn|=2;var E=$8(),O=K8();Cr!==o||Pn!==f?(Wx=null,Hx=Kt()+500,a0(o,f)):n0=_r(o,f);e:do try{if(or!==0&&On!==null){f=On;var k=ro;t:switch(or){case 1:or=0,ro=null,s0(o,f,k,1);break;case 2:case 9:if(sM(k)){or=0,ro=null,Q8(f);break}f=function(){or!==2&&or!==9||Cr!==o||(or=7),zl(o)},k.then(f,f);break e;case 3:or=7;break e;case 4:or=5;break e;case 7:sM(k)?(or=0,ro=null,Q8(f)):(or=0,ro=null,s0(o,f,k,7));break;case 5:var Y=null;switch(On.tag){case 26:Y=On.memoizedState;case 5:case 27:var le=On;if(Y?jR(Y):le.stateNode.complete){or=0,ro=null;var Ae=le.sibling;if(Ae!==null)On=Ae;else{var He=le.return;He!==null?(On=He,Yx(He)):On=null}break t}}or=0,ro=null,s0(o,f,k,5);break;case 6:or=0,ro=null,s0(o,f,k,6);break;case 8:g_(),gi=6;break e;default:throw Error(r(462))}}RQ();break}catch(et){q8(o,et)}while(!0);return kc=xd=null,ue.H=E,ue.A=O,Zn=g,On!==null?0:(Cr=null,Pn=0,dx(),gi)}function RQ(){for(;On!==null&&!fi();)X8(On)}function X8(o){var f=b8(o.alternate,o,Hc);o.memoizedProps=o.pendingProps,f===null?Yx(o):On=f}function Q8(o){var f=o,g=f.alternate;switch(f.tag){case 15:case 0:f=p8(g,f,f.pendingProps,f.type,void 0,Pn);break;case 11:f=p8(g,f,f.pendingProps,f.type.render,f.ref,Pn);break;case 5:RE(f);default:E8(g,f),f=On=KO(f,Hc),f=b8(g,f,Hc)}o.memoizedProps=o.pendingProps,f===null?Yx(o):On=f}function s0(o,f,g,E){kc=xd=null,RE(f),Kh=null,im=0;var O=f.return;try{if(bQ(o,O,f,g,Pn)){gi=1,Dx(o,Mo(g,o.current)),On=null;return}}catch(k){if(O!==null)throw On=O,k;gi=1,Dx(o,Mo(g,o.current)),On=null;return}f.flags&32768?(Vn||E===1?o=!0:n0||(Pn&536870912)!==0?o=!1:(Xu=o=!0,(E===2||E===9||E===3||E===6)&&(E=to.current,E!==null&&E.tag===13&&(E.flags|=16384))),Z8(f,o)):Yx(f)}function Yx(o){var f=o;do{if((f.flags&32768)!==0){Z8(f,Xu);return}o=f.return;var g=_Q(f.alternate,f,Hc);if(g!==null){On=g;return}if(f=f.sibling,f!==null){On=f;return}On=f=o}while(f!==null);gi===0&&(gi=5)}function Z8(o,f){do{var g=AQ(o.alternate,o);if(g!==null){g.flags&=32767,On=g;return}if(g=o.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(o=o.sibling,o!==null)){On=o;return}On=o=g}while(o!==null);gi=6,On=null}function J8(o,f,g,E,O,k,Y,le,Ae){o.cancelPendingCommit=null;do $x();while(Zi!==0);if((Zn&6)!==0)throw Error(r(327));if(f!==null){if(f===o.current)throw Error(r(177));if(k=f.lanes|f.childLanes,k|=aE,Un(o,g,k,Y,le,Ae),o===Cr&&(On=Cr=null,Pn=0),i0=f,Ju=o,Wc=g,h_=k,p_=O,V8=E,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,jQ(Rt,function(){return iR(),null})):(o.callbackNode=null,o.callbackPriority=0),E=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||E){E=ue.T,ue.T=null,O=me.p,me.p=2,Y=Zn,Zn|=4;try{SQ(o,f,g)}finally{Zn=Y,me.p=O,ue.T=E}}Zi=1,eR(),tR(),nR()}}function eR(){if(Zi===1){Zi=0;var o=Ju,f=i0,g=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||g){g=ue.T,ue.T=null;var E=me.p;me.p=2;var O=Zn;Zn|=4;try{D8(f,o);var k=N_,Y=ne(o.containerInfo),le=k.focusedElem,Ae=k.selectionRange;if(Y!==le&&le&&le.ownerDocument&&W(le.ownerDocument.documentElement,le)){if(Ae!==null&&ae(le)){var He=Ae.start,et=Ae.end;if(et===void 0&&(et=He),"selectionStart"in le)le.selectionStart=He,le.selectionEnd=Math.min(et,le.value.length);else{var at=le.ownerDocument||document,qe=at&&at.defaultView||window;if(qe.getSelection){var Xe=qe.getSelection(),Ft=le.textContent.length,en=Math.min(Ae.start,Ft),yr=Ae.end===void 0?en:Math.min(Ae.end,Ft);!Xe.extend&&en>yr&&(Y=yr,yr=en,en=Y);var Oe=L(le,en),Ie=L(le,yr);if(Oe&&Ie&&(Xe.rangeCount!==1||Xe.anchorNode!==Oe.node||Xe.anchorOffset!==Oe.offset||Xe.focusNode!==Ie.node||Xe.focusOffset!==Ie.offset)){var Ue=at.createRange();Ue.setStart(Oe.node,Oe.offset),Xe.removeAllRanges(),en>yr?(Xe.addRange(Ue),Xe.extend(Ie.node,Ie.offset)):(Ue.setEnd(Ie.node,Ie.offset),Xe.addRange(Ue))}}}}for(at=[],Xe=le;Xe=Xe.parentNode;)Xe.nodeType===1&&at.push({element:Xe,left:Xe.scrollLeft,top:Xe.scrollTop});for(typeof le.focus=="function"&&le.focus(),le=0;le<at.length;le++){var rt=at[le];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}sy=!!I_,N_=I_=null}finally{Zn=O,me.p=E,ue.T=g}}o.current=f,Zi=2}}function tR(){if(Zi===2){Zi=0;var o=Ju,f=i0,g=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||g){g=ue.T,ue.T=null;var E=me.p;me.p=2;var O=Zn;Zn|=4;try{N8(o,f.alternate,f)}finally{Zn=O,me.p=E,ue.T=g}}Zi=3}}function nR(){if(Zi===4||Zi===3){Zi=0,nr();var o=Ju,f=i0,g=Wc,E=V8;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?Zi=5:(Zi=0,i0=Ju=null,rR(o,o.pendingLanes));var O=o.pendingLanes;if(O===0&&(Zu=null),Ci(g),f=f.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(mn,f,void 0,(f.current.flags&128)===128)}catch{}if(E!==null){f=ue.T,O=me.p,me.p=2,ue.T=null;try{for(var k=o.onRecoverableError,Y=0;Y<E.length;Y++){var le=E[Y];k(le.value,{componentStack:le.stack})}}finally{ue.T=f,me.p=O}}(Wc&3)!==0&&$x(),zl(o),O=o.pendingLanes,(g&261930)!==0&&(O&42)!==0?o===m_?wm++:(wm=0,m_=o):wm=0,Em(0)}}function rR(o,f){(o.pooledCacheLanes&=f)===0&&(f=o.pooledCache,f!=null&&(o.pooledCache=null,nm(f)))}function $x(){return eR(),tR(),nR(),iR()}function iR(){if(Zi!==5)return!1;var o=Ju,f=h_;h_=0;var g=Ci(Wc),E=ue.T,O=me.p;try{me.p=32>g?32:g,ue.T=null,g=p_,p_=null;var k=Ju,Y=Wc;if(Zi=0,i0=Ju=null,Wc=0,(Zn&6)!==0)throw Error(r(331));var le=Zn;if(Zn|=4,B8(k.current),j8(k,k.current,Y,g),Zn=le,Em(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(mn,k)}catch{}return!0}finally{me.p=O,ue.T=E,rR(o,f)}}function aR(o,f,g){f=Mo(g,f),f=YE(o.stateNode,f,2),o=qu(o,f,2),o!==null&&(Ha(o,2),zl(o))}function lr(o,f,g){if(o.tag===3)aR(o,o,g);else for(;f!==null;){if(f.tag===3){aR(f,o,g);break}else if(f.tag===1){var E=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Zu===null||!Zu.has(E))){o=Mo(g,o),g=s8(2),E=qu(f,g,2),E!==null&&(o8(g,E,f,o),Ha(E,2),zl(E));break}}f=f.return}}function y_(o,f,g){var E=o.pingCache;if(E===null){E=o.pingCache=new IQ;var O=new Set;E.set(f,O)}else O=E.get(f),O===void 0&&(O=new Set,E.set(f,O));O.has(g)||(u_=!0,O.add(g),o=kQ.bind(null,o,f,g),f.then(o,o))}function kQ(o,f,g){var E=o.pingCache;E!==null&&E.delete(f),o.pingedLanes|=o.suspendedLanes&g,o.warmLanes&=~g,Cr===o&&(Pn&g)===g&&(gi===4||gi===3&&(Pn&62914560)===Pn&&300>Kt()-Vx?(Zn&2)===0&&a0(o,0):f_|=g,r0===Pn&&(r0=0)),zl(o)}function sR(o,f){f===0&&(f=Dr()),o=pd(o,f),o!==null&&(Ha(o,f),zl(o))}function DQ(o){var f=o.memoizedState,g=0;f!==null&&(g=f.retryLane),sR(o,g)}function PQ(o,f){var g=0;switch(o.tag){case 31:case 13:var E=o.stateNode,O=o.memoizedState;O!==null&&(g=O.retryLane);break;case 19:E=o.stateNode;break;case 22:E=o.stateNode._retryCache;break;default:throw Error(r(314))}E!==null&&E.delete(f),sR(o,g)}function jQ(o,f){return bt(o,f)}var Kx=null,o0=null,v_=!1,Xx=!1,b_=!1,tf=0;function zl(o){o!==o0&&o.next===null&&(o0===null?Kx=o0=o:o0=o0.next=o),Xx=!0,v_||(v_=!0,FQ())}function Em(o,f){if(!b_&&Xx){b_=!0;do for(var g=!1,E=Kx;E!==null;){if(o!==0){var O=E.pendingLanes;if(O===0)var k=0;else{var Y=E.suspendedLanes,le=E.pingedLanes;k=(1<<31-Ht(42|o)+1)-1,k&=O&~(Y&~le),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(g=!0,uR(E,k))}else k=Pn,k=sa(E,E===Cr?k:0,E.cancelPendingCommit!==null||E.timeoutHandle!==-1),(k&3)===0||_r(E,k)||(g=!0,uR(E,k));E=E.next}while(g);b_=!1}}function LQ(){oR()}function oR(){Xx=v_=!1;var o=0;tf!==0&&$Q()&&(o=tf);for(var f=Kt(),g=null,E=Kx;E!==null;){var O=E.next,k=lR(E,f);k===0?(E.next=null,g===null?Kx=O:g.next=O,O===null&&(o0=g)):(g=E,(o!==0||(k&3)!==0)&&(Xx=!0)),E=O}Zi!==0&&Zi!==5||Em(o),tf!==0&&(tf=0)}function lR(o,f){for(var g=o.suspendedLanes,E=o.pingedLanes,O=o.expirationTimes,k=o.pendingLanes&-62914561;0<k;){var Y=31-Ht(k),le=1<<Y,Ae=O[Y];Ae===-1?((le&g)===0||(le&E)!==0)&&(O[Y]=qs(le,f)):Ae<=f&&(o.expiredLanes|=le),k&=~le}if(f=Cr,g=Pn,g=sa(o,o===f?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),E=o.callbackNode,g===0||o===f&&(or===2||or===9)||o.cancelPendingCommit!==null)return E!==null&&E!==null&&mt(E),o.callbackNode=null,o.callbackPriority=0;if((g&3)===0||_r(o,g)){if(f=g&-g,f===o.callbackPriority)return f;switch(E!==null&&mt(E),Ci(g)){case 2:case 8:g=yt;break;case 32:g=Rt;break;case 268435456:g=In;break;default:g=Rt}return E=cR.bind(null,o),g=bt(g,E),o.callbackPriority=f,o.callbackNode=g,f}return E!==null&&E!==null&&mt(E),o.callbackPriority=2,o.callbackNode=null,2}function cR(o,f){if(Zi!==0&&Zi!==5)return o.callbackNode=null,o.callbackPriority=0,null;var g=o.callbackNode;if($x()&&o.callbackNode!==g)return null;var E=Pn;return E=sa(o,o===Cr?E:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),E===0?null:(W8(o,E,f),lR(o,Kt()),o.callbackNode!=null&&o.callbackNode===g?cR.bind(null,o):null)}function uR(o,f){if($x())return null;W8(o,f,!0)}function FQ(){XQ(function(){(Zn&6)!==0?bt(ye,LQ):oR()})}function w_(){if(tf===0){var o=qh;o===0&&(o=hi,hi<<=1,(hi&261888)===0&&(hi=256)),tf=o}return tf}function fR(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Dl(""+o)}function dR(o,f){var g=f.ownerDocument.createElement("input");return g.name=f.name,g.value=f.value,o.id&&g.setAttribute("form",o.id),f.parentNode.insertBefore(g,f),o=new FormData(o),g.parentNode.removeChild(g),o}function BQ(o,f,g,E,O){if(f==="submit"&&g&&g.stateNode===O){var k=fR((O[ge]||null).action),Y=E.submitter;Y&&(f=(f=Y[ge]||null)?fR(f.formAction):Y.getAttribute("formAction"),f!==null&&(k=f,Y=null));var le=new jr("action","action",null,E,O);o.push({event:le,listeners:[{instance:null,listener:function(){if(E.defaultPrevented){if(tf!==0){var Ae=Y?dR(O,Y):new FormData(O);zE(g,{pending:!0,data:Ae,method:O.method,action:k},null,Ae)}}else typeof k=="function"&&(le.preventDefault(),Ae=Y?dR(O,Y):new FormData(O),zE(g,{pending:!0,data:Ae,method:O.method,action:k},k,Ae))},currentTarget:O}]})}}for(var E_=0;E_<Jp.length;E_++){var __=Jp[E_],UQ=__.toLowerCase(),zQ=__[0].toUpperCase()+__.slice(1);sl(UQ,"on"+zQ)}sl(Ns,"onAnimationEnd"),sl(Sa,"onAnimationIteration"),sl(ar,"onAnimationStart"),sl("dblclick","onDoubleClick"),sl("focusin","onFocus"),sl("focusout","onBlur"),sl(Qi,"onTransitionRun"),sl(ds,"onTransitionStart"),sl(Bu,"onTransitionCancel"),sl(Oc,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _m="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VQ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_m));function hR(o,f){f=(f&4)!==0;for(var g=0;g<o.length;g++){var E=o[g],O=E.event;E=E.listeners;e:{var k=void 0;if(f)for(var Y=E.length-1;0<=Y;Y--){var le=E[Y],Ae=le.instance,He=le.currentTarget;if(le=le.listener,Ae!==k&&O.isPropagationStopped())break e;k=le,O.currentTarget=He;try{k(O)}catch(et){fx(et)}O.currentTarget=null,k=Ae}else for(Y=0;Y<E.length;Y++){if(le=E[Y],Ae=le.instance,He=le.currentTarget,le=le.listener,Ae!==k&&O.isPropagationStopped())break e;k=le,O.currentTarget=He;try{k(O)}catch(et){fx(et)}O.currentTarget=null,k=Ae}}}}function Mn(o,f){var g=f[Le];g===void 0&&(g=f[Le]=new Set);var E=o+"__bubble";g.has(E)||(pR(f,o,2,!1),g.add(E))}function A_(o,f,g){var E=0;f&&(E|=4),pR(g,o,E,f)}var Qx="_reactListening"+Math.random().toString(36).slice(2);function S_(o){if(!o[Qx]){o[Qx]=!0,Qe.forEach(function(g){g!=="selectionchange"&&(VQ.has(g)||A_(g,!1,o),A_(g,!0,o))});var f=o.nodeType===9?o:o.ownerDocument;f===null||f[Qx]||(f[Qx]=!0,A_("selectionchange",!1,f))}}function pR(o,f,g,E){switch(HR(f)){case 2:var O=gZ;break;case 8:O=xZ;break;default:O=U_}g=O.bind(null,f,g,o),O=void 0,!wc||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(O=!0),E?O!==void 0?o.addEventListener(f,g,{capture:!0,passive:O}):o.addEventListener(f,g,!0):O!==void 0?o.addEventListener(f,g,{passive:O}):o.addEventListener(f,g,!1)}function T_(o,f,g,E,O){var k=E;if((f&1)===0&&(f&2)===0&&E!==null)e:for(;;){if(E===null)return;var Y=E.tag;if(Y===3||Y===4){var le=E.stateNode.containerInfo;if(le===O)break;if(Y===4)for(Y=E.return;Y!==null;){var Ae=Y.tag;if((Ae===3||Ae===4)&&Y.stateNode.containerInfo===O)return;Y=Y.return}for(;le!==null;){if(Y=dt(le),Y===null)return;if(Ae=Y.tag,Ae===5||Ae===6||Ae===26||Ae===27){E=k=Y;continue e}le=le.parentNode}}E=E.return}Pl(function(){var He=k,et=Ts(g),at=[];e:{var qe=ux.get(o);if(qe!==void 0){var Xe=jr,Ft=o;switch(o){case"keypress":if(Xs(g)===0)break e;case"keydown":case"keyup":Xe=Tc;break;case"focusin":Ft="focus",Xe=Ac;break;case"focusout":Ft="blur",Xe=Ac;break;case"beforeblur":case"afterblur":Xe=Ac;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=_c;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=z;break;case Ns:case Sa:case ar:Xe=dn;break;case Oc:Xe=he;break;case"scroll":case"scrollend":Xe=Du;break;case"wheel":Xe=Ke;break;case"copy":case"cut":case"paste":Xe=Sc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=Nn;break;case"toggle":case"beforetoggle":Xe=on}var en=(f&4)!==0,yr=!en&&(o==="scroll"||o==="scrollend"),Oe=en?qe!==null?qe+"Capture":null:qe;en=[];for(var Ie=He,Ue;Ie!==null;){var rt=Ie;if(Ue=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||Ue===null||Oe===null||(rt=Qt(Ie,Oe),rt!=null&&en.push(Am(Ie,rt,Ue))),yr)break;Ie=Ie.return}0<en.length&&(qe=new Xe(qe,Ft,null,g,et),at.push({event:qe,listeners:en}))}}if((f&7)===0){e:{if(qe=o==="mouseover"||o==="pointerover",Xe=o==="mouseout"||o==="pointerout",qe&&g!==bc&&(Ft=g.relatedTarget||g.fromElement)&&(dt(Ft)||Ft[we]))break e;if((Xe||qe)&&(qe=et.window===et?et:(qe=et.ownerDocument)?qe.defaultView||qe.parentWindow:window,Xe?(Ft=g.relatedTarget||g.toElement,Xe=He,Ft=Ft?dt(Ft):null,Ft!==null&&(yr=a(Ft),en=Ft.tag,Ft!==yr||en!==5&&en!==27&&en!==6)&&(Ft=null)):(Xe=null,Ft=He),Xe!==Ft)){if(en=Hn,rt="onMouseLeave",Oe="onMouseEnter",Ie="mouse",(o==="pointerout"||o==="pointerover")&&(en=Nn,rt="onPointerLeave",Oe="onPointerEnter",Ie="pointer"),yr=Xe==null?qe:pt(Xe),Ue=Ft==null?qe:pt(Ft),qe=new en(rt,Ie+"leave",Xe,g,et),qe.target=yr,qe.relatedTarget=Ue,rt=null,dt(et)===He&&(en=new en(Oe,Ie+"enter",Ft,g,et),en.target=Ue,en.relatedTarget=yr,rt=en),yr=rt,Xe&&Ft)t:{for(en=HQ,Oe=Xe,Ie=Ft,Ue=0,rt=Oe;rt;rt=en(rt))Ue++;rt=0;for(var Yt=Ie;Yt;Yt=en(Yt))rt++;for(;0<Ue-rt;)Oe=en(Oe),Ue--;for(;0<rt-Ue;)Ie=en(Ie),rt--;for(;Ue--;){if(Oe===Ie||Ie!==null&&Oe===Ie.alternate){en=Oe;break t}Oe=en(Oe),Ie=en(Ie)}en=null}else en=null;Xe!==null&&mR(at,qe,Xe,en,!1),Ft!==null&&yr!==null&&mR(at,yr,Ft,en,!0)}}e:{if(qe=He?pt(He):window,Xe=qe.nodeName&&qe.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&qe.type==="file")var Yn=Js;else if(Zp(qe))if(cx)Yn=v;else{Yn=h;var Vt=l}else Xe=qe.nodeName,!Xe||Xe.toLowerCase()!=="input"||qe.type!=="checkbox"&&qe.type!=="radio"?He&&rr(He.elementType)&&(Yn=Js):Yn=m;if(Yn&&(Yn=Yn(o,He))){Zs(at,Yn,g,et);break e}Vt&&Vt(o,qe,He),o==="focusout"&&He&&qe.type==="number"&&He.memoizedProps.value!=null&&xe(qe,"number",qe.value)}switch(Vt=He?pt(He):window,o){case"focusin":(Zp(Vt)||Vt.contentEditable==="true")&&(Se=Vt,Te=He,De=null);break;case"focusout":De=Te=Se=null;break;case"mousedown":$e=!0;break;case"contextmenu":case"mouseup":case"dragend":$e=!1,vt(at,g,et);break;case"selectionchange":if(ve)break;case"keydown":case"keyup":vt(at,g,et)}var En;if(zn)e:{switch(o){case"compositionstart":var jn="onCompositionStart";break e;case"compositionend":jn="onCompositionEnd";break e;case"compositionupdate":jn="onCompositionUpdate";break e}jn=void 0}else Fu?Cc(o,g)&&(jn="onCompositionEnd"):o==="keydown"&&g.keyCode===229&&(jn="onCompositionStart");jn&&(Io&&g.locale!=="ko"&&(Fu||jn!=="onCompositionStart"?jn==="onCompositionEnd"&&Fu&&(En=rl()):($s=et,Ks="value"in $s?$s.value:$s.textContent,Fu=!0)),Vt=Zx(He,jn),0<Vt.length&&(jn=new So(jn,o,null,g,et),at.push({event:jn,listeners:Vt}),En?jn.data=En:(En=No(g),En!==null&&(jn.data=En)))),(En=us?Ll(o,g):Bh(o,g))&&(jn=Zx(He,"onBeforeInput"),0<jn.length&&(Vt=new So("onBeforeInput","beforeinput",null,g,et),at.push({event:Vt,listeners:jn}),Vt.data=En)),BQ(at,o,He,g,et)}hR(at,f)})}function Am(o,f,g){return{instance:o,listener:f,currentTarget:g}}function Zx(o,f){for(var g=f+"Capture",E=[];o!==null;){var O=o,k=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||k===null||(O=Qt(o,g),O!=null&&E.unshift(Am(o,O,k)),O=Qt(o,f),O!=null&&E.push(Am(o,O,k))),o.tag===3)return E;o=o.return}return[]}function HQ(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function mR(o,f,g,E,O){for(var k=f._reactName,Y=[];g!==null&&g!==E;){var le=g,Ae=le.alternate,He=le.stateNode;if(le=le.tag,Ae!==null&&Ae===E)break;le!==5&&le!==26&&le!==27||He===null||(Ae=He,O?(He=Qt(g,k),He!=null&&Y.unshift(Am(g,He,Ae))):O||(He=Qt(g,k),He!=null&&Y.push(Am(g,He,Ae)))),g=g.return}Y.length!==0&&o.push({event:f,listeners:Y})}var WQ=/\r\n?/g,GQ=/\u0000|\uFFFD/g;function gR(o){return(typeof o=="string"?o:""+o).replace(WQ,`
`).replace(GQ,"")}function xR(o,f){return f=gR(f),gR(o)===f}function xr(o,f,g,E,O,k){switch(g){case"children":typeof E=="string"?f==="body"||f==="textarea"&&E===""||Ga(o,E):(typeof E=="number"||typeof E=="bigint")&&f!=="body"&&Ga(o,""+E);break;case"className":_a(o,"class",E);break;case"tabIndex":_a(o,"tabindex",E);break;case"dir":case"role":case"viewBox":case"width":case"height":_a(o,g,E);break;case"style":Wt(o,E,k);break;case"data":if(f!=="object"){_a(o,"data",E);break}case"src":case"href":if(E===""&&(f!=="a"||g!=="href")){o.removeAttribute(g);break}if(E==null||typeof E=="function"||typeof E=="symbol"||typeof E=="boolean"){o.removeAttribute(g);break}E=Dl(""+E),o.setAttribute(g,E);break;case"action":case"formAction":if(typeof E=="function"){o.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(g==="formAction"?(f!=="input"&&xr(o,f,"name",O.name,O,null),xr(o,f,"formEncType",O.formEncType,O,null),xr(o,f,"formMethod",O.formMethod,O,null),xr(o,f,"formTarget",O.formTarget,O,null)):(xr(o,f,"encType",O.encType,O,null),xr(o,f,"method",O.method,O,null),xr(o,f,"target",O.target,O,null)));if(E==null||typeof E=="symbol"||typeof E=="boolean"){o.removeAttribute(g);break}E=Dl(""+E),o.setAttribute(g,E);break;case"onClick":E!=null&&(o.onclick=qa);break;case"onScroll":E!=null&&Mn("scroll",o);break;case"onScrollEnd":E!=null&&Mn("scrollend",o);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(r(61));if(g=E.__html,g!=null){if(O.children!=null)throw Error(r(60));o.innerHTML=g}}break;case"multiple":o.multiple=E&&typeof E!="function"&&typeof E!="symbol";break;case"muted":o.muted=E&&typeof E!="function"&&typeof E!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(E==null||typeof E=="function"||typeof E=="boolean"||typeof E=="symbol"){o.removeAttribute("xlink:href");break}g=Dl(""+E),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":E!=null&&typeof E!="function"&&typeof E!="symbol"?o.setAttribute(g,""+E):o.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":E&&typeof E!="function"&&typeof E!="symbol"?o.setAttribute(g,""):o.removeAttribute(g);break;case"capture":case"download":E===!0?o.setAttribute(g,""):E!==!1&&E!=null&&typeof E!="function"&&typeof E!="symbol"?o.setAttribute(g,E):o.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":E!=null&&typeof E!="function"&&typeof E!="symbol"&&!isNaN(E)&&1<=E?o.setAttribute(g,E):o.removeAttribute(g);break;case"rowSpan":case"start":E==null||typeof E=="function"||typeof E=="symbol"||isNaN(E)?o.removeAttribute(g):o.setAttribute(g,E);break;case"popover":Mn("beforetoggle",o),Mn("toggle",o),ji(o,"popover",E);break;case"xlinkActuate":qr(o,"http://www.w3.org/1999/xlink","xlink:actuate",E);break;case"xlinkArcrole":qr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",E);break;case"xlinkRole":qr(o,"http://www.w3.org/1999/xlink","xlink:role",E);break;case"xlinkShow":qr(o,"http://www.w3.org/1999/xlink","xlink:show",E);break;case"xlinkTitle":qr(o,"http://www.w3.org/1999/xlink","xlink:title",E);break;case"xlinkType":qr(o,"http://www.w3.org/1999/xlink","xlink:type",E);break;case"xmlBase":qr(o,"http://www.w3.org/XML/1998/namespace","xml:base",E);break;case"xmlLang":qr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",E);break;case"xmlSpace":qr(o,"http://www.w3.org/XML/1998/namespace","xml:space",E);break;case"is":ji(o,"is",E);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=ld.get(g)||g,ji(o,g,E))}}function C_(o,f,g,E,O,k){switch(g){case"style":Wt(o,E,k);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(r(61));if(g=E.__html,g!=null){if(O.children!=null)throw Error(r(60));o.innerHTML=g}}break;case"children":typeof E=="string"?Ga(o,E):(typeof E=="number"||typeof E=="bigint")&&Ga(o,""+E);break;case"onScroll":E!=null&&Mn("scroll",o);break;case"onScrollEnd":E!=null&&Mn("scrollend",o);break;case"onClick":E!=null&&(o.onclick=qa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qn.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(O=g.endsWith("Capture"),f=g.slice(2,O?g.length-7:void 0),k=o[ge]||null,k=k!=null?k[g]:null,typeof k=="function"&&o.removeEventListener(f,k,O),typeof E=="function")){typeof k!="function"&&k!==null&&(g in o?o[g]=null:o.hasAttribute(g)&&o.removeAttribute(g)),o.addEventListener(f,E,O);break e}g in o?o[g]=E:E===!0?o.setAttribute(g,""):ji(o,g,E)}}}function Na(o,f,g){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mn("error",o),Mn("load",o);var E=!1,O=!1,k;for(k in g)if(g.hasOwnProperty(k)){var Y=g[k];if(Y!=null)switch(k){case"src":E=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:xr(o,f,k,Y,g,null)}}O&&xr(o,f,"srcSet",g.srcSet,g,null),E&&xr(o,f,"src",g.src,g,null);return;case"input":Mn("invalid",o);var le=k=Y=O=null,Ae=null,He=null;for(E in g)if(g.hasOwnProperty(E)){var et=g[E];if(et!=null)switch(E){case"name":O=et;break;case"type":Y=et;break;case"checked":Ae=et;break;case"defaultChecked":He=et;break;case"value":k=et;break;case"defaultValue":le=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(r(137,f));break;default:xr(o,f,E,et,g,null)}}je(o,k,le,Ae,He,Y,O,!1);return;case"select":Mn("invalid",o),E=Y=k=null;for(O in g)if(g.hasOwnProperty(O)&&(le=g[O],le!=null))switch(O){case"value":k=le;break;case"defaultValue":Y=le;break;case"multiple":E=le;default:xr(o,f,O,le,g,null)}f=k,g=Y,o.multiple=!!E,f!=null?Lt(o,!!E,f,!1):g!=null&&Lt(o,!!E,g,!0);return;case"textarea":Mn("invalid",o),k=O=E=null;for(Y in g)if(g.hasOwnProperty(Y)&&(le=g[Y],le!=null))switch(Y){case"value":E=le;break;case"defaultValue":O=le;break;case"children":k=le;break;case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(91));break;default:xr(o,f,Y,le,g,null)}Ii(o,E,O,k);return;case"option":for(Ae in g)g.hasOwnProperty(Ae)&&(E=g[Ae],E!=null)&&(Ae==="selected"?o.selected=E&&typeof E!="function"&&typeof E!="symbol":xr(o,f,Ae,E,g,null));return;case"dialog":Mn("beforetoggle",o),Mn("toggle",o),Mn("cancel",o),Mn("close",o);break;case"iframe":case"object":Mn("load",o);break;case"video":case"audio":for(E=0;E<_m.length;E++)Mn(_m[E],o);break;case"image":Mn("error",o),Mn("load",o);break;case"details":Mn("toggle",o);break;case"embed":case"source":case"link":Mn("error",o),Mn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(He in g)if(g.hasOwnProperty(He)&&(E=g[He],E!=null))switch(He){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:xr(o,f,He,E,g,null)}return;default:if(rr(f)){for(et in g)g.hasOwnProperty(et)&&(E=g[et],E!==void 0&&C_(o,f,et,E,g,void 0));return}}for(le in g)g.hasOwnProperty(le)&&(E=g[le],E!=null&&xr(o,f,le,E,g,null))}function qQ(o,f,g,E){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,k=null,Y=null,le=null,Ae=null,He=null,et=null;for(Xe in g){var at=g[Xe];if(g.hasOwnProperty(Xe)&&at!=null)switch(Xe){case"checked":break;case"value":break;case"defaultValue":Ae=at;default:E.hasOwnProperty(Xe)||xr(o,f,Xe,null,E,at)}}for(var qe in E){var Xe=E[qe];if(at=g[qe],E.hasOwnProperty(qe)&&(Xe!=null||at!=null))switch(qe){case"type":k=Xe;break;case"name":O=Xe;break;case"checked":He=Xe;break;case"defaultChecked":et=Xe;break;case"value":Y=Xe;break;case"defaultValue":le=Xe;break;case"children":case"dangerouslySetInnerHTML":if(Xe!=null)throw Error(r(137,f));break;default:Xe!==at&&xr(o,f,qe,Xe,E,at)}}ii(o,Y,le,Ae,He,et,k,O);return;case"select":Xe=Y=le=qe=null;for(k in g)if(Ae=g[k],g.hasOwnProperty(k)&&Ae!=null)switch(k){case"value":break;case"multiple":Xe=Ae;default:E.hasOwnProperty(k)||xr(o,f,k,null,E,Ae)}for(O in E)if(k=E[O],Ae=g[O],E.hasOwnProperty(O)&&(k!=null||Ae!=null))switch(O){case"value":qe=k;break;case"defaultValue":le=k;break;case"multiple":Y=k;default:k!==Ae&&xr(o,f,O,k,E,Ae)}f=le,g=Y,E=Xe,qe!=null?Lt(o,!!g,qe,!1):!!E!=!!g&&(f!=null?Lt(o,!!g,f,!0):Lt(o,!!g,g?[]:"",!1));return;case"textarea":Xe=qe=null;for(le in g)if(O=g[le],g.hasOwnProperty(le)&&O!=null&&!E.hasOwnProperty(le))switch(le){case"value":break;case"children":break;default:xr(o,f,le,null,E,O)}for(Y in E)if(O=E[Y],k=g[Y],E.hasOwnProperty(Y)&&(O!=null||k!=null))switch(Y){case"value":qe=O;break;case"defaultValue":Xe=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:O!==k&&xr(o,f,Y,O,E,k)}ai(o,qe,Xe);return;case"option":for(var Ft in g)qe=g[Ft],g.hasOwnProperty(Ft)&&qe!=null&&!E.hasOwnProperty(Ft)&&(Ft==="selected"?o.selected=!1:xr(o,f,Ft,null,E,qe));for(Ae in E)qe=E[Ae],Xe=g[Ae],E.hasOwnProperty(Ae)&&qe!==Xe&&(qe!=null||Xe!=null)&&(Ae==="selected"?o.selected=qe&&typeof qe!="function"&&typeof qe!="symbol":xr(o,f,Ae,qe,E,Xe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var en in g)qe=g[en],g.hasOwnProperty(en)&&qe!=null&&!E.hasOwnProperty(en)&&xr(o,f,en,null,E,qe);for(He in E)if(qe=E[He],Xe=g[He],E.hasOwnProperty(He)&&qe!==Xe&&(qe!=null||Xe!=null))switch(He){case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(r(137,f));break;default:xr(o,f,He,qe,E,Xe)}return;default:if(rr(f)){for(var yr in g)qe=g[yr],g.hasOwnProperty(yr)&&qe!==void 0&&!E.hasOwnProperty(yr)&&C_(o,f,yr,void 0,E,qe);for(et in E)qe=E[et],Xe=g[et],!E.hasOwnProperty(et)||qe===Xe||qe===void 0&&Xe===void 0||C_(o,f,et,qe,E,Xe);return}}for(var Oe in g)qe=g[Oe],g.hasOwnProperty(Oe)&&qe!=null&&!E.hasOwnProperty(Oe)&&xr(o,f,Oe,null,E,qe);for(at in E)qe=E[at],Xe=g[at],!E.hasOwnProperty(at)||qe===Xe||qe==null&&Xe==null||xr(o,f,at,qe,E,Xe)}function yR(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YQ(){if(typeof performance.getEntriesByType=="function"){for(var o=0,f=0,g=performance.getEntriesByType("resource"),E=0;E<g.length;E++){var O=g[E],k=O.transferSize,Y=O.initiatorType,le=O.duration;if(k&&le&&yR(Y)){for(Y=0,le=O.responseEnd,E+=1;E<g.length;E++){var Ae=g[E],He=Ae.startTime;if(He>le)break;var et=Ae.transferSize,at=Ae.initiatorType;et&&yR(at)&&(Ae=Ae.responseEnd,Y+=et*(Ae<le?1:(le-He)/(Ae-He)))}if(--E,f+=8*(k+Y)/(O.duration/1e3),o++,10<o)break}}if(0<o)return f/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var I_=null,N_=null;function Jx(o){return o.nodeType===9?o:o.ownerDocument}function vR(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bR(o,f){if(o===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&f==="foreignObject"?0:o}function O_(o,f){return o==="textarea"||o==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var M_=null;function $Q(){var o=window.event;return o&&o.type==="popstate"?o===M_?!1:(M_=o,!0):(M_=null,!1)}var wR=typeof setTimeout=="function"?setTimeout:void 0,KQ=typeof clearTimeout=="function"?clearTimeout:void 0,ER=typeof Promise=="function"?Promise:void 0,XQ=typeof queueMicrotask=="function"?queueMicrotask:typeof ER<"u"?function(o){return ER.resolve(null).then(o).catch(QQ)}:wR;function QQ(o){setTimeout(function(){throw o})}function nf(o){return o==="head"}function _R(o,f){var g=f,E=0;do{var O=g.nextSibling;if(o.removeChild(g),O&&O.nodeType===8)if(g=O.data,g==="/$"||g==="/&"){if(E===0){o.removeChild(O),f0(f);return}E--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")E++;else if(g==="html")Sm(o.ownerDocument.documentElement);else if(g==="head"){g=o.ownerDocument.head,Sm(g);for(var k=g.firstChild;k;){var Y=k.nextSibling,le=k.nodeName;k[Ve]||le==="SCRIPT"||le==="STYLE"||le==="LINK"&&k.rel.toLowerCase()==="stylesheet"||g.removeChild(k),k=Y}}else g==="body"&&Sm(o.ownerDocument.body);g=O}while(g);f0(f)}function AR(o,f){var g=o;o=0;do{var E=g.nextSibling;if(g.nodeType===1?f?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(f?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),E&&E.nodeType===8)if(g=E.data,g==="/$"){if(o===0)break;o--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||o++;g=E}while(g)}function R_(o){var f=o.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var g=f;switch(f=f.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":R_(g),ot(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}o.removeChild(g)}}function ZQ(o,f,g,E){for(;o.nodeType===1;){var O=g;if(o.nodeName.toLowerCase()!==f.toLowerCase()){if(!E&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(E){if(!o[Ve])switch(f){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(k=o.getAttribute("rel"),k==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(k!==O.rel||o.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||o.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||o.getAttribute("title")!==(O.title==null?null:O.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(k=o.getAttribute("src"),(k!==(O.src==null?null:O.src)||o.getAttribute("type")!==(O.type==null?null:O.type)||o.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&k&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(f==="input"&&o.type==="hidden"){var k=O.name==null?null:""+O.name;if(O.type==="hidden"&&o.getAttribute("name")===k)return o}else return o;if(o=jo(o.nextSibling),o===null)break}return null}function JQ(o,f,g){if(f==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!g||(o=jo(o.nextSibling),o===null))return null;return o}function SR(o,f){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=jo(o.nextSibling),o===null))return null;return o}function k_(o){return o.data==="$?"||o.data==="$~"}function D_(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function eZ(o,f){var g=o.ownerDocument;if(o.data==="$~")o._reactRetry=f;else if(o.data!=="$?"||g.readyState!=="loading")f();else{var E=function(){f(),g.removeEventListener("DOMContentLoaded",E)};g.addEventListener("DOMContentLoaded",E),o._reactRetry=E}}function jo(o){for(;o!=null;o=o.nextSibling){var f=o.nodeType;if(f===1||f===3)break;if(f===8){if(f=o.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return o}var P_=null;function TR(o){o=o.nextSibling;for(var f=0;o;){if(o.nodeType===8){var g=o.data;if(g==="/$"||g==="/&"){if(f===0)return jo(o.nextSibling);f--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||f++}o=o.nextSibling}return null}function CR(o){o=o.previousSibling;for(var f=0;o;){if(o.nodeType===8){var g=o.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(f===0)return o;f--}else g!=="/$"&&g!=="/&"||f++}o=o.previousSibling}return null}function IR(o,f,g){switch(f=Jx(g),o){case"html":if(o=f.documentElement,!o)throw Error(r(452));return o;case"head":if(o=f.head,!o)throw Error(r(453));return o;case"body":if(o=f.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Sm(o){for(var f=o.attributes;f.length;)o.removeAttributeNode(f[0]);ot(o)}var Lo=new Map,NR=new Set;function ey(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Gc=me.d;me.d={f:tZ,r:nZ,D:rZ,C:iZ,L:aZ,m:sZ,X:lZ,S:oZ,M:cZ};function tZ(){var o=Gc.f(),f=Gx();return o||f}function nZ(o){var f=ht(o);f!==null&&f.tag===5&&f.type==="form"?qM(f):Gc.r(o)}var l0=typeof document>"u"?null:document;function OR(o,f,g){var E=l0;if(E&&typeof f=="string"&&f){var O=wn(f);O='link[rel="'+o+'"][href="'+O+'"]',typeof g=="string"&&(O+='[crossorigin="'+g+'"]'),NR.has(O)||(NR.add(O),o={rel:o,crossOrigin:g,href:f},E.querySelector(O)===null&&(f=E.createElement("link"),Na(f,"link",o),kt(f),E.head.appendChild(f)))}}function rZ(o){Gc.D(o),OR("dns-prefetch",o,null)}function iZ(o,f){Gc.C(o,f),OR("preconnect",o,f)}function aZ(o,f,g){Gc.L(o,f,g);var E=l0;if(E&&o&&f){var O='link[rel="preload"][as="'+wn(f)+'"]';f==="image"&&g&&g.imageSrcSet?(O+='[imagesrcset="'+wn(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(O+='[imagesizes="'+wn(g.imageSizes)+'"]')):O+='[href="'+wn(o)+'"]';var k=O;switch(f){case"style":k=c0(o);break;case"script":k=u0(o)}Lo.has(k)||(o=x({rel:"preload",href:f==="image"&&g&&g.imageSrcSet?void 0:o,as:f},g),Lo.set(k,o),E.querySelector(O)!==null||f==="style"&&E.querySelector(Tm(k))||f==="script"&&E.querySelector(Cm(k))||(f=E.createElement("link"),Na(f,"link",o),kt(f),E.head.appendChild(f)))}}function sZ(o,f){Gc.m(o,f);var g=l0;if(g&&o){var E=f&&typeof f.as=="string"?f.as:"script",O='link[rel="modulepreload"][as="'+wn(E)+'"][href="'+wn(o)+'"]',k=O;switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=u0(o)}if(!Lo.has(k)&&(o=x({rel:"modulepreload",href:o},f),Lo.set(k,o),g.querySelector(O)===null)){switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Cm(k)))return}E=g.createElement("link"),Na(E,"link",o),kt(E),g.head.appendChild(E)}}}function oZ(o,f,g){Gc.S(o,f,g);var E=l0;if(E&&o){var O=Et(E).hoistableStyles,k=c0(o);f=f||"default";var Y=O.get(k);if(!Y){var le={loading:0,preload:null};if(Y=E.querySelector(Tm(k)))le.loading=5;else{o=x({rel:"stylesheet",href:o,"data-precedence":f},g),(g=Lo.get(k))&&j_(o,g);var Ae=Y=E.createElement("link");kt(Ae),Na(Ae,"link",o),Ae._p=new Promise(function(He,et){Ae.onload=He,Ae.onerror=et}),Ae.addEventListener("load",function(){le.loading|=1}),Ae.addEventListener("error",function(){le.loading|=2}),le.loading|=4,ty(Y,f,E)}Y={type:"stylesheet",instance:Y,count:1,state:le},O.set(k,Y)}}}function lZ(o,f){Gc.X(o,f);var g=l0;if(g&&o){var E=Et(g).hoistableScripts,O=u0(o),k=E.get(O);k||(k=g.querySelector(Cm(O)),k||(o=x({src:o,async:!0},f),(f=Lo.get(O))&&L_(o,f),k=g.createElement("script"),kt(k),Na(k,"link",o),g.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},E.set(O,k))}}function cZ(o,f){Gc.M(o,f);var g=l0;if(g&&o){var E=Et(g).hoistableScripts,O=u0(o),k=E.get(O);k||(k=g.querySelector(Cm(O)),k||(o=x({src:o,async:!0,type:"module"},f),(f=Lo.get(O))&&L_(o,f),k=g.createElement("script"),kt(k),Na(k,"link",o),g.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},E.set(O,k))}}function MR(o,f,g,E){var O=(O=Ee.current)?ey(O):null;if(!O)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(f=c0(g.href),g=Et(O).hoistableStyles,E=g.get(f),E||(E={type:"style",instance:null,count:0,state:null},g.set(f,E)),E):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){o=c0(g.href);var k=Et(O).hoistableStyles,Y=k.get(o);if(Y||(O=O.ownerDocument||O,Y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(o,Y),(k=O.querySelector(Tm(o)))&&!k._p&&(Y.instance=k,Y.state.loading=5),Lo.has(o)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Lo.set(o,g),k||uZ(O,o,g,Y.state))),f&&E===null)throw Error(r(528,""));return Y}if(f&&E!==null)throw Error(r(529,""));return null;case"script":return f=g.async,g=g.src,typeof g=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=u0(g),g=Et(O).hoistableScripts,E=g.get(f),E||(E={type:"script",instance:null,count:0,state:null},g.set(f,E)),E):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function c0(o){return'href="'+wn(o)+'"'}function Tm(o){return'link[rel="stylesheet"]['+o+"]"}function RR(o){return x({},o,{"data-precedence":o.precedence,precedence:null})}function uZ(o,f,g,E){o.querySelector('link[rel="preload"][as="style"]['+f+"]")?E.loading=1:(f=o.createElement("link"),E.preload=f,f.addEventListener("load",function(){return E.loading|=1}),f.addEventListener("error",function(){return E.loading|=2}),Na(f,"link",g),kt(f),o.head.appendChild(f))}function u0(o){return'[src="'+wn(o)+'"]'}function Cm(o){return"script[async]"+o}function kR(o,f,g){if(f.count++,f.instance===null)switch(f.type){case"style":var E=o.querySelector('style[data-href~="'+wn(g.href)+'"]');if(E)return f.instance=E,kt(E),E;var O=x({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return E=(o.ownerDocument||o).createElement("style"),kt(E),Na(E,"style",O),ty(E,g.precedence,o),f.instance=E;case"stylesheet":O=c0(g.href);var k=o.querySelector(Tm(O));if(k)return f.state.loading|=4,f.instance=k,kt(k),k;E=RR(g),(O=Lo.get(O))&&j_(E,O),k=(o.ownerDocument||o).createElement("link"),kt(k);var Y=k;return Y._p=new Promise(function(le,Ae){Y.onload=le,Y.onerror=Ae}),Na(k,"link",E),f.state.loading|=4,ty(k,g.precedence,o),f.instance=k;case"script":return k=u0(g.src),(O=o.querySelector(Cm(k)))?(f.instance=O,kt(O),O):(E=g,(O=Lo.get(k))&&(E=x({},g),L_(E,O)),o=o.ownerDocument||o,O=o.createElement("script"),kt(O),Na(O,"link",E),o.head.appendChild(O),f.instance=O);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(E=f.instance,f.state.loading|=4,ty(E,g.precedence,o));return f.instance}function ty(o,f,g){for(var E=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=E.length?E[E.length-1]:null,k=O,Y=0;Y<E.length;Y++){var le=E[Y];if(le.dataset.precedence===f)k=le;else if(k!==O)break}k?k.parentNode.insertBefore(o,k.nextSibling):(f=g.nodeType===9?g.head:g,f.insertBefore(o,f.firstChild))}function j_(o,f){o.crossOrigin==null&&(o.crossOrigin=f.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=f.referrerPolicy),o.title==null&&(o.title=f.title)}function L_(o,f){o.crossOrigin==null&&(o.crossOrigin=f.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=f.referrerPolicy),o.integrity==null&&(o.integrity=f.integrity)}var ny=null;function DR(o,f,g){if(ny===null){var E=new Map,O=ny=new Map;O.set(g,E)}else O=ny,E=O.get(g),E||(E=new Map,O.set(g,E));if(E.has(o))return E;for(E.set(o,null),g=g.getElementsByTagName(o),O=0;O<g.length;O++){var k=g[O];if(!(k[Ve]||k[pe]||o==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var Y=k.getAttribute(f)||"";Y=o+Y;var le=E.get(Y);le?le.push(k):E.set(Y,[k])}}return E}function PR(o,f,g){o=o.ownerDocument||o,o.head.insertBefore(g,f==="title"?o.querySelector("head > title"):null)}function fZ(o,f,g){if(g===1||f.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;return f.rel==="stylesheet"?(o=f.disabled,typeof f.precedence=="string"&&o==null):!0;case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function jR(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function dZ(o,f,g,E){if(g.type==="stylesheet"&&(typeof E.media!="string"||matchMedia(E.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var O=c0(E.href),k=f.querySelector(Tm(O));if(k){f=k._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(o.count++,o=ry.bind(o),f.then(o,o)),g.state.loading|=4,g.instance=k,kt(k);return}k=f.ownerDocument||f,E=RR(E),(O=Lo.get(O))&&j_(E,O),k=k.createElement("link"),kt(k);var Y=k;Y._p=new Promise(function(le,Ae){Y.onload=le,Y.onerror=Ae}),Na(k,"link",E),g.instance=k}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(g,f),(f=g.state.preload)&&(g.state.loading&3)===0&&(o.count++,g=ry.bind(o),f.addEventListener("load",g),f.addEventListener("error",g))}}var F_=0;function hZ(o,f){return o.stylesheets&&o.count===0&&ay(o,o.stylesheets),0<o.count||0<o.imgCount?function(g){var E=setTimeout(function(){if(o.stylesheets&&ay(o,o.stylesheets),o.unsuspend){var k=o.unsuspend;o.unsuspend=null,k()}},6e4+f);0<o.imgBytes&&F_===0&&(F_=62500*YQ());var O=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&ay(o,o.stylesheets),o.unsuspend)){var k=o.unsuspend;o.unsuspend=null,k()}},(o.imgBytes>F_?50:800)+f);return o.unsuspend=g,function(){o.unsuspend=null,clearTimeout(E),clearTimeout(O)}}:null}function ry(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ay(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var iy=null;function ay(o,f){o.stylesheets=null,o.unsuspend!==null&&(o.count++,iy=new Map,f.forEach(pZ,o),iy=null,ry.call(o))}function pZ(o,f){if(!(f.state.loading&4)){var g=iy.get(o);if(g)var E=g.get(null);else{g=new Map,iy.set(o,g);for(var O=o.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<O.length;k++){var Y=O[k];(Y.nodeName==="LINK"||Y.getAttribute("media")!=="not all")&&(g.set(Y.dataset.precedence,Y),E=Y)}E&&g.set(null,E)}O=f.instance,Y=O.getAttribute("data-precedence"),k=g.get(Y)||E,k===E&&g.set(null,O),g.set(Y,O),this.count++,E=ry.bind(this),O.addEventListener("load",E),O.addEventListener("error",E),k?k.parentNode.insertBefore(O,k.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(O,o.firstChild)),f.state.loading|=4}}var Im={$$typeof:P,Provider:null,Consumer:null,_currentValue:Re,_currentValue2:Re,_threadCount:0};function mZ(o,f,g,E,O,k,Y,le,Ae){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=E,this.onUncaughtError=O,this.onCaughtError=k,this.onRecoverableError=Y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ae,this.incompleteTransitions=new Map}function LR(o,f,g,E,O,k,Y,le,Ae,He,et,at){return o=new mZ(o,f,g,Y,Ae,He,et,at,le),f=1,k===!0&&(f|=24),k=eo(3,null,null,f),o.current=k,k.stateNode=o,f=xE(),f.refCount++,o.pooledCache=f,f.refCount++,k.memoizedState={element:E,isDehydrated:g,cache:f},wE(k),o}function FR(o){return o?(o=zh,o):zh}function BR(o,f,g,E,O,k){O=FR(O),E.context===null?E.context=O:E.pendingContext=O,E=Gu(f),E.payload={element:g},k=k===void 0?null:k,k!==null&&(E.callback=k),g=qu(o,E,f),g!==null&&(Ds(g,o,f),sm(g,o,f))}function UR(o,f){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var g=o.retryLane;o.retryLane=g!==0&&g<f?g:f}}function B_(o,f){UR(o,f),(o=o.alternate)&&UR(o,f)}function zR(o){if(o.tag===13||o.tag===31){var f=pd(o,67108864);f!==null&&Ds(f,o,67108864),B_(o,67108864)}}function VR(o){if(o.tag===13||o.tag===31){var f=ao();f=Pr(f);var g=pd(o,f);g!==null&&Ds(g,o,f),B_(o,f)}}var sy=!0;function gZ(o,f,g,E){var O=ue.T;ue.T=null;var k=me.p;try{me.p=2,U_(o,f,g,E)}finally{me.p=k,ue.T=O}}function xZ(o,f,g,E){var O=ue.T;ue.T=null;var k=me.p;try{me.p=8,U_(o,f,g,E)}finally{me.p=k,ue.T=O}}function U_(o,f,g,E){if(sy){var O=z_(E);if(O===null)T_(o,f,E,oy,g),WR(o,E);else if(vZ(O,o,f,g,E))E.stopPropagation();else if(WR(o,E),f&4&&-1<yZ.indexOf(o)){for(;O!==null;){var k=ht(O);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var Y=kr(k.pendingLanes);if(Y!==0){var le=k;for(le.pendingLanes|=2,le.entangledLanes|=2;Y;){var Ae=1<<31-Ht(Y);le.entanglements[1]|=Ae,Y&=~Ae}zl(k),(Zn&6)===0&&(Hx=Kt()+500,Em(0))}}break;case 31:case 13:le=pd(k,2),le!==null&&Ds(le,k,2),Gx(),B_(k,2)}if(k=z_(E),k===null&&T_(o,f,E,oy,g),k===O)break;O=k}O!==null&&E.stopPropagation()}else T_(o,f,E,null,g)}}function z_(o){return o=Ts(o),V_(o)}var oy=null;function V_(o){if(oy=null,o=dt(o),o!==null){var f=a(o);if(f===null)o=null;else{var g=f.tag;if(g===13){if(o=s(f),o!==null)return o;o=null}else if(g===31){if(o=c(f),o!==null)return o;o=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;o=null}else f!==o&&(o=null)}}return oy=o,null}function HR(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rr()){case ye:return 2;case yt:return 8;case Rt:case Xt:return 32;case In:return 268435456;default:return 32}default:return 32}}var H_=!1,rf=null,af=null,sf=null,Nm=new Map,Om=new Map,of=[],yZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function WR(o,f){switch(o){case"focusin":case"focusout":rf=null;break;case"dragenter":case"dragleave":af=null;break;case"mouseover":case"mouseout":sf=null;break;case"pointerover":case"pointerout":Nm.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Om.delete(f.pointerId)}}function Mm(o,f,g,E,O,k){return o===null||o.nativeEvent!==k?(o={blockedOn:f,domEventName:g,eventSystemFlags:E,nativeEvent:k,targetContainers:[O]},f!==null&&(f=ht(f),f!==null&&zR(f)),o):(o.eventSystemFlags|=E,f=o.targetContainers,O!==null&&f.indexOf(O)===-1&&f.push(O),o)}function vZ(o,f,g,E,O){switch(f){case"focusin":return rf=Mm(rf,o,f,g,E,O),!0;case"dragenter":return af=Mm(af,o,f,g,E,O),!0;case"mouseover":return sf=Mm(sf,o,f,g,E,O),!0;case"pointerover":var k=O.pointerId;return Nm.set(k,Mm(Nm.get(k)||null,o,f,g,E,O)),!0;case"gotpointercapture":return k=O.pointerId,Om.set(k,Mm(Om.get(k)||null,o,f,g,E,O)),!0}return!1}function GR(o){var f=dt(o.target);if(f!==null){var g=a(f);if(g!==null){if(f=g.tag,f===13){if(f=s(g),f!==null){o.blockedOn=f,ce(o.priority,function(){VR(g)});return}}else if(f===31){if(f=c(g),f!==null){o.blockedOn=f,ce(o.priority,function(){VR(g)});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){o.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ly(o){if(o.blockedOn!==null)return!1;for(var f=o.targetContainers;0<f.length;){var g=z_(o.nativeEvent);if(g===null){g=o.nativeEvent;var E=new g.constructor(g.type,g);bc=E,g.target.dispatchEvent(E),bc=null}else return f=ht(g),f!==null&&zR(f),o.blockedOn=g,!1;f.shift()}return!0}function qR(o,f,g){ly(o)&&g.delete(f)}function bZ(){H_=!1,rf!==null&&ly(rf)&&(rf=null),af!==null&&ly(af)&&(af=null),sf!==null&&ly(sf)&&(sf=null),Nm.forEach(qR),Om.forEach(qR)}function cy(o,f){o.blockedOn===f&&(o.blockedOn=null,H_||(H_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bZ)))}var uy=null;function YR(o){uy!==o&&(uy=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){uy===o&&(uy=null);for(var f=0;f<o.length;f+=3){var g=o[f],E=o[f+1],O=o[f+2];if(typeof E!="function"){if(V_(E||g)===null)continue;break}var k=ht(g);k!==null&&(o.splice(f,3),f-=3,zE(k,{pending:!0,data:O,method:g.method,action:E},E,O))}}))}function f0(o){function f(Ae){return cy(Ae,o)}rf!==null&&cy(rf,o),af!==null&&cy(af,o),sf!==null&&cy(sf,o),Nm.forEach(f),Om.forEach(f);for(var g=0;g<of.length;g++){var E=of[g];E.blockedOn===o&&(E.blockedOn=null)}for(;0<of.length&&(g=of[0],g.blockedOn===null);)GR(g),g.blockedOn===null&&of.shift();if(g=(o.ownerDocument||o).$$reactFormReplay,g!=null)for(E=0;E<g.length;E+=3){var O=g[E],k=g[E+1],Y=O[ge]||null;if(typeof k=="function")Y||YR(g);else if(Y){var le=null;if(k&&k.hasAttribute("formAction")){if(O=k,Y=k[ge]||null)le=Y.formAction;else if(V_(O)!==null)continue}else le=Y.action;typeof le=="function"?g[E+1]=le:(g.splice(E,3),E-=3),YR(g)}}}function $R(){function o(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function(Y){return O=Y})},focusReset:"manual",scroll:"manual"})}function f(){O!==null&&(O(),O=null),E||setTimeout(g,20)}function g(){if(!E&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var E=!1,O=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(g,100),function(){E=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),O!==null&&(O(),O=null)}}}function W_(o){this._internalRoot=o}fy.prototype.render=W_.prototype.render=function(o){var f=this._internalRoot;if(f===null)throw Error(r(409));var g=f.current,E=ao();BR(g,E,o,f,null,null)},fy.prototype.unmount=W_.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var f=o.containerInfo;BR(o.current,2,null,o,null,null),Gx(),f[we]=null}};function fy(o){this._internalRoot=o}fy.prototype.unstable_scheduleHydration=function(o){if(o){var f=ie();o={blockedOn:null,target:o,priority:f};for(var g=0;g<of.length&&f!==0&&f<of[g].priority;g++);of.splice(g,0,o),g===0&&GR(o)}};var KR=e.version;if(KR!=="19.2.4")throw Error(r(527,KR,"19.2.4"));me.findDOMNode=function(o){var f=o._reactInternals;if(f===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=u(f),o=o!==null?p(o):null,o=o===null?null:o.stateNode,o};var wZ={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ue,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dy.isDisabled&&dy.supportsFiber)try{mn=dy.inject(wZ),ct=dy}catch{}}return km.createRoot=function(o,f){if(!i(o))throw Error(r(299));var g=!1,E="",O=n8,k=r8,Y=i8;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(E=f.identifierPrefix),f.onUncaughtError!==void 0&&(O=f.onUncaughtError),f.onCaughtError!==void 0&&(k=f.onCaughtError),f.onRecoverableError!==void 0&&(Y=f.onRecoverableError)),f=LR(o,1,!1,null,null,g,E,null,O,k,Y,$R),o[we]=f.current,S_(o),new W_(f)},km.hydrateRoot=function(o,f,g){if(!i(o))throw Error(r(299));var E=!1,O="",k=n8,Y=r8,le=i8,Ae=null;return g!=null&&(g.unstable_strictMode===!0&&(E=!0),g.identifierPrefix!==void 0&&(O=g.identifierPrefix),g.onUncaughtError!==void 0&&(k=g.onUncaughtError),g.onCaughtError!==void 0&&(Y=g.onCaughtError),g.onRecoverableError!==void 0&&(le=g.onRecoverableError),g.formState!==void 0&&(Ae=g.formState)),f=LR(o,1,!0,f,g??null,E,O,Ae,k,Y,le,$R),f.context=FR(null),g=f.current,E=ao(),E=Pr(E),O=Gu(E),O.callback=null,qu(g,O,E),g=E,f.current.lanes=g,Ha(f,g),zl(f),o[we]=f.current,S_(o),new fy(f)},km.version="19.2.4",km}var ak;function RZ(){if(ak)return Y_.exports;ak=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Y_.exports=MZ(),Y_.exports}var kZ=RZ();var sk="popstate";function DZ(t={}){function e(i,a){let{pathname:s="/",search:c="",hash:d=""}=vh(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),ST("",{pathname:s,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),c="";if(s&&s.getAttribute("href")){let d=i.location.href,u=d.indexOf("#");c=u===-1?d:d.slice(0,u)}return c+"#"+(typeof a=="string"?a:Cg(a))}function r(i,a){Xo(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return jZ(e,n,r,t)}function ei(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PZ(){return Math.random().toString(36).substring(2,10)}function ok(t,e){return{usr:t.state,key:t.key,idx:e}}function ST(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?vh(e):e,state:n,key:e&&e.key||r||PZ()}}function Cg({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function vh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function jZ(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,c="POP",d=null,u=p();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function p(){return(s.state||{idx:null}).idx}function x(){c="POP";let I=p(),j=I==null?null:I-u;u=I,d&&d({action:c,location:S.location,delta:j})}function w(I,j){c="PUSH";let D=ST(S.location,I,j);n&&n(D,I),u=p()+1;let P=ok(D,u),V=S.createHref(D);try{s.pushState(P,"",V)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;i.location.assign(V)}a&&d&&d({action:c,location:S.location,delta:1})}function A(I,j){c="REPLACE";let D=ST(S.location,I,j);n&&n(D,I),u=p();let P=ok(D,u),V=S.createHref(D);s.replaceState(P,"",V),a&&d&&d({action:c,location:S.location,delta:0})}function N(I){return LZ(I)}let S={get action(){return c},get location(){return t(i,s)},listen(I){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(sk,x),d=I,()=>{i.removeEventListener(sk,x),d=null}},createHref(I){return e(i,I)},createURL:N,encodeLocation(I){let j=N(I);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:w,replace:A,go(I){return s.go(I)}};return S}function LZ(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ei(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Cg(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function MF(t,e,n="/"){return FZ(t,e,n,!1)}function FZ(t,e,n,r){let i=typeof e=="string"?vh(e):e,a=ou(i.pathname||"/",n);if(a==null)return null;let s=RF(t);BZ(s);let c=null;for(let d=0;c==null&&d<s.length;++d){let u=XZ(a);c=$Z(s[d],u,r)}return c}function RF(t,e=[],n=[],r="",i=!1){let a=(s,c,d=i,u)=>{let p={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;ei(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let x=eu([r,p.relativePath]),w=n.concat(p);s.children&&s.children.length>0&&(ei(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),RF(s.children,e,w,x,d)),!(s.path==null&&!s.index)&&e.push({path:x,score:qZ(x,s.index),routesMeta:w})};return t.forEach((s,c)=>{if(s.path===""||!s.path?.includes("?"))a(s,c);else for(let d of kF(s.path))a(s,c,!0,d)}),e}function kF(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=kF(r.join("/")),c=[];return c.push(...s.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...s),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function BZ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:YZ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var UZ=/^:[\w-]+$/,zZ=3,VZ=2,HZ=1,WZ=10,GZ=-2,lk=t=>t==="*";function qZ(t,e){let n=t.split("/"),r=n.length;return n.some(lk)&&(r+=GZ),e&&(r+=VZ),n.filter(i=>!lk(i)).reduce((i,a)=>i+(UZ.test(a)?zZ:a===""?HZ:WZ),r)}function YZ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function $Z(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let c=0;c<r.length;++c){let d=r[c],u=c===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",x=Av({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},p),w=d.route;if(!x&&u&&n&&!r[r.length-1].route.index&&(x=Av({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!x)return null;Object.assign(i,x.params),s.push({params:i,pathname:eu([a,x.pathname]),pathnameBase:eJ(eu([a,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(a=eu([a,x.pathnameBase]))}return s}function Av(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=KZ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((u,{paramName:p,isOptional:x},w)=>{if(p==="*"){let N=c[w]||"";s=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const A=c[w];return x&&!A?u[p]=void 0:u[p]=(A||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function KZ(t,e=!1,n=!0){Xo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function XZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ou(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var QZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function ZZ(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?vh(t):t,a;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?a=ck(n.substring(1),"/"):a=ck(n,e)):a=e,{pathname:a,search:tJ(r),hash:nJ(i)}}function ck(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Q_(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JZ(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function F4(t){let e=JZ(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function B4(t,e,n,r=!1){let i;typeof t=="string"?i=vh(t):(i={...t},ei(!i.pathname||!i.pathname.includes("?"),Q_("?","pathname","search",i)),ei(!i.pathname||!i.pathname.includes("#"),Q_("#","pathname","hash",i)),ei(!i.search||!i.search.includes("#"),Q_("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,c;if(s==null)c=n;else{let x=e.length-1;if(!r&&s.startsWith("..")){let w=s.split("/");for(;w[0]==="..";)w.shift(),x-=1;i.pathname=w.join("/")}c=x>=0?e[x]:"/"}let d=ZZ(i,c),u=s&&s!=="/"&&s.endsWith("/"),p=(a||s===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(u||p)&&(d.pathname+="/"),d}var eu=t=>t.join("/").replace(/\/\/+/g,"/"),eJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,rJ=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function iJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function aJ(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var DF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function PF(t,e){let n=t;if(typeof n!="string"||!QZ.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(DF)try{let a=new URL(window.location.href),s=n.startsWith("//")?new URL(a.protocol+n):new URL(n),c=ou(s.pathname,e);s.origin===a.origin&&c!=null?n=c+s.search+s.hash:i=!0}catch{Xo(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jF=["POST","PUT","PATCH","DELETE"];new Set(jF);var sJ=["GET",...jF];new Set(sJ);var wp=R.createContext(null);wp.displayName="DataRouter";var vb=R.createContext(null);vb.displayName="DataRouterState";var oJ=R.createContext(!1),LF=R.createContext({isTransitioning:!1});LF.displayName="ViewTransition";var lJ=R.createContext(new Map);lJ.displayName="Fetchers";var cJ=R.createContext(null);cJ.displayName="Await";var Eo=R.createContext(null);Eo.displayName="Navigation";var v1=R.createContext(null);v1.displayName="Location";var el=R.createContext({outlet:null,matches:[],isDataRoute:!1});el.displayName="Route";var U4=R.createContext(null);U4.displayName="RouteError";var FF="REACT_ROUTER_ERROR",uJ="REDIRECT",fJ="ROUTE_ERROR_RESPONSE";function dJ(t){if(t.startsWith(`${FF}:${uJ}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function hJ(t){if(t.startsWith(`${FF}:${fJ}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new rJ(e.status,e.statusText,e.data)}catch{}}function pJ(t,{relative:e}={}){ei(Ep(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(Eo),{hash:i,pathname:a,search:s}=b1(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:eu([n,a])),r.createHref({pathname:c,search:s,hash:i})}function Ep(){return R.useContext(v1)!=null}function Au(){return ei(Ep(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(v1).location}var BF="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function UF(t){R.useContext(Eo).static||R.useLayoutEffect(t)}function _p(){let{isDataRoute:t}=R.useContext(el);return t?OJ():mJ()}function mJ(){ei(Ep(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(wp),{basename:e,navigator:n}=R.useContext(Eo),{matches:r}=R.useContext(el),{pathname:i}=Au(),a=JSON.stringify(F4(r)),s=R.useRef(!1);return UF(()=>{s.current=!0}),R.useCallback((d,u={})=>{if(Xo(s.current,BF),!s.current)return;if(typeof d=="number"){n.go(d);return}let p=B4(d,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:eu([e,p.pathname])),(u.replace?n.replace:n.push)(p,u.state,u)},[e,n,a,i,t])}var gJ=R.createContext(null);function xJ(t){let e=R.useContext(el).outlet;return R.useMemo(()=>e&&R.createElement(gJ.Provider,{value:t},e),[e,t])}function yJ(){let{matches:t}=R.useContext(el),e=t[t.length-1];return e?e.params:{}}function b1(t,{relative:e}={}){let{matches:n}=R.useContext(el),{pathname:r}=Au(),i=JSON.stringify(F4(n));return R.useMemo(()=>B4(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function vJ(t,e){return zF(t,e)}function zF(t,e,n,r,i){ei(Ep(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=R.useContext(Eo),{matches:s}=R.useContext(el),c=s[s.length-1],d=c?c.params:{},u=c?c.pathname:"/",p=c?c.pathnameBase:"/",x=c&&c.route;{let D=x&&x.path||"";HF(u,!x||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let w=Au(),A;if(e){let D=typeof e=="string"?vh(e):e;ei(p==="/"||D.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${D.pathname}" was given in the \`location\` prop.`),A=D}else A=w;let N=A.pathname||"/",S=N;if(p!=="/"){let D=p.replace(/^\//,"").split("/");S="/"+N.replace(/^\//,"").split("/").slice(D.length).join("/")}let I=MF(t,{pathname:S});Xo(x||I!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Xo(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=AJ(I&&I.map(D=>Object.assign({},D,{params:Object.assign({},d,D.params),pathname:eu([p,a.encodeLocation?a.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?p:eu([p,a.encodeLocation?a.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),s,n,r,i);return e&&j?R.createElement(v1.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},j):j}function bJ(){let t=NJ(),e=iJ(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:a},"ErrorBoundary")," or"," ",R.createElement("code",{style:a},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,s)}var wJ=R.createElement(bJ,null),VF=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=hJ(t.digest);n&&(t=n)}let e=t!==void 0?R.createElement(el.Provider,{value:this.props.routeContext},R.createElement(U4.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?R.createElement(EJ,{error:t},e):e}};VF.contextType=oJ;var Z_=new WeakMap;function EJ({children:t,error:e}){let{basename:n}=R.useContext(Eo);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=dJ(e.digest);if(r){let i=Z_.get(e);if(i)throw i;let a=PF(r.location,n);if(DF&&!Z_.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw Z_.set(e,s),s}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function _J({routeContext:t,match:e,children:n}){let r=R.useContext(wp);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(el.Provider,{value:t},n)}function AJ(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n?.errors;if(s!=null){let p=a.findIndex(x=>x.route.id&&s?.[x.route.id]!==void 0);ei(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(n)for(let p=0;p<a.length;p++){let x=a[p];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(d=p),x.route.id){let{loaderData:w,errors:A}=n,N=x.route.loader&&!w.hasOwnProperty(x.route.id)&&(!A||A[x.route.id]===void 0);if(x.route.lazy||N){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let u=n&&r?(p,x)=>{r(p,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:aJ(n.matches),errorInfo:x})}:void 0;return a.reduceRight((p,x,w)=>{let A,N=!1,S=null,I=null;n&&(A=s&&x.route.id?s[x.route.id]:void 0,S=x.route.errorElement||wJ,c&&(d<0&&w===0?(HF("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,I=null):d===w&&(N=!0,I=x.route.hydrateFallbackElement||null)));let j=e.concat(a.slice(0,w+1)),D=()=>{let P;return A?P=S:N?P=I:x.route.Component?P=R.createElement(x.route.Component,null):x.route.element?P=x.route.element:P=p,R.createElement(_J,{match:x,routeContext:{outlet:p,matches:j,isDataRoute:n!=null},children:P})};return n&&(x.route.ErrorBoundary||x.route.errorElement||w===0)?R.createElement(VF,{location:n.location,revalidation:n.revalidation,component:S,error:A,children:D(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:u}):D()},null)}function z4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SJ(t){let e=R.useContext(wp);return ei(e,z4(t)),e}function TJ(t){let e=R.useContext(vb);return ei(e,z4(t)),e}function CJ(t){let e=R.useContext(el);return ei(e,z4(t)),e}function V4(t){let e=CJ(t),n=e.matches[e.matches.length-1];return ei(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function IJ(){return V4("useRouteId")}function NJ(){let t=R.useContext(U4),e=TJ("useRouteError"),n=V4("useRouteError");return t!==void 0?t:e.errors?.[n]}function OJ(){let{router:t}=SJ("useNavigate"),e=V4("useNavigate"),n=R.useRef(!1);return UF(()=>{n.current=!0}),R.useCallback(async(i,a={})=>{Xo(n.current,BF),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var uk={};function HF(t,e,n){!e&&!uk[t]&&(uk[t]=!0,Xo(!1,n))}R.memo(MJ);function MJ({routes:t,future:e,state:n,onError:r}){return zF(t,void 0,n,r,e)}function RJ({to:t,replace:e,state:n,relative:r}){ei(Ep(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=R.useContext(Eo);Xo(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=R.useContext(el),{pathname:s}=Au(),c=_p(),d=B4(t,F4(a),s,r==="path"),u=JSON.stringify(d);return R.useEffect(()=>{c(JSON.parse(u),{replace:e,state:n,relative:r})},[c,u,r,e,n]),null}function kJ(t){return xJ(t.context)}function so(t){ei(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DJ({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){ei(!Ep(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:c,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[c,i,a,s]);typeof n=="string"&&(n=vh(n));let{pathname:u="/",search:p="",hash:x="",state:w=null,key:A="default"}=n,N=R.useMemo(()=>{let S=ou(u,c);return S==null?null:{location:{pathname:S,search:p,hash:x,state:w,key:A},navigationType:r}},[c,u,p,x,w,A,r]);return Xo(N!=null,`<Router basename="${c}"> is not able to match the URL "${u}${p}${x}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:R.createElement(Eo.Provider,{value:d},R.createElement(v1.Provider,{children:e,value:N}))}function PJ({children:t,location:e}){return vJ(TT(t),e)}function TT(t,e=[]){let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let a=[...e,i];if(r.type===R.Fragment){n.push.apply(n,TT(r.props.children,a));return}ei(r.type===so,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ei(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=TT(r.props.children,a)),n.push(s)}),n}var Qy="get",Zy="application/x-www-form-urlencoded";function bb(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function jJ(t){return bb(t)&&t.tagName.toLowerCase()==="button"}function LJ(t){return bb(t)&&t.tagName.toLowerCase()==="form"}function FJ(t){return bb(t)&&t.tagName.toLowerCase()==="input"}function BJ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UJ(t,e){return t.button===0&&(!e||e==="_self")&&!BJ(t)}var hy=null;function zJ(){if(hy===null)try{new FormData(document.createElement("form"),0),hy=!1}catch{hy=!0}return hy}var VJ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function J_(t){return t!=null&&!VJ.has(t)?(Xo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zy}"`),null):t}function HJ(t,e){let n,r,i,a,s;if(LJ(t)){let c=t.getAttribute("action");r=c?ou(c,e):null,n=t.getAttribute("method")||Qy,i=J_(t.getAttribute("enctype"))||Zy,a=new FormData(t)}else if(jJ(t)||FJ(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?ou(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Qy,i=J_(t.getAttribute("formenctype"))||J_(c.getAttribute("enctype"))||Zy,a=new FormData(c,t),!zJ()){let{name:u,type:p,value:x}=t;if(p==="image"){let w=u?`${u}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else u&&a.append(u,x)}}else{if(bb(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qy,r=null,i=Zy,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function H4(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function WJ(t,e,n,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&ou(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function GJ(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qJ(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function YJ(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await GJ(a,n);return s.links?s.links():[]}return[]}));return QJ(r.flat(1).filter(qJ).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function fk(t,e,n,r,i,a){let s=(d,u)=>n[u]?d.route.id!==n[u].route.id:!0,c=(d,u)=>n[u].pathname!==d.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,u)=>s(d,u)||c(d,u)):a==="data"?e.filter((d,u)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(s(d,u)||c(d,u))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function $J(t,e,{includeHydrateFallback:n}={}){return KJ(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function KJ(t){return[...new Set(t)]}function XJ(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function QJ(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(XJ(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function WF(){let t=R.useContext(wp);return H4(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ZJ(){let t=R.useContext(vb);return H4(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var W4=R.createContext(void 0);W4.displayName="FrameworkContext";function GF(){let t=R.useContext(W4);return H4(t,"You must render this element inside a <HydratedRouter> element"),t}function JJ(t,e){let n=R.useContext(W4),[r,i]=R.useState(!1),[a,s]=R.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:u,onMouseLeave:p,onTouchStart:x}=e,w=R.useRef(null);R.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let S=j=>{j.forEach(D=>{s(D.isIntersecting)})},I=new IntersectionObserver(S,{threshold:.5});return w.current&&I.observe(w.current),()=>{I.disconnect()}}},[t]),R.useEffect(()=>{if(r){let S=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(S)}}},[r]);let A=()=>{i(!0)},N=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,w,{}]:[a,w,{onFocus:Dm(c,A),onBlur:Dm(d,N),onMouseEnter:Dm(u,A),onMouseLeave:Dm(p,N),onTouchStart:Dm(x,A)}]:[!1,w,{}]}function Dm(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function eee({page:t,...e}){let{router:n}=WF(),r=R.useMemo(()=>MF(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(nee,{page:t,matches:r,...e}):null}function tee(t){let{manifest:e,routeModules:n}=GF(),[r,i]=R.useState([]);return R.useEffect(()=>{let a=!1;return YJ(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function nee({page:t,matches:e,...n}){let r=Au(),{future:i,manifest:a,routeModules:s}=GF(),{basename:c}=WF(),{loaderData:d,matches:u}=ZJ(),p=R.useMemo(()=>fk(t,e,u,a,r,"data"),[t,e,u,a,r]),x=R.useMemo(()=>fk(t,e,u,a,r,"assets"),[t,e,u,a,r]),w=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,I=!1;if(e.forEach(D=>{let P=a.routes[D.route.id];!P||!P.hasLoader||(!p.some(V=>V.route.id===D.route.id)&&D.route.id in d&&s[D.route.id]?.shouldRevalidate||P.hasClientLoader?I=!0:S.add(D.route.id))}),S.size===0)return[];let j=WJ(t,c,i.unstable_trailingSlashAwareDataRequests,"data");return I&&S.size>0&&j.searchParams.set("_routes",e.filter(D=>S.has(D.route.id)).map(D=>D.route.id).join(",")),[j.pathname+j.search]},[c,i.unstable_trailingSlashAwareDataRequests,d,r,a,p,e,t,s]),A=R.useMemo(()=>$J(x,a),[x,a]),N=tee(x);return R.createElement(R.Fragment,null,w.map(S=>R.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),A.map(S=>R.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),N.map(({key:S,link:I})=>R.createElement("link",{key:S,nonce:n.nonce,...I,crossOrigin:I.crossOrigin??n.crossOrigin})))}function ree(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var iee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iee&&(window.__reactRouterVersion="7.13.0")}catch{}function aee({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=R.useRef();i.current==null&&(i.current=DZ({window:r,v5Compat:!0}));let a=i.current,[s,c]=R.useState({action:a.action,location:a.location}),d=R.useCallback(u=>{n===!1?c(u):R.startTransition(()=>c(u))},[n]);return R.useLayoutEffect(()=>a.listen(d),[a,d]),R.createElement(DJ,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n})}var qF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qc=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:c,target:d,to:u,preventScrollReset:p,viewTransition:x,unstable_defaultShouldRevalidate:w,...A},N){let{basename:S,unstable_useTransitions:I}=R.useContext(Eo),j=typeof u=="string"&&qF.test(u),D=PF(u,S);u=D.to;let P=pJ(u,{relative:i}),[V,K,Z]=JJ(r,A),F=lee(u,{replace:s,state:c,target:d,preventScrollReset:p,relative:i,viewTransition:x,unstable_defaultShouldRevalidate:w,unstable_useTransitions:I});function U(J){e&&e(J),J.defaultPrevented||F(J)}let B=R.createElement("a",{...A,...Z,href:D.absoluteURL||P,onClick:D.isExternal||a?e:U,ref:ree(N,K),target:d,"data-discover":!j&&n==="render"?"true":void 0});return V&&!j?R.createElement(R.Fragment,null,B,R.createElement(eee,{page:P})):B});qc.displayName="Link";var YF=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:c,children:d,...u},p){let x=b1(s,{relative:u.relative}),w=Au(),A=R.useContext(vb),{navigator:N,basename:S}=R.useContext(Eo),I=A!=null&&hee(x)&&c===!0,j=N.encodeLocation?N.encodeLocation(x).pathname:x.pathname,D=w.pathname,P=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(D=D.toLowerCase(),P=P?P.toLowerCase():null,j=j.toLowerCase()),P&&S&&(P=ou(P,S)||P);const V=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let K=D===j||!i&&D.startsWith(j)&&D.charAt(V)==="/",Z=P!=null&&(P===j||!i&&P.startsWith(j)&&P.charAt(j.length)==="/"),F={isActive:K,isPending:Z,isTransitioning:I},U=K?e:void 0,B;typeof r=="function"?B=r(F):B=[r,K?"active":null,Z?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let J=typeof a=="function"?a(F):a;return R.createElement(qc,{...u,"aria-current":U,className:B,ref:p,style:J,to:s,viewTransition:c},typeof d=="function"?d(F):d)});YF.displayName="NavLink";var see=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=Qy,action:c,onSubmit:d,relative:u,preventScrollReset:p,viewTransition:x,unstable_defaultShouldRevalidate:w,...A},N)=>{let{unstable_useTransitions:S}=R.useContext(Eo),I=fee(),j=dee(c,{relative:u}),D=s.toLowerCase()==="get"?"get":"post",P=typeof c=="string"&&qF.test(c),V=K=>{if(d&&d(K),K.defaultPrevented)return;K.preventDefault();let Z=K.nativeEvent.submitter,F=Z?.getAttribute("formmethod")||s,U=()=>I(Z||K.currentTarget,{fetcherKey:e,method:F,navigate:n,replace:i,state:a,relative:u,preventScrollReset:p,viewTransition:x,unstable_defaultShouldRevalidate:w});S&&n!==!1?R.startTransition(()=>U()):U()};return R.createElement("form",{ref:N,method:D,action:j,onSubmit:r?d:V,...A,"data-discover":!P&&t==="render"?"true":void 0})});see.displayName="Form";function oee(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $F(t){let e=R.useContext(wp);return ei(e,oee(t)),e}function lee(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let u=_p(),p=Au(),x=b1(t,{relative:a});return R.useCallback(w=>{if(UJ(w,e)){w.preventDefault();let A=n!==void 0?n:Cg(p)===Cg(x),N=()=>u(t,{replace:A,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:c});d?R.startTransition(()=>N()):N()}},[p,u,x,n,r,e,t,i,a,s,c,d])}var cee=0,uee=()=>`__${String(++cee)}__`;function fee(){let{router:t}=$F("useSubmit"),{basename:e}=R.useContext(Eo),n=IJ(),r=t.fetch,i=t.navigate;return R.useCallback(async(a,s={})=>{let{action:c,method:d,encType:u,formData:p,body:x}=HJ(a,e);if(s.navigate===!1){let w=s.fetcherKey||uee();await r(w,n,s.action||c,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:p,body:x,formMethod:s.method||d,formEncType:s.encType||u,flushSync:s.flushSync})}else await i(s.action||c,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:p,body:x,formMethod:s.method||d,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,e,n])}function dee(t,{relative:e}={}){let{basename:n}=R.useContext(Eo),r=R.useContext(el);ei(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...b1(t||".",{relative:e})},s=Au();if(t==null){a.search=s.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(x=>x).forEach(x=>c.append("index",x));let p=c.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:eu([n,a.pathname])),Cg(a)}function hee(t,{relative:e}={}){let n=R.useContext(LF);ei(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$F("useViewTransitionState"),i=b1(t,{relative:e});if(!n.isTransitioning)return!1;let a=ou(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=ou(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Av(i.pathname,s)!=null||Av(i.pathname,a)!=null}var KF=OF();const pee=()=>{};var dk={};const XF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mee=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],c=t[n++],d=((i&7)<<18|(a&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},QF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,c=s?t[i+1]:0,d=i+2<t.length,u=d?t[i+2]:0,p=a>>2,x=(a&3)<<4|c>>4;let w=(c&15)<<2|u>>6,A=u&63;d||(A=64,s||(w=64)),r.push(n[p],n[x],n[w],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mee(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const x=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||u==null||x==null)throw new gee;const w=a<<2|c>>4;if(r.push(w),u!==64){const A=c<<4&240|u>>2;if(r.push(A),x!==64){const N=u<<6&192|x;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xee=function(t){const e=XF(t);return QF.encodeByteArray(e,!0)},Sv=function(t){return xee(t).replace(/\./g,"")},ZF=function(t){try{return QF.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const vee=()=>yee().__FIREBASE_DEFAULTS__,bee=()=>{if(typeof process>"u"||typeof dk>"u")return;const t=dk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wee=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZF(t[1]);return e&&JSON.parse(e)},wb=()=>{try{return pee()||vee()||bee()||wee()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JF=t=>wb()?.emulatorHosts?.[t],Eee=t=>{const e=JF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eB=()=>wb()?.config,tB=t=>wb()?.[`_${t}`];class _ee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Ap(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nB(t){return(await fetch(t,{credentials:"include"})).ok}function Aee(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Sv(JSON.stringify(n)),Sv(JSON.stringify(s)),""].join(".")}const cg={};function See(){const t={prod:[],emulator:[]};for(const e of Object.keys(cg))cg[e]?t.emulator.push(e):t.prod.push(e);return t}function Tee(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let hk=!1;function rB(t,e){if(typeof window>"u"||typeof document>"u"||!Ap(window.location.host)||cg[t]===e||cg[t]||hk)return;cg[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",a=See().prod.length>0;function s(){const w=document.getElementById(r);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,A){w.setAttribute("width","24"),w.setAttribute("id",A),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function u(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{hk=!0,s()},w}function p(w,A){w.setAttribute("id",A),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function x(){const w=Tee(r),A=n("text"),N=document.getElementById(A)||document.createElement("span"),S=n("learnmore"),I=document.getElementById(S)||document.createElement("a"),j=n("preprendIcon"),D=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const P=w.element;c(P),p(I,S);const V=u();d(D,j),P.append(D,N,I,V),document.body.appendChild(P)}a?(N.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function ss(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ss())}function Iee(){const t=wb()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Nee(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Oee(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Mee(){const t=ss();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ree(){return!Iee()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aB(){try{return typeof indexedDB=="object"}catch{return!1}}function sB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}function kee(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Dee="FirebaseError";class Ml extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Dee,Object.setPrototypeOf(this,Ml.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bh.prototype.create)}}class bh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?Pee(a,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Ml(i,c,r)}}function Pee(t,e){return t.replace(jee,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const jee=/\{\$([^}]+)}/g;function Lee(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(pk(a)&&pk(s)){if(!Pf(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pk(t){return t!==null&&typeof t=="object"}function w1(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Qm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Fee(t,e){const n=new Bee(t,e);return n.subscribe.bind(n)}class Bee{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Uee(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=eA),i.error===void 0&&(i.error=eA),i.complete===void 0&&(i.complete=eA);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Uee(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function eA(){}const zee=1e3,Vee=2,Hee=14400*1e3,Wee=.5;function mk(t,e=zee,n=Vee){const r=e*Math.pow(n,t),i=Math.round(Wee*r*(Math.random()-.5)*2);return Math.min(Hee,r+i)}function ki(t){return t&&t._delegate?t._delegate:t}class Sl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Nd="[DEFAULT]";let Gee=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _ee;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Yee(e))try{this.getOrInitializeService({instanceIdentifier:Nd})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Nd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nd){return this.instances.has(e)}getOptions(e=Nd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qee(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Nd){return this.component?this.component.multipleInstances?e:Nd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qee(t){return t===Nd?void 0:t}function Yee(t){return t.instantiationMode==="EAGER"}class $ee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Gee(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ln;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ln||(Ln={}));const Kee={debug:Ln.DEBUG,verbose:Ln.VERBOSE,info:Ln.INFO,warn:Ln.WARN,error:Ln.ERROR,silent:Ln.SILENT},Xee=Ln.INFO,Qee={[Ln.DEBUG]:"log",[Ln.VERBOSE]:"log",[Ln.INFO]:"info",[Ln.WARN]:"warn",[Ln.ERROR]:"error"},Zee=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Qee[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Eb{constructor(e){this.name=e,this._logLevel=Xee,this._logHandler=Zee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ln))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Kee[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ln.DEBUG,...e),this._logHandler(this,Ln.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ln.VERBOSE,...e),this._logHandler(this,Ln.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ln.INFO,...e),this._logHandler(this,Ln.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ln.WARN,...e),this._logHandler(this,Ln.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ln.ERROR,...e),this._logHandler(this,Ln.ERROR,...e)}}const Jee=(t,e)=>e.some(n=>t instanceof n);let gk,xk;function ete(){return gk||(gk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tte(){return xk||(xk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oB=new WeakMap,CT=new WeakMap,lB=new WeakMap,tA=new WeakMap,G4=new WeakMap;function nte(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(If(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&oB.set(n,t)}).catch(()=>{}),G4.set(e,t),e}function rte(t){if(CT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});CT.set(t,e)}let IT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return CT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lB.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return If(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ite(t){IT=t(IT)}function ate(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(nA(this),e,...n);return lB.set(r,e.sort?e.sort():[e]),If(r)}:tte().includes(t)?function(...e){return t.apply(nA(this),e),If(oB.get(this))}:function(...e){return If(t.apply(nA(this),e))}}function ste(t){return typeof t=="function"?ate(t):(t instanceof IDBTransaction&&rte(t),Jee(t,ete())?new Proxy(t,IT):t)}function If(t){if(t instanceof IDBRequest)return nte(t);if(tA.has(t))return tA.get(t);const e=ste(t);return e!==t&&(tA.set(t,e),G4.set(e,t)),e}const nA=t=>G4.get(t);function cB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),c=If(s);return r&&s.addEventListener("upgradeneeded",d=>{r(If(s.result),d.oldVersion,d.newVersion,If(s.transaction),d)}),n&&s.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const ote=["get","getKey","getAll","getAllKeys","count"],lte=["put","add","delete","clear"],rA=new Map;function yk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rA.get(e))return rA.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lte.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ote.includes(n)))return;const a=async function(s,...c){const d=this.transaction(s,i?"readwrite":"readonly");let u=d.store;return r&&(u=u.index(c.shift())),(await Promise.all([u[n](...c),i&&d.done]))[0]};return rA.set(e,a),a}ite(t=>({...t,get:(e,n,r)=>yk(e,n)||t.get(e,n,r),has:(e,n)=>!!yk(e,n)||t.has(e,n)}));class cte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ute(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ute(t){return t.getComponent()?.type==="VERSION"}const NT="@firebase/app",vk="0.14.8";const lu=new Eb("@firebase/app"),fte="@firebase/app-compat",dte="@firebase/analytics-compat",hte="@firebase/analytics",pte="@firebase/app-check-compat",mte="@firebase/app-check",gte="@firebase/auth",xte="@firebase/auth-compat",yte="@firebase/database",vte="@firebase/data-connect",bte="@firebase/database-compat",wte="@firebase/functions",Ete="@firebase/functions-compat",_te="@firebase/installations",Ate="@firebase/installations-compat",Ste="@firebase/messaging",Tte="@firebase/messaging-compat",Cte="@firebase/performance",Ite="@firebase/performance-compat",Nte="@firebase/remote-config",Ote="@firebase/remote-config-compat",Mte="@firebase/storage",Rte="@firebase/storage-compat",kte="@firebase/firestore",Dte="@firebase/ai",Pte="@firebase/firestore-compat",jte="firebase",Lte="12.9.0";const OT="[DEFAULT]",Fte={[NT]:"fire-core",[fte]:"fire-core-compat",[hte]:"fire-analytics",[dte]:"fire-analytics-compat",[mte]:"fire-app-check",[pte]:"fire-app-check-compat",[gte]:"fire-auth",[xte]:"fire-auth-compat",[yte]:"fire-rtdb",[vte]:"fire-data-connect",[bte]:"fire-rtdb-compat",[wte]:"fire-fn",[Ete]:"fire-fn-compat",[_te]:"fire-iid",[Ate]:"fire-iid-compat",[Ste]:"fire-fcm",[Tte]:"fire-fcm-compat",[Cte]:"fire-perf",[Ite]:"fire-perf-compat",[Nte]:"fire-rc",[Ote]:"fire-rc-compat",[Mte]:"fire-gcs",[Rte]:"fire-gcs-compat",[kte]:"fire-fst",[Pte]:"fire-fst-compat",[Dte]:"fire-vertex","fire-js":"fire-js",[jte]:"fire-js-all"};const Tv=new Map,Bte=new Map,MT=new Map;function bk(t,e){try{t.container.addComponent(e)}catch(n){lu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oc(t){const e=t.name;if(MT.has(e))return lu.debug(`There were multiple attempts to register component ${e}.`),!1;MT.set(e,t);for(const n of Tv.values())bk(n,t);for(const n of Bte.values())bk(n,t);return!0}function wh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ml(t){return t==null?!1:t.settings!==void 0}const Ute={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nf=new bh("app","Firebase",Ute);class zte{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nf.create("app-deleted",{appName:this._name})}}const Sp=Lte;function uB(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:OT,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Nf.create("bad-app-name",{appName:String(i)});if(n||(n=eB()),!n)throw Nf.create("no-options");const a=Tv.get(i);if(a){if(Pf(n,a.options)&&Pf(r,a.config))return a;throw Nf.create("duplicate-app",{appName:i})}const s=new $ee(i);for(const d of MT.values())s.addComponent(d);const c=new zte(n,r,s);return Tv.set(i,c),c}function q4(t=OT){const e=Tv.get(t);if(!e&&t===OT&&eB())return uB();if(!e)throw Nf.create("no-app",{appName:t});return e}function Yo(t,e,n){let r=Fte[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lu.warn(s.join(" "));return}oc(new Sl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Vte="firebase-heartbeat-database",Hte=1,Ig="firebase-heartbeat-store";let iA=null;function fB(){return iA||(iA=cB(Vte,Hte,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ig)}catch(n){console.warn(n)}}}}).catch(t=>{throw Nf.create("idb-open",{originalErrorMessage:t.message})})),iA}async function Wte(t){try{const n=(await fB()).transaction(Ig),r=await n.objectStore(Ig).get(dB(t));return await n.done,r}catch(e){if(e instanceof Ml)lu.warn(e.message);else{const n=Nf.create("idb-get",{originalErrorMessage:e?.message});lu.warn(n.message)}}}async function wk(t,e){try{const r=(await fB()).transaction(Ig,"readwrite");await r.objectStore(Ig).put(e,dB(t)),await r.done}catch(n){if(n instanceof Ml)lu.warn(n.message);else{const r=Nf.create("idb-set",{originalErrorMessage:n?.message});lu.warn(r.message)}}}function dB(t){return`${t.name}!${t.options.appId}`}const Gte=1024,qte=30;class Yte{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Kte(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ek();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>qte){const i=Xte(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){lu.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ek(),{heartbeatsToSend:n,unsentEntries:r}=$te(this._heartbeatsCache.heartbeats),i=Sv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return lu.warn(e),""}}}function Ek(){return new Date().toISOString().substring(0,10)}function $te(t,e=Gte){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),_k(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_k(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Kte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aB()?sB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Wte(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function _k(t){return Sv(JSON.stringify({version:2,heartbeats:t})).length}function Xte(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Qte(t){oc(new Sl("platform-logger",e=>new cte(e),"PRIVATE")),oc(new Sl("heartbeat",e=>new Yte(e),"PRIVATE")),Yo(NT,vk,t),Yo(NT,vk,"esm2020"),Yo("fire-js","")}Qte("");function hB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zte=hB,pB=new bh("auth","Firebase",hB());const Cv=new Eb("@firebase/auth");function Jte(t,...e){Cv.logLevel<=Ln.WARN&&Cv.warn(`Auth (${Sp}): ${t}`,...e)}function Jy(t,...e){Cv.logLevel<=Ln.ERROR&&Cv.error(`Auth (${Sp}): ${t}`,...e)}function Tl(t,...e){throw Y4(t,...e)}function Zl(t,...e){return Y4(t,...e)}function mB(t,e,n){const r={...Zte(),[e]:n};return new bh("auth","Firebase",r).create(e,{appName:t.name})}function Of(t){return mB(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Y4(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pB.create(t,...e)}function rn(t,e,...n){if(!t)throw Y4(e,...n)}function Kc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jy(e),new Error(e)}function cu(t,e){t||Kc(e)}function RT(){return typeof self<"u"&&self.location?.href||""}function ene(){return Ak()==="http:"||Ak()==="https:"}function Ak(){return typeof self<"u"&&self.location?.protocol||null}function tne(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ene()||iB()||"connection"in navigator)?navigator.onLine:!0}function nne(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class E1{constructor(e,n){this.shortDelay=e,this.longDelay=n,cu(n>e,"Short delay should be less than long delay!"),this.isMobile=Cee()||Oee()}get(){return tne()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $4(t,e){cu(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class gB{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ine=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ane=new E1(3e4,6e4);function Eh(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Zf(t,e,n,r,i={}){return xB(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const c=w1({key:t.config.apiKey,...s}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:d,...a};return Nee()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ap(t.emulatorConfig.host)&&(u.credentials="include"),gB.fetch()(await yB(t,t.config.apiHost,n,c),u)})}async function xB(t,e,n){t._canInitEmulator=!1;const r={...rne,...e};try{const i=new one(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw py(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const c=a.ok?s.errorMessage:s.error.message,[d,u]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw py(t,"credential-already-in-use",s);if(d==="EMAIL_EXISTS")throw py(t,"email-already-in-use",s);if(d==="USER_DISABLED")throw py(t,"user-disabled",s);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw mB(t,p,u);Tl(t,p)}}catch(i){if(i instanceof Ml)throw i;Tl(t,"network-request-failed",{message:String(i)})}}async function _b(t,e,n,r,i={}){const a=await Zf(t,e,n,r,i);return"mfaPendingCredential"in a&&Tl(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function yB(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?$4(t.config,i):`${t.config.apiScheme}://${i}`;return ine.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function sne(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class one{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zl(this.auth,"network-request-failed")),ane.get())})}}function py(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zl(t,e,r);return i.customData._tokenResponse=n,i}function Sk(t){return t!==void 0&&t.enterprise!==void 0}class lne{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return sne(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cne(t,e){return Zf(t,"GET","/v2/recaptchaConfig",Eh(t,e))}async function une(t,e){return Zf(t,"POST","/v1/accounts:delete",e)}async function Iv(t,e){return Zf(t,"POST","/v1/accounts:lookup",e)}function ug(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fne(t,e=!1){const n=ki(t),r=await n.getIdToken(e),i=K4(r);rn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a?.sign_in_provider;return{claims:i,token:r,authTime:ug(aA(i.auth_time)),issuedAtTime:ug(aA(i.iat)),expirationTime:ug(aA(i.exp)),signInProvider:s||null,signInSecondFactor:a?.sign_in_second_factor||null}}function aA(t){return Number(t)*1e3}function K4(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jy("JWT malformed, contained fewer than 3 sections"),null;try{const i=ZF(n);return i?JSON.parse(i):(Jy("Failed to decode base64 JWT payload"),null)}catch(i){return Jy("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Tk(t){const e=K4(t);return rn(e,"internal-error"),rn(typeof e.exp<"u","internal-error"),rn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ng(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ml&&dne(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function dne({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class hne{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class kT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ug(this.lastLoginAt),this.creationTime=ug(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Nv(t){const e=t.auth,n=await t.getIdToken(),r=await Ng(t,Iv(e,{idToken:n}));rn(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?vB(i.providerUserInfo):[],s=mne(t.providerData,a),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!s?.length,u=c?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new kT(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,p)}async function pne(t){const e=ki(t);await Nv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mne(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vB(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function gne(t,e){const n=await xB(t,{},async()=>{const r=w1({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await yB(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&Ap(t.emulatorConfig.host)&&(d.credentials="include"),gB.fetch()(s,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xne(t,e){return Zf(t,"POST","/v2/accounts:revokeToken",Eh(t,e))}class B0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){rn(e.idToken,"internal-error"),rn(typeof e.idToken<"u","internal-error"),rn(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Tk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){rn(e.length!==0,"internal-error");const n=Tk(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(rn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await gne(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new B0;return r&&(rn(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(rn(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(rn(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new B0,this.toJSON())}_performRefresh(){return Kc("not implemented")}}function cf(t,e){rn(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bl{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new hne(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new kT(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ng(this,this.stsTokenManager.getToken(this.auth,e));return rn(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fne(this,e)}reload(){return pne(this)}_assign(e){this!==e&&(rn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bl({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){rn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Nv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ml(this.auth.app))return Promise.reject(Of(this.auth));const e=await this.getIdToken();return await Ng(this,une(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,u=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:x,emailVerified:w,isAnonymous:A,providerData:N,stsTokenManager:S}=n;rn(x&&S,e,"internal-error");const I=B0.fromJSON(this.name,S);rn(typeof x=="string",e,"internal-error"),cf(r,e.name),cf(i,e.name),rn(typeof w=="boolean",e,"internal-error"),rn(typeof A=="boolean",e,"internal-error"),cf(a,e.name),cf(s,e.name),cf(c,e.name),cf(d,e.name),cf(u,e.name),cf(p,e.name);const j=new bl({uid:x,auth:e,email:i,emailVerified:w,displayName:r,isAnonymous:A,photoURL:s,phoneNumber:a,tenantId:c,stsTokenManager:I,createdAt:u,lastLoginAt:p});return N&&Array.isArray(N)&&(j.providerData=N.map(D=>({...D}))),d&&(j._redirectEventId=d),j}static async _fromIdTokenResponse(e,n,r=!1){const i=new B0;i.updateFromServerResponse(n);const a=new bl({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Nv(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];rn(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?vB(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!a?.length,c=new B0;c.updateFromIdToken(r);const d=new bl({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new kT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(d,u),d}}const Ck=new Map;function Xc(t){cu(t instanceof Function,"Expected a class definition");let e=Ck.get(t);return e?(cu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ck.set(t,e),e)}class bB{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bB.type="NONE";const Ik=bB;function ev(t,e,n){return`firebase:${t}:${e}:${n}`}class U0{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=ev(this.userKey,i.apiKey,a),this.fullPersistenceKey=ev("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Iv(this.auth,{idToken:e}).catch(()=>{});return n?bl._fromGetAccountInfoResponse(this.auth,n,e):null}return bl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new U0(Xc(Ik),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Xc(Ik);const s=ev(r,e.config.apiKey,e.name);let c=null;for(const u of n)try{const p=await u._get(s);if(p){let x;if(typeof p=="string"){const w=await Iv(e,{idToken:p}).catch(()=>{});if(!w)break;x=await bl._fromGetAccountInfoResponse(e,w,p)}else x=bl._fromJSON(e,p);u!==a&&(c=x),a=u;break}}catch{}const d=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new U0(a,e,r):(a=d[0],c&&await a._set(s,c.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new U0(a,e,r))}}function Nk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TB(e))return"Blackberry";if(CB(e))return"Webos";if(EB(e))return"Safari";if((e.includes("chrome/")||_B(e))&&!e.includes("edge/"))return"Chrome";if(SB(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function wB(t=ss()){return/firefox\//i.test(t)}function EB(t=ss()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _B(t=ss()){return/crios\//i.test(t)}function AB(t=ss()){return/iemobile/i.test(t)}function SB(t=ss()){return/android/i.test(t)}function TB(t=ss()){return/blackberry/i.test(t)}function CB(t=ss()){return/webos/i.test(t)}function X4(t=ss()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yne(t=ss()){return X4(t)&&!!window.navigator?.standalone}function vne(){return Mee()&&document.documentMode===10}function IB(t=ss()){return X4(t)||SB(t)||CB(t)||TB(t)||/windows phone/i.test(t)||AB(t)}function NB(t,e=[]){let n;switch(t){case"Browser":n=Nk(ss());break;case"Worker":n=`${Nk(ss())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sp}/${r}`}class bne{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,c)=>{try{const d=e(a);s(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function wne(t,e={}){return Zf(t,"GET","/v2/passwordPolicy",Eh(t,e))}const Ene=6;class _ne{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Ene,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class Ane{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ok(this),this.idTokenSubscription=new Ok(this),this.beforeStateQueue=new bne(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xc(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await U0.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Iv(this,{idToken:e}),r=await bl._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ml(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,s=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===s)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return rn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nv(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nne()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ml(this.app))return Promise.reject(Of(this));const n=e?ki(e):null;return n&&rn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&rn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ml(this.app)?Promise.reject(Of(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ml(this.app)?Promise.reject(Of(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wne(this),n=new _ne(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xne(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xc(e)||this._popupRedirectResolver;rn(n,this,"argument-error"),this.redirectPersistenceManager=await U0.create(this,[Xc(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(rn(c,this,"internal-error"),c.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{s=!0,d()}}else{const d=e.addObserver(n);return()=>{s=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return rn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ml(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Jte(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Tp(t){return ki(t)}class Ok{constructor(e){this.auth=e,this.observer=null,this.addObserver=Fee(n=>this.observer=n)}get next(){return rn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ab={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Sne(t){Ab=t}function OB(t){return Ab.loadJS(t)}function Tne(){return Ab.recaptchaEnterpriseScript}function Cne(){return Ab.gapiScript}function Ine(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Nne{constructor(){this.enterprise=new One}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class One{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Mne="recaptcha-enterprise",MB="NO_RECAPTCHA";class Rne{constructor(e){this.type=Mne,this.auth=Tp(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,c)=>{cne(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const u=new lne(d);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,s(u.siteKey)}}).catch(d=>{c(d)})})}function i(a,s,c){const d=window.grecaptcha;Sk(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(u=>{s(u)}).catch(()=>{s(MB)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Nne().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(c=>{if(!n&&Sk(window.grecaptcha))i(c,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Tne();d.length!==0&&(d+=c),OB(d).then(()=>{i(c,a,s)}).catch(u=>{s(u)})}}).catch(c=>{s(c)})})}}async function Mk(t,e,n,r=!1,i=!1){const a=new Rne(t);let s;if(i)s=MB;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,u=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:s}):Object.assign(c,{captchaResponse:s}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Rk(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Mk(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await Mk(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(a)})}function kne(t,e){const n=wh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Pf(a,e??{}))return i;Tl(i,"already-initialized")}return n.initialize({options:e})}function Dne(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Xc);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Pne(t,e,n){const r=Tp(t);rn(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=RB(e),{host:s,port:c}=jne(e),d=c===null?"":`:${c}`,u={url:`${a}//${s}${d}/`},p=Object.freeze({host:s,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){rn(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),rn(Pf(u,r.config.emulator)&&Pf(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Ap(s)?(nB(`${a}//${s}${d}`),rB("Auth",!0)):Lne()}function RB(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jne(t){const e=RB(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:kk(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:kk(s)}}}function kk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Lne(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Q4{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kc("not implemented")}_getIdTokenResponse(e){return Kc("not implemented")}_linkToIdToken(e,n){return Kc("not implemented")}_getReauthenticationResolver(e){return Kc("not implemented")}}async function Fne(t,e){return Zf(t,"POST","/v1/accounts:signUp",e)}async function Bne(t,e){return _b(t,"POST","/v1/accounts:signInWithPassword",Eh(t,e))}async function Une(t,e){return _b(t,"POST","/v1/accounts:signInWithEmailLink",Eh(t,e))}async function zne(t,e){return _b(t,"POST","/v1/accounts:signInWithEmailLink",Eh(t,e))}class Og extends Q4{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Og(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Og(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rk(e,n,"signInWithPassword",Bne);case"emailLink":return Une(e,{email:this._email,oobCode:this._password});default:Tl(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rk(e,r,"signUpPassword",Fne);case"emailLink":return zne(e,{idToken:n,email:this._email,oobCode:this._password});default:Tl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function z0(t,e){return _b(t,"POST","/v1/accounts:signInWithIdp",Eh(t,e))}const Vne="http://localhost";class Qd extends Q4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tl("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new Qd(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return z0(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,z0(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,z0(e,n)}buildRequest(){const e={requestUri:Vne,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=w1(n)}return e}}function Hne(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Wne(t){const e=Xm(Qm(t)).link,n=e?Xm(Qm(e)).deep_link_id:null,r=Xm(Qm(t)).deep_link_id;return(r?Xm(Qm(r)).link:null)||r||n||e||t}class Z4{constructor(e){const n=Xm(Qm(e)),r=n.apiKey??null,i=n.oobCode??null,a=Hne(n.mode??null);rn(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Wne(e);try{return new Z4(n)}catch{return null}}}class Cp{constructor(){this.providerId=Cp.PROVIDER_ID}static credential(e,n){return Og._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Z4.parseLink(n);return rn(r,"argument-error"),Og._fromEmailAndCode(e,r.code,r.tenantId)}}Cp.PROVIDER_ID="password";Cp.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class kB{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _1 extends kB{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class gf extends _1{constructor(){super("facebook.com")}static credential(e){return Qd._fromParams({providerId:gf.PROVIDER_ID,signInMethod:gf.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gf.credentialFromTaggedObject(e)}static credentialFromError(e){return gf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gf.credential(e.oauthAccessToken)}catch{return null}}}gf.FACEBOOK_SIGN_IN_METHOD="facebook.com";gf.PROVIDER_ID="facebook.com";class xf extends _1{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qd._fromParams({providerId:xf.PROVIDER_ID,signInMethod:xf.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xf.credentialFromTaggedObject(e)}static credentialFromError(e){return xf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xf.credential(n,r)}catch{return null}}}xf.GOOGLE_SIGN_IN_METHOD="google.com";xf.PROVIDER_ID="google.com";class yf extends _1{constructor(){super("github.com")}static credential(e){return Qd._fromParams({providerId:yf.PROVIDER_ID,signInMethod:yf.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yf.credentialFromTaggedObject(e)}static credentialFromError(e){return yf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yf.credential(e.oauthAccessToken)}catch{return null}}}yf.GITHUB_SIGN_IN_METHOD="github.com";yf.PROVIDER_ID="github.com";class vf extends _1{constructor(){super("twitter.com")}static credential(e,n){return Qd._fromParams({providerId:vf.PROVIDER_ID,signInMethod:vf.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vf.credentialFromTaggedObject(e)}static credentialFromError(e){return vf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vf.credential(n,r)}catch{return null}}}vf.TWITTER_SIGN_IN_METHOD="twitter.com";vf.PROVIDER_ID="twitter.com";class np{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await bl._fromIdTokenResponse(e,r,i),s=Dk(r);return new np({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Dk(r);return new np({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Dk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Ov extends Ml{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ov.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ov(e,n,r,i)}}function DB(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ov._fromErrorAndOperation(t,a,e,r):a})}async function Gne(t,e,n=!1){const r=await Ng(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return np._forOperation(t,"link",r)}async function qne(t,e,n=!1){const{auth:r}=t;if(ml(r.app))return Promise.reject(Of(r));const i="reauthenticate";try{const a=await Ng(t,DB(r,i,e,t),n);rn(a.idToken,r,"internal-error");const s=K4(a.idToken);rn(s,r,"internal-error");const{sub:c}=s;return rn(t.uid===c,r,"user-mismatch"),np._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Tl(r,"user-mismatch"),a}}async function PB(t,e,n=!1){if(ml(t.app))return Promise.reject(Of(t));const r="signIn",i=await DB(t,r,e),a=await np._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function Yne(t,e){return PB(Tp(t),e)}async function $ne(t){const e=Tp(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Kne(t,e,n){return ml(t.app)?Promise.reject(Of(t)):Yne(ki(t),Cp.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$ne(t),r})}function Xne(t,e,n,r){return ki(t).onIdTokenChanged(e,n,r)}function Qne(t,e,n){return ki(t).beforeAuthStateChanged(e,n)}function Zne(t,e,n,r){return ki(t).onAuthStateChanged(e,n,r)}function Jne(t){return ki(t).signOut()}const Mv="__sak";class jB{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mv,"1"),this.storage.removeItem(Mv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ere=1e3,tre=10;class LB extends jB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IB(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,c,d)=>{this.notifyListeners(s,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);vne()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,tre):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ere)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}LB.type="LOCAL";const nre=LB;class FB extends jB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FB.type="SESSION";const BB=FB;function rre(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Sb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Sb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!s?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(s).map(async u=>u(n.origin,a)),d=await rre(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sb.receivers=[];function J4(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class ire{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((c,d)=>{const u=J4("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(x){const w=x;if(w.data.eventId===u)switch(w.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(w.data.response);break;default:clearTimeout(p),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function Jl(){return window}function are(t){Jl().location.href=t}function UB(){return typeof Jl().WorkerGlobalScope<"u"&&typeof Jl().importScripts=="function"}async function sre(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ore(){return navigator?.serviceWorker?.controller||null}function lre(){return UB()?self:null}const zB="firebaseLocalStorageDb",cre=1,Rv="firebaseLocalStorage",VB="fbase_key";class A1{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tb(t,e){return t.transaction([Rv],e?"readwrite":"readonly").objectStore(Rv)}function ure(){const t=indexedDB.deleteDatabase(zB);return new A1(t).toPromise()}function DT(){const t=indexedDB.open(zB,cre);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rv,{keyPath:VB})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Rv)?e(r):(r.close(),await ure(),e(await DT()))})})}async function Pk(t,e,n){const r=Tb(t,!0).put({[VB]:e,value:n});return new A1(r).toPromise()}async function fre(t,e){const n=Tb(t,!1).get(e),r=await new A1(n).toPromise();return r===void 0?null:r.value}function jk(t,e){const n=Tb(t,!0).delete(e);return new A1(n).toPromise()}const dre=800,hre=3;class HB{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await DT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>hre)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UB()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sb._getInstance(lre()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sre(),!this.activeServiceWorker)return;this.sender=new ire(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ore()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await DT();return await Pk(e,Mv,"1"),await jk(e,Mv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Pk(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>fre(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Tb(i,!1).getAll();return new A1(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dre)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HB.type="LOCAL";const pre=HB;new E1(3e4,6e4);function mre(t,e){return e?Xc(e):(rn(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class e3 extends Q4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return z0(e,this._buildIdpRequest())}_linkToIdToken(e,n){return z0(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return z0(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gre(t){return PB(t.auth,new e3(t),t.bypassAuthState)}function xre(t){const{auth:e,user:n}=t;return rn(n,e,"internal-error"),qne(n,new e3(t),t.bypassAuthState)}async function yre(t){const{auth:e,user:n}=t;return rn(n,e,"internal-error"),Gne(n,new e3(t),t.bypassAuthState)}class WB{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:c}=e;if(s){this.reject(s);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gre;case"linkViaPopup":case"linkViaRedirect":return yre;case"reauthViaPopup":case"reauthViaRedirect":return xre;default:Tl(this.auth,"internal-error")}}resolve(e){cu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vre=new E1(2e3,1e4);class C0 extends WB{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,C0.currentPopupAction&&C0.currentPopupAction.cancel(),C0.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return rn(e,this.auth,"internal-error"),e}async onExecution(){cu(this.filter.length===1,"Popup operations only handle one event");const e=J4();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C0.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vre.get())};e()}}C0.currentPopupAction=null;const bre="pendingRedirect",tv=new Map;class wre extends WB{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=tv.get(this.auth._key());if(!e){try{const r=await Ere(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}tv.set(this.auth._key(),e)}return this.bypassAuthState||tv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ere(t,e){const n=Sre(e),r=Are(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function _re(t,e){tv.set(t._key(),e)}function Are(t){return Xc(t._redirectPersistence)}function Sre(t){return ev(bre,t.config.apiKey,t.name)}async function Tre(t,e,n=!1){if(ml(t.app))return Promise.reject(Of(t));const r=Tp(t),i=mre(r,e),s=await new wre(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}const Cre=600*1e3;class Ire{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Nre(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!GB(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Zl(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Cre&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lk(e))}saveEventToCache(e){this.cachedEventUids.add(Lk(e)),this.lastProcessedEventTime=Date.now()}}function Lk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GB({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Nre(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GB(t);default:return!1}}async function Ore(t,e={}){return Zf(t,"GET","/v1/projects",e)}const Mre=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rre=/^https?/;async function kre(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Ore(t);for(const n of e)try{if(Dre(n))return}catch{}Tl(t,"unauthorized-domain")}function Dre(t){const e=RT(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Rre.test(n))return!1;if(Mre.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Pre=new E1(3e4,6e4);function Fk(){const t=Jl().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jre(t){return new Promise((e,n)=>{function r(){Fk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fk(),n(Zl(t,"network-request-failed"))},timeout:Pre.get()})}if(Jl().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Jl().gapi?.load)r();else{const i=Ine("iframefcb");return Jl()[i]=()=>{gapi.load?r():n(Zl(t,"network-request-failed"))},OB(`${Cne()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw nv=null,e})}let nv=null;function Lre(t){return nv=nv||jre(t),nv}const Fre=new E1(5e3,15e3),Bre="__/auth/iframe",Ure="emulator/auth/iframe",zre={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vre=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hre(t){const e=t.config;rn(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$4(e,Ure):`https://${t.config.authDomain}/${Bre}`,r={apiKey:e.apiKey,appName:t.name,v:Sp},i=Vre.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${w1(r).slice(1)}`}async function Wre(t){const e=await Lre(t),n=Jl().gapi;return rn(n,t,"internal-error"),e.open({where:document.body,url:Hre(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zre,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=Zl(t,"network-request-failed"),c=Jl().setTimeout(()=>{a(s)},Fre.get());function d(){Jl().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{a(s)})}))}const Gre={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qre=500,Yre=600,$re="_blank",Kre="http://localhost";class Bk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Xre(t,e,n,r=qre,i=Yre){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...Gre,width:r.toString(),height:i.toString(),top:a,left:s},u=ss().toLowerCase();n&&(c=_B(u)?$re:n),wB(u)&&(e=e||Kre,d.scrollbars="yes");const p=Object.entries(d).reduce((w,[A,N])=>`${w}${A}=${N},`,"");if(yne(u)&&c!=="_self")return Qre(e||"",c),new Bk(null);const x=window.open(e||"",c,p);rn(x,t,"popup-blocked");try{x.focus()}catch{}return new Bk(x)}function Qre(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const Zre="__/auth/handler",Jre="emulator/auth/handler",eie=encodeURIComponent("fac");async function Uk(t,e,n,r,i,a){rn(t.config.authDomain,t,"auth-domain-config-required"),rn(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Sp,eventId:i};if(e instanceof kB){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Lee(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,x]of Object.entries({}))s[p]=x}if(e instanceof _1){const p=e.getScopes().filter(x=>x!=="");p.length>0&&(s.scopes=p.join(","))}t.tenantId&&(s.tid=t.tenantId);const c=s;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await t._getAppCheckToken(),u=d?`#${eie}=${encodeURIComponent(d)}`:"";return`${tie(t)}?${w1(c).slice(1)}${u}`}function tie({config:t}){return t.emulator?$4(t,Jre):`https://${t.authDomain}/${Zre}`}const sA="webStorageSupport";class nie{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BB,this._completeRedirectFn=Tre,this._overrideRedirectResult=_re}async _openPopup(e,n,r,i){cu(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Uk(e,n,r,RT(),i);return Xre(e,a,J4())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await Uk(e,n,r,RT(),i);return are(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(cu(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Wre(e),r=new Ire(e);return n.register("authEvent",i=>(rn(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sA,{type:sA},i=>{const a=i?.[0]?.[sA];a!==void 0&&n(!!a),Tl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kre(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IB()||EB()||X4()}}const rie=nie;var zk="@firebase/auth",Vk="1.12.0";class iie{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){rn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function aie(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sie(t){oc(new Sl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;rn(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NB(t)},u=new Ane(r,i,a,d);return Dne(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),oc(new Sl("auth-internal",e=>{const n=Tp(e.getProvider("auth").getImmediate());return(r=>new iie(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yo(zk,Vk,aie(t)),Yo(zk,Vk,"esm2020")}const oie=300,lie=tB("authIdTokenMaxAge")||oie;let Hk=null;const cie=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>lie)return;const i=n?.token;Hk!==i&&(Hk=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function uie(t=q4()){const e=wh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kne(t,{popupRedirectResolver:rie,persistence:[pre,nre,BB]}),r=tB("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=cie(a.toString());Qne(n,s,()=>s(n.currentUser)),Xne(n,c=>s(c))}}const i=JF("auth");return i&&Pne(n,`http://${i}`),n}function fie(){return document.getElementsByTagName("head")?.[0]??document}Sne({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Zl("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",fie().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sie("Browser");var die="firebase",hie="12.9.0";Yo(die,hie,"app");var Wk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Mf,qB;(function(){var t;function e(F,U){function B(){}B.prototype=U.prototype,F.F=U.prototype,F.prototype=new B,F.prototype.constructor=F,F.D=function(J,H,G){for(var q=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)q[Ce-2]=arguments[Ce];return U.prototype[H].apply(J,q)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(F,U,B){B||(B=0);const J=Array(16);if(typeof U=="string")for(var H=0;H<16;++H)J[H]=U.charCodeAt(B++)|U.charCodeAt(B++)<<8|U.charCodeAt(B++)<<16|U.charCodeAt(B++)<<24;else for(H=0;H<16;++H)J[H]=U[B++]|U[B++]<<8|U[B++]<<16|U[B++]<<24;U=F.g[0],B=F.g[1],H=F.g[2];let G=F.g[3],q;q=U+(G^B&(H^G))+J[0]+3614090360&4294967295,U=B+(q<<7&4294967295|q>>>25),q=G+(H^U&(B^H))+J[1]+3905402710&4294967295,G=U+(q<<12&4294967295|q>>>20),q=H+(B^G&(U^B))+J[2]+606105819&4294967295,H=G+(q<<17&4294967295|q>>>15),q=B+(U^H&(G^U))+J[3]+3250441966&4294967295,B=H+(q<<22&4294967295|q>>>10),q=U+(G^B&(H^G))+J[4]+4118548399&4294967295,U=B+(q<<7&4294967295|q>>>25),q=G+(H^U&(B^H))+J[5]+1200080426&4294967295,G=U+(q<<12&4294967295|q>>>20),q=H+(B^G&(U^B))+J[6]+2821735955&4294967295,H=G+(q<<17&4294967295|q>>>15),q=B+(U^H&(G^U))+J[7]+4249261313&4294967295,B=H+(q<<22&4294967295|q>>>10),q=U+(G^B&(H^G))+J[8]+1770035416&4294967295,U=B+(q<<7&4294967295|q>>>25),q=G+(H^U&(B^H))+J[9]+2336552879&4294967295,G=U+(q<<12&4294967295|q>>>20),q=H+(B^G&(U^B))+J[10]+4294925233&4294967295,H=G+(q<<17&4294967295|q>>>15),q=B+(U^H&(G^U))+J[11]+2304563134&4294967295,B=H+(q<<22&4294967295|q>>>10),q=U+(G^B&(H^G))+J[12]+1804603682&4294967295,U=B+(q<<7&4294967295|q>>>25),q=G+(H^U&(B^H))+J[13]+4254626195&4294967295,G=U+(q<<12&4294967295|q>>>20),q=H+(B^G&(U^B))+J[14]+2792965006&4294967295,H=G+(q<<17&4294967295|q>>>15),q=B+(U^H&(G^U))+J[15]+1236535329&4294967295,B=H+(q<<22&4294967295|q>>>10),q=U+(H^G&(B^H))+J[1]+4129170786&4294967295,U=B+(q<<5&4294967295|q>>>27),q=G+(B^H&(U^B))+J[6]+3225465664&4294967295,G=U+(q<<9&4294967295|q>>>23),q=H+(U^B&(G^U))+J[11]+643717713&4294967295,H=G+(q<<14&4294967295|q>>>18),q=B+(G^U&(H^G))+J[0]+3921069994&4294967295,B=H+(q<<20&4294967295|q>>>12),q=U+(H^G&(B^H))+J[5]+3593408605&4294967295,U=B+(q<<5&4294967295|q>>>27),q=G+(B^H&(U^B))+J[10]+38016083&4294967295,G=U+(q<<9&4294967295|q>>>23),q=H+(U^B&(G^U))+J[15]+3634488961&4294967295,H=G+(q<<14&4294967295|q>>>18),q=B+(G^U&(H^G))+J[4]+3889429448&4294967295,B=H+(q<<20&4294967295|q>>>12),q=U+(H^G&(B^H))+J[9]+568446438&4294967295,U=B+(q<<5&4294967295|q>>>27),q=G+(B^H&(U^B))+J[14]+3275163606&4294967295,G=U+(q<<9&4294967295|q>>>23),q=H+(U^B&(G^U))+J[3]+4107603335&4294967295,H=G+(q<<14&4294967295|q>>>18),q=B+(G^U&(H^G))+J[8]+1163531501&4294967295,B=H+(q<<20&4294967295|q>>>12),q=U+(H^G&(B^H))+J[13]+2850285829&4294967295,U=B+(q<<5&4294967295|q>>>27),q=G+(B^H&(U^B))+J[2]+4243563512&4294967295,G=U+(q<<9&4294967295|q>>>23),q=H+(U^B&(G^U))+J[7]+1735328473&4294967295,H=G+(q<<14&4294967295|q>>>18),q=B+(G^U&(H^G))+J[12]+2368359562&4294967295,B=H+(q<<20&4294967295|q>>>12),q=U+(B^H^G)+J[5]+4294588738&4294967295,U=B+(q<<4&4294967295|q>>>28),q=G+(U^B^H)+J[8]+2272392833&4294967295,G=U+(q<<11&4294967295|q>>>21),q=H+(G^U^B)+J[11]+1839030562&4294967295,H=G+(q<<16&4294967295|q>>>16),q=B+(H^G^U)+J[14]+4259657740&4294967295,B=H+(q<<23&4294967295|q>>>9),q=U+(B^H^G)+J[1]+2763975236&4294967295,U=B+(q<<4&4294967295|q>>>28),q=G+(U^B^H)+J[4]+1272893353&4294967295,G=U+(q<<11&4294967295|q>>>21),q=H+(G^U^B)+J[7]+4139469664&4294967295,H=G+(q<<16&4294967295|q>>>16),q=B+(H^G^U)+J[10]+3200236656&4294967295,B=H+(q<<23&4294967295|q>>>9),q=U+(B^H^G)+J[13]+681279174&4294967295,U=B+(q<<4&4294967295|q>>>28),q=G+(U^B^H)+J[0]+3936430074&4294967295,G=U+(q<<11&4294967295|q>>>21),q=H+(G^U^B)+J[3]+3572445317&4294967295,H=G+(q<<16&4294967295|q>>>16),q=B+(H^G^U)+J[6]+76029189&4294967295,B=H+(q<<23&4294967295|q>>>9),q=U+(B^H^G)+J[9]+3654602809&4294967295,U=B+(q<<4&4294967295|q>>>28),q=G+(U^B^H)+J[12]+3873151461&4294967295,G=U+(q<<11&4294967295|q>>>21),q=H+(G^U^B)+J[15]+530742520&4294967295,H=G+(q<<16&4294967295|q>>>16),q=B+(H^G^U)+J[2]+3299628645&4294967295,B=H+(q<<23&4294967295|q>>>9),q=U+(H^(B|~G))+J[0]+4096336452&4294967295,U=B+(q<<6&4294967295|q>>>26),q=G+(B^(U|~H))+J[7]+1126891415&4294967295,G=U+(q<<10&4294967295|q>>>22),q=H+(U^(G|~B))+J[14]+2878612391&4294967295,H=G+(q<<15&4294967295|q>>>17),q=B+(G^(H|~U))+J[5]+4237533241&4294967295,B=H+(q<<21&4294967295|q>>>11),q=U+(H^(B|~G))+J[12]+1700485571&4294967295,U=B+(q<<6&4294967295|q>>>26),q=G+(B^(U|~H))+J[3]+2399980690&4294967295,G=U+(q<<10&4294967295|q>>>22),q=H+(U^(G|~B))+J[10]+4293915773&4294967295,H=G+(q<<15&4294967295|q>>>17),q=B+(G^(H|~U))+J[1]+2240044497&4294967295,B=H+(q<<21&4294967295|q>>>11),q=U+(H^(B|~G))+J[8]+1873313359&4294967295,U=B+(q<<6&4294967295|q>>>26),q=G+(B^(U|~H))+J[15]+4264355552&4294967295,G=U+(q<<10&4294967295|q>>>22),q=H+(U^(G|~B))+J[6]+2734768916&4294967295,H=G+(q<<15&4294967295|q>>>17),q=B+(G^(H|~U))+J[13]+1309151649&4294967295,B=H+(q<<21&4294967295|q>>>11),q=U+(H^(B|~G))+J[4]+4149444226&4294967295,U=B+(q<<6&4294967295|q>>>26),q=G+(B^(U|~H))+J[11]+3174756917&4294967295,G=U+(q<<10&4294967295|q>>>22),q=H+(U^(G|~B))+J[2]+718787259&4294967295,H=G+(q<<15&4294967295|q>>>17),q=B+(G^(H|~U))+J[9]+3951481745&4294967295,F.g[0]=F.g[0]+U&4294967295,F.g[1]=F.g[1]+(H+(q<<21&4294967295|q>>>11))&4294967295,F.g[2]=F.g[2]+H&4294967295,F.g[3]=F.g[3]+G&4294967295}r.prototype.v=function(F,U){U===void 0&&(U=F.length);const B=U-this.blockSize,J=this.C;let H=this.h,G=0;for(;G<U;){if(H==0)for(;G<=B;)i(this,F,G),G+=this.blockSize;if(typeof F=="string"){for(;G<U;)if(J[H++]=F.charCodeAt(G++),H==this.blockSize){i(this,J),H=0;break}}else for(;G<U;)if(J[H++]=F[G++],H==this.blockSize){i(this,J),H=0;break}}this.h=H,this.o+=U},r.prototype.A=function(){var F=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);F[0]=128;for(var U=1;U<F.length-8;++U)F[U]=0;U=this.o*8;for(var B=F.length-8;B<F.length;++B)F[B]=U&255,U/=256;for(this.v(F),F=Array(16),U=0,B=0;B<4;++B)for(let J=0;J<32;J+=8)F[U++]=this.g[B]>>>J&255;return F};function a(F,U){var B=c;return Object.prototype.hasOwnProperty.call(B,F)?B[F]:B[F]=U(F)}function s(F,U){this.h=U;const B=[];let J=!0;for(let H=F.length-1;H>=0;H--){const G=F[H]|0;J&&G==U||(B[H]=G,J=!1)}this.g=B}var c={};function d(F){return-128<=F&&F<128?a(F,function(U){return new s([U|0],U<0?-1:0)}):new s([F|0],F<0?-1:0)}function u(F){if(isNaN(F)||!isFinite(F))return x;if(F<0)return I(u(-F));const U=[];let B=1;for(let J=0;F>=B;J++)U[J]=F/B|0,B*=4294967296;return new s(U,0)}function p(F,U){if(F.length==0)throw Error("number format error: empty string");if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(F.charAt(0)=="-")return I(p(F.substring(1),U));if(F.indexOf("-")>=0)throw Error('number format error: interior "-" character');const B=u(Math.pow(U,8));let J=x;for(let G=0;G<F.length;G+=8){var H=Math.min(8,F.length-G);const q=parseInt(F.substring(G,G+H),U);H<8?(H=u(Math.pow(U,H)),J=J.j(H).add(u(q))):(J=J.j(B),J=J.add(u(q)))}return J}var x=d(0),w=d(1),A=d(16777216);t=s.prototype,t.m=function(){if(S(this))return-I(this).m();let F=0,U=1;for(let B=0;B<this.g.length;B++){const J=this.i(B);F+=(J>=0?J:4294967296+J)*U,U*=4294967296}return F},t.toString=function(F){if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(N(this))return"0";if(S(this))return"-"+I(this).toString(F);const U=u(Math.pow(F,6));var B=this;let J="";for(;;){const H=V(B,U).g;B=j(B,H.j(U));let G=((B.g.length>0?B.g[0]:B.h)>>>0).toString(F);if(B=H,N(B))return G+J;for(;G.length<6;)G="0"+G;J=G+J}},t.i=function(F){return F<0?0:F<this.g.length?this.g[F]:this.h};function N(F){if(F.h!=0)return!1;for(let U=0;U<F.g.length;U++)if(F.g[U]!=0)return!1;return!0}function S(F){return F.h==-1}t.l=function(F){return F=j(this,F),S(F)?-1:N(F)?0:1};function I(F){const U=F.g.length,B=[];for(let J=0;J<U;J++)B[J]=~F.g[J];return new s(B,~F.h).add(w)}t.abs=function(){return S(this)?I(this):this},t.add=function(F){const U=Math.max(this.g.length,F.g.length),B=[];let J=0;for(let H=0;H<=U;H++){let G=J+(this.i(H)&65535)+(F.i(H)&65535),q=(G>>>16)+(this.i(H)>>>16)+(F.i(H)>>>16);J=q>>>16,G&=65535,q&=65535,B[H]=q<<16|G}return new s(B,B[B.length-1]&-2147483648?-1:0)};function j(F,U){return F.add(I(U))}t.j=function(F){if(N(this)||N(F))return x;if(S(this))return S(F)?I(this).j(I(F)):I(I(this).j(F));if(S(F))return I(this.j(I(F)));if(this.l(A)<0&&F.l(A)<0)return u(this.m()*F.m());const U=this.g.length+F.g.length,B=[];for(var J=0;J<2*U;J++)B[J]=0;for(J=0;J<this.g.length;J++)for(let H=0;H<F.g.length;H++){const G=this.i(J)>>>16,q=this.i(J)&65535,Ce=F.i(H)>>>16,re=F.i(H)&65535;B[2*J+2*H]+=q*re,D(B,2*J+2*H),B[2*J+2*H+1]+=G*re,D(B,2*J+2*H+1),B[2*J+2*H+1]+=q*Ce,D(B,2*J+2*H+1),B[2*J+2*H+2]+=G*Ce,D(B,2*J+2*H+2)}for(F=0;F<U;F++)B[F]=B[2*F+1]<<16|B[2*F];for(F=U;F<2*U;F++)B[F]=0;return new s(B,0)};function D(F,U){for(;(F[U]&65535)!=F[U];)F[U+1]+=F[U]>>>16,F[U]&=65535,U++}function P(F,U){this.g=F,this.h=U}function V(F,U){if(N(U))throw Error("division by zero");if(N(F))return new P(x,x);if(S(F))return U=V(I(F),U),new P(I(U.g),I(U.h));if(S(U))return U=V(F,I(U)),new P(I(U.g),U.h);if(F.g.length>30){if(S(F)||S(U))throw Error("slowDivide_ only works with positive integers.");for(var B=w,J=U;J.l(F)<=0;)B=K(B),J=K(J);var H=Z(B,1),G=Z(J,1);for(J=Z(J,2),B=Z(B,2);!N(J);){var q=G.add(J);q.l(F)<=0&&(H=H.add(B),G=q),J=Z(J,1),B=Z(B,1)}return U=j(F,H.j(U)),new P(H,U)}for(H=x;F.l(U)>=0;){for(B=Math.max(1,Math.floor(F.m()/U.m())),J=Math.ceil(Math.log(B)/Math.LN2),J=J<=48?1:Math.pow(2,J-48),G=u(B),q=G.j(U);S(q)||q.l(F)>0;)B-=J,G=u(B),q=G.j(U);N(G)&&(G=w),H=H.add(G),F=j(F,q)}return new P(H,F)}t.B=function(F){return V(this,F).h},t.and=function(F){const U=Math.max(this.g.length,F.g.length),B=[];for(let J=0;J<U;J++)B[J]=this.i(J)&F.i(J);return new s(B,this.h&F.h)},t.or=function(F){const U=Math.max(this.g.length,F.g.length),B=[];for(let J=0;J<U;J++)B[J]=this.i(J)|F.i(J);return new s(B,this.h|F.h)},t.xor=function(F){const U=Math.max(this.g.length,F.g.length),B=[];for(let J=0;J<U;J++)B[J]=this.i(J)^F.i(J);return new s(B,this.h^F.h)};function K(F){const U=F.g.length+1,B=[];for(let J=0;J<U;J++)B[J]=F.i(J)<<1|F.i(J-1)>>>31;return new s(B,F.h)}function Z(F,U){const B=U>>5;U%=32;const J=F.g.length-B,H=[];for(let G=0;G<J;G++)H[G]=U>0?F.i(G+B)>>>U|F.i(G+B+1)<<32-U:F.i(G+B);return new s(H,F.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,qB=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=p,Mf=s}).apply(typeof Wk<"u"?Wk:typeof self<"u"?self:typeof window<"u"?window:{});var my=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var YB,Zm,$B,rv,PT,KB,XB,QB;(function(){var t,e=Object.defineProperty;function n(T){T=[typeof globalThis=="object"&&globalThis,T,typeof window=="object"&&window,typeof self=="object"&&self,typeof my=="object"&&my];for(var z=0;z<T.length;++z){var X=T[z];if(X&&X.Math==Math)return X}throw Error("Cannot find global object")}var r=n(this);function i(T,z){if(z)e:{var X=r;T=T.split(".");for(var he=0;he<T.length-1;he++){var ke=T[he];if(!(ke in X))break e;X=X[ke]}T=T[T.length-1],he=X[T],z=z(he),z!=he&&z!=null&&e(X,T,{configurable:!0,writable:!0,value:z})}}i("Symbol.dispose",function(T){return T||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(T){return T||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(T){return T||function(z){var X=[],he;for(he in z)Object.prototype.hasOwnProperty.call(z,he)&&X.push([he,z[he]]);return X}});var a=a||{},s=this||self;function c(T){var z=typeof T;return z=="object"&&T!=null||z=="function"}function d(T,z,X){return T.call.apply(T.bind,arguments)}function u(T,z,X){return u=d,u.apply(null,arguments)}function p(T,z){var X=Array.prototype.slice.call(arguments,1);return function(){var he=X.slice();return he.push.apply(he,arguments),T.apply(this,he)}}function x(T,z){function X(){}X.prototype=z.prototype,T.Z=z.prototype,T.prototype=new X,T.prototype.constructor=T,T.Ob=function(he,ke,Ke){for(var wt=Array(arguments.length-2),on=2;on<arguments.length;on++)wt[on-2]=arguments[on];return z.prototype[ke].apply(he,wt)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?T=>T&&AsyncContext.Snapshot.wrap(T):T=>T;function A(T){const z=T.length;if(z>0){const X=Array(z);for(let he=0;he<z;he++)X[he]=T[he];return X}return[]}function N(T,z){for(let he=1;he<arguments.length;he++){const ke=arguments[he];var X=typeof ke;if(X=X!="object"?X:ke?Array.isArray(ke)?"array":X:"null",X=="array"||X=="object"&&typeof ke.length=="number"){X=T.length||0;const Ke=ke.length||0;T.length=X+Ke;for(let wt=0;wt<Ke;wt++)T[X+wt]=ke[wt]}else T.push(ke)}}class S{constructor(z,X){this.i=z,this.j=X,this.h=0,this.g=null}get(){let z;return this.h>0?(this.h--,z=this.g,this.g=z.next,z.next=null):z=this.i(),z}}function I(T){s.setTimeout(()=>{throw T},0)}function j(){var T=F;let z=null;return T.g&&(z=T.g,T.g=T.g.next,T.g||(T.h=null),z.next=null),z}class D{constructor(){this.h=this.g=null}add(z,X){const he=P.get();he.set(z,X),this.h?this.h.next=he:this.g=he,this.h=he}}var P=new S(()=>new V,T=>T.reset());class V{constructor(){this.next=this.g=this.h=null}set(z,X){this.h=z,this.g=X,this.next=null}reset(){this.next=this.g=this.h=null}}let K,Z=!1,F=new D,U=()=>{const T=Promise.resolve(void 0);K=()=>{T.then(B)}};function B(){for(var T;T=j();){try{T.h.call(T.g)}catch(X){I(X)}var z=P;z.j(T),z.h<100&&(z.h++,T.next=z.g,z.g=T)}Z=!1}function J(){this.u=this.u,this.C=this.C}J.prototype.u=!1,J.prototype.dispose=function(){this.u||(this.u=!0,this.N())},J.prototype[Symbol.dispose]=function(){this.dispose()},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(T,z){this.type=T,this.g=this.target=z,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var G=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var T=!1,z=Object.defineProperty({},"passive",{get:function(){T=!0}});try{const X=()=>{};s.addEventListener("test",X,z),s.removeEventListener("test",X,z)}catch{}return T})();function q(T){return/^[\s\xa0]*$/.test(T)}function Ce(T,z){H.call(this,T?T.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,T&&this.init(T,z)}x(Ce,H),Ce.prototype.init=function(T,z){const X=this.type=T.type,he=T.changedTouches&&T.changedTouches.length?T.changedTouches[0]:null;this.target=T.target||T.srcElement,this.g=z,z=T.relatedTarget,z||(X=="mouseover"?z=T.fromElement:X=="mouseout"&&(z=T.toElement)),this.relatedTarget=z,he?(this.clientX=he.clientX!==void 0?he.clientX:he.pageX,this.clientY=he.clientY!==void 0?he.clientY:he.pageY,this.screenX=he.screenX||0,this.screenY=he.screenY||0):(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0),this.button=T.button,this.key=T.key||"",this.ctrlKey=T.ctrlKey,this.altKey=T.altKey,this.shiftKey=T.shiftKey,this.metaKey=T.metaKey,this.pointerId=T.pointerId||0,this.pointerType=T.pointerType,this.state=T.state,this.i=T,T.defaultPrevented&&Ce.Z.h.call(this)},Ce.prototype.h=function(){Ce.Z.h.call(this);const T=this.i;T.preventDefault?T.preventDefault():T.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),ue=0;function me(T,z,X,he,ke){this.listener=T,this.proxy=null,this.src=z,this.type=X,this.capture=!!he,this.ha=ke,this.key=++ue,this.da=this.fa=!1}function Re(T){T.da=!0,T.listener=null,T.proxy=null,T.src=null,T.ha=null}function Be(T,z,X){for(const he in T)z.call(X,T[he],he,T)}function be(T,z){for(const X in T)z.call(void 0,T[X],X,T)}function Q(T){const z={};for(const X in T)z[X]=T[X];return z}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(T,z){let X,he;for(let ke=1;ke<arguments.length;ke++){he=arguments[ke];for(X in he)T[X]=he[X];for(let Ke=0;Ke<ee.length;Ke++)X=ee[Ke],Object.prototype.hasOwnProperty.call(he,X)&&(T[X]=he[X])}}function se(T){this.src=T,this.g={},this.h=0}se.prototype.add=function(T,z,X,he,ke){const Ke=T.toString();T=this.g[Ke],T||(T=this.g[Ke]=[],this.h++);const wt=Ee(T,z,he,ke);return wt>-1?(z=T[wt],X||(z.fa=!1)):(z=new me(z,this.src,Ke,!!he,ke),z.fa=X,T.push(z)),z};function fe(T,z){const X=z.type;if(X in T.g){var he=T.g[X],ke=Array.prototype.indexOf.call(he,z,void 0),Ke;(Ke=ke>=0)&&Array.prototype.splice.call(he,ke,1),Ke&&(Re(z),T.g[X].length==0&&(delete T.g[X],T.h--))}}function Ee(T,z,X,he){for(let ke=0;ke<T.length;++ke){const Ke=T[ke];if(!Ke.da&&Ke.listener==z&&Ke.capture==!!X&&Ke.ha==he)return ke}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),Ge={};function _e(T,z,X,he,ke){if(Array.isArray(z)){for(let Ke=0;Ke<z.length;Ke++)_e(T,z[Ke],X,he,ke);return null}return X=It(X),T&&T[re]?T.J(z,X,c(he)?!!he.capture:!1,ke):ze(T,z,X,!1,he,ke)}function ze(T,z,X,he,ke,Ke){if(!z)throw Error("Invalid event type");const wt=c(ke)?!!ke.capture:!!ke;let on=Ct(T);if(on||(T[Ne]=on=new se(T)),X=on.add(z,X,he,wt,Ke),X.proxy)return X;if(he=tt(),X.proxy=he,he.src=T,he.listener=X,T.addEventListener)G||(ke=wt),ke===void 0&&(ke=!1),T.addEventListener(z.toString(),he,ke);else if(T.attachEvent)T.attachEvent(nt(z.toString()),he);else if(T.addListener&&T.removeListener)T.addListener(he);else throw Error("addEventListener and attachEvent are unavailable.");return X}function tt(){function T(X){return z.call(T.src,T.listener,X)}const z=Ut;return T}function Me(T,z,X,he,ke){if(Array.isArray(z))for(var Ke=0;Ke<z.length;Ke++)Me(T,z[Ke],X,he,ke);else he=c(he)?!!he.capture:!!he,X=It(X),T&&T[re]?(T=T.i,Ke=String(z).toString(),Ke in T.g&&(z=T.g[Ke],X=Ee(z,X,he,ke),X>-1&&(Re(z[X]),Array.prototype.splice.call(z,X,1),z.length==0&&(delete T.g[Ke],T.h--)))):T&&(T=Ct(T))&&(z=T.g[z.toString()],T=-1,z&&(T=Ee(z,X,he,ke)),(X=T>-1?z[T]:null)&&gt(X))}function gt(T){if(typeof T!="number"&&T&&!T.da){var z=T.src;if(z&&z[re])fe(z.i,T);else{var X=T.type,he=T.proxy;z.removeEventListener?z.removeEventListener(X,he,T.capture):z.detachEvent?z.detachEvent(nt(X),he):z.addListener&&z.removeListener&&z.removeListener(he),(X=Ct(z))?(fe(X,T),X.h==0&&(X.src=null,z[Ne]=null)):Re(T)}}}function nt(T){return T in Ge?Ge[T]:Ge[T]="on"+T}function Ut(T,z){if(T.da)T=!0;else{z=new Ce(z,this);const X=T.listener,he=T.ha||T.src;T.fa&&gt(T),T=X.call(he,z)}return T}function Ct(T){return T=T[Ne],T instanceof se?T:null}var st="__closure_events_fn_"+(Math.random()*1e9>>>0);function It(T){return typeof T=="function"?T:(T[st]||(T[st]=function(z){return T.handleEvent(z)}),T[st])}function _t(){J.call(this),this.i=new se(this),this.M=this,this.G=null}x(_t,J),_t.prototype[re]=!0,_t.prototype.removeEventListener=function(T,z,X,he){Me(this,T,z,X,he)};function bt(T,z){var X,he=T.G;if(he)for(X=[];he;he=he.G)X.push(he);if(T=T.M,he=z.type||z,typeof z=="string")z=new H(z,T);else if(z instanceof H)z.target=z.target||T;else{var ke=z;z=new H(he,T),oe(z,ke)}ke=!0;let Ke,wt;if(X)for(wt=X.length-1;wt>=0;wt--)Ke=z.g=X[wt],ke=mt(Ke,he,!0,z)&&ke;if(Ke=z.g=T,ke=mt(Ke,he,!0,z)&&ke,ke=mt(Ke,he,!1,z)&&ke,X)for(wt=0;wt<X.length;wt++)Ke=z.g=X[wt],ke=mt(Ke,he,!1,z)&&ke}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var T=this.i;for(const z in T.g){const X=T.g[z];for(let he=0;he<X.length;he++)Re(X[he]);delete T.g[z],T.h--}}this.G=null},_t.prototype.J=function(T,z,X,he){return this.i.add(String(T),z,!1,X,he)},_t.prototype.K=function(T,z,X,he){return this.i.add(String(T),z,!0,X,he)};function mt(T,z,X,he){if(z=T.i.g[String(z)],!z)return!0;z=z.concat();let ke=!0;for(let Ke=0;Ke<z.length;++Ke){const wt=z[Ke];if(wt&&!wt.da&&wt.capture==X){const on=wt.listener,Kr=wt.ha||wt.src;wt.fa&&fe(T.i,wt),ke=on.call(Kr,he)!==!1&&ke}}return ke&&!he.defaultPrevented}function fi(T,z){if(typeof T!="function")if(T&&typeof T.handleEvent=="function")T=u(T.handleEvent,T);else throw Error("Invalid listener argument");return Number(z)>2147483647?-1:s.setTimeout(T,z||0)}function nr(T){T.g=fi(()=>{T.g=null,T.i&&(T.i=!1,nr(T))},T.l);const z=T.h;T.h=null,T.m.apply(null,z)}class Kt extends J{constructor(z,X){super(),this.m=z,this.l=X,this.h=null,this.i=!1,this.g=null}j(z){this.h=arguments,this.g?this.i=!0:nr(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rr(T){J.call(this),this.h=T,this.g={}}x(Rr,J);var ye=[];function yt(T){Be(T.g,function(z,X){this.g.hasOwnProperty(X)&&gt(z)},T),T.g={}}Rr.prototype.N=function(){Rr.Z.N.call(this),yt(this)},Rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rt=s.JSON.stringify,Xt=s.JSON.parse,In=class{stringify(T){return s.JSON.stringify(T,void 0)}parse(T){return s.JSON.parse(T,void 0)}};function nn(){}function Ea(){}var mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ct(){H.call(this,"d")}x(ct,H);function yn(){H.call(this,"c")}x(yn,H);var Ht={},gn=null;function di(){return gn=gn||new _t}Ht.Ia="serverreachability";function Wr(T){H.call(this,Ht.Ia,T)}x(Wr,H);function hi(T){const z=di();bt(z,new Wr(z))}Ht.STAT_EVENT="statevent";function sn(T,z){H.call(this,Ht.STAT_EVENT,T),this.stat=z}x(sn,H);function kn(T){const z=di();bt(z,new sn(z,T))}Ht.Ja="timingevent";function kr(T,z){H.call(this,Ht.Ja,T),this.size=z}x(kr,H);function sa(T,z){if(typeof T!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){T()},z)}function _r(){this.g=!0}_r.prototype.ua=function(){this.g=!1};function qs(T,z,X,he,ke,Ke){T.info(function(){if(T.g)if(Ke){var wt="",on=Ke.split("&");for(let zn=0;zn<on.length;zn++){var Kr=on[zn].split("=");if(Kr.length>1){const Tr=Kr[0];Kr=Kr[1];const us=Tr.split("_");wt=us.length>=2&&us[1]=="type"?wt+(Tr+"="+Kr+"&"):wt+(Tr+"=redacted&")}}}else wt=null;else wt=Ke;return"XMLHTTP REQ ("+he+") [attempt "+ke+"]: "+z+`
`+X+`
`+wt})}function Dr(T,z,X,he,ke,Ke,wt){T.info(function(){return"XMLHTTP RESP ("+he+") [ attempt "+ke+"]: "+z+`
`+X+`
`+Ke+" "+wt})}function ni(T,z,X,he){T.info(function(){return"XMLHTTP TEXT ("+z+"): "+Un(T,X)+(he?" "+he:"")})}function Ha(T,z){T.info(function(){return"TIMEOUT: "+z})}_r.prototype.info=function(){};function Un(T,z){if(!T.g)return z;if(!z)return null;try{const Ke=JSON.parse(z);if(Ke){for(T=0;T<Ke.length;T++)if(Array.isArray(Ke[T])){var X=Ke[T];if(!(X.length<2)){var he=X[1];if(Array.isArray(he)&&!(he.length<1)){var ke=he[0];if(ke!="noop"&&ke!="stop"&&ke!="close")for(let wt=1;wt<he.length;wt++)he[wt]=""}}}}return Rt(Ke)}catch{return z}}var Gr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ar={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Pi;function Pr(){}x(Pr,nn),Pr.prototype.g=function(){return new XMLHttpRequest},Pi=new Pr;function Ci(T){return encodeURIComponent(String(T))}function ie(T){var z=1;T=T.split(":");const X=[];for(;z>0&&T.length;)X.push(T.shift()),z--;return T.length&&X.push(T.join(":")),X}function ce(T,z,X,he){this.j=T,this.i=z,this.l=X,this.S=he||1,this.V=new Rr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new de}function de(){this.i=null,this.g="",this.h=!1}var pe={},ge={};function we(T,z,X){T.M=1,T.A=Wa(qr(z)),T.u=X,T.R=!0,Le(T,null)}function Le(T,z){T.F=Date.now(),Ve(T),T.B=qr(T.A);var X=T.B,he=T.S;Array.isArray(he)||(he=[String(he)]),rr(X.i,"t",he),T.C=0,X=T.j.L,T.h=new de,T.g=Lu(T.j,X?z:null,!T.u),T.P>0&&(T.O=new Kt(u(T.Y,T,T.g),T.P)),z=T.V,X=T.g,he=T.ba;var ke="readystatechange";Array.isArray(ke)||(ke&&(ye[0]=ke.toString()),ke=ye);for(let Ke=0;Ke<ke.length;Ke++){const wt=_e(X,ke[Ke],he||z.handleEvent,!1,z.h||z);if(!wt)break;z.g[wt.key]=wt}z=T.J?Q(T.J):{},T.u?(T.v||(T.v="POST"),z["Content-Type"]="application/x-www-form-urlencoded",T.g.ea(T.B,T.v,T.u,z)):(T.v="GET",T.g.ea(T.B,T.v,null,z)),hi(),qs(T.i,T.v,T.B,T.l,T.S,T.u)}ce.prototype.ba=function(T){T=T.target;const z=this.O;z&&Cs(T)==3?z.j():this.Y(T)},ce.prototype.Y=function(T){try{if(T==this.g)e:{const on=Cs(this.g),Kr=this.g.ya(),zn=this.g.ca();if(!(on<3)&&(on!=3||this.g&&(this.h.h||this.g.la()||si(this.g)))){this.K||on!=4||Kr==7||(Kr==8||zn<=0?hi(3):hi(2)),dt(this);var z=this.g.ca();this.X=z;var X=Ze(this);if(this.o=z==200,Dr(this.i,this.v,this.B,this.l,this.S,on,z),this.o){if(this.U&&!this.L){t:{if(this.g){var he,ke=this.g;if((he=ke.g?ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(he)){var Ke=he;break t}}Ke=null}if(T=Ke)ni(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Et(this,T);else{this.o=!1,this.m=3,kn(12),pt(this),ht(this);break e}}if(this.R){T=!0;let Tr;for(;!this.K&&this.C<X.length;)if(Tr=We(this,X),Tr==ge){on==4&&(this.m=4,kn(14),T=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(Tr==pe){this.m=4,kn(15),ni(this.i,this.l,X,"[Invalid Chunk]"),T=!1;break}else ni(this.i,this.l,Tr,null),Et(this,Tr);if(Pe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||X.length!=0||this.h.h||(this.m=1,kn(16),T=!1),this.o=this.o&&T,!T)ni(this.i,this.l,X,"[Invalid Chunked Response]"),pt(this),ht(this);else if(X.length>0&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.aa&&!wt.P&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),Ye(wt),wt.P=!0,kn(11))}}else ni(this.i,this.l,X,null),Et(this,X);on==4&&pt(this),this.o&&!this.K&&(on==4?Sc(this.j,this):(this.o=!1,Ve(this)))}else cs(this.g),z==400&&X.indexOf("Unknown SID")>0?(this.m=3,kn(12)):(this.m=0,kn(13)),pt(this),ht(this)}}}catch{}};function Ze(T){if(!Pe(T))return T.g.la();const z=si(T.g);if(z==="")return"";let X="";const he=z.length,ke=Cs(T.g)==4;if(!T.h.i){if(typeof TextDecoder>"u")return pt(T),ht(T),"";T.h.i=new s.TextDecoder}for(let Ke=0;Ke<he;Ke++)T.h.h=!0,X+=T.h.i.decode(z[Ke],{stream:!(ke&&Ke==he-1)});return z.length=0,T.h.g+=X,T.C=0,T.h.g}function Pe(T){return T.g?T.v=="GET"&&T.M!=2&&T.j.Aa:!1}function We(T,z){var X=T.C,he=z.indexOf(`
`,X);return he==-1?ge:(X=Number(z.substring(X,he)),isNaN(X)?pe:(he+=1,he+X>z.length?ge:(z=z.slice(he,he+X),T.C=he+X,z)))}ce.prototype.cancel=function(){this.K=!0,pt(this)};function Ve(T){T.T=Date.now()+T.H,ot(T,T.H)}function ot(T,z){if(T.D!=null)throw Error("WatchDog timer not null");T.D=sa(u(T.aa,T),z)}function dt(T){T.D&&(s.clearTimeout(T.D),T.D=null)}ce.prototype.aa=function(){this.D=null;const T=Date.now();T-this.T>=0?(Ha(this.i,this.B),this.M!=2&&(hi(),kn(17)),pt(this),this.m=2,ht(this)):ot(this,this.T-T)};function ht(T){T.j.I==0||T.K||Sc(T.j,T)}function pt(T){dt(T);var z=T.O;z&&typeof z.dispose=="function"&&z.dispose(),T.O=null,yt(T.V),T.g&&(z=T.g,T.g=null,z.abort(),z.dispose())}function Et(T,z){try{var X=T.j;if(X.I!=0&&(X.g==T||ri(X.h,T))){if(!T.L&&ri(X.h,T)&&X.I==3){try{var he=X.Ba.g.parse(z)}catch{he=null}if(Array.isArray(he)&&he.length==3){var ke=he;if(ke[0]==0){e:if(!X.v){if(X.g)if(X.g.F+3e3<T.F)Yr(X),al(X);else break e;Ac(X),kn(18)}}else X.xa=ke[1],0<X.xa-X.K&&ke[2]<37500&&X.F&&X.A==0&&!X.C&&(X.C=sa(u(X.Va,X),6e3));tn(X.h)<=1&&X.ta&&(X.ta=void 0)}else So(X,11)}else if((T.L||X.g==T)&&Yr(X),!q(z))for(ke=X.Ba.g.parse(z),z=0;z<ke.length;z++){let zn=ke[z];const Tr=zn[0];if(!(Tr<=X.K))if(X.K=Tr,zn=zn[1],X.I==2)if(zn[0]=="c"){X.M=zn[1],X.ba=zn[2];const us=zn[3];us!=null&&(X.ka=us,X.j.info("VER="+X.ka));const Io=zn[4];Io!=null&&(X.za=Io,X.j.info("SVER="+X.za));const la=zn[5];la!=null&&typeof la=="number"&&la>0&&(he=1.5*la,X.O=he,X.j.info("backChannelRequestTimeoutMs_="+he)),he=X;const fs=T.g;if(fs){const Cc=fs.g?fs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cc){var Ke=he.h;Ke.g||Cc.indexOf("spdy")==-1&&Cc.indexOf("quic")==-1&&Cc.indexOf("h2")==-1||(Ke.j=Ke.l,Ke.g=new Set,Ke.h&&(Ys(Ke,Ke.h),Ke.h=null))}if(he.G){const No=fs.g?fs.g.getResponseHeader("X-HTTP-Session-Id"):null;No&&(he.wa=No,Jt(he.J,he.G,No))}}X.I=3,X.l&&X.l.ra(),X.aa&&(X.T=Date.now()-T.F,X.j.info("Handshake RTT: "+X.T+"ms")),he=X;var wt=T;if(he.na=Fh(he,he.L?he.ba:null,he.W),wt.L){vn(he.h,wt);var on=wt,Kr=he.O;Kr&&(on.H=Kr),on.D&&(dt(on),Ve(on)),he.g=wt}else Qs(he);X.i.length>0&&Ao(X)}else zn[0]!="stop"&&zn[0]!="close"||So(X,7);else X.I==3&&(zn[0]=="stop"||zn[0]=="close"?zn[0]=="stop"?So(X,7):Du(X):zn[0]!="noop"&&X.l&&X.l.qa(zn),X.A=0)}}hi(4)}catch{}}var kt=class{constructor(T,z){this.g=T,this.map=z}};function Qe(T){this.l=T||10,s.PerformanceNavigationTiming?(T=s.performance.getEntriesByType("navigation"),T=T.length>0&&(T[0].nextHopProtocol=="hq"||T[0].nextHopProtocol=="h2")):T=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=T?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Qn(T){return T.h?!0:T.g?T.g.size>=T.j:!1}function tn(T){return T.h?1:T.g?T.g.size:0}function ri(T,z){return T.h?T.h==z:T.g?T.g.has(z):!1}function Ys(T,z){T.g?T.g.add(z):T.h=z}function vn(T,z){T.h&&T.h==z?T.h=null:T.g&&T.g.has(z)&&T.g.delete(z)}Qe.prototype.cancel=function(){if(this.i=ln(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const T of this.g.values())T.cancel();this.g.clear()}};function ln(T){if(T.h!=null)return T.i.concat(T.h.G);if(T.g!=null&&T.g.size!==0){let z=T.i;for(const X of T.g.values())z=z.concat(X.G);return z}return A(T.i)}var fn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ji(T,z){if(T){T=T.split("&");for(let X=0;X<T.length;X++){const he=T[X].indexOf("=");let ke,Ke=null;he>=0?(ke=T[X].substring(0,he),Ke=T[X].substring(he+1)):ke=T[X],z(ke,Ke?decodeURIComponent(Ke.replace(/\+/g," ")):"")}}}function _a(T){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let z;T instanceof _a?(this.l=T.l,Tn(this,T.j),this.o=T.o,this.g=T.g,Aa(this,T.u),this.h=T.h,od(this,ld(T.i)),this.m=T.m):T&&(z=String(T).match(fn))?(this.l=!1,Tn(this,z[1]||"",!0),this.o=_o(z[2]||""),this.g=_o(z[3]||"",!0),Aa(this,z[4]),this.h=_o(z[5]||"",!0),od(this,z[6]||"",!0),this.m=_o(z[7]||"")):(this.l=!1,this.i=new Ii(null,this.l))}_a.prototype.toString=function(){const T=[];var z=this.j;z&&T.push(Ss(z,ii,!0),":");var X=this.g;return(X||z=="file")&&(T.push("//"),(z=this.o)&&T.push(Ss(z,ii,!0),"@"),T.push(Ci(X).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X=this.u,X!=null&&T.push(":",String(X))),(X=this.h)&&(this.g&&X.charAt(0)!="/"&&T.push("/"),T.push(Ss(X,X.charAt(0)=="/"?xe:je,!0))),(X=this.i.toString())&&T.push("?",X),(X=this.m)&&T.push("#",Ss(X,ai)),T.join("")},_a.prototype.resolve=function(T){const z=qr(this);let X=!!T.j;X?Tn(z,T.j):X=!!T.o,X?z.o=T.o:X=!!T.g,X?z.g=T.g:X=T.u!=null;var he=T.h;if(X)Aa(z,T.u);else if(X=!!T.h){if(he.charAt(0)!="/")if(this.g&&!this.h)he="/"+he;else{var ke=z.h.lastIndexOf("/");ke!=-1&&(he=z.h.slice(0,ke+1)+he)}if(ke=he,ke==".."||ke==".")he="";else if(ke.indexOf("./")!=-1||ke.indexOf("/.")!=-1){he=ke.lastIndexOf("/",0)==0,ke=ke.split("/");const Ke=[];for(let wt=0;wt<ke.length;){const on=ke[wt++];on=="."?he&&wt==ke.length&&Ke.push(""):on==".."?((Ke.length>1||Ke.length==1&&Ke[0]!="")&&Ke.pop(),he&&wt==ke.length&&Ke.push("")):(Ke.push(on),he=!0)}he=Ke.join("/")}else he=ke}return X?z.h=he:X=T.i.toString()!=="",X?od(z,ld(T.i)):X=!!T.m,X&&(z.m=T.m),z};function qr(T){return new _a(T)}function Tn(T,z,X){T.j=X?_o(z,!0):z,T.j&&(T.j=T.j.replace(/:$/,""))}function Aa(T,z){if(z){if(z=Number(z),isNaN(z)||z<0)throw Error("Bad port number "+z);T.u=z}else T.u=null}function od(T,z,X){z instanceof Ii?(T.i=z,Dl(T.i,T.l)):(X||(z=Ss(z,Lt)),T.i=new Ii(z,T.l))}function Jt(T,z,X){T.i.set(z,X)}function Wa(T){return Jt(T,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),T}function _o(T,z){return T?z?decodeURI(T.replace(/%25/g,"%2525")):decodeURIComponent(T):""}function Ss(T,z,X){return typeof T=="string"?(T=encodeURI(T).replace(z,wn),X&&(T=T.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T):null}function wn(T){return T=T.charCodeAt(0),"%"+(T>>4&15).toString(16)+(T&15).toString(16)}var ii=/[#\/\?@]/g,je=/[#\?:]/g,xe=/[#\?]/g,Lt=/[#\?@]/g,ai=/#/g;function Ii(T,z){this.h=this.g=null,this.i=T||null,this.j=!!z}function Ga(T){T.g||(T.g=new Map,T.h=0,T.i&&ji(T.i,function(z,X){T.add(decodeURIComponent(z.replace(/\+/g," ")),X)}))}t=Ii.prototype,t.add=function(T,z){Ga(this),this.i=null,T=kl(this,T);let X=this.g.get(T);return X||this.g.set(T,X=[]),X.push(z),this.h+=1,this};function ku(T,z){Ga(T),z=kl(T,z),T.g.has(z)&&(T.i=null,T.h-=T.g.get(z).length,T.g.delete(z))}function oa(T,z){return Ga(T),z=kl(T,z),T.g.has(z)}t.forEach=function(T,z){Ga(this),this.g.forEach(function(X,he){X.forEach(function(ke){T.call(z,ke,he,this)},this)},this)};function Wt(T,z){Ga(T);let X=[];if(typeof z=="string")oa(T,z)&&(X=X.concat(T.g.get(kl(T,z))));else for(T=Array.from(T.g.values()),z=0;z<T.length;z++)X=X.concat(T[z]);return X}t.set=function(T,z){return Ga(this),this.i=null,T=kl(this,T),oa(this,T)&&(this.h-=this.g.get(T).length),this.g.set(T,[z]),this.h+=1,this},t.get=function(T,z){return T?(T=Wt(this,T),T.length>0?String(T[0]):z):z};function rr(T,z,X){ku(T,z),X.length>0&&(T.i=null,T.g.set(kl(T,z),A(X)),T.h+=X.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const T=[],z=Array.from(this.g.keys());for(let he=0;he<z.length;he++){var X=z[he];const ke=Ci(X);X=Wt(this,X);for(let Ke=0;Ke<X.length;Ke++){let wt=ke;X[Ke]!==""&&(wt+="="+Ci(X[Ke])),T.push(wt)}}return this.i=T.join("&")};function ld(T){const z=new Ii;return z.i=T.i,T.g&&(z.g=new Map(T.g),z.h=T.h),z}function kl(T,z){return z=String(z),T.j&&(z=z.toLowerCase()),z}function Dl(T,z){z&&!T.j&&(Ga(T),T.i=null,T.g.forEach(function(X,he){const ke=he.toLowerCase();he!=ke&&(ku(this,he),rr(this,ke,X))},T)),T.j=z}function qa(T,z){const X=new _r;if(s.Image){const he=new Image;he.onload=p(Ts,X,"TestLoadImage: loaded",!0,z,he),he.onerror=p(Ts,X,"TestLoadImage: error",!1,z,he),he.onabort=p(Ts,X,"TestLoadImage: abort",!1,z,he),he.ontimeout=p(Ts,X,"TestLoadImage: timeout",!1,z,he),s.setTimeout(function(){he.ontimeout&&he.ontimeout()},1e4),he.src=T}else z(!1)}function bc(T,z){const X=new _r,he=new AbortController,ke=setTimeout(()=>{he.abort(),Ts(X,"TestPingServer: timeout",!1,z)},1e4);fetch(T,{signal:he.signal}).then(Ke=>{clearTimeout(ke),Ke.ok?Ts(X,"TestPingServer: ok",!0,z):Ts(X,"TestPingServer: server error",!1,z)}).catch(()=>{clearTimeout(ke),Ts(X,"TestPingServer: error",!1,z)})}function Ts(T,z,X,he,ke){try{ke&&(ke.onload=null,ke.onerror=null,ke.onabort=null,ke.ontimeout=null),he(X)}catch{}}function Sr(){this.g=new In}function Ya(T){this.i=T.Sb||null,this.h=T.ab||!1}x(Ya,nn),Ya.prototype.g=function(){return new $a(this.i,this.h)};function $a(T,z){_t.call(this),this.H=T,this.o=z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x($a,_t),t=$a.prototype,t.open=function(T,z){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=T,this.D=z,this.readyState=1,Qt(this)},t.send=function(T){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const z={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};T&&(z.body=T),(this.H||s).fetch(new Request(this.D,z)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Pl(this)),this.readyState=0},t.Pa=function(T){if(this.g&&(this.l=T,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=T.headers,this.readyState=2,Qt(this)),this.g&&(this.readyState=3,Qt(this),this.g)))if(this.responseType==="arraybuffer")T.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in T){if(this.j=T.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qt(this)}else T.text().then(this.Oa.bind(this),this.ga.bind(this))};function qt(T){T.j.read().then(T.Ma.bind(T)).catch(T.ga.bind(T))}t.Ma=function(T){if(this.g){if(this.o&&T.value)this.response.push(T.value);else if(!this.o){var z=T.value?T.value:new Uint8Array(0);(z=this.B.decode(z,{stream:!T.done}))&&(this.response=this.responseText+=z)}T.done?Pl(this):Qt(this),this.readyState==3&&qt(this)}},t.Oa=function(T){this.g&&(this.response=this.responseText=T,Pl(this))},t.Na=function(T){this.g&&(this.response=T,Pl(this))},t.ga=function(){this.g&&Pl(this)};function Pl(T){T.readyState=4,T.l=null,T.j=null,T.B=null,Qt(T)}t.setRequestHeader=function(T,z){this.A.append(T,z)},t.getResponseHeader=function(T){return this.h&&this.h.get(T.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const T=[],z=this.h.entries();for(var X=z.next();!X.done;)X=X.value,T.push(X[0]+": "+X[1]),X=z.next();return T.join(`\r
`)};function Qt(T){T.onreadystatechange&&T.onreadystatechange.call(T)}Object.defineProperty($a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(T){this.m=T?"include":"same-origin"}});function ir(T){let z="";return Be(T,function(X,he){z+=he,z+=":",z+=X,z+=`\r
`}),z}function wc(T,z,X){e:{for(he in X){var he=!1;break e}he=!0}he||(X=ir(X),typeof T=="string"?X!=null&&Ci(X):Jt(T,z,X))}function qn(T){_t.call(this),this.headers=new Map,this.L=T||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(qn,_t);var $s=/^https?$/i,Ks=["POST","PUT"];t=qn.prototype,t.Fa=function(T){this.H=T},t.ea=function(T,z,X,he){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+T);z=z?z.toUpperCase():"GET",this.D=T,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Pi.g(),this.g.onreadystatechange=w(u(this.Ca,this));try{this.B=!0,this.g.open(z,String(T),!0),this.B=!1}catch(Ke){Ec(this,Ke);return}if(T=X||"",X=new Map(this.headers),he)if(Object.getPrototypeOf(he)===Object.prototype)for(var ke in he)X.set(ke,he[ke]);else if(typeof he.keys=="function"&&typeof he.get=="function")for(const Ke of he.keys())X.set(Ke,he.get(Ke));else throw Error("Unknown input type for opt_headers: "+String(he));he=Array.from(X.keys()).find(Ke=>Ke.toLowerCase()=="content-type"),ke=s.FormData&&T instanceof s.FormData,!(Array.prototype.indexOf.call(Ks,z,void 0)>=0)||he||ke||X.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ke,wt]of X)this.g.setRequestHeader(Ke,wt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(T),this.v=!1}catch(Ke){Ec(this,Ke)}};function Ec(T,z){T.h=!1,T.g&&(T.j=!0,T.g.abort(),T.j=!1),T.l=z,T.o=5,rl(T),ls(T)}function rl(T){T.A||(T.A=!0,bt(T,"complete"),bt(T,"error"))}t.abort=function(T){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=T||7,bt(this,"complete"),bt(this,"abort"),ls(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),qn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Xs(this):this.Xa())},t.Xa=function(){Xs(this)};function Xs(T){if(T.h&&typeof a<"u"){if(T.v&&Cs(T)==4)setTimeout(T.Ca.bind(T),0);else if(bt(T,"readystatechange"),Cs(T)==4){T.h=!1;try{const Ke=T.ca();e:switch(Ke){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var z=!0;break e;default:z=!1}var X;if(!(X=z)){var he;if(he=Ke===0){let wt=String(T.D).match(fn)[1]||null;!wt&&s.self&&s.self.location&&(wt=s.self.location.protocol.slice(0,-1)),he=!$s.test(wt?wt.toLowerCase():"")}X=he}if(X)bt(T,"complete"),bt(T,"success");else{T.o=6;try{var ke=Cs(T)>2?T.g.statusText:""}catch{ke=""}T.l=ke+" ["+T.ca()+"]",rl(T)}}finally{ls(T)}}}}function ls(T,z){if(T.g){T.m&&(clearTimeout(T.m),T.m=null);const X=T.g;T.g=null,z||bt(T,"ready");try{X.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Cs(T){return T.g?T.g.readyState:0}t.ca=function(){try{return Cs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(T){if(this.g){var z=this.g.responseText;return T&&z.indexOf(T)==0&&(z=z.substring(T.length)),Xt(z)}};function si(T){try{if(!T.g)return null;if("response"in T.g)return T.g.response;switch(T.F){case"":case"text":return T.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in T.g)return T.g.mozResponseArrayBuffer}return null}catch{return null}}function cs(T){const z={};T=(T.g&&Cs(T)>=2&&T.g.getAllResponseHeaders()||"").split(`\r
`);for(let he=0;he<T.length;he++){if(q(T[he]))continue;var X=ie(T[he]);const ke=X[0];if(X=X[1],typeof X!="string")continue;X=X.trim();const Ke=z[ke]||[];z[ke]=Ke,Ke.push(X)}be(z,function(he){return he.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function jr(T,z,X){return X&&X.internalChannelParams&&X.internalChannelParams[T]||z}function il(T){this.za=0,this.i=[],this.j=new _r,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=jr("failFast",!1,T),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=jr("baseRetryDelayMs",5e3,T),this.Za=jr("retryDelaySeedMs",1e4,T),this.Ta=jr("forwardChannelMaxRetries",2,T),this.va=jr("forwardChannelRequestTimeoutMs",2e4,T),this.ma=T&&T.xmlHttpFactory||void 0,this.Ua=T&&T.Rb||void 0,this.Aa=T&&T.useFetchStreams||!1,this.O=void 0,this.L=T&&T.supportsCrossDomainXhr||!1,this.M="",this.h=new Qe(T&&T.concurrentRequestLimit),this.Ba=new Sr,this.S=T&&T.fastHandshake||!1,this.R=T&&T.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=T&&T.Pb||!1,T&&T.ua&&this.j.ua(),T&&T.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&T&&T.detectBufferingProxy||!1,this.ia=void 0,T&&T.longPollingTimeout&&T.longPollingTimeout>0&&(this.ia=T.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=il.prototype,t.ka=8,t.I=1,t.connect=function(T,z,X,he){kn(0),this.W=T,this.H=z||{},X&&he!==void 0&&(this.H.OSID=X,this.H.OAID=he),this.F=this.X,this.J=Fh(this,null,this.W),Ao(this)};function Du(T){if(Pu(T),T.I==3){var z=T.V++,X=qr(T.J);if(Jt(X,"SID",T.M),Jt(X,"RID",z),Jt(X,"TYPE","terminate"),jl(T,X),z=new ce(T,T.j,z),z.M=2,z.A=Wa(qr(X)),X=!1,s.navigator&&s.navigator.sendBeacon)try{X=s.navigator.sendBeacon(z.A.toString(),"")}catch{}!X&&s.Image&&(new Image().src=z.A,X=!0),X||(z.g=Lu(z.j,null),z.g.ea(z.A)),z.F=Date.now(),Ve(z)}Lh(T)}function al(T){T.g&&(Ye(T),T.g.cancel(),T.g=null)}function Pu(T){al(T),T.v&&(s.clearTimeout(T.v),T.v=null),Yr(T),T.h.cancel(),T.m&&(typeof T.m=="number"&&s.clearTimeout(T.m),T.m=null)}function Ao(T){if(!Qn(T.h)&&!T.m){T.m=!0;var z=T.Ea;K||U(),Z||(K(),Z=!0),F.add(z,T),T.D=0}}function ju(T,z){return tn(T.h)>=T.h.j-(T.m?1:0)?!1:T.m?(T.i=z.G.concat(T.i),!0):T.I==1||T.I==2||T.D>=(T.Sa?0:T.Ta)?!1:(T.m=sa(u(T.Ea,T,z),cd(T,T.D)),T.D++,!0)}t.Ea=function(T){if(this.m)if(this.m=null,this.I==1){if(!T){this.V=Math.floor(Math.random()*1e5),T=this.V++;const ke=new ce(this,this.j,T);let Ke=this.o;if(this.U&&(Ke?(Ke=Q(Ke),oe(Ke,this.U)):Ke=this.U),this.u!==null||this.R||(ke.J=Ke,Ke=null),this.S)e:{for(var z=0,X=0;X<this.i.length;X++){t:{var he=this.i[X];if("__data__"in he.map&&(he=he.map.__data__,typeof he=="string")){he=he.length;break t}he=void 0}if(he===void 0)break;if(z+=he,z>4096){z=X;break e}if(z===4096||X===this.i.length-1){z=X+1;break e}}z=1e3}else z=1e3;z=_c(this,ke,z),X=qr(this.J),Jt(X,"RID",T),Jt(X,"CVER",22),this.G&&Jt(X,"X-HTTP-Session-Id",this.G),jl(this,X),Ke&&(this.R?z="headers="+Ci(ir(Ke))+"&"+z:this.u&&wc(X,this.u,Ke)),Ys(this.h,ke),this.Ra&&Jt(X,"TYPE","init"),this.S?(Jt(X,"$req",z),Jt(X,"SID","null"),ke.U=!0,we(ke,X,null)):we(ke,X,z),this.I=2}}else this.I==3&&(T?Hn(this,T):this.i.length==0||Qn(this.h)||Hn(this))};function Hn(T,z){var X;z?X=z.l:X=T.V++;const he=qr(T.J);Jt(he,"SID",T.M),Jt(he,"RID",X),Jt(he,"AID",T.K),jl(T,he),T.u&&T.o&&wc(he,T.u,T.o),X=new ce(T,T.j,X,T.D+1),T.u===null&&(X.J=T.o),z&&(T.i=z.G.concat(T.i)),z=_c(T,X,1e3),X.H=Math.round(T.va*.5)+Math.round(T.va*.5*Math.random()),Ys(T.h,X),we(X,he,z)}function jl(T,z){T.H&&Be(T.H,function(X,he){Jt(z,he,X)}),T.l&&Be({},function(X,he){Jt(z,he,X)})}function _c(T,z,X){X=Math.min(T.i.length,X);const he=T.l?u(T.l.Ka,T.l,T):null;e:{var ke=T.i;let on=-1;for(;;){const Kr=["count="+X];on==-1?X>0?(on=ke[0].g,Kr.push("ofs="+on)):on=0:Kr.push("ofs="+on);let zn=!0;for(let Tr=0;Tr<X;Tr++){var Ke=ke[Tr].g;const us=ke[Tr].map;if(Ke-=on,Ke<0)on=Math.max(0,ke[Tr].g-100),zn=!1;else try{Ke="req"+Ke+"_"||"";try{var wt=us instanceof Map?us:Object.entries(us);for(const[Io,la]of wt){let fs=la;c(la)&&(fs=Rt(la)),Kr.push(Ke+Io+"="+encodeURIComponent(fs))}}catch(Io){throw Kr.push(Ke+"type="+encodeURIComponent("_badmap")),Io}}catch{he&&he(us)}}if(zn){wt=Kr.join("&");break e}}wt=void 0}return T=T.i.splice(0,X),z.G=T,wt}function Qs(T){if(!T.g&&!T.v){T.Y=1;var z=T.Da;K||U(),Z||(K(),Z=!0),F.add(z,T),T.A=0}}function Ac(T){return T.g||T.v||T.A>=3?!1:(T.Y++,T.v=sa(u(T.Da,T),cd(T,T.A)),T.A++,!0)}t.Da=function(){if(this.v=null,dn(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var T=4*this.T;this.j.info("BP detection timer enabled: "+T),this.B=sa(u(this.Wa,this),T)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kn(10),al(this),dn(this))};function Ye(T){T.B!=null&&(s.clearTimeout(T.B),T.B=null)}function dn(T){T.g=new ce(T,T.j,"rpc",T.Y),T.u===null&&(T.g.J=T.o),T.g.P=0;var z=qr(T.na);Jt(z,"RID","rpc"),Jt(z,"SID",T.M),Jt(z,"AID",T.K),Jt(z,"CI",T.F?"0":"1"),!T.F&&T.ia&&Jt(z,"TO",T.ia),Jt(z,"TYPE","xmlhttp"),jl(T,z),T.u&&T.o&&wc(z,T.u,T.o),T.O&&(T.g.H=T.O);var X=T.g;T=T.ba,X.M=1,X.A=Wa(qr(z)),X.u=null,X.R=!0,Le(X,T)}t.Va=function(){this.C!=null&&(this.C=null,al(this),Ac(this),kn(19))};function Yr(T){T.C!=null&&(s.clearTimeout(T.C),T.C=null)}function Sc(T,z){var X=null;if(T.g==z){Yr(T),Ye(T),T.g=null;var he=2}else if(ri(T.h,z))X=z.G,vn(T.h,z),he=1;else return;if(T.I!=0){if(z.o)if(he==1){X=z.u?z.u.length:0,z=Date.now()-z.F;var ke=T.D;he=di(),bt(he,new kr(he,X)),Ao(T)}else Qs(T);else if(ke=z.m,ke==3||ke==0&&z.X>0||!(he==1&&ju(T,z)||he==2&&Ac(T)))switch(X&&X.length>0&&(z=T.h,z.i=z.i.concat(X)),ke){case 1:So(T,5);break;case 4:So(T,10);break;case 3:So(T,6);break;default:So(T,2)}}}function cd(T,z){let X=T.Qa+Math.floor(Math.random()*T.Za);return T.isActive()||(X*=2),X*z}function So(T,z){if(T.j.info("Error code "+z),z==2){var X=u(T.bb,T),he=T.Ua;const ke=!he;he=new _a(he||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Tn(he,"https"),Wa(he),ke?qa(he.toString(),X):bc(he.toString(),X)}else kn(2);T.I=0,T.l&&T.l.pa(z),Lh(T),Pu(T)}t.bb=function(T){T?(this.j.info("Successfully pinged google.com"),kn(2)):(this.j.info("Failed to ping google.com"),kn(1))};function Lh(T){if(T.I=0,T.ja=[],T.l){const z=ln(T.h);(z.length!=0||T.i.length!=0)&&(N(T.ja,z),N(T.ja,T.i),T.h.i.length=0,A(T.i),T.i.length=0),T.l.oa()}}function Fh(T,z,X){var he=X instanceof _a?qr(X):new _a(X);if(he.g!="")z&&(he.g=z+"."+he.g),Aa(he,he.u);else{var ke=s.location;he=ke.protocol,z=z?z+"."+ke.hostname:ke.hostname,ke=+ke.port;const Ke=new _a(null);he&&Tn(Ke,he),z&&(Ke.g=z),ke&&Aa(Ke,ke),X&&(Ke.h=X),he=Ke}return X=T.G,z=T.wa,X&&z&&Jt(he,X,z),Jt(he,"VER",T.ka),jl(T,he),he}function Lu(T,z,X){if(z&&!T.L)throw Error("Can't create secondary domain capable XhrIo object.");return z=T.Aa&&!T.ma?new qn(new Ya({ab:X})):new qn(T.ma),z.Fa(T.L),z}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $r(){}t=$r.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function To(){}To.prototype.g=function(T,z){return new Cn(T,z)};function Cn(T,z){_t.call(this),this.g=new il(z),this.l=T,this.h=z&&z.messageUrlParams||null,T=z&&z.messageHeaders||null,z&&z.clientProtocolHeaderRequired&&(T?T["X-Client-Protocol"]="webchannel":T={"X-Client-Protocol":"webchannel"}),this.g.o=T,T=z&&z.initMessageHeaders||null,z&&z.messageContentType&&(T?T["X-WebChannel-Content-Type"]=z.messageContentType:T={"X-WebChannel-Content-Type":z.messageContentType}),z&&z.sa&&(T?T["X-WebChannel-Client-Profile"]=z.sa:T={"X-WebChannel-Client-Profile":z.sa}),this.g.U=T,(T=z&&z.Qb)&&!q(T)&&(this.g.u=T),this.A=z&&z.supportsCrossDomainXhr||!1,this.v=z&&z.sendRawJson||!1,(z=z&&z.httpSessionIdParam)&&!q(z)&&(this.g.G=z,T=this.h,T!==null&&z in T&&(T=this.h,z in T&&delete T[z])),this.j=new Nn(this)}x(Cn,_t),Cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){Du(this.g)},Cn.prototype.o=function(T){var z=this.g;if(typeof T=="string"){var X={};X.__data__=T,T=X}else this.v&&(X={},X.__data__=Rt(T),T=X);z.i.push(new kt(z.Ya++,T)),z.I==3&&Ao(z)},Cn.prototype.N=function(){this.g.l=null,delete this.j,Du(this.g),delete this.g,Cn.Z.N.call(this)};function Tc(T){ct.call(this),T.__headers__&&(this.headers=T.__headers__,this.statusCode=T.__status__,delete T.__headers__,delete T.__status__);var z=T.__sm__;if(z){e:{for(const X in z){T=X;break e}T=void 0}(this.i=T)&&(T=this.i,z=z!==null&&T in z?z[T]:void 0),this.data=z}else this.data=T}x(Tc,ct);function Co(){yn.call(this),this.status=1}x(Co,yn);function Nn(T){this.g=T}x(Nn,$r),Nn.prototype.ra=function(){bt(this.g,"a")},Nn.prototype.qa=function(T){bt(this.g,new Tc(T))},Nn.prototype.pa=function(T){bt(this.g,new Co)},Nn.prototype.oa=function(){bt(this.g,"b")},To.prototype.createWebChannel=To.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,QB=function(){return new To},XB=function(){return di()},KB=Ht,PT={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Gr.NO_ERROR=0,Gr.TIMEOUT=8,Gr.HTTP_ERROR=6,rv=Gr,Ar.COMPLETE="complete",$B=Ar,Ea.EventType=mn,mn.OPEN="a",mn.CLOSE="b",mn.ERROR="c",mn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Zm=Ea,qn.prototype.listenOnce=qn.prototype.K,qn.prototype.getLastError=qn.prototype.Ha,qn.prototype.getLastErrorCode=qn.prototype.ya,qn.prototype.getStatus=qn.prototype.ca,qn.prototype.getResponseJson=qn.prototype.La,qn.prototype.getResponseText=qn.prototype.la,qn.prototype.send=qn.prototype.ea,qn.prototype.setWithCredentials=qn.prototype.Fa,YB=qn}).apply(typeof my<"u"?my:typeof self<"u"?self:typeof window<"u"?window:{});let Za=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Za.UNAUTHENTICATED=new Za(null),Za.GOOGLE_CREDENTIALS=new Za("google-credentials-uid"),Za.FIRST_PARTY=new Za("first-party-uid"),Za.MOCK_USER=new Za("mock-user");let Ip="12.9.0";function pie(t){Ip=t}const Zd=new Eb("@firebase/firestore");function b0(){return Zd.logLevel}function Dt(t,...e){if(Zd.logLevel<=Ln.DEBUG){const n=e.map(t3);Zd.debug(`Firestore (${Ip}): ${t}`,...n)}}function uu(t,...e){if(Zd.logLevel<=Ln.ERROR){const n=e.map(t3);Zd.error(`Firestore (${Ip}): ${t}`,...n)}}function Jd(t,...e){if(Zd.logLevel<=Ln.WARN){const n=e.map(t3);Zd.warn(`Firestore (${Ip}): ${t}`,...n)}}function t3(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function an(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ZB(t,r,n)}function ZB(t,e,n){let r=`FIRESTORE (${Ip}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw uu(r),new Error(r)}function sr(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||ZB(e,i,r)}function pn(t,e){return t}const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ot extends Ml{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tu{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class JB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Za.UNAUTHENTICATED)))}shutdown(){}}class gie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class xie{constructor(e){this.t=e,this.currentUser=Za.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){sr(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new tu;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new tu,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{Dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new tu)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(sr(typeof r.accessToken=="string",31837,{l:r}),new JB(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return sr(e===null||typeof e=="string",2055,{h:e}),new Za(e)}}class yie{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Za.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class vie{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new yie(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Za.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bie{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ml(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){sr(this.o===void 0,3512);const r=a=>{a.error!=null&&Dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,Dt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gk(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(sr(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Gk(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function wie(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class n3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=wie(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Fn(t,e){return t<e?-1:t>e?1:0}function jT(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return oA(i)===oA(a)?Fn(i,a):oA(i)?1:-1}return Fn(t.length,e.length)}const Eie=55296,_ie=57343;function oA(t){const e=t.charCodeAt(0);return e>=Eie&&e<=_ie}function rp(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const qk="__name__";class Kl{constructor(e,n,r){n===void 0?n=0:n>e.length&&an(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&an(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Kl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kl?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Kl.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Fn(e.length,n.length)}static compareSegments(e,n){const r=Kl.isNumericId(e),i=Kl.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Kl.extractNumericId(e).compare(Kl.extractNumericId(n)):jT(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mf.fromString(e.substring(4,e.length-2))}}class Or extends Kl{construct(e,n,r){return new Or(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ot(it.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Or(n)}static emptyPath(){return new Or([])}}const Aie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ja extends Kl{construct(e,n,r){return new ja(e,n,r)}static isValidIdentifier(e){return Aie.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ja.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qk}static keyField(){return new ja([qk])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ot(it.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Ot(it.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ot(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(a(),i++)}if(a(),s)throw new Ot(it.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ja(n)}static emptyPath(){return new ja([])}}class $t{constructor(e){this.path=e}static fromPath(e){return new $t(Or.fromString(e))}static fromName(e){return new $t(Or.fromString(e).popFirst(5))}static empty(){return new $t(Or.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Or.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Or.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $t(new Or(e.slice()))}}function eU(t,e,n){if(!n)throw new Ot(it.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Sie(t,e,n,r){if(e===!0&&r===!0)throw new Ot(it.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Yk(t){if(!$t.isDocumentKey(t))throw new Ot(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $k(t){if($t.isDocumentKey(t))throw new Ot(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tU(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Cb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":an(12329,{type:typeof t})}function Cl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ot(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cb(t);throw new Ot(it.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Gi(t,e){const n={typeString:t};return e&&(n.value=e),n}function S1(t,e){if(!tU(t))throw new Ot(it.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Ot(it.INVALID_ARGUMENT,n);return!0}const Kk=-62135596800,Xk=1e6;class Vr{static now(){return Vr.fromMillis(Date.now())}static fromDate(e){return Vr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Xk);return new Vr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ot(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ot(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Kk)throw new Ot(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ot(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xk}_compareTo(e){return this.seconds===e.seconds?Fn(this.nanoseconds,e.nanoseconds):Fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Vr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(S1(e,Vr._jsonSchema))return new Vr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Kk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Vr._jsonSchemaVersion="firestore/timestamp/1.0",Vr._jsonSchema={type:Gi("string",Vr._jsonSchemaVersion),seconds:Gi("number"),nanoseconds:Gi("number")};class un{static fromTimestamp(e){return new un(e)}static min(){return new un(new Vr(0,0))}static max(){return new un(new Vr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Mg=-1;function Tie(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=un.fromTimestamp(r===1e9?new Vr(n+1,0):new Vr(n,r));return new jf(i,$t.empty(),e)}function Cie(t){return new jf(t.readTime,t.key,Mg)}class jf{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new jf(un.min(),$t.empty(),Mg)}static max(){return new jf(un.max(),$t.empty(),Mg)}}function Iie(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$t.comparator(t.documentKey,e.documentKey),n!==0?n:Fn(t.largestBatchId,e.largestBatchId))}const Nie="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Oie{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Np(t){if(t.code!==it.FAILED_PRECONDITION||t.message!==Nie)throw t;Dt("LocalStore","Unexpectedly lost primary lease")}class lt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&an(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new lt(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof lt?n:lt.resolve(n)}catch(n){return lt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):lt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):lt.reject(n)}static resolve(e){return new lt(((n,r)=>{n(e)}))}static reject(e){return new lt(((n,r)=>{r(e)}))}static waitFor(e){return new lt(((n,r)=>{let i=0,a=0,s=!1;e.forEach((c=>{++i,c.next((()=>{++a,s&&a===i&&n()}),(d=>r(d)))})),s=!0,a===i&&n()}))}static or(e){let n=lt.resolve(!1);for(const r of e)n=n.next((i=>i?lt.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new lt(((r,i)=>{const a=e.length,s=new Array(a);let c=0;for(let d=0;d<a;d++){const u=d;n(e[u]).next((p=>{s[u]=p,++c,c===a&&r(s)}),(p=>i(p)))}}))}static doWhile(e,n){return new lt(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function Mie(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Op(t){return t.name==="IndexedDbTransactionError"}class Ib{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ib.ce=-1;const r3=-1;function Nb(t){return t==null}function kv(t){return t===0&&1/t==-1/0}function Rie(t){return typeof t=="number"&&Number.isInteger(t)&&!kv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const nU="";function kie(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Qk(e)),e=Die(t.get(n),e);return Qk(e)}function Die(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case nU:n+="";break;default:n+=a}}return n}function Qk(t){return t+nU+""}function Zk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jf(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class ci{constructor(e,n){this.comparator=e,this.root=n||Pa.EMPTY}insert(e,n){return new ci(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pa.BLACK,null,null))}remove(e){return new ci(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pa.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gy(this.root,e,this.comparator,!1)}getReverseIterator(){return new gy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gy(this.root,e,this.comparator,!0)}}class gy{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pa{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Pa.RED,this.left=i??Pa.EMPTY,this.right=a??Pa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Pa(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Pa.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw an(43730,{key:this.key,value:this.value});if(this.right.isRed())throw an(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw an(27949);return e+(this.isRed()?0:1)}}Pa.EMPTY=null,Pa.RED=!0,Pa.BLACK=!1;Pa.EMPTY=new class{constructor(){this.size=0}get key(){throw an(57766)}get value(){throw an(16141)}get color(){throw an(16727)}get left(){throw an(29726)}get right(){throw an(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Pa(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class na{constructor(e){this.comparator=e,this.data=new ci(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jk(this.data.getIterator())}getIteratorFrom(e){return new Jk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof na)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new na(this.comparator);return n.data=e,n}}class Jk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class go{constructor(e){this.fields=e,e.sort(ja.comparator)}static empty(){return new go([])}unionWith(e){let n=new na(ja.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new go(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rp(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class iU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class za{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new iU("Invalid base64 string: "+a):a}})(e);return new za(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new za(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}za.EMPTY_BYTE_STRING=new za("");const Pie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lf(t){if(sr(!!t,39018),typeof t=="string"){let e=0;const n=Pie.exec(t);if(sr(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mi(t.seconds),nanos:Mi(t.nanos)}}function Mi(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ff(t){return typeof t=="string"?za.fromBase64String(t):za.fromUint8Array(t)}const aU="server_timestamp",sU="__type__",oU="__previous_value__",lU="__local_write_time__";function i3(t){return(t?.mapValue?.fields||{})[sU]?.stringValue===aU}function Ob(t){const e=t.mapValue.fields[oU];return i3(e)?Ob(e):e}function Rg(t){const e=Lf(t.mapValue.fields[lU].timestampValue);return new Vr(e.seconds,e.nanos)}class jie{constructor(e,n,r,i,a,s,c,d,u,p,x){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=u,this.isUsingEmulator=p,this.apiKey=x}}const Dv="(default)";class kg{constructor(e,n){this.projectId=e,this.database=n||Dv}static empty(){return new kg("","")}get isDefaultDatabase(){return this.database===Dv}isEqual(e){return e instanceof kg&&e.projectId===this.projectId&&e.database===this.database}}function Lie(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ot(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kg(t.options.projectId,e)}const cU="__type__",Fie="__max__",xy={mapValue:{}},uU="__vector__",Pv="value";function Bf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?i3(t)?4:Uie(t)?9007199254740991:Bie(t)?10:11:an(28295,{value:t})}function lc(t,e){if(t===e)return!0;const n=Bf(t);if(n!==Bf(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rg(t).isEqual(Rg(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Lf(i.timestampValue),c=Lf(a.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Ff(i.bytesValue).isEqual(Ff(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Mi(i.geoPointValue.latitude)===Mi(a.geoPointValue.latitude)&&Mi(i.geoPointValue.longitude)===Mi(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Mi(i.integerValue)===Mi(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Mi(i.doubleValue),c=Mi(a.doubleValue);return s===c?kv(s)===kv(c):isNaN(s)&&isNaN(c)}return!1})(t,e);case 9:return rp(t.arrayValue.values||[],e.arrayValue.values||[],lc);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},c=a.mapValue.fields||{};if(Zk(s)!==Zk(c))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(c[d]===void 0||!lc(s[d],c[d])))return!1;return!0})(t,e);default:return an(52216,{left:t})}}function Dg(t,e){return(t.values||[]).find((n=>lc(n,e)))!==void 0}function ip(t,e){if(t===e)return 0;const n=Bf(t),r=Bf(e);if(n!==r)return Fn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fn(t.booleanValue,e.booleanValue);case 2:return(function(a,s){const c=Mi(a.integerValue||a.doubleValue),d=Mi(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return eD(t.timestampValue,e.timestampValue);case 4:return eD(Rg(t),Rg(e));case 5:return jT(t.stringValue,e.stringValue);case 6:return(function(a,s){const c=Ff(a),d=Ff(s);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,s){const c=a.split("/"),d=s.split("/");for(let u=0;u<c.length&&u<d.length;u++){const p=Fn(c[u],d[u]);if(p!==0)return p}return Fn(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,s){const c=Fn(Mi(a.latitude),Mi(s.latitude));return c!==0?c:Fn(Mi(a.longitude),Mi(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return tD(t.arrayValue,e.arrayValue);case 10:return(function(a,s){const c=a.fields||{},d=s.fields||{},u=c[Pv]?.arrayValue,p=d[Pv]?.arrayValue,x=Fn(u?.values?.length||0,p?.values?.length||0);return x!==0?x:tD(u,p)})(t.mapValue,e.mapValue);case 11:return(function(a,s){if(a===xy.mapValue&&s===xy.mapValue)return 0;if(a===xy.mapValue)return 1;if(s===xy.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),u=s.fields||{},p=Object.keys(u);d.sort(),p.sort();for(let x=0;x<d.length&&x<p.length;++x){const w=jT(d[x],p[x]);if(w!==0)return w;const A=ip(c[d[x]],u[p[x]]);if(A!==0)return A}return Fn(d.length,p.length)})(t.mapValue,e.mapValue);default:throw an(23264,{he:n})}}function eD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fn(t,e);const n=Lf(t),r=Lf(e),i=Fn(n.seconds,r.seconds);return i!==0?i:Fn(n.nanos,r.nanos)}function tD(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=ip(n[i],r[i]);if(a)return a}return Fn(n.length,r.length)}function ap(t){return LT(t)}function LT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Lf(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ff(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return $t.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=LT(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${LT(n.fields[s])}`;return i+"}"})(t.mapValue):an(61005,{value:t})}function iv(t){switch(Bf(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ob(t);return e?16+iv(e):16;case 5:return 2*t.stringValue.length;case 6:return Ff(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+iv(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Jf(r.fields,((a,s)=>{i+=a.length+iv(s)})),i})(t.mapValue);default:throw an(13486,{value:t})}}function nD(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function FT(t){return!!t&&"integerValue"in t}function a3(t){return!!t&&"arrayValue"in t}function rD(t){return!!t&&"nullValue"in t}function iD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function av(t){return!!t&&"mapValue"in t}function Bie(t){return(t?.mapValue?.fields||{})[cU]?.stringValue===uU}function fg(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Jf(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=fg(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fg(t.arrayValue.values[n]);return e}return{...t}}function Uie(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Fie}class js{constructor(e){this.value=e}static empty(){return new js({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!av(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fg(n)}setAll(e){let n=ja.emptyPath(),r={},i=[];e.forEach(((s,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=fg(s):i.push(c.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());av(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lc(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];av(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Jf(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new js(fg(this.value))}}function fU(t){const e=[];return Jf(t.fields,((n,r)=>{const i=new ja([n]);if(av(r)){const a=fU(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new go(e)}class Ja{constructor(e,n,r,i,a,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=c}static newInvalidDocument(e){return new Ja(e,0,un.min(),un.min(),un.min(),js.empty(),0)}static newFoundDocument(e,n,r,i){return new Ja(e,1,n,un.min(),r,i,0)}static newNoDocument(e,n){return new Ja(e,2,n,un.min(),un.min(),js.empty(),0)}static newUnknownDocument(e,n){return new Ja(e,3,n,un.min(),un.min(),js.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(un.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=js.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=js.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=un.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ja&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ja(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jv{constructor(e,n){this.position=e,this.inclusive=n}}function aD(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=$t.comparator($t.fromName(s.referenceValue),n.key):r=ip(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function sD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lc(t.position[n],e.position[n]))return!1;return!0}class Pg{constructor(e,n="asc"){this.field=e,this.dir=n}}function zie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class dU{}class Wi extends dU{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Hie(e,n,r):n==="array-contains"?new qie(e,r):n==="in"?new Yie(e,r):n==="not-in"?new $ie(e,r):n==="array-contains-any"?new Kie(e,r):new Wi(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Wie(e,r):new Gie(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ip(n,this.value)):n!==null&&Bf(this.value)===Bf(n)&&this.matchesComparison(ip(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return an(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Il extends dU{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Il(e,n)}matches(e){return hU(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hU(t){return t.op==="and"}function pU(t){return Vie(t)&&hU(t)}function Vie(t){for(const e of t.filters)if(e instanceof Il)return!1;return!0}function BT(t){if(t instanceof Wi)return t.field.canonicalString()+t.op.toString()+ap(t.value);if(pU(t))return t.filters.map((e=>BT(e))).join(",");{const e=t.filters.map((n=>BT(n))).join(",");return`${t.op}(${e})`}}function mU(t,e){return t instanceof Wi?(function(r,i){return i instanceof Wi&&r.op===i.op&&r.field.isEqual(i.field)&&lc(r.value,i.value)})(t,e):t instanceof Il?(function(r,i){return i instanceof Il&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,s,c)=>a&&mU(s,i.filters[c])),!0):!1})(t,e):void an(19439)}function gU(t){return t instanceof Wi?(function(n){return`${n.field.canonicalString()} ${n.op} ${ap(n.value)}`})(t):t instanceof Il?(function(n){return n.op.toString()+" {"+n.getFilters().map(gU).join(" ,")+"}"})(t):"Filter"}class Hie extends Wi{constructor(e,n,r){super(e,n,r),this.key=$t.fromName(r.referenceValue)}matches(e){const n=$t.comparator(e.key,this.key);return this.matchesComparison(n)}}class Wie extends Wi{constructor(e,n){super(e,"in",n),this.keys=xU("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Gie extends Wi{constructor(e,n){super(e,"not-in",n),this.keys=xU("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function xU(t,e){return(e.arrayValue?.values||[]).map((n=>$t.fromName(n.referenceValue)))}class qie extends Wi{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return a3(n)&&Dg(n.arrayValue,this.value)}}class Yie extends Wi{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dg(this.value.arrayValue,n)}}class $ie extends Wi{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Dg(this.value.arrayValue,n)}}class Kie extends Wi{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!a3(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Dg(this.value.arrayValue,r)))}}class Xie{constructor(e,n=null,r=[],i=[],a=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=c,this.Te=null}}function oD(t,e=null,n=[],r=[],i=null,a=null,s=null){return new Xie(t,e,n,r,i,a,s)}function s3(t){const e=pn(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>BT(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Nb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ap(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ap(r))).join(",")),e.Te=n}return e.Te}function o3(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sD(t.startAt,e.startAt)&&sD(t.endAt,e.endAt)}function UT(t){return $t.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Mp{constructor(e,n=null,r=[],i=[],a=null,s="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Qie(t,e,n,r,i,a,s,c){return new Mp(t,e,n,r,i,a,s,c)}function l3(t){return new Mp(t)}function lD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Zie(t){return $t.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function yU(t){return t.collectionGroup!==null}function dg(t){const e=pn(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new na(ja.comparator);return s.filters.forEach((d=>{d.getFlattenedFilters().forEach((u=>{u.isInequality()&&(c=c.add(u.field))}))})),c})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Pg(a,r))})),n.has(ja.keyField().canonicalString())||e.Ie.push(new Pg(ja.keyField(),r))}return e.Ie}function ec(t){const e=pn(t);return e.Ee||(e.Ee=Jie(e,dg(t))),e.Ee}function Jie(t,e){if(t.limitType==="F")return oD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Pg(i.field,a)}));const n=t.endAt?new jv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jv(t.startAt.position,t.startAt.inclusive):null;return oD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function zT(t,e){const n=t.filters.concat([e]);return new Mp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function eae(t,e){const n=t.explicitOrderBy.concat([e]);return new Mp(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function VT(t,e,n){return new Mp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mb(t,e){return o3(ec(t),ec(e))&&t.limitType===e.limitType}function vU(t){return`${s3(ec(t))}|lt:${t.limitType}`}function w0(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>gU(i))).join(", ")}]`),Nb(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>ap(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>ap(i))).join(",")),`Target(${r})`})(ec(t))}; limitType=${t.limitType})`}function Rb(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):$t.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of dg(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,c,d){const u=aD(s,c,d);return s.inclusive?u<=0:u<0})(r.startAt,dg(r),i)||r.endAt&&!(function(s,c,d){const u=aD(s,c,d);return s.inclusive?u>=0:u>0})(r.endAt,dg(r),i))})(t,e)}function tae(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bU(t){return(e,n)=>{let r=!1;for(const i of dg(t)){const a=nae(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function nae(t,e,n){const r=t.field.isKeyField()?$t.comparator(e.key,n.key):(function(a,s,c){const d=s.data.field(a),u=c.data.field(a);return d!==null&&u!==null?ip(d,u):an(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return an(19790,{direction:t.dir})}}class _h{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Jf(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return rU(this.inner)}size(){return this.innerSize}}const rae=new ci($t.comparator);function fu(){return rae}const wU=new ci($t.comparator);function Jm(...t){let e=wU;for(const n of t)e=e.insert(n.key,n);return e}function EU(t){let e=wU;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function jd(){return hg()}function _U(){return hg()}function hg(){return new _h((t=>t.toString()),((t,e)=>t.isEqual(e)))}const iae=new ci($t.comparator),aae=new na($t.comparator);function Bn(...t){let e=aae;for(const n of t)e=e.add(n);return e}const sae=new na(Fn);function oae(){return sae}function c3(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kv(e)?"-0":e}}function AU(t){return{integerValue:""+t}}function lae(t,e){return Rie(e)?AU(e):c3(t,e)}class kb{constructor(){this._=void 0}}function cae(t,e,n){return t instanceof Lv?(function(i,a){const s={fields:{[sU]:{stringValue:aU},[lU]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&i3(a)&&(a=Ob(a)),a&&(s.fields[oU]=a),{mapValue:s}})(n,e):t instanceof jg?TU(t,e):t instanceof Lg?CU(t,e):(function(i,a){const s=SU(i,a),c=cD(s)+cD(i.Ae);return FT(s)&&FT(i.Ae)?AU(c):c3(i.serializer,c)})(t,e)}function uae(t,e,n){return t instanceof jg?TU(t,e):t instanceof Lg?CU(t,e):n}function SU(t,e){return t instanceof Fv?(function(r){return FT(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Lv extends kb{}class jg extends kb{constructor(e){super(),this.elements=e}}function TU(t,e){const n=IU(e);for(const r of t.elements)n.some((i=>lc(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Lg extends kb{constructor(e){super(),this.elements=e}}function CU(t,e){let n=IU(e);for(const r of t.elements)n=n.filter((i=>!lc(i,r)));return{arrayValue:{values:n}}}class Fv extends kb{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function cD(t){return Mi(t.integerValue||t.doubleValue)}function IU(t){return a3(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function fae(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof jg&&i instanceof jg||r instanceof Lg&&i instanceof Lg?rp(r.elements,i.elements,lc):r instanceof Fv&&i instanceof Fv?lc(r.Ae,i.Ae):r instanceof Lv&&i instanceof Lv})(t.transform,e.transform)}class dae{constructor(e,n){this.version=e,this.transformResults=n}}class $o{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $o}static exists(e){return new $o(void 0,e)}static updateTime(e){return new $o(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Db{}function NU(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new u3(t.key,$o.none()):new T1(t.key,t.data,$o.none());{const n=t.data,r=js.empty();let i=new na(ja.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new ed(t.key,r,new go(i.toArray()),$o.none())}}function hae(t,e,n){t instanceof T1?(function(i,a,s){const c=i.value.clone(),d=fD(i.fieldTransforms,a,s.transformResults);c.setAll(d),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):t instanceof ed?(function(i,a,s){if(!sv(i.precondition,a))return void a.convertToUnknownDocument(s.version);const c=fD(i.fieldTransforms,a,s.transformResults),d=a.data;d.setAll(OU(i)),d.setAll(c),a.convertToFoundDocument(s.version,d).setHasCommittedMutations()})(t,e,n):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function pg(t,e,n,r){return t instanceof T1?(function(a,s,c,d){if(!sv(a.precondition,s))return c;const u=a.value.clone(),p=dD(a.fieldTransforms,d,s);return u.setAll(p),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null})(t,e,n,r):t instanceof ed?(function(a,s,c,d){if(!sv(a.precondition,s))return c;const u=dD(a.fieldTransforms,d,s),p=s.data;return p.setAll(OU(a)),p.setAll(u),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((x=>x.field)))})(t,e,n,r):(function(a,s,c){return sv(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c})(t,e,n)}function pae(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=SU(r.transform,i||null);a!=null&&(n===null&&(n=js.empty()),n.set(r.field,a))}return n||null}function uD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&rp(r,i,((a,s)=>fae(a,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class T1 extends Db{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ed extends Db{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function OU(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function fD(t,e,n){const r=new Map;sr(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,c=e.data.field(a.field);r.set(a.field,uae(s,c,n[i]))}return r}function dD(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,cae(a,s,e))}return r}class u3 extends Db{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mae extends Db{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gae{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&hae(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pg(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pg(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_U();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let c=this.applyToLocalView(s,a.mutatedFields);c=n.has(i.key)?null:c;const d=NU(s,c);d!==null&&r.set(i.key,d),s.isValidDocument()||s.convertToNoDocument(un.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Bn())}isEqual(e){return this.batchId===e.batchId&&rp(this.mutations,e.mutations,((n,r)=>uD(n,r)))&&rp(this.baseMutations,e.baseMutations,((n,r)=>uD(n,r)))}}class f3{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){sr(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return iae})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new f3(e,n,r,i)}}class xae{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class yae{constructor(e,n){this.count=e,this.unchangedNames=n}}var Vi,Wn;function vae(t){switch(t){case it.OK:return an(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return an(15467,{code:t})}}function MU(t){if(t===void 0)return uu("GRPC error has no .code"),it.UNKNOWN;switch(t){case Vi.OK:return it.OK;case Vi.CANCELLED:return it.CANCELLED;case Vi.UNKNOWN:return it.UNKNOWN;case Vi.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Vi.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Vi.INTERNAL:return it.INTERNAL;case Vi.UNAVAILABLE:return it.UNAVAILABLE;case Vi.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Vi.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Vi.NOT_FOUND:return it.NOT_FOUND;case Vi.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Vi.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Vi.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Vi.ABORTED:return it.ABORTED;case Vi.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Vi.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Vi.DATA_LOSS:return it.DATA_LOSS;default:return an(39323,{code:t})}}(Wn=Vi||(Vi={}))[Wn.OK=0]="OK",Wn[Wn.CANCELLED=1]="CANCELLED",Wn[Wn.UNKNOWN=2]="UNKNOWN",Wn[Wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wn[Wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wn[Wn.NOT_FOUND=5]="NOT_FOUND",Wn[Wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wn[Wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wn[Wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wn[Wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wn[Wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wn[Wn.ABORTED=10]="ABORTED",Wn[Wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wn[Wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wn[Wn.INTERNAL=13]="INTERNAL",Wn[Wn.UNAVAILABLE=14]="UNAVAILABLE",Wn[Wn.DATA_LOSS=15]="DATA_LOSS";function bae(){return new TextEncoder}const wae=new Mf([4294967295,4294967295],0);function hD(t){const e=bae().encode(t),n=new qB;return n.update(e),new Uint8Array(n.digest())}function pD(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Mf([n,r],0),new Mf([i,a],0)]}class d3{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new eg(`Invalid padding: ${n}`);if(r<0)throw new eg(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new eg(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new eg(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Mf.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Mf.fromNumber(r)));return i.compare(wae)===1&&(i=new Mf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=hD(e),[r,i]=pD(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new d3(a,i,n);return r.forEach((c=>s.insert(c))),s}insert(e){if(this.ge===0)return;const n=hD(e),[r,i]=pD(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.be(s)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class eg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Pb{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,C1.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pb(un.min(),i,new ci(Fn),fu(),Bn())}}class C1{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new C1(r,n,Bn(),Bn(),Bn())}}class ov{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class RU{constructor(e,n){this.targetId=e,this.Ce=n}}class kU{constructor(e,n,r=za.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class mD{constructor(){this.ve=0,this.Fe=gD(),this.Me=za.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Bn(),n=Bn(),r=Bn();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:an(38017,{changeType:a})}})),new C1(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=gD()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,sr(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Eae{constructor(e){this.Ge=e,this.ze=new Map,this.je=fu(),this.He=yy(),this.Je=yy(),this.Ze=new ci(Fn)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:an(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(UT(a))if(r===0){const s=new $t(a.path);this.et(n,s,Ja.newNoDocument(s,un.min()))}else sr(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const c=this.ut(e),d=c?this.ct(c,e,s):1;if(d!==0){this.it(n);const u=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,c;try{s=Ff(r).toUint8Array()}catch(d){if(d instanceof iU)return Jd("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new d3(s,i,a)}catch(d){return Jd(d instanceof eg?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const s=this.Ge.ht(),c=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,s)=>{const c=this.ot(s);if(c){if(a.current&&UT(c.target)){const d=new $t(c.target.path);this.It(d).has(s)||this.Et(s,d)||this.et(s,d,Ja.newNoDocument(d,e))}a.Be&&(n.set(s,a.ke()),a.Ke())}}));let r=Bn();this.Je.forEach(((a,s)=>{let c=!0;s.forEachWhile((d=>{const u=this.ot(d);return!u||u.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,s)=>s.setReadTime(e)));const i=new Pb(e,n,this.Ze,this.je,r);return this.je=fu(),this.He=yy(),this.Je=yy(),this.Ze=new ci(Fn),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new mD,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new na(Fn),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new na(Fn),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Dt("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new mD),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function yy(){return new ci($t.comparator)}function gD(){return new ci($t.comparator)}const _ae={asc:"ASCENDING",desc:"DESCENDING"},Aae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sae={and:"AND",or:"OR"};class Tae{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function HT(t,e){return t.useProto3Json||Nb(e)?e:{value:e}}function Bv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Cae(t,e){return Bv(t,e.toTimestamp())}function tc(t){return sr(!!t,49232),un.fromTimestamp((function(n){const r=Lf(n);return new Vr(r.seconds,r.nanos)})(t))}function h3(t,e){return WT(t,e).canonicalString()}function WT(t,e){const n=(function(i){return new Or(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function PU(t){const e=Or.fromString(t);return sr(UU(e),10190,{key:e.toString()}),e}function GT(t,e){return h3(t.databaseId,e.path)}function lA(t,e){const n=PU(e);if(n.get(1)!==t.databaseId.projectId)throw new Ot(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ot(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $t(LU(n))}function jU(t,e){return h3(t.databaseId,e)}function Iae(t){const e=PU(t);return e.length===4?Or.emptyPath():LU(e)}function qT(t){return new Or(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LU(t){return sr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function xD(t,e,n){return{name:GT(t,e),fields:n.value.mapValue.fields}}function Nae(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:an(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(u,p){return u.useProto3Json?(sr(p===void 0||typeof p=="string",58123),za.fromBase64String(p||"")):(sr(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),za.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&(function(u){const p=u.code===void 0?it.UNKNOWN:MU(u.code);return new Ot(p,u.message||"")})(s);n=new kU(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=lA(t,r.document.name),a=tc(r.document.updateTime),s=r.document.createTime?tc(r.document.createTime):un.min(),c=new js({mapValue:{fields:r.document.fields}}),d=Ja.newFoundDocument(i,a,s,c),u=r.targetIds||[],p=r.removedTargetIds||[];n=new ov(u,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=lA(t,r.document),a=r.readTime?tc(r.readTime):un.min(),s=Ja.newNoDocument(i,a),c=r.removedTargetIds||[];n=new ov([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=lA(t,r.document),a=r.removedTargetIds||[];n=new ov([],a,i,null)}else{if(!("filter"in e))return an(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new yae(i,a),c=r.targetId;n=new RU(c,s)}}return n}function Oae(t,e){let n;if(e instanceof T1)n={update:xD(t,e.key,e.value)};else if(e instanceof u3)n={delete:GT(t,e.key)};else if(e instanceof ed)n={update:xD(t,e.key,e.data),updateMask:Bae(e.fieldMask)};else{if(!(e instanceof mae))return an(16599,{dt:e.type});n={verify:GT(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,s){const c=s.transform;if(c instanceof Lv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof jg)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Lg)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Fv)return{fieldPath:s.field.canonicalString(),increment:c.Ae};throw an(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:Cae(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:an(27497)})(t,e.precondition)),n}function Mae(t,e){return t&&t.length>0?(sr(e!==void 0,14353),t.map((n=>(function(i,a){let s=i.updateTime?tc(i.updateTime):tc(a);return s.isEqual(un.min())&&(s=tc(a)),new dae(s,i.transformResults||[])})(n,e)))):[]}function Rae(t,e){return{documents:[jU(t,e.path)]}}function kae(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jU(t,i);const a=(function(u){if(u.length!==0)return BU(Il.create(u,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const s=(function(u){if(u.length!==0)return u.map((p=>(function(w){return{field:E0(w.field),direction:jae(w.dir)}})(p)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const c=HT(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:n,parent:i}}function Dae(t){let e=Iae(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){sr(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];n.where&&(a=(function(x){const w=FU(x);return w instanceof Il&&pU(w)?w.getFilters():[w]})(n.where));let s=[];n.orderBy&&(s=(function(x){return x.map((w=>(function(N){return new Pg(_0(N.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(w)))})(n.orderBy));let c=null;n.limit&&(c=(function(x){let w;return w=typeof x=="object"?x.value:x,Nb(w)?null:w})(n.limit));let d=null;n.startAt&&(d=(function(x){const w=!!x.before,A=x.values||[];return new jv(A,w)})(n.startAt));let u=null;return n.endAt&&(u=(function(x){const w=!x.before,A=x.values||[];return new jv(A,w)})(n.endAt)),Qie(e,i,s,a,c,"F",d,u)}function Pae(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return an(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FU(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_0(n.unaryFilter.field);return Wi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_0(n.unaryFilter.field);return Wi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=_0(n.unaryFilter.field);return Wi.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=_0(n.unaryFilter.field);return Wi.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return an(61313);default:return an(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Wi.create(_0(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return an(58110);default:return an(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Il.create(n.compositeFilter.filters.map((r=>FU(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return an(1026)}})(n.compositeFilter.op))})(t):an(30097,{filter:t})}function jae(t){return _ae[t]}function Lae(t){return Aae[t]}function Fae(t){return Sae[t]}function E0(t){return{fieldPath:t.canonicalString()}}function _0(t){return ja.fromServerFormat(t.fieldPath)}function BU(t){return t instanceof Wi?(function(n){if(n.op==="=="){if(iD(n.value))return{unaryFilter:{field:E0(n.field),op:"IS_NAN"}};if(rD(n.value))return{unaryFilter:{field:E0(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iD(n.value))return{unaryFilter:{field:E0(n.field),op:"IS_NOT_NAN"}};if(rD(n.value))return{unaryFilter:{field:E0(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:E0(n.field),op:Lae(n.op),value:n.value}}})(t):t instanceof Il?(function(n){const r=n.getFilters().map((i=>BU(i)));return r.length===1?r[0]:{compositeFilter:{op:Fae(n.op),filters:r}}})(t):an(54877,{filter:t})}function Bae(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function UU(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function zU(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Ef{constructor(e,n,r,i,a=un.min(),s=un.min(),c=za.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Ef(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ef(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ef(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ef(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Uae{constructor(e){this.yt=e}}function zae(t){const e=Dae({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?VT(e,e.limit,"L"):e}class Vae{constructor(){this.Sn=new Hae}addToCollectionParentIndex(e,n){return this.Sn.add(n),lt.resolve()}getCollectionParents(e,n){return lt.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return lt.resolve()}deleteFieldIndex(e,n){return lt.resolve()}deleteAllFieldIndexes(e){return lt.resolve()}createTargetIndexes(e,n){return lt.resolve()}getDocumentsMatchingTarget(e,n){return lt.resolve(null)}getIndexType(e,n){return lt.resolve(0)}getFieldIndexes(e,n){return lt.resolve([])}getNextCollectionGroupToUpdate(e){return lt.resolve(null)}getMinOffset(e,n){return lt.resolve(jf.min())}getMinOffsetFromCollectionGroup(e,n){return lt.resolve(jf.min())}updateCollectionGroup(e,n,r){return lt.resolve()}updateIndexEntries(e,n){return lt.resolve()}}class Hae{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new na(Or.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new na(Or.comparator)).toArray()}}const yD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VU=41943040;class Ps{static withCacheSize(e){return new Ps(e,Ps.DEFAULT_COLLECTION_PERCENTILE,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Ps.DEFAULT_COLLECTION_PERCENTILE=10,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ps.DEFAULT=new Ps(VU,Ps.DEFAULT_COLLECTION_PERCENTILE,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ps.DISABLED=new Ps(-1,0,0);class sp{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new sp(0)}static ar(){return new sp(-1)}}const vD="LruGarbageCollector",Wae=1048576;function bD([t,e],[n,r]){const i=Fn(t,n);return i===0?Fn(e,r):i}class Gae{constructor(e){this.Pr=e,this.buffer=new na(bD),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qae{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Dt(vD,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Op(n)?Dt(vD,"Ignoring IndexedDB error during garbage collection: ",n):await Np(n)}await this.Ar(3e5)}))}}class Yae{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return lt.resolve(Ib.ce);const r=new Gae(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Dt("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(yD)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yD):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,a,s,c,d,u;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(Dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,s=Date.now(),this.nthSequenceNumber(e,i)))).next((x=>(r=x,c=Date.now(),this.removeTargets(e,r,n)))).next((x=>(a=x,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(u=Date.now(),b0()<=Ln.DEBUG&&Dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-p}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${x} documents in `+(u-d)+`ms
Total Duration: ${u-p}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:x}))))}}function $ae(t,e){return new Yae(t,e)}class Kae{constructor(){this.changes=new _h((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ja.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?lt.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Xae{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Qae{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&pg(r.mutation,i,go.empty(),Vr.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Bn()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Bn()){const i=jd();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let s=Jm();return a.forEach(((c,d)=>{s=s.insert(c,d.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=jd();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Bn())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,c)=>{n.set(s,c)}))}))}computeViews(e,n,r,i){let a=fu();const s=hg(),c=(function(){return hg()})();return n.forEach(((d,u)=>{const p=r.get(u.key);i.has(u.key)&&(p===void 0||p.mutation instanceof ed)?a=a.insert(u.key,u):p!==void 0?(s.set(u.key,p.mutation.getFieldMask()),pg(p.mutation,u,p.mutation.getFieldMask(),Vr.now())):s.set(u.key,go.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((u,p)=>s.set(u,p))),n.forEach(((u,p)=>c.set(u,new Xae(p,s.get(u)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=hg();let i=new ci(((s,c)=>s-c)),a=Bn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const c of s)c.keys().forEach((d=>{const u=n.get(d);if(u===null)return;let p=r.get(d)||go.empty();p=c.applyToLocalView(u,p),r.set(d,p);const x=(i.get(c.batchId)||Bn()).add(d);i=i.insert(c.batchId,x)}))})).next((()=>{const s=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),u=d.key,p=d.value,x=_U();p.forEach((w=>{if(!a.has(w)){const A=NU(n.get(w),r.get(w));A!==null&&x.set(w,A),a=a.add(w)}})),s.push(this.documentOverlayCache.saveOverlays(e,u,x))}return lt.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return Zie(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):lt.resolve(jd());let c=Mg,d=a;return s.next((u=>lt.forEach(u,((p,x)=>(c<x.largestBatchId&&(c=x.largestBatchId),a.get(p)?lt.resolve():this.remoteDocumentCache.getEntry(e,p).next((w=>{d=d.insert(p,w)}))))).next((()=>this.populateOverlays(e,u,a))).next((()=>this.computeViews(e,d,u,Bn()))).next((p=>({batchId:c,changes:EU(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $t(n)).next((r=>{let i=Jm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=Jm();return this.indexManager.getCollectionParents(e,a).next((c=>lt.forEach(c,(d=>{const u=(function(x,w){return new Mp(w,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next((p=>{p.forEach(((x,w)=>{s=s.insert(x,w)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((s=>{a.forEach(((d,u)=>{const p=u.getKey();s.get(p)===null&&(s=s.insert(p,Ja.newInvalidDocument(p)))}));let c=Jm();return s.forEach(((d,u)=>{const p=a.get(d);p!==void 0&&pg(p.mutation,u,go.empty(),Vr.now()),Rb(n,u)&&(c=c.insert(d,u))})),c}))}}class Zae{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return lt.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:tc(i.createTime)}})(n)),lt.resolve()}getNamedQuery(e,n){return lt.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:zae(i.bundledQuery),readTime:tc(i.readTime)}})(n)),lt.resolve()}}class Jae{constructor(){this.overlays=new ci($t.comparator),this.Lr=new Map}getOverlay(e,n){return lt.resolve(this.overlays.get(n))}getOverlays(e,n){const r=jd();return lt.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.bt(e,n,a)})),lt.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(r)),lt.resolve()}getOverlaysForCollection(e,n,r){const i=jd(),a=n.length+1,s=new $t(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){const d=c.getNext().value,u=d.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return lt.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new ci(((u,p)=>u-p));const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let p=a.get(u.largestBatchId);p===null&&(p=jd(),a=a.insert(u.largestBatchId,p)),p.set(u.getKey(),u)}}const c=jd(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((u,p)=>c.set(u,p))),!(c.size()>=i)););return lt.resolve(c)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new xae(n,r));let a=this.Lr.get(n);a===void 0&&(a=Bn(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}class ese{constructor(){this.sessionToken=za.EMPTY_BYTE_STRING}getSessionToken(e){return lt.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,lt.resolve()}}class p3{constructor(){this.kr=new na(da.Kr),this.qr=new na(da.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new da(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new da(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new $t(new Or([])),r=new da(n,e),i=new da(n,e+1),a=[];return this.qr.forEachInRange([r,i],(s=>{this.Wr(s),a.push(s.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new $t(new Or([])),r=new da(n,e),i=new da(n,e+1);let a=Bn();return this.qr.forEachInRange([r,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const n=new da(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class da{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return $t.comparator(e.key,n.key)||Fn(e.Hr,n.Hr)}static Ur(e,n){return Fn(e.Hr,n.Hr)||$t.comparator(e.key,n.key)}}class tse{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new na(da.Kr)}checkEmpty(e){return lt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new gae(a,n,r,i);this.mutationQueue.push(s);for(const c of i)this.Jr=this.Jr.add(new da(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return lt.resolve(s)}lookupMutationBatch(e,n){return lt.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return lt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(this.mutationQueue.length===0?r3:this.Yn-1)}getAllMutationBatches(e){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new da(n,0),i=new da(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,i],(s=>{const c=this.Zr(s.Hr);a.push(c)})),lt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new na(Fn);return n.forEach((i=>{const a=new da(i,0),s=new da(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,s],(c=>{r=r.add(c.Hr)}))})),lt.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;$t.isDocumentKey(a)||(a=a.child(""));const s=new da(new $t(a),0);let c=new na(Fn);return this.Jr.forEachWhile((d=>{const u=d.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(c=c.add(d.Hr)),!0)}),s),lt.resolve(this.Yr(c))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){sr(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return lt.forEach(n.mutations,(i=>{const a=new da(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new da(n,0),i=this.Jr.firstAfterOrEqual(r);return lt.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,lt.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class nse{constructor(e){this.ti=e,this.docs=(function(){return new ci($t.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return lt.resolve(r?r.document.mutableCopy():Ja.newInvalidDocument(n))}getEntries(e,n){let r=fu();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Ja.newInvalidDocument(i))})),lt.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=fu();const s=n.path,c=new $t(s.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:u,value:{document:p}}=d.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Iie(Cie(p),r)<=0||(i.has(p.key)||Rb(n,p))&&(a=a.insert(p.key,p.mutableCopy()))}return lt.resolve(a)}getAllFromCollectionGroup(e,n,r,i){an(9500)}ni(e,n){return lt.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new rse(this)}getSize(e){return lt.resolve(this.size)}}class rse extends Kae{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),lt.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class ise{constructor(e){this.persistence=e,this.ri=new _h((n=>s3(n)),o3),this.lastRemoteSnapshotVersion=un.min(),this.highestTargetId=0,this.ii=0,this.si=new p3,this.targetCount=0,this.oi=sp._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),lt.resolve()}getLastRemoteSnapshotVersion(e){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return lt.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),lt.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new sp(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,lt.resolve()}updateTargetData(e,n){return this.lr(n),lt.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,lt.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ri.forEach(((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ri.delete(s),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),lt.waitFor(a).next((()=>i))}getTargetCount(e){return lt.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return lt.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),lt.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),lt.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),lt.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return lt.resolve(r)}containsKey(e,n){return lt.resolve(this.si.containsKey(n))}}class HU{constructor(e,n){this._i={},this.overlays={},this.ai=new Ib(0),this.ui=!1,this.ui=!0,this.ci=new ese,this.referenceDelegate=e(this),this.li=new ise(this),this.indexManager=new Vae,this.remoteDocumentCache=(function(i){return new nse(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new Uae(n),this.Pi=new Zae(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Jae,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new tse(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Dt("MemoryPersistence","Starting transaction:",e);const i=new ase(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((a=>this.referenceDelegate.Ii(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(e,n){return lt.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class ase extends Oie{constructor(e){super(),this.currentSequenceNumber=e}}class m3{constructor(e){this.persistence=e,this.Ri=new p3,this.Ai=null}static Vi(e){return new m3(e)}get di(){if(this.Ai)return this.Ai;throw an(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),lt.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),lt.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),lt.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.di.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.di,(r=>{const i=$t.fromPath(r);return this.mi(e,i).next((a=>{a||n.removeEntry(i,un.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return lt.or([()=>lt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Uv{constructor(e,n){this.persistence=e,this.fi=new _h((r=>kie(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=$ae(this,n)}static Vi(e,n){return new Uv(e,n)}Ti(){}Ii(e){return lt.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return lt.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((a=>a?lt.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(e,(s=>this.wr(e,s,n).next((c=>{c||(r++,a.removeEntry(s,un.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),lt.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),lt.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),lt.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),lt.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=iv(e.data.value)),n}wr(e,n,r){return lt.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return lt.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class g3{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=Bn(),i=Bn();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new g3(e,n.fromCache,r,i)}}class sse{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ose{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Ree()?8:Mie(ss())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.gs(e,n).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ps(e,n,i,r).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new sse;return this.ys(e,n,s).next((c=>{if(a.result=c,this.As)return this.ws(e,n,s,c.size)}))})).next((()=>a.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(b0()<=Ln.DEBUG&&Dt("QueryEngine","SDK will not create cache indexes for query:",w0(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),lt.resolve()):(b0()<=Ln.DEBUG&&Dt("QueryEngine","Query:",w0(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(b0()<=Ln.DEBUG&&Dt("QueryEngine","The SDK decides to create cache indexes for query:",w0(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ec(n))):lt.resolve())}gs(e,n){if(lD(n))return lt.resolve(null);let r=ec(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=VT(n,null,"F"),r=ec(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const s=Bn(...a);return this.fs.getDocuments(e,s).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const u=this.bs(n,c);return this.Ss(n,u,s,d.readTime)?this.gs(e,VT(n,null,"F")):this.Ds(e,u,n,d)}))))})))))}ps(e,n,r,i){return lD(n)||i.isEqual(un.min())?lt.resolve(null):this.fs.getDocuments(e,r).next((a=>{const s=this.bs(n,a);return this.Ss(n,s,r,i)?lt.resolve(null):(b0()<=Ln.DEBUG&&Dt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),w0(n)),this.Ds(e,s,n,Tie(i,Mg)).next((c=>c)))}))}bs(e,n){let r=new na(bU(e));return n.forEach(((i,a)=>{Rb(e,a)&&(r=r.add(a))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(e,n,r){return b0()<=Ln.DEBUG&&Dt("QueryEngine","Using full collection scan to execute query:",w0(n)),this.fs.getDocumentsMatchingQuery(e,n,jf.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((s=>{a=a.insert(s.key,s)})),a)))}}const x3="LocalStore",lse=3e8;class cse{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new ci(Fn),this.Fs=new _h((a=>s3(a)),o3),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qae(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function use(t,e,n,r){return new cse(t,e,n,r)}async function WU(t,e){const n=pn(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const s=[],c=[];let d=Bn();for(const u of i){s.push(u.batchId);for(const p of u.mutations)d=d.add(p.key)}for(const u of a){c.push(u.batchId);for(const p of u.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next((u=>({Ns:u,removedBatchIds:s,addedBatchIds:c})))}))}))}function fse(t,e){const n=pn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return(function(c,d,u,p){const x=u.batch,w=x.keys();let A=lt.resolve();return w.forEach((N=>{A=A.next((()=>p.getEntry(d,N))).next((S=>{const I=u.docVersions.get(N);sr(I!==null,48541),S.version.compareTo(I)<0&&(x.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),p.addEntry(S)))}))})),A.next((()=>c.mutationQueue.removeMutationBatch(d,x)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=Bn();for(let u=0;u<c.mutationResults.length;++u)c.mutationResults[u].transformResults.length>0&&(d=d.add(c.batch.mutations[u].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function GU(t){const e=pn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function dse(t,e){const n=pn(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const c=[];e.targetChanges.forEach(((p,x)=>{const w=i.get(x);if(!w)return;c.push(n.li.removeMatchingKeys(a,p.removedDocuments,x).next((()=>n.li.addMatchingKeys(a,p.addedDocuments,x))));let A=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(x)!==null?A=A.withResumeToken(za.EMPTY_BYTE_STRING,un.min()).withLastLimboFreeSnapshotVersion(un.min()):p.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(p.resumeToken,r)),i=i.insert(x,A),(function(S,I,j){return S.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=lse?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(w,A,p)&&c.push(n.li.updateTargetData(a,A))}));let d=fu(),u=Bn();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,p))})),c.push(hse(a,s,e.documentUpdates).next((p=>{d=p.Bs,u=p.Ls}))),!r.isEqual(un.min())){const p=n.li.getLastRemoteSnapshotVersion(a).next((x=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(p)}return lt.waitFor(c).next((()=>s.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,u))).next((()=>d))})).then((a=>(n.vs=i,a)))}function hse(t,e,n){let r=Bn(),i=Bn();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let s=fu();return n.forEach(((c,d)=>{const u=a.get(c);d.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(un.min())?(e.removeEntry(c,d.readTime),s=s.insert(c,d)):!u.isValidDocument()||d.version.compareTo(u.version)>0||d.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(d),s=s.insert(c,d)):Dt(x3,"Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",d.version)})),{Bs:s,Ls:i}}))}function pse(t,e){const n=pn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=r3),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function mse(t,e){const n=pn(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((a=>a?(i=a,lt.resolve(i)):n.li.allocateTargetId(r).next((s=>(i=new Ef(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function YT(t,e,n){const r=pn(t),i=r.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Op(s))throw s;Dt(x3,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function wD(t,e,n){const r=pn(t);let i=un.min(),a=Bn();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(d,u,p){const x=pn(d),w=x.Fs.get(p);return w!==void 0?lt.resolve(x.vs.get(w)):x.li.getTargetData(u,p)})(r,s,ec(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,c.targetId).next((d=>{a=d}))})).next((()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:un.min(),n?a:Bn()))).next((c=>(gse(r,tae(e),c),{documents:c,ks:a})))))}function gse(t,e,n){let r=t.Ms.get(e)||un.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Ms.set(e,r)}class ED{constructor(){this.activeTargetIds=oae()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xse{constructor(){this.vo=new ED,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new ED,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yse{Mo(e){}shutdown(){}}const _D="ConnectivityMonitor";class AD{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Dt(_D,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Dt(_D,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let vy=null;function $T(){return vy===null?vy=(function(){return 268435456+Math.round(2147483648*Math.random())})():vy++,"0x"+vy.toString(16)}const cA="RestConnection",vse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class bse{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Dv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const s=$T(),c=this.Qo(e,n.toUriEncodedString());Dt(cA,`Sending RPC '${e}' ${s}:`,c,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,i,a);const{host:u}=new URL(c),p=Ap(u);return this.zo(e,c,d,r,p).then((x=>(Dt(cA,`Received RPC '${e}' ${s}: `,x),x)),(x=>{throw Jd(cA,`RPC '${e}' ${s} failed with error: `,x,"url: ",c,"request:",r),x}))}jo(e,n,r,i,a,s){return this.Wo(e,n,r,i,a)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ip})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}Qo(e,n){const r=vse[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class wse{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Xa="WebChannelConnection",Pm=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class V0 extends bse{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!V0.c_){const e=XB();Pm(e,KB.STAT_EVENT,(n=>{n.stat===PT.PROXY?Dt(Xa,"STAT_EVENT: detected buffering proxy"):n.stat===PT.NOPROXY&&Dt(Xa,"STAT_EVENT: detected no buffering proxy")})),V0.c_=!0}}zo(e,n,r,i,a){const s=$T();return new Promise(((c,d)=>{const u=new YB;u.setWithCredentials(!0),u.listenOnce($B.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case rv.NO_ERROR:const x=u.getResponseJson();Dt(Xa,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(x)),c(x);break;case rv.TIMEOUT:Dt(Xa,`RPC '${e}' ${s} timed out`),d(new Ot(it.DEADLINE_EXCEEDED,"Request time out"));break;case rv.HTTP_ERROR:const w=u.getStatus();if(Dt(Xa,`RPC '${e}' ${s} failed with status:`,w,"response text:",u.getResponseText()),w>0){let A=u.getResponseJson();Array.isArray(A)&&(A=A[0]);const N=A?.error;if(N&&N.status&&N.message){const S=(function(j){const D=j.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(D)>=0?D:it.UNKNOWN})(N.status);d(new Ot(S,N.message))}else d(new Ot(it.UNKNOWN,"Server responded with status "+u.getStatus()))}else d(new Ot(it.UNAVAILABLE,"Connection failed."));break;default:an(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Dt(Xa,`RPC '${e}' ${s} completed.`)}}));const p=JSON.stringify(i);Dt(Xa,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=$T(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=a.join("");Dt(Xa,`Creating RPC '${e}' stream ${i}: ${u}`,c);const p=s.createWebChannel(u,c);this.I_(p);let x=!1,w=!1;const A=new wse({Ho:N=>{w?Dt(Xa,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(x||(Dt(Xa,`Opening RPC '${e}' stream ${i} transport.`),p.open(),x=!0),Dt(Xa,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},Jo:()=>p.close()});return Pm(p,Zm.EventType.OPEN,(()=>{w||(Dt(Xa,`RPC '${e}' stream ${i} transport opened.`),A.i_())})),Pm(p,Zm.EventType.CLOSE,(()=>{w||(w=!0,Dt(Xa,`RPC '${e}' stream ${i} transport closed`),A.o_(),this.E_(p))})),Pm(p,Zm.EventType.ERROR,(N=>{w||(w=!0,Jd(Xa,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),A.o_(new Ot(it.UNAVAILABLE,"The operation could not be completed")))})),Pm(p,Zm.EventType.MESSAGE,(N=>{if(!w){const S=N.data[0];sr(!!S,16349);const I=S,j=I?.error||I[0]?.error;if(j){Dt(Xa,`RPC '${e}' stream ${i} received error:`,j);const D=j.status;let P=(function(Z){const F=Vi[Z];if(F!==void 0)return MU(F)})(D),V=j.message;D==="NOT_FOUND"&&V.includes("database")&&V.includes("does not exist")&&V.includes(this.databaseId.database)&&Jd(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),P===void 0&&(P=it.INTERNAL,V="Unknown error status: "+D+" with message "+j.message),w=!0,A.o_(new Ot(P,V)),p.close()}else Dt(Xa,`RPC '${e}' stream ${i} received:`,S),A.__(S)}})),V0.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return QB()}}function Ese(t){return new V0(t)}function uA(){return typeof document<"u"?document:null}function jb(t){return new Tae(t,!0)}V0.c_=!1;class qU{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Dt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const SD="PersistentStream";class YU{constructor(e,n,r,i,a,s,c,d){this.Ci=e,this.b_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qU(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===it.RESOURCE_EXHAUSTED?(uu(n.toString()),uu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ot(it.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Dt(SD,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Dt(SD,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _se extends YU{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Nae(this.serializer,e),r=(function(a){if(!("targetChange"in a))return un.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?un.min():s.readTime?tc(s.readTime):un.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=qT(this.serializer),n.addTarget=(function(a,s){let c;const d=s.target;if(c=UT(d)?{documents:Rae(a,d)}:{query:kae(a,d).ft},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=DU(a,s.resumeToken);const u=HT(a,s.expectedCount);u!==null&&(c.expectedCount=u)}else if(s.snapshotVersion.compareTo(un.min())>0){c.readTime=Bv(a,s.snapshotVersion.toTimestamp());const u=HT(a,s.expectedCount);u!==null&&(c.expectedCount=u)}return c})(this.serializer,e);const r=Pae(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=qT(this.serializer),n.removeTarget=e,this.K_(n)}}class Ase extends YU{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return sr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,sr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){sr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Mae(e.writeResults,e.commitTime),r=tc(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=qT(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Oae(this.serializer,r)))};this.K_(n)}}class Sse{}class Tse extends Sse{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ot(it.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Wo(e,WT(n,r),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ot(it.UNKNOWN,a.toString())}))}jo(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,c])=>this.connection.jo(e,WT(n,r),i,s,c,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ot(it.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Cse(t,e,n,r){return new Tse(t,e,n,r)}class Ise{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(uu(n),this.aa=!1):Dt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const eh="RemoteStore";class Nse{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((s=>{r.enqueueAndForget((async()=>{Ah(this)&&(Dt(eh,"Restarting streams for network reachability change."),await(async function(d){const u=pn(d);u.Ea.add(4),await I1(u),u.Va.set("Unknown"),u.Ea.delete(4),await Lb(u)})(this))}))})),this.Va=new Ise(r,i)}}async function Lb(t){if(Ah(t))for(const e of t.Ra)await e(!0)}async function I1(t){for(const e of t.Ra)await e(!1)}function $U(t,e){const n=pn(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),w3(n)?b3(n):Rp(n).O_()&&v3(n,e))}function y3(t,e){const n=pn(t),r=Rp(n);n.Ia.delete(e),r.O_()&&KU(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ah(n)&&n.Va.set("Unknown"))}function v3(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(un.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rp(t).Z_(e)}function KU(t,e){t.da.$e(e),Rp(t).X_(e)}function b3(t){t.da=new Eae({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Rp(t).start(),t.Va.ua()}function w3(t){return Ah(t)&&!Rp(t).x_()&&t.Ia.size>0}function Ah(t){return pn(t).Ea.size===0}function XU(t){t.da=void 0}async function Ose(t){t.Va.set("Online")}async function Mse(t){t.Ia.forEach(((e,n)=>{v3(t,e)}))}async function Rse(t,e){XU(t),w3(t)?(t.Va.ha(e),b3(t)):t.Va.set("Unknown")}async function kse(t,e,n){if(t.Va.set("Online"),e instanceof kU&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const c of a.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,s),i.Ia.delete(c),i.da.removeTarget(c))})(t,e)}catch(r){Dt(eh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zv(t,r)}else if(e instanceof ov?t.da.Xe(e):e instanceof RU?t.da.st(e):t.da.tt(e),!n.isEqual(un.min()))try{const r=await GU(t.localStore);n.compareTo(r)>=0&&await(function(a,s){const c=a.da.Tt(s);return c.targetChanges.forEach(((d,u)=>{if(d.resumeToken.approximateByteSize()>0){const p=a.Ia.get(u);p&&a.Ia.set(u,p.withResumeToken(d.resumeToken,s))}})),c.targetMismatches.forEach(((d,u)=>{const p=a.Ia.get(d);if(!p)return;a.Ia.set(d,p.withResumeToken(za.EMPTY_BYTE_STRING,p.snapshotVersion)),KU(a,d);const x=new Ef(p.target,d,u,p.sequenceNumber);v3(a,x)})),a.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){Dt(eh,"Failed to raise snapshot:",r),await zv(t,r)}}async function zv(t,e,n){if(!Op(e))throw e;t.Ea.add(1),await I1(t),t.Va.set("Offline"),n||(n=()=>GU(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Dt(eh,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Lb(t)}))}function QU(t,e){return e().catch((n=>zv(t,n,e)))}async function Fb(t){const e=pn(t),n=Uf(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:r3;for(;Dse(e);)try{const i=await pse(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Pse(e,i)}catch(i){await zv(e,i)}ZU(e)&&JU(e)}function Dse(t){return Ah(t)&&t.Ta.length<10}function Pse(t,e){t.Ta.push(e);const n=Uf(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function ZU(t){return Ah(t)&&!Uf(t).x_()&&t.Ta.length>0}function JU(t){Uf(t).start()}async function jse(t){Uf(t).ra()}async function Lse(t){const e=Uf(t);for(const n of t.Ta)e.ea(n.mutations)}async function Fse(t,e,n){const r=t.Ta.shift(),i=f3.from(r,e,n);await QU(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Fb(t)}async function Bse(t,e){e&&Uf(t).Y_&&await(async function(r,i){if((function(s){return vae(s)&&s!==it.ABORTED})(i.code)){const a=r.Ta.shift();Uf(r).B_(),await QU(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Fb(r)}})(t,e),ZU(t)&&JU(t)}async function TD(t,e){const n=pn(t);n.asyncQueue.verifyOperationInProgress(),Dt(eh,"RemoteStore received new credentials");const r=Ah(n);n.Ea.add(3),await I1(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Lb(n)}async function Use(t,e){const n=pn(t);e?(n.Ea.delete(2),await Lb(n)):e||(n.Ea.add(2),await I1(n),n.Va.set("Unknown"))}function Rp(t){return t.ma||(t.ma=(function(n,r,i){const a=pn(n);return a.sa(),new _se(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:Ose.bind(null,t),Yo:Mse.bind(null,t),t_:Rse.bind(null,t),J_:kse.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),w3(t)?b3(t):t.Va.set("Unknown")):(await t.ma.stop(),XU(t))}))),t.ma}function Uf(t){return t.fa||(t.fa=(function(n,r,i){const a=pn(n);return a.sa(),new Ase(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:jse.bind(null,t),t_:Bse.bind(null,t),ta:Lse.bind(null,t),na:Fse.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Fb(t)):(await t.fa.stop(),t.Ta.length>0&&(Dt(eh,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class E3{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new tu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,c=new E3(e,n,s,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ot(it.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _3(t,e){if(uu("AsyncQueue",`${e}: ${t}`),Op(t))return new Ot(it.UNAVAILABLE,`${e}: ${t}`);throw t}class H0{static emptySet(e){return new H0(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||$t.comparator(n.key,r.key):(n,r)=>$t.comparator(n.key,r.key),this.keyedMap=Jm(),this.sortedSet=new ci(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof H0)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new H0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class CD{constructor(){this.ga=new ci($t.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):an(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class op{constructor(e,n,r,i,a,s,c,d,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach((c=>{s.push({type:0,doc:c})})),new op(e,n,H0.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class zse{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Vse{constructor(){this.queries=ID(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=pn(n),a=i.queries;i.queries=ID(),a.forEach(((s,c)=>{for(const d of c.ba)d.onError(r)}))})(this,new Ot(it.ABORTED,"Firestore shutting down"))}}function ID(){return new _h((t=>vU(t)),Mb)}async function ez(t,e){const n=pn(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.Da()&&(r=2):(a=new zse,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const c=_3(s,`Initialization of query '${w0(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&A3(n)}async function tz(t,e){const n=pn(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.ba.indexOf(e);s>=0&&(a.ba.splice(s,1),a.ba.length===0?i=e.Da()?0:1:!a.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Hse(t,e){const n=pn(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const c of s.ba)c.Fa(i)&&(r=!0);s.wa=i}}r&&A3(n)}function Wse(t,e,n){const r=pn(t),i=r.queries.get(e);if(i)for(const a of i.ba)a.onError(n);r.queries.delete(e)}function A3(t){t.Ca.forEach((e=>{e.next()}))}var KT,ND;(ND=KT||(KT={})).Ma="default",ND.Cache="cache";class nz{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new op(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=op.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==KT.Cache}}class rz{constructor(e){this.key=e}}class iz{constructor(e){this.key=e}}class Gse{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Bn(),this.mutatedKeys=Bn(),this.eu=bU(e),this.tu=new H0(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new CD,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,x)=>{const w=i.get(p),A=Rb(this.query,x)?x:null,N=!!w&&this.mutatedKeys.has(w.key),S=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let I=!1;w&&A?w.data.isEqual(A.data)?N!==S&&(r.track({type:3,doc:A}),I=!0):this.su(w,A)||(r.track({type:2,doc:A}),I=!0,(d&&this.eu(A,d)>0||u&&this.eu(A,u)<0)&&(c=!0)):!w&&A?(r.track({type:0,doc:A}),I=!0):w&&!A&&(r.track({type:1,doc:w}),I=!0,(d||u)&&(c=!0)),I&&(A?(s=s.add(A),a=S?a.add(p):a.delete(p)):(s=s.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{tu:s,iu:r,Ss:c,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((p,x)=>(function(A,N){const S=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return an(20277,{Vt:I})}};return S(A)-S(N)})(p.type,x.type)||this.eu(p.doc,x.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],d=this.Ya.size===0&&this.current&&!i?1:0,u=d!==this.Xa;return this.Xa=d,s.length!==0||u?{snapshot:new op(this.query,e.tu,a,s,e.mutatedKeys,d===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new CD,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Bn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new iz(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new rz(r))})),n}cu(e){this.Za=e.ks,this.Ya=Bn();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return op.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const S3="SyncEngine";class qse{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Yse{constructor(e){this.key=e,this.hu=!1}}class $se{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new _h((c=>vU(c)),Mb),this.Iu=new Map,this.Eu=new Set,this.Ru=new ci($t.comparator),this.Au=new Map,this.Vu=new p3,this.du={},this.mu=new Map,this.fu=sp.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Kse(t,e,n=!0){const r=uz(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await az(r,e,n,!0),i}async function Xse(t,e){const n=uz(t);await az(n,e,!0,!1)}async function az(t,e,n,r){const i=await mse(t.localStore,ec(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await Qse(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&$U(t.remoteStore,i),c}async function Qse(t,e,n,r,i){t.pu=(x,w,A)=>(async function(S,I,j,D){let P=I.view.ru(j);P.Ss&&(P=await wD(S.localStore,I.query,!1).then((({documents:F})=>I.view.ru(F,P))));const V=D&&D.targetChanges.get(I.targetId),K=D&&D.targetMismatches.get(I.targetId)!=null,Z=I.view.applyChanges(P,S.isPrimaryClient,V,K);return MD(S,I.targetId,Z.au),Z.snapshot})(t,x,w,A);const a=await wD(t.localStore,e,!0),s=new Gse(e,a.ks),c=s.ru(a.documents),d=C1.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(c,t.isPrimaryClient,d);MD(t,n,u.au);const p=new qse(e,n,s);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function Zse(t,e,n){const r=pn(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((s=>!Mb(s,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await YT(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&y3(r.remoteStore,i.targetId),XT(r,i.targetId)})).catch(Np)):(XT(r,i.targetId),await YT(r.localStore,i.targetId,!0))}async function Jse(t,e){const n=pn(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),y3(n.remoteStore,r.targetId))}async function eoe(t,e,n){const r=ooe(t);try{const i=await(function(s,c){const d=pn(s),u=Vr.now(),p=c.reduce(((A,N)=>A.add(N.key)),Bn());let x,w;return d.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let N=fu(),S=Bn();return d.xs.getEntries(A,p).next((I=>{N=I,N.forEach(((j,D)=>{D.isValidDocument()||(S=S.add(j))}))})).next((()=>d.localDocuments.getOverlayedDocuments(A,N))).next((I=>{x=I;const j=[];for(const D of c){const P=pae(D,x.get(D.key).overlayedDocument);P!=null&&j.push(new ed(D.key,P,fU(P.value.mapValue),$o.exists(!0)))}return d.mutationQueue.addMutationBatch(A,u,j,c)})).next((I=>{w=I;const j=I.applyToLocalDocumentSet(x,S);return d.documentOverlayCache.saveOverlays(A,I.batchId,j)}))})).then((()=>({batchId:w.batchId,changes:EU(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,c,d){let u=s.du[s.currentUser.toKey()];u||(u=new ci(Fn)),u=u.insert(c,d),s.du[s.currentUser.toKey()]=u})(r,i.batchId,n),await N1(r,i.changes),await Fb(r.remoteStore)}catch(i){const a=_3(i,"Failed to persist write");n.reject(a)}}async function sz(t,e){const n=pn(t);try{const r=await dse(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=n.Au.get(a);s&&(sr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?sr(s.hu,14607):i.removedDocuments.size>0&&(sr(s.hu,42227),s.hu=!1))})),await N1(n,r,e)}catch(r){await Np(r)}}function OD(t,e,n){const r=pn(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,s)=>{const c=s.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(s,c){const d=pn(s);d.onlineState=c;let u=!1;d.queries.forEach(((p,x)=>{for(const w of x.ba)w.va(c)&&(u=!0)})),u&&A3(d)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function toe(t,e,n){const r=pn(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new ci($t.comparator);s=s.insert(a,Ja.newNoDocument(a,un.min()));const c=Bn().add(a),d=new Pb(un.min(),new Map,new ci(Fn),s,c);await sz(r,d),r.Ru=r.Ru.remove(a),r.Au.delete(e),T3(r)}else await YT(r.localStore,e,!1).then((()=>XT(r,e,n))).catch(Np)}async function noe(t,e){const n=pn(t),r=e.batch.batchId;try{const i=await fse(n.localStore,e);lz(n,r,null),oz(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await N1(n,i)}catch(i){await Np(i)}}async function roe(t,e,n){const r=pn(t);try{const i=await(function(s,c){const d=pn(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let p;return d.mutationQueue.lookupMutationBatch(u,c).next((x=>(sr(x!==null,37113),p=x.keys(),d.mutationQueue.removeMutationBatch(u,x)))).next((()=>d.mutationQueue.performConsistencyCheck(u))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(u,p,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,p))).next((()=>d.localDocuments.getDocuments(u,p)))}))})(r.localStore,e);lz(r,e,n),oz(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await N1(r,i)}catch(i){await Np(i)}}function oz(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function lz(t,e,n){const r=pn(t);let i=r.du[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function XT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||cz(t,r)}))}function cz(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(y3(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),T3(t))}function MD(t,e,n){for(const r of n)r instanceof rz?(t.Vu.addReference(r.key,e),ioe(t,r)):r instanceof iz?(Dt(S3,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||cz(t,r.key)):an(19791,{wu:r})}function ioe(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Dt(S3,"New document in limbo: "+n),t.Eu.add(r),T3(t))}function T3(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new $t(Or.fromString(e)),r=t.fu.next();t.Au.set(r,new Yse(n)),t.Ru=t.Ru.insert(n,r),$U(t.remoteStore,new Ef(ec(l3(n.path)),r,"TargetPurposeLimboResolution",Ib.ce))}}async function N1(t,e,n){const r=pn(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{s.push(r.pu(d,e,n).then((u=>{if((u||n)&&r.isPrimaryClient){const p=u?!u.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(u){i.push(u);const p=g3.Es(d.targetId,u);a.push(p)}})))})),await Promise.all(s),r.Pu.J_(i),await(async function(d,u){const p=pn(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>lt.forEach(u,(w=>lt.forEach(w.Ts,(A=>p.persistence.referenceDelegate.addReference(x,w.targetId,A))).next((()=>lt.forEach(w.Is,(A=>p.persistence.referenceDelegate.removeReference(x,w.targetId,A)))))))))}catch(x){if(!Op(x))throw x;Dt(x3,"Failed to update sequence numbers: "+x)}for(const x of u){const w=x.targetId;if(!x.fromCache){const A=p.vs.get(w),N=A.snapshotVersion,S=A.withLastLimboFreeSnapshotVersion(N);p.vs=p.vs.insert(w,S)}}})(r.localStore,a))}async function aoe(t,e){const n=pn(t);if(!n.currentUser.isEqual(e)){Dt(S3,"User change. New user:",e.toKey());const r=await WU(n.localStore,e);n.currentUser=e,(function(a,s){a.mu.forEach((c=>{c.forEach((d=>{d.reject(new Ot(it.CANCELLED,s))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await N1(n,r.Ns)}}function soe(t,e){const n=pn(t),r=n.Au.get(e);if(r&&r.hu)return Bn().add(r.key);{let i=Bn();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const c=n.Tu.get(s);i=i.unionWith(c.view.nu)}return i}}function uz(t){const e=pn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=soe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=toe.bind(null,e),e.Pu.J_=Hse.bind(null,e.eventManager),e.Pu.yu=Wse.bind(null,e.eventManager),e}function ooe(t){const e=pn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=noe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=roe.bind(null,e),e}class Vv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jb(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return use(this.persistence,new ose,e.initialUser,this.serializer)}Cu(e){return new HU(m3.Vi,this.serializer)}Du(e){return new xse}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vv.provider={build:()=>new Vv};class loe extends Vv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){sr(this.persistence.referenceDelegate instanceof Uv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new qae(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ps.withCacheSize(this.cacheSizeBytes):Ps.DEFAULT;return new HU((r=>Uv.Vi(r,n)),this.serializer)}}class QT{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>OD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aoe.bind(null,this.syncEngine),await Use(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Vse})()}createDatastore(e){const n=jb(e.databaseInfo.databaseId),r=Ese(e.databaseInfo);return Cse(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,s,c){return new Nse(r,i,a,s,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>OD(this.syncEngine,n,0)),(function(){return AD.v()?new AD:new yse})())}createSyncEngine(e,n){return(function(i,a,s,c,d,u,p){const x=new $se(i,a,s,c,d,u);return p&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=pn(n);Dt(eh,"RemoteStore shutting down."),r.Ea.add(5),await I1(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}QT.provider={build:()=>new QT};class fz{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):uu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const zf="FirestoreClient";class coe{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Za.UNAUTHENTICATED,this.clientId=n3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async s=>{Dt(zf,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(Dt(zf,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_3(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function fA(t,e){t.asyncQueue.verifyOperationInProgress(),Dt(zf,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await WU(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function RD(t,e){t.asyncQueue.verifyOperationInProgress();const n=await uoe(t);Dt(zf,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>TD(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>TD(e.remoteStore,i))),t._onlineComponents=e}async function uoe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Dt(zf,"Using user provided OfflineComponentProvider");try{await fA(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===it.FAILED_PRECONDITION||i.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Jd("Error using user provided cache. Falling back to memory cache: "+n),await fA(t,new Vv)}}else Dt(zf,"Using default OfflineComponentProvider"),await fA(t,new loe(void 0));return t._offlineComponents}async function dz(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Dt(zf,"Using user provided OnlineComponentProvider"),await RD(t,t._uninitializedComponentsProvider._online)):(Dt(zf,"Using default OnlineComponentProvider"),await RD(t,new QT))),t._onlineComponents}function foe(t){return dz(t).then((e=>e.syncEngine))}async function hz(t){const e=await dz(t),n=e.eventManager;return n.onListen=Kse.bind(null,e.syncEngine),n.onUnlisten=Zse.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Xse.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Jse.bind(null,e.syncEngine),n}function doe(t,e,n={}){const r=new tu;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,c,d,u){const p=new fz({next:w=>{p.Nu(),s.enqueueAndForget((()=>tz(a,x)));const A=w.docs.has(c);!A&&w.fromCache?u.reject(new Ot(it.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&w.fromCache&&d&&d.source==="server"?u.reject(new Ot(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(w)},error:w=>u.reject(w)}),x=new nz(l3(c.path),p,{includeMetadataChanges:!0,Ka:!0});return ez(a,x)})(await hz(t),t.asyncQueue,e,n,r))),r.promise}function hoe(t,e,n={}){const r=new tu;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,c,d,u){const p=new fz({next:w=>{p.Nu(),s.enqueueAndForget((()=>tz(a,x))),w.fromCache&&d.source==="server"?u.reject(new Ot(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(w)},error:w=>u.reject(w)}),x=new nz(c,p,{includeMetadataChanges:!0,Ka:!0});return ez(a,x)})(await hz(t),t.asyncQueue,e,n,r))),r.promise}function poe(t,e){const n=new tu;return t.asyncQueue.enqueueAndForget((async()=>eoe(await foe(t),e,n))),n.promise}function pz(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const moe="ComponentProvider",kD=new Map;function goe(t,e,n,r,i){return new jie(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,pz(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const mz="firestore.googleapis.com",DD=!0;class PD{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ot(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mz,this.ssl=DD}else this.host=e.host,this.ssl=e.ssl??DD;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VU;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Wae)throw new Ot(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Sie("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pz(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ot(it.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ot(it.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ot(it.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bb{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PD({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ot(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ot(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PD(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new mie;switch(r.type){case"firstParty":return new vie(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ot(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=kD.get(n);r&&(Dt(moe,"Removing Datastore"),kD.delete(n),r.terminate())})(this),Promise.resolve()}}function xoe(t,e,n,r={}){t=Cl(t,Bb);const i=Ap(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(nB(`https://${c}`),rB("Firestore",!0)),a.host!==mz&&a.host!==c&&Jd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:c,ssl:i,emulatorOptions:r};if(!Pf(d,s)&&(t._setSettings(d),r.mockUserToken)){let u,p;if(typeof r.mockUserToken=="string")u=r.mockUserToken,p=Za.MOCK_USER;else{u=Aee(r.mockUserToken,t._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new Ot(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Za(x)}t._authCredentials=new gie(new JB(u,p))}}class Sh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Sh(this.firestore,e,this._query)}}class Ri{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ri(this.firestore,e,this._key)}toJSON(){return{type:Ri._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(S1(n,Ri._jsonSchema))return new Ri(e,r||null,new $t(Or.fromString(n.referencePath)))}}Ri._jsonSchemaVersion="firestore/documentReference/1.0",Ri._jsonSchema={type:Gi("string",Ri._jsonSchemaVersion),referencePath:Gi("string")};class Rf extends Sh{constructor(e,n,r){super(e,n,l3(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ri(this.firestore,null,new $t(e))}withConverter(e){return new Rf(this.firestore,e,this._path)}}function wr(t,e,...n){if(t=ki(t),eU("collection","path",e),t instanceof Bb){const r=Or.fromString(e,...n);return $k(r),new Rf(t,null,r)}{if(!(t instanceof Ri||t instanceof Rf))throw new Ot(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Or.fromString(e,...n));return $k(r),new Rf(t.firestore,null,r)}}function er(t,e,...n){if(t=ki(t),arguments.length===1&&(e=n3.newId()),eU("doc","path",e),t instanceof Bb){const r=Or.fromString(e,...n);return Yk(r),new Ri(t,null,new $t(r))}{if(!(t instanceof Ri||t instanceof Rf))throw new Ot(it.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Or.fromString(e,...n));return Yk(r),new Ri(t.firestore,t instanceof Rf?t.converter:null,new $t(r))}}const jD="AsyncQueue";class LD{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qU(this,"async_queue_retry"),this._c=()=>{const r=uA();r&&Dt(jD,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=uA();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=uA();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new tu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Op(e))throw e;Dt(jD,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,uu("INTERNAL UNHANDLED ERROR: ",FD(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=E3.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&an(47125,{Pc:FD(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function FD(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Th extends Bb{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new LD,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LD(e),this._firestoreClient=void 0,await e}}}function yoe(t,e){const n=typeof t=="object"?t:q4(),r=typeof t=="string"?t:Dv,i=wh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=Eee("firestore");a&&xoe(i,...a)}return i}function C3(t){if(t._terminated)throw new Ot(it.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||voe(t),t._firestoreClient}function voe(t){const e=t._freezeSettings(),n=goe(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new coe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}class Wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wo(za.fromBase64String(e))}catch(n){throw new Ot(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wo(za.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(S1(e,Wo._jsonSchema))return Wo.fromBase64String(e.bytes)}}Wo._jsonSchemaVersion="firestore/bytes/1.0",Wo._jsonSchema={type:Gi("string",Wo._jsonSchemaVersion),bytes:Gi("string")};class I3{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ot(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ja(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class N3{constructor(e){this._methodName=e}}class nc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ot(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ot(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fn(this._lat,e._lat)||Fn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nc._jsonSchemaVersion}}static fromJSON(e){if(S1(e,nc._jsonSchema))return new nc(e.latitude,e.longitude)}}nc._jsonSchemaVersion="firestore/geoPoint/1.0",nc._jsonSchema={type:Gi("string",nc._jsonSchemaVersion),latitude:Gi("number"),longitude:Gi("number")};class El{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:El._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(S1(e,El._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new El(e.vectorValues);throw new Ot(it.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}El._jsonSchemaVersion="firestore/vectorValue/1.0",El._jsonSchema={type:Gi("string",El._jsonSchemaVersion),vectorValues:Gi("object")};const boe=/^__.*__$/;class woe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ed(e,this.data,this.fieldMask,n,this.fieldTransforms):new T1(e,this.data,n,this.fieldTransforms)}}class gz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ed(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xz(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw an(40011,{dataSource:t})}}class O3{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new O3({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Hv(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(xz(this.dataSource)&&boe.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Eoe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jb(e)}createContext(e,n,r,i=!1){return new O3({dataSource:e,methodName:n,targetDoc:r,path:ja.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ub(t){const e=t._freezeSettings(),n=jb(t._databaseId);return new Eoe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yz(t,e,n,r,i,a={}){const s=t.createContext(a.merge||a.mergeFields?2:0,e,n,i);M3("Data must be an object, but it was:",s,r);const c=vz(r,s);let d,u;if(a.merge)d=new go(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const p=[];for(const x of a.mergeFields){const w=th(e,x,n);if(!s.contains(w))throw new Ot(it.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Ez(p,w)||p.push(w)}d=new go(p),u=s.fieldTransforms.filter((x=>d.covers(x.field)))}else d=null,u=s.fieldTransforms;return new woe(new js(c),d,u)}class zb extends N3{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zb}}function _oe(t,e,n,r){const i=t.createContext(1,e,n);M3("Data must be an object, but it was:",i,r);const a=[],s=js.empty();Jf(r,((d,u)=>{const p=wz(e,d,n);u=ki(u);const x=i.childContextForFieldPath(p);if(u instanceof zb)a.push(p);else{const w=O1(u,x);w!=null&&(a.push(p),s.set(p,w))}}));const c=new go(a);return new gz(s,c,i.fieldTransforms)}function Aoe(t,e,n,r,i,a){const s=t.createContext(1,e,n),c=[th(e,r,n)],d=[i];if(a.length%2!=0)throw new Ot(it.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)c.push(th(e,a[w])),d.push(a[w+1]);const u=[],p=js.empty();for(let w=c.length-1;w>=0;--w)if(!Ez(u,c[w])){const A=c[w];let N=d[w];N=ki(N);const S=s.childContextForFieldPath(A);if(N instanceof zb)u.push(A);else{const I=O1(N,S);I!=null&&(u.push(A),p.set(A,I))}}const x=new go(u);return new gz(p,x,s.fieldTransforms)}function Soe(t,e,n,r=!1){return O1(n,t.createContext(r?4:3,e))}function O1(t,e){if(bz(t=ki(t)))return M3("Unsupported field value:",e,t),vz(t,e);if(t instanceof N3)return(function(r,i){if(!xz(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const a=[];let s=0;for(const c of r){let d=O1(c,i.childContextForArray(s));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),s++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=ki(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lae(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Vr.fromDate(r);return{timestampValue:Bv(i.serializer,a)}}if(r instanceof Vr){const a=new Vr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bv(i.serializer,a)}}if(r instanceof nc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wo)return{bytesValue:DU(i.serializer,r._byteString)};if(r instanceof Ri){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:h3(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof El)return(function(s,c){const d=s instanceof El?s.toArray():s;return{mapValue:{fields:{[cU]:{stringValue:uU},[Pv]:{arrayValue:{values:d.map((p=>{if(typeof p!="number")throw c.createError("VectorValues must only contain numeric values.");return c3(c.serializer,p)}))}}}}}})(r,i);if(zU(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Cb(r)}`)})(t,e)}function vz(t,e){const n={};return rU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jf(t,((r,i)=>{const a=O1(i,e.childContextForField(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function bz(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vr||t instanceof nc||t instanceof Wo||t instanceof Ri||t instanceof N3||t instanceof El||zU(t))}function M3(t,e,n){if(!bz(n)||!tU(n)){const r=Cb(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function th(t,e,n){if((e=ki(e))instanceof I3)return e._internalPath;if(typeof e=="string")return wz(t,e);throw Hv("Field path arguments must be of type string or ",t,!1,void 0,n)}const Toe=new RegExp("[~\\*/\\[\\]]");function wz(t,e,n){if(e.search(Toe)>=0)throw Hv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new I3(...e.split("."))._internalPath}catch{throw Hv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hv(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||s)&&(d+=" (found",a&&(d+=` in field ${r}`),s&&(d+=` in document ${i}`),d+=")"),new Ot(it.INVALID_ARGUMENT,c+t+d)}function Ez(t,e){return t.some((n=>n.isEqual(e)))}class Coe{convertValue(e,n="none"){switch(Bf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ff(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw an(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Jf(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Pv].arrayValue?.values?.map((r=>Mi(r.doubleValue)));return new El(n)}convertGeoPoint(e){return new nc(Mi(e.latitude),Mi(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ob(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Rg(e));default:return null}}convertTimestamp(e){const n=Lf(e);return new Vr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Or.fromString(e);sr(UU(r),9688,{name:e});const i=new kg(r.get(1),r.get(3)),a=new $t(r.popFirst(5));return i.isEqual(n)||uu(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}class _z extends Coe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ri(this.firestore,null,n)}}const BD="@firebase/firestore",UD="4.11.0";class Az{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ri(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ioe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(th("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ioe extends Az{data(){return super.data()}}function Noe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ot(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class R3{}class Sz extends R3{}function kp(t,e,...n){let r=[];e instanceof R3&&r.push(e),r=r.concat(n),(function(a){const s=a.filter((d=>d instanceof k3)).length,c=a.filter((d=>d instanceof Vb)).length;if(s>1||s>0&&c>0)throw new Ot(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Vb extends Sz{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Vb(e,n,r)}_apply(e){const n=this._parse(e);return Tz(e._query,n),new Sh(e.firestore,e.converter,zT(e._query,n))}_parse(e){const n=Ub(e.firestore);return(function(a,s,c,d,u,p,x){let w;if(u.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ot(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){VD(x,p);const N=[];for(const S of x)N.push(zD(d,a,S));w={arrayValue:{values:N}}}else w=zD(d,a,x)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||VD(x,p),w=Soe(c,s,x,p==="in"||p==="not-in");return Wi.create(u,p,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ZT(t,e,n){const r=e,i=th("where",t);return Vb._create(i,r,n)}class k3 extends R3{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new k3(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Il.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let s=i;const c=a.getFlattenedFilters();for(const d of c)Tz(s,d),s=zT(s,d)})(e._query,n),new Sh(e.firestore,e.converter,zT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class D3 extends Sz{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new D3(e,n)}_apply(e){const n=(function(i,a,s){if(i.startAt!==null)throw new Ot(it.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ot(it.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pg(a,s)})(e._query,this._field,this._direction);return new Sh(e.firestore,e.converter,eae(e._query,n))}}function Hb(t,e="asc"){const n=e,r=th("orderBy",t);return D3._create(r,n)}function zD(t,e,n){if(typeof(n=ki(n))=="string"){if(n==="")throw new Ot(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yU(e)&&n.indexOf("/")!==-1)throw new Ot(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Or.fromString(n));if(!$t.isDocumentKey(r))throw new Ot(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nD(t,new $t(r))}if(n instanceof Ri)return nD(t,n._key);throw new Ot(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cb(n)}.`)}function VD(t,e){if(!Array.isArray(t)||t.length===0)throw new Ot(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Tz(t,e){const n=(function(i,a){for(const s of i)for(const c of s.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ot(it.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ot(it.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Cz(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class tg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wd extends Az{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(th("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ot(it.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wd._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wd._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wd._jsonSchema={type:Gi("string",Wd._jsonSchemaVersion),bundleSource:Gi("string","DocumentSnapshot"),bundleName:Gi("string"),bundle:Gi("string")};class lv extends Wd{data(e={}){return super.data(e)}}class W0{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new tg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new lv(this._firestore,this._userDataWriter,r.key,r,new tg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ot(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((c=>{const d=new lv(i._firestore,i._userDataWriter,c.doc.key,c.doc,new tg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const d=new lv(i._firestore,i._userDataWriter,c.doc.key,c.doc,new tg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,p=-1;return c.type!==0&&(u=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),p=s.indexOf(c.doc.key)),{type:Ooe(c.type),doc:d,oldIndex:u,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ot(it.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=W0._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=n3.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ooe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return an(61501,{type:t})}}W0._jsonSchemaVersion="firestore/querySnapshot/1.0",W0._jsonSchema={type:Gi("string",W0._jsonSchemaVersion),bundleSource:Gi("string","QuerySnapshot"),bundleName:Gi("string"),bundle:Gi("string")};function xs(t){t=Cl(t,Ri);const e=Cl(t.firestore,Th),n=C3(e);return doe(n,t._key).then((r=>Moe(e,t,r)))}function Zr(t){t=Cl(t,Sh);const e=Cl(t.firestore,Th),n=C3(e),r=new _z(e);return Noe(t._query),hoe(n,t._query).then((i=>new W0(e,r,t,i)))}function _f(t,e,n){t=Cl(t,Ri);const r=Cl(t.firestore,Th),i=Cz(t.converter,e,n),a=Ub(r);return qb(r,[yz(a,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$o.none())])}function JT(t,e,n,...r){t=Cl(t,Ri);const i=Cl(t.firestore,Th),a=Ub(i);let s;return s=typeof(e=ki(e))=="string"||e instanceof I3?Aoe(a,"updateDoc",t._key,e,n,r):_oe(a,"updateDoc",t._key,e),qb(i,[s.toMutation(t._key,$o.exists(!0))])}function Wb(t){return qb(Cl(t.firestore,Th),[new u3(t._key,$o.none())])}function Gb(t,e){const n=Cl(t.firestore,Th),r=er(t),i=Cz(t.converter,e),a=Ub(t.firestore);return qb(n,[yz(a,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$o.exists(!1))]).then((()=>r))}function qb(t,e){const n=C3(t);return poe(n,e)}function Moe(t,e,n){const r=n.docs.get(e._key),i=new _z(t);return new Wd(t,i,e._key,r,new tg(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){pie(Sp),oc(new Sl("firestore",((r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),c=new Th(new xie(r.getProvider("auth-internal")),new bie(s,r.getProvider("app-check-internal")),Lie(s,i),s);return a={useFetchStreams:n,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),Yo(BD,UD,e),Yo(BD,UD,"esm2020")})();const Iz="@firebase/installations",P3="0.6.19";const Nz=1e4,Oz=`w:${P3}`,Mz="FIS_v2",Roe="https://firebaseinstallations.googleapis.com/v1",koe=3600*1e3,Doe="installations",Poe="Installations";const joe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},nh=new bh(Doe,Poe,joe);function Rz(t){return t instanceof Ml&&t.code.includes("request-failed")}function kz({projectId:t}){return`${Roe}/projects/${t}/installations`}function Dz(t){return{token:t.token,requestStatus:2,expiresIn:Foe(t.expiresIn),creationTime:Date.now()}}async function Pz(t,e){const r=(await e.json()).error;return nh.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function jz({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Loe(t,{refreshToken:e}){const n=jz(t);return n.append("Authorization",Boe(e)),n}async function Lz(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Foe(t){return Number(t.replace("s","000"))}function Boe(t){return`${Mz} ${t}`}async function Uoe({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=kz(t),i=jz(t),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={fid:n,authVersion:Mz,appId:t.appId,sdkVersion:Oz},c={method:"POST",headers:i,body:JSON.stringify(s)},d=await Lz(()=>fetch(r,c));if(d.ok){const u=await d.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:Dz(u.authToken)}}else throw await Pz("Create Installation",d)}function Fz(t){return new Promise(e=>{setTimeout(e,t)})}function zoe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const Voe=/^[cdef][\w-]{21}$/,eC="";function Hoe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Woe(t);return Voe.test(n)?n:eC}catch{return eC}}function Woe(t){return zoe(t).substr(0,22)}function Yb(t){return`${t.appName}!${t.appId}`}const Bz=new Map;function Uz(t,e){const n=Yb(t);zz(n,e),Goe(n,e)}function zz(t,e){const n=Bz.get(t);if(n)for(const r of n)r(e)}function Goe(t,e){const n=qoe();n&&n.postMessage({key:t,fid:e}),Yoe()}let Ld=null;function qoe(){return!Ld&&"BroadcastChannel"in self&&(Ld=new BroadcastChannel("[Firebase] FID Change"),Ld.onmessage=t=>{zz(t.data.key,t.data.fid)}),Ld}function Yoe(){Bz.size===0&&Ld&&(Ld.close(),Ld=null)}const $oe="firebase-installations-database",Koe=1,rh="firebase-installations-store";let dA=null;function j3(){return dA||(dA=cB($oe,Koe,{upgrade:(t,e)=>{e===0&&t.createObjectStore(rh)}})),dA}async function Wv(t,e){const n=Yb(t),i=(await j3()).transaction(rh,"readwrite"),a=i.objectStore(rh),s=await a.get(n);return await a.put(e,n),await i.done,(!s||s.fid!==e.fid)&&Uz(t,e.fid),e}async function Vz(t){const e=Yb(t),r=(await j3()).transaction(rh,"readwrite");await r.objectStore(rh).delete(e),await r.done}async function $b(t,e){const n=Yb(t),i=(await j3()).transaction(rh,"readwrite"),a=i.objectStore(rh),s=await a.get(n),c=e(s);return c===void 0?await a.delete(n):await a.put(c,n),await i.done,c&&(!s||s.fid!==c.fid)&&Uz(t,c.fid),c}async function L3(t){let e;const n=await $b(t.appConfig,r=>{const i=Xoe(r),a=Qoe(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===eC?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Xoe(t){const e=t||{fid:Hoe(),registrationStatus:0};return Hz(e)}function Qoe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(nh.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Zoe(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Joe(t)}:{installationEntry:e}}async function Zoe(t,e){try{const n=await Uoe(t,e);return Wv(t.appConfig,n)}catch(n){throw Rz(n)&&n.customData.serverCode===409?await Vz(t.appConfig):await Wv(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Joe(t){let e=await HD(t.appConfig);for(;e.registrationStatus===1;)await Fz(100),e=await HD(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await L3(t);return r||n}return e}function HD(t){return $b(t,e=>{if(!e)throw nh.create("installation-not-found");return Hz(e)})}function Hz(t){return ele(t)?{fid:t.fid,registrationStatus:0}:t}function ele(t){return t.registrationStatus===1&&t.registrationTime+Nz<Date.now()}async function tle({appConfig:t,heartbeatServiceProvider:e},n){const r=nle(t,n),i=Loe(t,n),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={installation:{sdkVersion:Oz,appId:t.appId}},c={method:"POST",headers:i,body:JSON.stringify(s)},d=await Lz(()=>fetch(r,c));if(d.ok){const u=await d.json();return Dz(u)}else throw await Pz("Generate Auth Token",d)}function nle(t,{fid:e}){return`${kz(t)}/${e}/authTokens:generate`}async function F3(t,e=!1){let n;const r=await $b(t.appConfig,a=>{if(!Wz(a))throw nh.create("not-registered");const s=a.authToken;if(!e&&ale(s))return a;if(s.requestStatus===1)return n=rle(t,e),a;{if(!navigator.onLine)throw nh.create("app-offline");const c=ole(a);return n=ile(t,c),c}});return n?await n:r.authToken}async function rle(t,e){let n=await WD(t.appConfig);for(;n.authToken.requestStatus===1;)await Fz(100),n=await WD(t.appConfig);const r=n.authToken;return r.requestStatus===0?F3(t,e):r}function WD(t){return $b(t,e=>{if(!Wz(e))throw nh.create("not-registered");const n=e.authToken;return lle(n)?{...e,authToken:{requestStatus:0}}:e})}async function ile(t,e){try{const n=await tle(t,e),r={...e,authToken:n};return await Wv(t.appConfig,r),n}catch(n){if(Rz(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Vz(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Wv(t.appConfig,r)}throw n}}function Wz(t){return t!==void 0&&t.registrationStatus===2}function ale(t){return t.requestStatus===2&&!sle(t)}function sle(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+koe}function ole(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function lle(t){return t.requestStatus===1&&t.requestTime+Nz<Date.now()}async function cle(t){const e=t,{installationEntry:n,registrationPromise:r}=await L3(e);return r?r.catch(console.error):F3(e).catch(console.error),n.fid}async function ule(t,e=!1){const n=t;return await fle(n),(await F3(n,e)).token}async function fle(t){const{registrationPromise:e}=await L3(t);e&&await e}function dle(t){if(!t||!t.options)throw hA("App Configuration");if(!t.name)throw hA("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw hA(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function hA(t){return nh.create("missing-app-config-values",{valueName:t})}const Gz="installations",hle="installations-internal",ple=t=>{const e=t.getProvider("app").getImmediate(),n=dle(e),r=wh(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},mle=t=>{const e=t.getProvider("app").getImmediate(),n=wh(e,Gz).getImmediate();return{getId:()=>cle(n),getToken:i=>ule(n,i)}};function gle(){oc(new Sl(Gz,ple,"PUBLIC")),oc(new Sl(hle,mle,"PRIVATE"))}gle();Yo(Iz,P3);Yo(Iz,P3,"esm2020");const Gv="analytics",xle="firebase_id",yle="origin",vle=60*1e3,ble="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",B3="https://www.googletagmanager.com/gtag/js";const ws=new Eb("@firebase/analytics");const wle={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},yo=new bh("analytics","Analytics",wle);function Ele(t){if(!t.startsWith(B3)){const e=yo.create("invalid-gtag-resource",{gtagURL:t});return ws.warn(e.message),""}return t}function qz(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function _le(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Ale(t,e){const n=_le("firebase-js-sdk-policy",{createScriptURL:Ele}),r=document.createElement("script"),i=`${B3}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Sle(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Tle(t,e,n,r,i,a){const s=r[i];try{if(s)await e[s];else{const d=(await qz(n)).find(u=>u.measurementId===i);d&&await e[d.appId]}}catch(c){ws.error(c)}t("config",i,a)}async function Cle(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const c=await qz(n);for(const d of s){const u=c.find(x=>x.measurementId===d),p=u&&e[u.appId];if(p)a.push(p);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){ws.error(a)}}function Ile(t,e,n,r){async function i(a,...s){try{if(a==="event"){const[c,d]=s;await Cle(t,e,n,c,d)}else if(a==="config"){const[c,d]=s;await Tle(t,e,n,r,c,d)}else if(a==="consent"){const[c,d]=s;t("consent",c,d)}else if(a==="get"){const[c,d,u]=s;t("get",c,d,u)}else if(a==="set"){const[c]=s;t("set",c)}else t(a,...s)}catch(c){ws.error(c)}}return i}function Nle(t,e,n,r,i){let a=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=Ile(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function Ole(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(B3)&&n.src.includes(t))return n;return null}const Mle=30,Rle=1e3;class kle{constructor(e={},n=Rle){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Yz=new kle;function Dle(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Ple(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:Dle(n)},i=ble.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let s="";try{const c=await a.json();c.error?.message&&(s=c.error.message)}catch{}throw yo.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s})}return a.json()}async function jle(t,e=Yz,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw yo.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw yo.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Ble;return setTimeout(async()=>{c.abort()},vle),$z({appId:r,apiKey:i,measurementId:a},s,c,e)}async function $z(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Yz){const{appId:a,measurementId:s}=t;try{await Lle(r,e)}catch(c){if(s)return ws.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:a,measurementId:s};throw c}try{const c=await Ple(t);return i.deleteThrottleMetadata(a),c}catch(c){const d=c;if(!Fle(d)){if(i.deleteThrottleMetadata(a),s)return ws.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:a,measurementId:s};throw c}const u=Number(d?.customData?.httpStatus)===503?mk(n,i.intervalMillis,Mle):mk(n,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(a,p),ws.debug(`Calling attemptFetch again in ${u} millis`),$z(t,p,r,i)}}function Lle(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(yo.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Fle(t){if(!(t instanceof Ml)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Ble{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Ule(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,s={...r,send_to:a};t("event",n,s)}}async function zle(t,e,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}async function Vle(){if(aB())try{await sB()}catch(t){return ws.warn(yo.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return ws.warn(yo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Hle(t,e,n,r,i,a,s){const c=jle(t);c.then(w=>{n[w.measurementId]=w.appId,t.options.measurementId&&w.measurementId!==t.options.measurementId&&ws.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>ws.error(w)),e.push(c);const d=Vle().then(w=>{if(w)return r.getId()}),[u,p]=await Promise.all([c,d]);Ole(a)||Ale(a,u.measurementId),i("js",new Date);const x=s?.config??{};return x[yle]="firebase",x.update=!0,p!=null&&(x[xle]=p),i("config",u.measurementId,x),u.measurementId}class Wle{constructor(e){this.app=e}_delete(){return delete G0[this.app.options.appId],Promise.resolve()}}let G0={},GD=[];const qD={};let pA="dataLayer",Gle="gtag",YD,U3,$D=!1;function qle(){const t=[];if(iB()&&t.push("This is a browser extension environment."),kee()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=yo.create("invalid-analytics-context",{errorInfo:e});ws.warn(n.message)}}function Yle(t,e,n){qle();const r=t.options.appId;if(!r)throw yo.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ws.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw yo.create("no-api-key");if(G0[r]!=null)throw yo.create("already-exists",{id:r});if(!$D){Sle(pA);const{wrappedGtag:a,gtagCore:s}=Nle(G0,GD,qD,pA,Gle);U3=a,YD=s,$D=!0}return G0[r]=Hle(t,GD,qD,e,YD,pA,n),new Wle(t)}function $le(t=q4()){t=ki(t);const e=wh(t,Gv);return e.isInitialized()?e.getImmediate():Kle(t)}function Kle(t,e={}){const n=wh(t,Gv);if(n.isInitialized()){const i=n.getImmediate();if(Pf(e,n.getOptions()))return i;throw yo.create("already-initialized")}return n.initialize({options:e})}function Xle(t,e,n){t=ki(t),zle(U3,G0[t.app.options.appId],e,n).catch(r=>ws.error(r))}function Qle(t,e,n,r){t=ki(t),Ule(U3,G0[t.app.options.appId],e,n,r).catch(i=>ws.error(i))}const KD="@firebase/analytics",XD="0.10.19";function Zle(){oc(new Sl(Gv,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Yle(r,i,n)},"PUBLIC")),oc(new Sl("analytics-internal",t,"PRIVATE")),Yo(KD,XD),Yo(KD,XD,"esm2020");function t(e){try{const n=e.getProvider(Gv).getImmediate();return{logEvent:(r,i,a)=>Qle(n,r,i,a),setUserProperties:(r,i)=>Xle(n,r,i)}}catch(n){throw yo.create("interop-component-reg-failed",{reason:n})}}}Zle();const Jle={apiKey:"AIzaSyBVgqwFQu3AlSqc7Khmwg05bUdKIDd8WrI",authDomain:"ledgerapp-4f04a.firebaseapp.com",projectId:"ledgerapp-4f04a",storageBucket:"ledgerapp-4f04a.firebasestorage.app",messagingSenderId:"227637983990",appId:"1:227637983990:web:3e28c3f97d795740594ad7",measurementId:"G-4T9V56HLY1"},z3=uB(Jle),Gt=yoe(z3),mA=uie(z3);typeof window<"u"&&$le(z3);const Kz=R.createContext(),V3=()=>R.useContext(Kz),ece=({children:t})=>{const[e,n]=R.useState(null),[r,i]=R.useState(!0);R.useEffect(()=>Zne(mA,u=>{n(u),i(!1)}),[]);const c={user:e,login:(d,u)=>Kne(mA,d,u),logout:()=>Jne(mA),loading:r};return y.jsx(Kz.Provider,{value:c,children:!r&&t})};const Xz=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const tce=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const nce=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const QD=t=>{const e=nce(t);return e.charAt(0).toUpperCase()+e.slice(1)};var rce={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ice=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const ace=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...c},d)=>R.createElement("svg",{ref:d,...rce,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Xz("lucide",i),...!a&&!ice(c)&&{"aria-hidden":"true"},...c},[...s.map(([u,p])=>R.createElement(u,p)),...Array.isArray(a)?a:[a]]));const Nt=(t,e)=>{const n=R.forwardRef(({className:r,...i},a)=>R.createElement(ace,{ref:a,iconNode:e,className:Xz(`lucide-${tce(QD(t))}`,`lucide-${t}`,r),...i}));return n.displayName=QD(t),n};const sce=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],oce=Nt("arrow-down-right",sce);const lce=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],cce=Nt("arrow-left",lce);const uce=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Qz=Nt("arrow-right",uce);const fce=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],dce=Nt("arrow-up-right",fce);const hce=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],H3=Nt("book-open",hce);const pce=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],cv=Nt("brain",pce);const mce=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],gce=Nt("building",mce);const xce=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],yce=Nt("calendar-check",xce);const vce=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],bce=Nt("calendar-plus",vce);const wce=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Bs=Nt("calendar",wce);const Ece=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Zz=Nt("camera",Ece);const _ce=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ih=Nt("check",_ce);const Ace=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Sce=Nt("chevron-down",Ace);const Tce=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Jz=Nt("chevron-left",Tce);const Cce=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],eV=Nt("chevron-right",Cce);const Ice=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Nce=Nt("chevron-up",Ice);const Oce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],tV=Nt("circle-alert",Oce);const Mce=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qv=Nt("circle-check-big",Mce);const Rce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],kce=Nt("circle-check",Rce);const Dce=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Dp=Nt("clock",Dce);const Pce=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],jce=Nt("cloud-upload",Pce);const Lce=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],q0=Nt("copy",Lce);const Fce=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],tC=Nt("credit-card",Fce);const Bce=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Uce=Nt("database",Bce);const zce=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Kb=Nt("dollar-sign",zce);const Vce=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Hce=Nt("download",Vce);const Wce=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Gce=Nt("external-link",Wce);const qce=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Yce=Nt("eye-off",qce);const $ce=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lp=Nt("eye",$ce);const Kce=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],Y0=Nt("file-plus",Kce);const Xce=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Qce=Nt("file-spreadsheet",Xce);const Zce=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],rc=Nt("file-text",Zce);const Jce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],eue=Nt("globe",Jce);const tue=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],nue=Nt("graduation-cap",tue);const rue=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],iue=Nt("hash",rue);const aue=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],sue=Nt("house",aue);const oue=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],lue=Nt("indian-rupee",oue);const cue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],uue=Nt("info",cue);const fue=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],due=Nt("layout-dashboard",fue);const hue=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ns=Nt("loader-circle",hue);const pue=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ZD=Nt("lock",pue);const mue=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gue=Nt("log-out",mue);const xue=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],W3=Nt("mail",xue);const yue=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],nC=Nt("map-pin",yue);const vue=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],bue=Nt("menu",vue);const wue=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Fg=Nt("message-circle",wue);const Eue=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],nV=Nt("moon",Eue);const _ue=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Aue=Nt("palette",_ue);const Sue=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],JD=Nt("pen-line",Sue);const Tue=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Cue=Nt("pen",Tue);const Iue=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],G3=Nt("phone",Iue);const Nue=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],du=Nt("plus",Nue);const Oue=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Mue=Nt("printer",Oue);const Rue=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],rV=Nt("qr-code",Rue);const kue=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],td=Nt("refresh-ccw",kue);const Due=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],q3=Nt("save",Due);const Pue=[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],jue=Nt("search-x",Pue);const Lue=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],mg=Nt("search",Lue);const Fue=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Bue=Nt("send",Fue);const Uue=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iV=Nt("settings",Uue);const zue=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Vue=Nt("shield-check",zue);const Hue=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],rC=Nt("sparkles",Hue);const Wue=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],aV=Nt("sun",Wue);const Gue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],que=Nt("target",Gue);const Yue=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],cc=Nt("trash-2",Yue);const $ue=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],e6=Nt("trending-down",$ue);const Kue=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ah=Nt("trending-up",Kue);const Xue=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Yv=Nt("triangle-alert",Xue);const Que=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],sV=Nt("trophy",Que);const Zue=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],oV=Nt("upload",Zue);const Jue=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],iC=Nt("user",Jue);const efe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],cp=Nt("users",efe);const tfe=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],nfe=Nt("wifi-off",tfe);const rfe=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],ife=Nt("wifi",rfe);const afe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uc=Nt("x",afe);const sfe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],t6=Nt("zap",sfe),Y3=R.createContext({});function $3(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const lV=typeof window<"u",cV=lV?R.useLayoutEffect:R.useEffect,Xb=R.createContext(null);function K3(t,e){t.indexOf(e)===-1&&t.push(e)}function X3(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const fc=(t,e,n)=>n>e?e:n<t?t:n;let Q3=()=>{};const hu={},uV=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function fV(t){return typeof t=="object"&&t!==null}const dV=t=>/^0[^.\s]+$/u.test(t);function Z3(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ko=t=>t,ofe=(t,e)=>n=>e(t(n)),M1=(...t)=>t.reduce(ofe),Bg=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class J3{constructor(){this.subscriptions=[]}add(e){return K3(this.subscriptions,e),()=>X3(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ic=t=>t*1e3,Go=t=>t/1e3;function hV(t,e){return e?t*(1e3/e):0}const pV=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,lfe=1e-7,cfe=12;function ufe(t,e,n,r,i){let a,s,c=0;do s=e+(n-e)/2,a=pV(s,r,i)-t,a>0?n=s:e=s;while(Math.abs(a)>lfe&&++c<cfe);return s}function R1(t,e,n,r){if(t===e&&n===r)return Ko;const i=a=>ufe(a,0,1,t,n);return a=>a===0||a===1?a:pV(i(a),e,r)}const mV=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,gV=t=>e=>1-t(1-e),xV=R1(.33,1.53,.69,.99),eI=gV(xV),yV=mV(eI),vV=t=>(t*=2)<1?.5*eI(t):.5*(2-Math.pow(2,-10*(t-1))),tI=t=>1-Math.sin(Math.acos(t)),bV=gV(tI),wV=mV(tI),ffe=R1(.42,0,1,1),dfe=R1(0,0,.58,1),EV=R1(.42,0,.58,1),hfe=t=>Array.isArray(t)&&typeof t[0]!="number",_V=t=>Array.isArray(t)&&typeof t[0]=="number",pfe={linear:Ko,easeIn:ffe,easeInOut:EV,easeOut:dfe,circIn:tI,circInOut:wV,circOut:bV,backIn:eI,backInOut:yV,backOut:xV,anticipate:vV},mfe=t=>typeof t=="string",n6=t=>{if(_V(t)){Q3(t.length===4);const[e,n,r,i]=t;return R1(e,n,r,i)}else if(mfe(t))return pfe[t];return t},by=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function gfe(t,e){let n=new Set,r=new Set,i=!1,a=!1;const s=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(p){s.has(p)&&(u.schedule(p),t()),p(c)}const u={schedule:(p,x=!1,w=!1)=>{const N=w&&i?n:r;return x&&s.add(p),N.has(p)||N.add(p),p},cancel:p=>{r.delete(p),s.delete(p)},process:p=>{if(c=p,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(d),n.clear(),i=!1,a&&(a=!1,u.process(p))}};return u}const xfe=40;function AV(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=by.reduce((P,V)=>(P[V]=gfe(a),P),{}),{setup:c,read:d,resolveKeyframes:u,preUpdate:p,update:x,preRender:w,render:A,postRender:N}=s,S=()=>{const P=hu.useManualTiming?i.timestamp:performance.now();n=!1,hu.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(P-i.timestamp,xfe),1)),i.timestamp=P,i.isProcessing=!0,c.process(i),d.process(i),u.process(i),p.process(i),x.process(i),w.process(i),A.process(i),N.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(S))},I=()=>{n=!0,r=!0,i.isProcessing||t(S)};return{schedule:by.reduce((P,V)=>{const K=s[V];return P[V]=(Z,F=!1,U=!1)=>(n||I(),K.schedule(Z,F,U)),P},{}),cancel:P=>{for(let V=0;V<by.length;V++)s[by[V]].cancel(P)},state:i,steps:s}}const{schedule:Mr,cancel:Vf,state:Ra,steps:gA}=AV(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ko,!0);let uv;function yfe(){uv=void 0}const ys={now:()=>(uv===void 0&&ys.set(Ra.isProcessing||hu.useManualTiming?Ra.timestamp:performance.now()),uv),set:t=>{uv=t,queueMicrotask(yfe)}},SV=t=>e=>typeof e=="string"&&e.startsWith(t),TV=SV("--"),vfe=SV("var(--"),nI=t=>vfe(t)?bfe.test(t.split("/*")[0].trim()):!1,bfe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function r6(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Pp={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ug={...Pp,transform:t=>fc(0,1,t)},wy={...Pp,default:1},gg=t=>Math.round(t*1e5)/1e5,rI=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function wfe(t){return t==null}const Efe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,iI=(t,e)=>n=>!!(typeof n=="string"&&Efe.test(n)&&n.startsWith(t)||e&&!wfe(n)&&Object.prototype.hasOwnProperty.call(n,e)),CV=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,s,c]=r.match(rI);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(s),alpha:c!==void 0?parseFloat(c):1}},_fe=t=>fc(0,255,t),xA={...Pp,transform:t=>Math.round(_fe(t))},Fd={test:iI("rgb","red"),parse:CV("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+xA.transform(t)+", "+xA.transform(e)+", "+xA.transform(n)+", "+gg(Ug.transform(r))+")"};function Afe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const aC={test:iI("#"),parse:Afe,transform:Fd.transform},k1=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),hf=k1("deg"),ac=k1("%"),Bt=k1("px"),Sfe=k1("vh"),Tfe=k1("vw"),i6={...ac,parse:t=>ac.parse(t)/100,transform:t=>ac.transform(t*100)},I0={test:iI("hsl","hue"),parse:CV("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ac.transform(gg(e))+", "+ac.transform(gg(n))+", "+gg(Ug.transform(r))+")"},Hi={test:t=>Fd.test(t)||aC.test(t)||I0.test(t),parse:t=>Fd.test(t)?Fd.parse(t):I0.test(t)?I0.parse(t):aC.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Fd.transform(t):I0.transform(t),getAnimatableNone:t=>{const e=Hi.parse(t);return e.alpha=0,Hi.transform(e)}},Cfe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Ife(t){return isNaN(t)&&typeof t=="string"&&(t.match(rI)?.length||0)+(t.match(Cfe)?.length||0)>0}const IV="number",NV="color",Nfe="var",Ofe="var(",a6="${}",Mfe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zg(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(Mfe,d=>(Hi.test(d)?(r.color.push(a),i.push(NV),n.push(Hi.parse(d))):d.startsWith(Ofe)?(r.var.push(a),i.push(Nfe),n.push(d)):(r.number.push(a),i.push(IV),n.push(parseFloat(d))),++a,a6)).split(a6);return{values:n,split:c,indexes:r,types:i}}function OV(t){return zg(t).values}function MV(t){const{split:e,types:n}=zg(t),r=e.length;return i=>{let a="";for(let s=0;s<r;s++)if(a+=e[s],i[s]!==void 0){const c=n[s];c===IV?a+=gg(i[s]):c===NV?a+=Hi.transform(i[s]):a+=i[s]}return a}}const Rfe=t=>typeof t=="number"?0:Hi.test(t)?Hi.getAnimatableNone(t):t;function kfe(t){const e=OV(t);return MV(t)(e.map(Rfe))}const Hf={test:Ife,parse:OV,createTransformer:MV,getAnimatableNone:kfe};function yA(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Dfe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,s=0;if(!e)i=a=s=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;i=yA(d,c,t+1/3),a=yA(d,c,t),s=yA(d,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function $v(t,e){return n=>n>0?e:t}const li=(t,e,n)=>t+(e-t)*n,vA=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Pfe=[aC,Fd,I0],jfe=t=>Pfe.find(e=>e.test(t));function s6(t){const e=jfe(t);if(!e)return!1;let n=e.parse(t);return e===I0&&(n=Dfe(n)),n}const o6=(t,e)=>{const n=s6(t),r=s6(e);if(!n||!r)return $v(t,e);const i={...n};return a=>(i.red=vA(n.red,r.red,a),i.green=vA(n.green,r.green,a),i.blue=vA(n.blue,r.blue,a),i.alpha=li(n.alpha,r.alpha,a),Fd.transform(i))},sC=new Set(["none","hidden"]);function Lfe(t,e){return sC.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Ffe(t,e){return n=>li(t,e,n)}function aI(t){return typeof t=="number"?Ffe:typeof t=="string"?nI(t)?$v:Hi.test(t)?o6:zfe:Array.isArray(t)?RV:typeof t=="object"?Hi.test(t)?o6:Bfe:$v}function RV(t,e){const n=[...t],r=n.length,i=t.map((a,s)=>aI(a)(a,e[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}}function Bfe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=aI(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function Ufe(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],s=t.indexes[a][r[a]],c=t.values[s]??0;n[i]=c,r[a]++}return n}const zfe=(t,e)=>{const n=Hf.createTransformer(e),r=zg(t),i=zg(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?sC.has(t)&&!i.values.length||sC.has(e)&&!r.values.length?Lfe(t,e):M1(RV(Ufe(r,i),i.values),n):$v(t,e)};function kV(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?li(t,e,n):aI(t)(t,e)}const Vfe=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Mr.update(e,n),stop:()=>Vf(e),now:()=>Ra.isProcessing?Ra.timestamp:ys.now()}},DV=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Kv=2e4;function sI(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Kv;)e+=n,r=t.next(e);return e>=Kv?1/0:e}function Hfe(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(sI(r),Kv);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:Go(i)}}const Wfe=5;function PV(t,e,n){const r=Math.max(e-Wfe,0);return hV(n-t(r),e-r)}const bi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bA=.001;function Gfe({duration:t=bi.duration,bounce:e=bi.bounce,velocity:n=bi.velocity,mass:r=bi.mass}){let i,a,s=1-e;s=fc(bi.minDamping,bi.maxDamping,s),t=fc(bi.minDuration,bi.maxDuration,Go(t)),s<1?(i=u=>{const p=u*s,x=p*t,w=p-n,A=oC(u,s),N=Math.exp(-x);return bA-w/A*N},a=u=>{const x=u*s*t,w=x*n+n,A=Math.pow(s,2)*Math.pow(u,2)*t,N=Math.exp(-x),S=oC(Math.pow(u,2),s);return(-i(u)+bA>0?-1:1)*((w-A)*N)/S}):(i=u=>{const p=Math.exp(-u*t),x=(u-n)*t+1;return-bA+p*x},a=u=>{const p=Math.exp(-u*t),x=(n-u)*(t*t);return p*x});const c=5/t,d=Yfe(i,a,c);if(t=ic(t),isNaN(d))return{stiffness:bi.stiffness,damping:bi.damping,duration:t};{const u=Math.pow(d,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:t}}}const qfe=12;function Yfe(t,e,n){let r=n;for(let i=1;i<qfe;i++)r=r-t(r)/e(r);return r}function oC(t,e){return t*Math.sqrt(1-e*e)}const $fe=["duration","bounce"],Kfe=["stiffness","damping","mass"];function l6(t,e){return e.some(n=>t[n]!==void 0)}function Xfe(t){let e={velocity:bi.velocity,stiffness:bi.stiffness,damping:bi.damping,mass:bi.mass,isResolvedFromDuration:!1,...t};if(!l6(t,Kfe)&&l6(t,$fe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*fc(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:bi.mass,stiffness:i,damping:a}}else{const n=Gfe(t);e={...e,...n,mass:bi.mass},e.isResolvedFromDuration=!0}return e}function Xv(t=bi.visualDuration,e=bi.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:u,mass:p,duration:x,velocity:w,isResolvedFromDuration:A}=Xfe({...n,velocity:-Go(n.velocity||0)}),N=w||0,S=u/(2*Math.sqrt(d*p)),I=s-a,j=Go(Math.sqrt(d/p)),D=Math.abs(I)<5;r||(r=D?bi.restSpeed.granular:bi.restSpeed.default),i||(i=D?bi.restDelta.granular:bi.restDelta.default);let P;if(S<1){const K=oC(j,S);P=Z=>{const F=Math.exp(-S*j*Z);return s-F*((N+S*j*I)/K*Math.sin(K*Z)+I*Math.cos(K*Z))}}else if(S===1)P=K=>s-Math.exp(-j*K)*(I+(N+j*I)*K);else{const K=j*Math.sqrt(S*S-1);P=Z=>{const F=Math.exp(-S*j*Z),U=Math.min(K*Z,300);return s-F*((N+S*j*I)*Math.sinh(U)+K*I*Math.cosh(U))/K}}const V={calculatedDuration:A&&x||null,next:K=>{const Z=P(K);if(A)c.done=K>=x;else{let F=K===0?N:0;S<1&&(F=K===0?ic(N):PV(P,K,Z));const U=Math.abs(F)<=r,B=Math.abs(s-Z)<=i;c.done=U&&B}return c.value=c.done?s:Z,c},toString:()=>{const K=Math.min(sI(V),Kv),Z=DV(F=>V.next(K*F).value,K,30);return K+"ms "+Z},toTransition:()=>{}};return V}Xv.applyToOptions=t=>{const e=Hfe(t,100,Xv);return t.ease=e.ease,t.duration=ic(e.duration),t.type="keyframes",t};function lC({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:c,max:d,restDelta:u=.5,restSpeed:p}){const x=t[0],w={done:!1,value:x},A=U=>c!==void 0&&U<c||d!==void 0&&U>d,N=U=>c===void 0?d:d===void 0||Math.abs(c-U)<Math.abs(d-U)?c:d;let S=n*e;const I=x+S,j=s===void 0?I:s(I);j!==I&&(S=j-x);const D=U=>-S*Math.exp(-U/r),P=U=>j+D(U),V=U=>{const B=D(U),J=P(U);w.done=Math.abs(B)<=u,w.value=w.done?j:J};let K,Z;const F=U=>{A(w.value)&&(K=U,Z=Xv({keyframes:[w.value,N(w.value)],velocity:PV(P,U,w.value),damping:i,stiffness:a,restDelta:u,restSpeed:p}))};return F(0),{calculatedDuration:null,next:U=>{let B=!1;return!Z&&K===void 0&&(B=!0,V(U),F(U)),K!==void 0&&U>=K?Z.next(U-K):(!B&&V(U),w)}}}function Qfe(t,e,n){const r=[],i=n||hu.mix||kV,a=t.length-1;for(let s=0;s<a;s++){let c=i(t[s],t[s+1]);if(e){const d=Array.isArray(e)?e[s]||Ko:e;c=M1(d,c)}r.push(c)}return r}function Zfe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(Q3(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=Qfe(e,r,i),d=c.length,u=p=>{if(s&&p<t[0])return e[0];let x=0;if(d>1)for(;x<t.length-2&&!(p<t[x+1]);x++);const w=Bg(t[x],t[x+1],p);return c[x](w)};return n?p=>u(fc(t[0],t[a-1],p)):u}function Jfe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Bg(0,e,r);t.push(li(n,1,i))}}function ede(t){const e=[0];return Jfe(e,t.length-1),e}function tde(t,e){return t.map(n=>n*e)}function nde(t,e){return t.map(()=>e||EV).splice(0,t.length-1)}function xg({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=hfe(r)?r.map(n6):n6(r),a={done:!1,value:e[0]},s=tde(n&&n.length===e.length?n:ede(e),t),c=Zfe(s,e,{ease:Array.isArray(i)?i:nde(e,i)});return{calculatedDuration:t,next:d=>(a.value=c(d),a.done=d>=t,a)}}const rde=t=>t!==null;function oI(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(rde),c=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const ide={decay:lC,inertia:lC,tween:xg,keyframes:xg,spring:Xv};function jV(t){typeof t.type=="string"&&(t.type=ide[t.type])}class lI{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const ade=t=>t/100;class cI extends lI{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==ys.now()&&this.tick(ys.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;jV(e);const{type:n=xg,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=e;let{keyframes:c}=e;const d=n||xg;d!==xg&&typeof c[0]!="number"&&(this.mixKeyframes=M1(ade,kV(c[0],c[1])),c=[0,100]);const u=d({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=sI(u));const{calculatedDuration:p}=u;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:p,repeat:x,repeatType:w,repeatDelay:A,type:N,onUpdate:S,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const j=this.currentTime-u*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?j<0:j>i;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let P=this.currentTime,V=r;if(x){const U=Math.min(this.currentTime,i)/c;let B=Math.floor(U),J=U%1;!J&&U>=1&&(J=1),J===1&&B--,B=Math.min(B,x+1),B%2&&(w==="reverse"?(J=1-J,A&&(J-=A/c)):w==="mirror"&&(V=s)),P=fc(0,1,J)*c}const K=D?{done:!1,value:p[0]}:V.next(P);a&&(K.value=a(K.value));let{done:Z}=K;!D&&d!==null&&(Z=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return F&&N!==lC&&(K.value=oI(p,this.options,I,this.speed)),S&&S(K.value),F&&this.finish(),K}then(e,n){return this.finished.then(e,n)}get duration(){return Go(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Go(e)}get time(){return Go(this.currentTime)}set time(e){e=ic(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ys.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Go(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Vfe,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ys.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function sde(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Bd=t=>t*180/Math.PI,cC=t=>{const e=Bd(Math.atan2(t[1],t[0]));return uC(e)},ode={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:cC,rotateZ:cC,skewX:t=>Bd(Math.atan(t[1])),skewY:t=>Bd(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},uC=t=>(t=t%360,t<0&&(t+=360),t),c6=cC,u6=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),f6=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),lde={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:u6,scaleY:f6,scale:t=>(u6(t)+f6(t))/2,rotateX:t=>uC(Bd(Math.atan2(t[6],t[5]))),rotateY:t=>uC(Bd(Math.atan2(-t[2],t[0]))),rotateZ:c6,rotate:c6,skewX:t=>Bd(Math.atan(t[4])),skewY:t=>Bd(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function fC(t){return t.includes("scale")?1:0}function dC(t,e){if(!t||t==="none")return fC(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=lde,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ode,i=c}if(!i)return fC(e);const a=r[e],s=i[1].split(",").map(ude);return typeof a=="function"?a(s):s[a]}const cde=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return dC(n,e)};function ude(t){return parseFloat(t.trim())}const jp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Lp=new Set(jp),d6=t=>t===Pp||t===Bt,fde=new Set(["x","y","z"]),dde=jp.filter(t=>!fde.has(t));function hde(t){const e=[];return dde.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Af={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>dC(e,"x"),y:(t,{transform:e})=>dC(e,"y")};Af.translateX=Af.x;Af.translateY=Af.y;const Gd=new Set;let hC=!1,pC=!1,mC=!1;function LV(){if(pC){const t=Array.from(Gd).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=hde(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,s])=>{r.getValue(a)?.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}pC=!1,hC=!1,Gd.forEach(t=>t.complete(mC)),Gd.clear()}function FV(){Gd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(pC=!0)})}function pde(){mC=!0,FV(),LV(),mC=!1}class uI{constructor(e,n,r,i,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Gd.add(this),hC||(hC=!0,Mr.read(FV),Mr.resolveKeyframes(LV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i?.get(),s=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const c=r.readValue(n,s);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=s),i&&a===void 0&&i.set(e[0])}sde(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Gd.delete(this)}cancel(){this.state==="scheduled"&&(Gd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const mde=t=>t.startsWith("--");function gde(t,e,n){mde(e)?t.style.setProperty(e,n):t.style[e]=n}const xde=Z3(()=>window.ScrollTimeline!==void 0),yde={};function vde(t,e){const n=Z3(t);return()=>yde[e]??n()}const BV=vde(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ng=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,h6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ng([0,.65,.55,1]),circOut:ng([.55,0,1,.45]),backIn:ng([.31,.01,.66,-.59]),backOut:ng([.33,1.53,.69,.99])};function UV(t,e){if(t)return typeof t=="function"?BV()?DV(t,e):"ease-out":_V(t)?ng(t):Array.isArray(t)?t.map(n=>UV(n,e)||h6.easeOut):h6[t]}function bde(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:c="easeOut",times:d}={},u=void 0){const p={[e]:n};d&&(p.offset=d);const x=UV(c,i);Array.isArray(x)&&(p.easing=x);const w={delay:r,duration:i,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return u&&(w.pseudoElement=u),t.animate(p,w)}function zV(t){return typeof t=="function"&&"applyToOptions"in t}function wde({type:t,...e}){return zV(t)&&BV()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Ede extends lI{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=e,Q3(typeof e.type!="string");const u=wde(e);this.animation=bde(n,r,i,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=oI(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):gde(n,r,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Go(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Go(e)}get time(){return Go(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ic(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&xde()?(this.animation.timeline=e,Ko):n(this)}}const VV={anticipate:vV,backInOut:yV,circInOut:wV};function _de(t){return t in VV}function Ade(t){typeof t.ease=="string"&&_de(t.ease)&&(t.ease=VV[t.ease])}const wA=10;class Sde extends Ede{constructor(e){Ade(e),jV(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...s}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new cI({...s,autoplay:!1}),d=Math.max(wA,ys.now()-this.startTime),u=fc(0,wA,d-wA);n.setWithVelocity(c.sample(Math.max(0,d-u)).value,c.sample(d).value,u),c.stop()}}const p6=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Hf.test(t)||t==="0")&&!t.startsWith("url("));function Tde(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Cde(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],s=p6(i,e),c=p6(a,e);return!s||!c?!1:Tde(t)||(n==="spring"||zV(n))&&r}function gC(t){t.duration=0,t.type="keyframes"}const Ide=new Set(["opacity","clipPath","filter","transform"]),Nde=Z3(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ode(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:s}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:u}=e.owner.getProps();return Nde()&&n&&Ide.has(n)&&(n!=="transform"||!u)&&!d&&!r&&i!=="mirror"&&a!==0&&s!=="inertia"}const Mde=40;class Rde extends lI{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",keyframes:c,name:d,motionValue:u,element:p,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ys.now();const w={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:s,name:d,motionValue:u,element:p,...x},A=p?.KeyframeResolver||uI;this.keyframeResolver=new A(c,(N,S,I)=>this.onKeyframesResolved(N,S,w,!I),d,u,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:s,velocity:c,delay:d,isHandoff:u,onUpdate:p}=r;this.resolvedAt=ys.now(),Cde(e,a,s,c)||((hu.instantAnimations||!d)&&p?.(oI(e,r,n)),e[0]=e[e.length-1],gC(r),r.repeat=0);const w={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Mde?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},A=!u&&Ode(w),N=w.motionValue?.owner?.current,S=A?new Sde({...w,element:N}):new cI(w);S.finished.then(()=>{this.notifyFinished()}).catch(Ko),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),pde()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function HV(t,e,n,r=0,i=1){const a=Array.from(t).sort((u,p)=>u.sortNodePosition(p)).indexOf(e),s=t.size,c=(s-1)*r;return typeof n=="function"?n(a,s):i===1?a*r:c-a*r}const kde=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Dde(t){const e=kde.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function WV(t,e,n=1){const[r,i]=Dde(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const s=a.trim();return uV(s)?parseFloat(s):s}return nI(i)?WV(i,e,n+1):i}const Pde={type:"spring",stiffness:500,damping:25,restSpeed:10},jde=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Lde={type:"keyframes",duration:.8},Fde={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Bde=(t,{keyframes:e})=>e.length>2?Lde:Lp.has(t)?t.startsWith("scale")?jde(e[1]):Pde:Fde,Ude=t=>t!==null;function zde(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Ude),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}function GV(t,e){if(t?.inherit&&e){const{inherit:n,...r}=t;return{...e,...r}}return t}function fI(t,e){const n=t?.[e]??t?.default??t;return n!==t?GV(n,t):n}function Vde({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:c,from:d,elapsed:u,...p}){return!!Object.keys(p).length}const dI=(t,e,n,r={},i,a)=>s=>{const c=fI(r,t)||{},d=c.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ic(d);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-u,onUpdate:w=>{e.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{s(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:i};Vde(c)||Object.assign(p,Bde(t,p)),p.duration&&(p.duration=ic(p.duration)),p.repeatDelay&&(p.repeatDelay=ic(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let x=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(gC(p),p.delay===0&&(x=!0)),(hu.instantAnimations||hu.skipAnimations||i?.shouldSkipAnimations)&&(x=!0,gC(p),p.delay=0),p.allowFlatten=!c.type&&!c.ease,x&&!a&&e.get()!==void 0){const w=zde(p.keyframes,c);if(w!==void 0){Mr.update(()=>{p.onUpdate(w),p.onComplete()});return}}return c.isSync?new cI(p):new Rde(p)};function m6(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function hI(t,e,n,r){if(typeof e=="function"){const[i,a]=m6(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=m6(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function $0(t,e,n){const r=t.getProps();return hI(r,e,n!==void 0?n:r.custom,t)}const qV=new Set(["width","height","top","left","right","bottom",...jp]),g6=30,Hde=t=>!isNaN(parseFloat(t));class Wde{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=ys.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ys.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Hde(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new J3);const r=this.events[e].add(n);return e==="change"?()=>{r(),Mr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ys.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>g6)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,g6);return hV(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function up(t,e){return new Wde(t,e)}const xC=t=>Array.isArray(t);function Gde(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,up(n))}function qde(t){return xC(t)?t[t.length-1]||0:t}function Yde(t,e){const n=$0(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const s in a){const c=qde(a[s]);Gde(t,s,c)}}const ts=t=>!!(t&&t.getVelocity);function $de(t){return!!(ts(t)&&t.add)}function yC(t,e){const n=t.getValue("willChange");if($de(n))return n.add(e);if(!n&&hu.WillChange){const r=new hu.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function pI(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const Kde="framerAppearId",YV="data-"+pI(Kde);function $V(t){return t.props[YV]}function Xde({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function KV(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a,transitionEnd:s,...c}=e;const d=t.getDefaultTransition();a=a?GV(a,d):d;const u=a?.reduceMotion;r&&(a=r);const p=[],x=i&&t.animationState&&t.animationState.getState()[i];for(const w in c){const A=t.getValue(w,t.latestValues[w]??null),N=c[w];if(N===void 0||x&&Xde(x,w))continue;const S={delay:n,...fI(a||{},w)},I=A.get();if(I!==void 0&&!A.isAnimating&&!Array.isArray(N)&&N===I&&!S.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const V=$V(t);if(V){const K=window.MotionHandoffAnimation(V,w,Mr);K!==null&&(S.startTime=K,j=!0)}}yC(t,w);const D=u??t.shouldReduceMotion;A.start(dI(w,A,N,D&&qV.has(w)?{type:!1}:S,t,j));const P=A.animation;P&&p.push(P)}if(s){const w=()=>Mr.update(()=>{s&&Yde(t,s)});p.length?Promise.all(p).then(w):w()}return p}function vC(t,e,n={}){const r=$0(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(KV(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:p,staggerDirection:x}=i;return Qde(t,e,d,u,p,x,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,u]=c==="beforeChildren"?[a,s]:[s,a];return d().then(()=>u())}else return Promise.all([a(),s(n.delay)])}function Qde(t,e,n=0,r=0,i=0,a=1,s){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push(vC(d,e,{...s,delay:n+(typeof r=="function"?0:r)+HV(t.variantChildren,d,r,i,a)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function Zde(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>vC(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=vC(t,e,n);else{const i=typeof e=="function"?$0(t,e,n.custom):e;r=Promise.all(KV(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Jde={test:t=>t==="auto",parse:t=>t},XV=t=>e=>e.test(t),QV=[Pp,Bt,ac,hf,Tfe,Sfe,Jde],x6=t=>QV.find(XV(t));function ehe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||dV(t):!0}const the=new Set(["brightness","contrast","saturate","opacity"]);function nhe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(rI)||[];if(!r)return t;const i=n.replace(r,"");let a=the.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const rhe=/\b([a-z-]*)\(.*?\)/gu,bC={...Hf,getAnimatableNone:t=>{const e=t.match(rhe);return e?e.map(nhe).join(" "):t}},y6={...Pp,transform:Math.round},ihe={rotate:hf,rotateX:hf,rotateY:hf,rotateZ:hf,scale:wy,scaleX:wy,scaleY:wy,scaleZ:wy,skew:hf,skewX:hf,skewY:hf,distance:Bt,translateX:Bt,translateY:Bt,translateZ:Bt,x:Bt,y:Bt,z:Bt,perspective:Bt,transformPerspective:Bt,opacity:Ug,originX:i6,originY:i6,originZ:Bt},mI={borderWidth:Bt,borderTopWidth:Bt,borderRightWidth:Bt,borderBottomWidth:Bt,borderLeftWidth:Bt,borderRadius:Bt,borderTopLeftRadius:Bt,borderTopRightRadius:Bt,borderBottomRightRadius:Bt,borderBottomLeftRadius:Bt,width:Bt,maxWidth:Bt,height:Bt,maxHeight:Bt,top:Bt,right:Bt,bottom:Bt,left:Bt,inset:Bt,insetBlock:Bt,insetBlockStart:Bt,insetBlockEnd:Bt,insetInline:Bt,insetInlineStart:Bt,insetInlineEnd:Bt,padding:Bt,paddingTop:Bt,paddingRight:Bt,paddingBottom:Bt,paddingLeft:Bt,paddingBlock:Bt,paddingBlockStart:Bt,paddingBlockEnd:Bt,paddingInline:Bt,paddingInlineStart:Bt,paddingInlineEnd:Bt,margin:Bt,marginTop:Bt,marginRight:Bt,marginBottom:Bt,marginLeft:Bt,marginBlock:Bt,marginBlockStart:Bt,marginBlockEnd:Bt,marginInline:Bt,marginInlineStart:Bt,marginInlineEnd:Bt,fontSize:Bt,backgroundPositionX:Bt,backgroundPositionY:Bt,...ihe,zIndex:y6,fillOpacity:Ug,strokeOpacity:Ug,numOctaves:y6},ahe={...mI,color:Hi,backgroundColor:Hi,outlineColor:Hi,fill:Hi,stroke:Hi,borderColor:Hi,borderTopColor:Hi,borderRightColor:Hi,borderBottomColor:Hi,borderLeftColor:Hi,filter:bC,WebkitFilter:bC},ZV=t=>ahe[t];function JV(t,e){let n=ZV(t);return n!==bC&&(n=Hf),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const she=new Set(["auto","none","0"]);function ohe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!she.has(a)&&zg(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=JV(n,i)}class lhe extends uI{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let x=e[p];if(typeof x=="string"&&(x=x.trim(),nI(x))){const w=WV(x,n.current);w!==void 0&&(e[p]=w),p===e.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!qV.has(r)||e.length!==2)return;const[i,a]=e,s=x6(i),c=x6(a),d=r6(i),u=r6(a);if(d!==u&&Af[r]){this.needsMeasurement=!0;return}if(s!==c)if(d6(s)&&d6(c))for(let p=0;p<e.length;p++){const x=e[p];typeof x=="string"&&(e[p]=parseFloat(x))}else Af[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||ehe(e[i]))&&r.push(i);r.length&&ohe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Af[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,s=r[a];r[a]=Af[n](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function eH(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(r=>r!=null)}const tH=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function wC(t){return fV(t)&&"offsetHeight"in t}const{schedule:gI}=AV(queueMicrotask,!1),hl={x:!1,y:!1};function nH(){return hl.x||hl.y}function che(t){return t==="x"||t==="y"?hl[t]?null:(hl[t]=!0,()=>{hl[t]=!1}):hl.x||hl.y?null:(hl.x=hl.y=!0,()=>{hl.x=hl.y=!1})}function rH(t,e){const n=eH(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function uhe(t){return!(t.pointerType==="touch"||nH())}function fhe(t,e,n={}){const[r,i,a]=rH(t,n);return r.forEach(s=>{let c=!1,d=!1,u;const p=()=>{s.removeEventListener("pointerleave",N)},x=I=>{u&&(u(I),u=void 0),p()},w=I=>{c=!1,window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",w),d&&(d=!1,x(I))},A=()=>{c=!0,window.addEventListener("pointerup",w,i),window.addEventListener("pointercancel",w,i)},N=I=>{if(I.pointerType!=="touch"){if(c){d=!0;return}x(I)}},S=I=>{if(!uhe(I))return;d=!1;const j=e(s,I);typeof j=="function"&&(u=j,s.addEventListener("pointerleave",N,i))};s.addEventListener("pointerenter",S,i),s.addEventListener("pointerdown",A,i)}),a}const iH=(t,e)=>e?t===e?!0:iH(t,e.parentElement):!1,xI=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,dhe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hhe(t){return dhe.has(t.tagName)||t.isContentEditable===!0}const phe=new Set(["INPUT","SELECT","TEXTAREA"]);function mhe(t){return phe.has(t.tagName)||t.isContentEditable===!0}const fv=new WeakSet;function v6(t){return e=>{e.key==="Enter"&&t(e)}}function EA(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ghe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=v6(()=>{if(fv.has(n))return;EA(n,"down");const i=v6(()=>{EA(n,"up")}),a=()=>EA(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function b6(t){return xI(t)&&!nH()}const w6=new WeakSet;function xhe(t,e,n={}){const[r,i,a]=rH(t,n),s=c=>{const d=c.currentTarget;if(!b6(c)||w6.has(c))return;fv.add(d),n.stopPropagation&&w6.add(c);const u=e(d,c),p=(A,N)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",w),fv.has(d)&&fv.delete(d),b6(A)&&typeof u=="function"&&u(A,{success:N})},x=A=>{p(A,d===window||d===document||n.useGlobalTarget||iH(d,A.target))},w=A=>{p(A,!1)};window.addEventListener("pointerup",x,i),window.addEventListener("pointercancel",w,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",s,i),wC(c)&&(c.addEventListener("focus",u=>ghe(u,i)),!hhe(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function yI(t){return fV(t)&&"ownerSVGElement"in t}const dv=new WeakMap;let hv;const aH=(t,e,n)=>(r,i)=>i&&i[0]?i[0][t+"Size"]:yI(r)&&"getBBox"in r?r.getBBox()[e]:r[n],yhe=aH("inline","width","offsetWidth"),vhe=aH("block","height","offsetHeight");function bhe({target:t,borderBoxSize:e}){dv.get(t)?.forEach(n=>{n(t,{get width(){return yhe(t,e)},get height(){return vhe(t,e)}})})}function whe(t){t.forEach(bhe)}function Ehe(){typeof ResizeObserver>"u"||(hv=new ResizeObserver(whe))}function _he(t,e){hv||Ehe();const n=eH(t);return n.forEach(r=>{let i=dv.get(r);i||(i=new Set,dv.set(r,i)),i.add(e),hv?.observe(r)}),()=>{n.forEach(r=>{const i=dv.get(r);i?.delete(e),i?.size||hv?.unobserve(r)})}}const pv=new Set;let N0;function Ahe(){N0=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};pv.forEach(e=>e(t))},window.addEventListener("resize",N0)}function She(t){return pv.add(t),N0||Ahe(),()=>{pv.delete(t),!pv.size&&typeof N0=="function"&&(window.removeEventListener("resize",N0),N0=void 0)}}function E6(t,e){return typeof t=="function"?She(t):_he(t,e)}function The(t){return yI(t)&&t.tagName==="svg"}const Che=[...QV,Hi,Hf],Ihe=t=>Che.find(XV(t)),_6=()=>({translate:0,scale:1,origin:0,originPoint:0}),O0=()=>({x:_6(),y:_6()}),A6=()=>({min:0,max:0}),ea=()=>({x:A6(),y:A6()}),EC={current:null},sH={current:!1},Nhe=typeof window<"u";function Ohe(){if(sH.current=!0,!!Nhe)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>EC.current=t.matches;t.addEventListener("change",e),e()}else EC.current=!1}const Mhe=new WeakMap;function Qb(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Vg(t){return typeof t=="string"||Array.isArray(t)}const vI=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bI=["initial",...vI];function Zb(t){return Qb(t.animate)||bI.some(e=>Vg(t[e]))}function oH(t){return!!(Zb(t)||t.variants)}function Rhe(t,e,n){for(const r in e){const i=e[r],a=n[r];if(ts(i))t.addValue(r,i);else if(ts(a))t.addValue(r,up(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,up(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const S6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Qv={};function lH(t){Qv=t}function khe(){return Qv}class Dhe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,skipAnimations:a,blockInitialAnimation:s,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=uI,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=ys.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,Mr.render(this.render,!1,!0))};const{latestValues:u,renderState:p}=c;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=a,this.options=d,this.blockInitialAnimation=!!s,this.isControllingVariants=Zb(n),this.isVariantNode=oH(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in w){const N=w[A];u[A]!==void 0&&ts(N)&&N.set(u[A])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,Mhe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(sH.current||Ohe(),this.shouldReduceMotion=EC.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Vf(this.notifyUpdate),Vf(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Lp.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Mr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Qv){const n=Qv[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ea()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<S6.length;r++){const i=S6[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=e[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Rhe(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=up(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(uV(r)||dV(r))?r=parseFloat(r):!Ihe(r)&&Hf.test(n)&&(r=JV(e,n)),this.setBaseTarget(e,ts(r)?r.get():r)),ts(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=hI(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ts(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new J3),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){gI.render(this.render)}}class cH extends Dhe{constructor(){super(...arguments),this.KeyframeResolver=lhe}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ts(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class nd{constructor(e){this.isMounted=!1,this.node=e}update(){}}function uH({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Phe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function jhe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function _A(t){return t===void 0||t===1}function _C({scale:t,scaleX:e,scaleY:n}){return!_A(t)||!_A(e)||!_A(n)}function Od(t){return _C(t)||fH(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function fH(t){return T6(t.x)||T6(t.y)}function T6(t){return t&&t!=="0%"}function Zv(t,e,n){const r=t-n,i=e*r;return n+i}function C6(t,e,n,r,i){return i!==void 0&&(t=Zv(t,i,r)),Zv(t,n,r)+e}function AC(t,e=0,n=1,r,i){t.min=C6(t.min,e,n,r,i),t.max=C6(t.max,e,n,r,i)}function dH(t,{x:e,y:n}){AC(t.x,e.translate,e.scale,e.originPoint),AC(t.y,n.translate,n.scale,n.originPoint)}const I6=.999999999999,N6=1.0000000000001;function Lhe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,s;for(let c=0;c<i;c++){a=n[c],s=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&R0(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,dH(t,s)),r&&Od(a.latestValues)&&R0(t,a.latestValues))}e.x<N6&&e.x>I6&&(e.x=1),e.y<N6&&e.y>I6&&(e.y=1)}function M0(t,e){t.min=t.min+e,t.max=t.max+e}function O6(t,e,n,r,i=.5){const a=li(t.min,t.max,i);AC(t,e,n,a,r)}function R0(t,e){O6(t.x,e.x,e.scaleX,e.scale,e.originX),O6(t.y,e.y,e.scaleY,e.scale,e.originY)}function hH(t,e){return uH(jhe(t.getBoundingClientRect(),e))}function Fhe(t,e,n){const r=hH(t,n),{scroll:i}=e;return i&&(M0(r.x,i.offset.x),M0(r.y,i.offset.y)),r}const Bhe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Uhe=jp.length;function zhe(t,e,n){let r="",i=!0;for(let a=0;a<Uhe;a++){const s=jp[a],c=t[s];if(c===void 0)continue;let d=!0;if(typeof c=="number")d=c===(s.startsWith("scale")?1:0);else{const u=parseFloat(c);d=s.startsWith("scale")?u===1:u===0}if(!d||n){const u=tH(c,mI[s]);if(!d){i=!1;const p=Bhe[s]||s;r+=`${p}(${u}) `}n&&(e[s]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function wI(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let s=!1,c=!1;for(const d in e){const u=e[d];if(Lp.has(d)){s=!0;continue}else if(TV(d)){i[d]=u;continue}else{const p=tH(u,mI[d]);d.startsWith("origin")?(c=!0,a[d]=p):r[d]=p}}if(e.transform||(s||n?r.transform=zhe(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:u="50%",originZ:p=0}=a;r.transformOrigin=`${d} ${u} ${p}`}}function pH(t,{style:e,vars:n},r,i){const a=t.style;let s;for(s in e)a[s]=e[s];i?.applyProjectionStyles(a,r);for(s in n)a.setProperty(s,n[s])}function M6(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const jm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Bt.test(t))t=parseFloat(t);else return t;const n=M6(t,e.target.x),r=M6(t,e.target.y);return`${n}% ${r}%`}},Vhe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Hf.parse(t);if(i.length>5)return r;const a=Hf.createTransformer(t),s=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;i[0+s]/=c,i[1+s]/=d;const u=li(c,d,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),a(i)}},SC={borderRadius:{...jm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jm,borderTopRightRadius:jm,borderBottomLeftRadius:jm,borderBottomRightRadius:jm,boxShadow:Vhe};function mH(t,{layout:e,layoutId:n}){return Lp.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!SC[t]||t==="opacity")}function EI(t,e,n){const r=t.style,i=e?.style,a={};if(!r)return a;for(const s in r)(ts(r[s])||i&&ts(i[s])||mH(s,t)||n?.getValue(s)?.liveStyle!==void 0)&&(a[s]=r[s]);return a}function Hhe(t){return window.getComputedStyle(t)}class Whe extends cH{constructor(){super(...arguments),this.type="html",this.renderInstance=pH}readValueFromInstance(e,n){if(Lp.has(n))return this.projection?.isProjecting?fC(n):cde(e,n);{const r=Hhe(e),i=(TV(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return hH(e,n)}build(e,n,r){wI(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return EI(e,n,r)}}const Ghe={offset:"stroke-dashoffset",array:"stroke-dasharray"},qhe={offset:"strokeDashoffset",array:"strokeDasharray"};function Yhe(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?Ghe:qhe;t[a.offset]=`${-r}`,t[a.array]=`${e} ${n}`}const $he=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function gH(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...c},d,u,p){if(wI(t,c,u),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:w}=t;x.transform&&(w.transform=x.transform,delete x.transform),(w.transform||x.transformOrigin)&&(w.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),w.transform&&(w.transformBox=p?.transformBox??"fill-box",delete x.transformBox);for(const A of $he)x[A]!==void 0&&(w[A]=x[A],delete x[A]);e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),i!==void 0&&Yhe(x,i,a,s,!1)}const xH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),yH=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Khe(t,e,n,r){pH(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(xH.has(i)?i:pI(i),e.attrs[i])}function vH(t,e,n){const r=EI(t,e,n);for(const i in t)if(ts(t[i])||ts(e[i])){const a=jp.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}class Xhe extends cH{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ea}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Lp.has(n)){const r=ZV(n);return r&&r.default||0}return n=xH.has(n)?n:pI(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return vH(e,n,r)}build(e,n,r){gH(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){Khe(e,n,r,i)}mount(e){this.isSVGTag=yH(e.tagName),super.mount(e)}}const Qhe=bI.length;function bH(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?bH(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Qhe;n++){const r=bI[n],i=t.props[r];(Vg(i)||i===!1)&&(e[r]=i)}return e}function wH(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Zhe=[...vI].reverse(),Jhe=vI.length;function e0e(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Zde(t,n,r)))}function t0e(t){let e=e0e(t),n=R6(),r=!0;const i=d=>(u,p)=>{const x=$0(t,p,d==="exit"?t.presenceContext?.custom:void 0);if(x){const{transition:w,transitionEnd:A,...N}=x;u={...u,...N,...A}}return u};function a(d){e=d(t)}function s(d){const{props:u}=t,p=bH(t.parent)||{},x=[],w=new Set;let A={},N=1/0;for(let I=0;I<Jhe;I++){const j=Zhe[I],D=n[j],P=u[j]!==void 0?u[j]:p[j],V=Vg(P),K=j===d?D.isActive:null;K===!1&&(N=I);let Z=P===p[j]&&P!==u[j]&&V;if(Z&&r&&t.manuallyAnimateOnMount&&(Z=!1),D.protectedKeys={...A},!D.isActive&&K===null||!P&&!D.prevProp||Qb(P)||typeof P=="boolean")continue;const F=n0e(D.prevProp,P);let U=F||j===d&&D.isActive&&!Z&&V||I>N&&V,B=!1;const J=Array.isArray(P)?P:[P];let H=J.reduce(i(j),{});K===!1&&(H={});const{prevResolvedValues:G={}}=D,q={...G,...H},Ce=me=>{U=!0,w.has(me)&&(B=!0,w.delete(me)),D.needsAnimating[me]=!0;const Re=t.getValue(me);Re&&(Re.liveStyle=!1)};for(const me in q){const Re=H[me],Be=G[me];if(A.hasOwnProperty(me))continue;let be=!1;xC(Re)&&xC(Be)?be=!wH(Re,Be):be=Re!==Be,be?Re!=null?Ce(me):w.add(me):Re!==void 0&&w.has(me)?Ce(me):D.protectedKeys[me]=!0}D.prevProp=P,D.prevResolvedValues=H,D.isActive&&(A={...A,...H}),r&&t.blockInitialAnimation&&(U=!1);const re=Z&&F;U&&(!re||B)&&x.push(...J.map(me=>{const Re={type:j};if(typeof me=="string"&&r&&!re&&t.manuallyAnimateOnMount&&t.parent){const{parent:Be}=t,be=$0(Be,me);if(Be.enteringChildren&&be){const{delayChildren:Q}=be.transition||{};Re.delay=HV(Be.enteringChildren,t,Q)}}return{animation:me,options:Re}}))}if(w.size){const I={};if(typeof u.initial!="boolean"){const j=$0(t,Array.isArray(u.initial)?u.initial[0]:u.initial);j&&j.transition&&(I.transition=j.transition)}w.forEach(j=>{const D=t.getBaseTarget(j),P=t.getValue(j);P&&(P.liveStyle=!0),I[j]=D??null}),x.push({animation:I})}let S=!!x.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(x):Promise.resolve()}function c(d,u){if(n[d].isActive===u)return Promise.resolve();t.variantChildren?.forEach(x=>x.animationState?.setActive(d,u)),n[d].isActive=u;const p=s(d);for(const x in n)n[x].protectedKeys={};return p}return{animateChanges:s,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=R6()}}}function n0e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wH(e,t):!1}function Cd(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function R6(){return{animate:Cd(!0),whileInView:Cd(),whileHover:Cd(),whileTap:Cd(),whileDrag:Cd(),whileFocus:Cd(),exit:Cd()}}function k6(t,e){t.min=e.min,t.max=e.max}function cl(t,e){k6(t.x,e.x),k6(t.y,e.y)}function D6(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const EH=1e-4,r0e=1-EH,i0e=1+EH,_H=.01,a0e=0-_H,s0e=0+_H;function vs(t){return t.max-t.min}function o0e(t,e,n){return Math.abs(t-e)<=n}function P6(t,e,n,r=.5){t.origin=r,t.originPoint=li(e.min,e.max,t.origin),t.scale=vs(n)/vs(e),t.translate=li(n.min,n.max,t.origin)-t.originPoint,(t.scale>=r0e&&t.scale<=i0e||isNaN(t.scale))&&(t.scale=1),(t.translate>=a0e&&t.translate<=s0e||isNaN(t.translate))&&(t.translate=0)}function yg(t,e,n,r){P6(t.x,e.x,n.x,r?r.originX:void 0),P6(t.y,e.y,n.y,r?r.originY:void 0)}function j6(t,e,n){t.min=n.min+e.min,t.max=t.min+vs(e)}function l0e(t,e,n){j6(t.x,e.x,n.x),j6(t.y,e.y,n.y)}function L6(t,e,n){t.min=e.min-n.min,t.max=t.min+vs(e)}function Jv(t,e,n){L6(t.x,e.x,n.x),L6(t.y,e.y,n.y)}function F6(t,e,n,r,i){return t-=e,t=Zv(t,1/n,r),i!==void 0&&(t=Zv(t,1/i,r)),t}function c0e(t,e=0,n=1,r=.5,i,a=t,s=t){if(ac.test(e)&&(e=parseFloat(e),e=li(s.min,s.max,e/100)-s.min),typeof e!="number")return;let c=li(a.min,a.max,r);t===a&&(c-=e),t.min=F6(t.min,e,n,c,i),t.max=F6(t.max,e,n,c,i)}function B6(t,e,[n,r,i],a,s){c0e(t,e[n],e[r],e[i],e.scale,a,s)}const u0e=["x","scaleX","originX"],f0e=["y","scaleY","originY"];function U6(t,e,n,r){B6(t.x,e,u0e,n?n.x:void 0,r?r.x:void 0),B6(t.y,e,f0e,n?n.y:void 0,r?r.y:void 0)}function z6(t){return t.translate===0&&t.scale===1}function AH(t){return z6(t.x)&&z6(t.y)}function V6(t,e){return t.min===e.min&&t.max===e.max}function d0e(t,e){return V6(t.x,e.x)&&V6(t.y,e.y)}function H6(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function SH(t,e){return H6(t.x,e.x)&&H6(t.y,e.y)}function W6(t){return vs(t.x)/vs(t.y)}function G6(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Yl(t){return[t("x"),t("y")]}function h0e(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,s=n?.z||0;if((i||a||s)&&(r=`translate3d(${i}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:p,rotateX:x,rotateY:w,skewX:A,skewY:N}=n;u&&(r=`perspective(${u}px) ${r}`),p&&(r+=`rotate(${p}deg) `),x&&(r+=`rotateX(${x}deg) `),w&&(r+=`rotateY(${w}deg) `),A&&(r+=`skewX(${A}deg) `),N&&(r+=`skewY(${N}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const TH=["TopLeft","TopRight","BottomLeft","BottomRight"],p0e=TH.length,q6=t=>typeof t=="string"?parseFloat(t):t,Y6=t=>typeof t=="number"||Bt.test(t);function m0e(t,e,n,r,i,a){i?(t.opacity=li(0,n.opacity??1,g0e(r)),t.opacityExit=li(e.opacity??1,0,x0e(r))):a&&(t.opacity=li(e.opacity??1,n.opacity??1,r));for(let s=0;s<p0e;s++){const c=`border${TH[s]}Radius`;let d=$6(e,c),u=$6(n,c);if(d===void 0&&u===void 0)continue;d||(d=0),u||(u=0),d===0||u===0||Y6(d)===Y6(u)?(t[c]=Math.max(li(q6(d),q6(u),r),0),(ac.test(u)||ac.test(d))&&(t[c]+="%")):t[c]=u}(e.rotate||n.rotate)&&(t.rotate=li(e.rotate||0,n.rotate||0,r))}function $6(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const g0e=CH(0,.5,bV),x0e=CH(.5,.95,Ko);function CH(t,e,n){return r=>r<t?0:r>e?1:n(Bg(t,e,r))}function y0e(t,e,n){const r=ts(t)?t:up(t);return r.start(dI("",r,e,n)),r.animation}function Hg(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const v0e=(t,e)=>t.depth-e.depth;class b0e{constructor(){this.children=[],this.isDirty=!1}add(e){K3(this.children,e),this.isDirty=!0}remove(e){X3(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(v0e),this.isDirty=!1,this.children.forEach(e)}}function w0e(t,e){const n=ys.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Vf(r),t(a-e))};return Mr.setup(r,!0),()=>Vf(r)}function mv(t){return ts(t)?t.get():t}class E0e{constructor(){this.members=[]}add(e){K3(this.members,e),e.scheduleRender()}remove(e){if(X3(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const i=r.options.layoutDependency,a=e.options.layoutDependency;i!==void 0&&a!==void 0&&i===a||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:c}=e.options;c===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const gv={hasAnimatedSinceResize:!0,hasEverUpdated:!1},AA=["","X","Y","Z"],_0e=1e3;let A0e=0;function SA(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function IH(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=$V(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Mr,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&IH(r)}function NH({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},c=e?.()){this.id=A0e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(C0e),this.nodes.forEach(M0e),this.nodes.forEach(R0e),this.nodes.forEach(I0e)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new b0e)}addEventListener(s,c){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new J3),this.eventHandlers.get(s).add(c)}notifyListeners(s,...c){const d=this.eventHandlers.get(s);d&&d.notify(...c)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=yI(s)&&!The(s),this.instance=s;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let p,x=0;const w=()=>this.root.updateBlockedByResize=!1;Mr.read(()=>{x=window.innerWidth}),t(s,()=>{const A=window.innerWidth;A!==x&&(x=A,this.root.updateBlockedByResize=!0,p&&p(),p=w0e(w,250),gv.hasAnimatedSinceResize&&(gv.hasAnimatedSinceResize=!1,this.nodes.forEach(Q6)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:x,hasRelativeLayoutChanged:w,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||u.getDefaultTransition()||L0e,{onLayoutAnimationStart:S,onLayoutAnimationComplete:I}=u.getProps(),j=!this.targetLayout||!SH(this.targetLayout,A),D=!x&&w;if(this.options.layoutRoot||this.resumeFrom||D||x&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...fI(N,"layout"),onPlay:S,onComplete:I};(u.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(p,D)}else x||Q6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(k0e),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&IH(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const x=this.path[p];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(K6);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(X6);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(O0e),this.nodes.forEach(S0e),this.nodes.forEach(T0e)):this.nodes.forEach(X6),this.clearAllSnapshots();const c=ys.now();Ra.delta=fc(0,1e3/60,c-Ra.timestamp),Ra.timestamp=c,Ra.isProcessing=!0,gA.update.process(Ra),gA.preRender.process(Ra),gA.render.process(Ra),Ra.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gI.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(N0e),this.sharedNodes.forEach(D0e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Mr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Mr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vs(this.snapshot.measuredBox.x)&&!vs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ea(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!AH(this.projectionDelta),d=this.getTransformTemplate(),u=d?d(this.latestValues,""):void 0,p=u!==this.prevTransformTemplateValue;s&&this.instance&&(c||Od(this.latestValues)||p)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return s&&(d=this.removeTransform(d)),F0e(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return ea();const c=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(B0e))){const{scroll:u}=this.root;u&&(M0(c.x,u.offset.x),M0(c.y,u.offset.y))}return c}removeElementScroll(s){const c=ea();if(cl(c,s),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:p,options:x}=u;u!==this.root&&p&&x.layoutScroll&&(p.wasRoot&&cl(c,s),M0(c.x,p.offset.x),M0(c.y,p.offset.y))}return c}applyTransform(s,c=!1){const d=ea();cl(d,s);for(let u=0;u<this.path.length;u++){const p=this.path[u];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&R0(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Od(p.latestValues)&&R0(d,p.latestValues)}return Od(this.latestValues)&&R0(d,this.latestValues),d}removeTransform(s){const c=ea();cl(c,s);for(let d=0;d<this.path.length;d++){const u=this.path[d];if(!u.instance||!Od(u.latestValues))continue;_C(u.latestValues)&&u.updateSnapshot();const p=ea(),x=u.measurePageBox();cl(p,x),U6(c,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,p)}return Od(this.latestValues)&&U6(c,this.latestValues),c}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ra.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(s||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:x}=this.options;if(!this.layout||!(p||x))return;this.resolvedRelativeTargetAt=Ra.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ea(),this.targetWithTransforms=ea()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),l0e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cl(this.target,this.layout.layoutBox),dH(this.target,this.targetDelta)):cl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||_C(this.parent.latestValues)||fH(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(s,c,d){this.relativeParent=s,this.linkedParentVersion=s.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ea(),this.relativeTargetOrigin=ea(),Jv(this.relativeTargetOrigin,c,d),cl(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const s=this.getLead(),c=!!this.resumingFrom||this!==s;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ra.timestamp&&(d=!1),d)return;const{layout:u,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||p))return;cl(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,w=this.treeScale.y;Lhe(this.layoutCorrected,this.treeScale,this.path,c),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=ea());const{target:A}=s;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(D6(this.prevProjectionDelta.x,this.projectionDelta.x),D6(this.prevProjectionDelta.y,this.projectionDelta.y)),yg(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==w||!G6(this.projectionDelta.x,this.prevProjectionDelta.x)||!G6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=O0(),this.projectionDelta=O0(),this.projectionDeltaWithTransform=O0()}setAnimationOrigin(s,c=!1){const d=this.snapshot,u=d?d.latestValues:{},p={...this.latestValues},x=O0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=ea(),A=d?d.source:void 0,N=this.layout?this.layout.source:void 0,S=A!==N,I=this.getStack(),j=!I||I.members.length<=1,D=!!(S&&!j&&this.options.crossfade===!0&&!this.path.some(j0e));this.animationProgress=0;let P;this.mixTargetDelta=V=>{const K=V/1e3;Z6(x.x,s.x,K),Z6(x.y,s.y,K),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jv(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),P0e(this.relativeTarget,this.relativeTargetOrigin,w,K),P&&d0e(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=ea()),cl(P,this.relativeTarget)),S&&(this.animationValues=p,m0e(p,u,this.latestValues,K,D,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=K},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Vf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Mr.update(()=>{gv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=up(0)),this.currentAnimation=y0e(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),s.onUpdate&&s.onUpdate(c)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_0e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:c,target:d,layout:u,latestValues:p}=s;if(!(!c||!d||!u)){if(this!==s&&this.layout&&u&&OH(this.options.animationType,this.layout.layoutBox,u.layoutBox)){d=this.target||ea();const x=vs(this.layout.layoutBox.x);d.x.min=s.target.x.min,d.x.max=d.x.min+x;const w=vs(this.layout.layoutBox.y);d.y.min=s.target.y.min,d.y.max=d.y.min+w}cl(c,d),R0(c,p),yg(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(s,c){this.sharedNodes.has(s)||this.sharedNodes.set(s,new E0e),this.sharedNodes.get(s).add(c);const u=c.options.initialPromotionConfig;c.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(c):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){const{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:c,preserveFollowOpacity:d}={}){const u=this.getStack();u&&u.promote(this,d),s&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let c=!1;const{latestValues:d}=s;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const u={};d.z&&SA("z",s,u,this.animationValues);for(let p=0;p<AA.length;p++)SA(`rotate${AA[p]}`,s,u,this.animationValues),SA(`skew${AA[p]}`,s,u,this.animationValues);s.render();for(const p in u)s.setStaticValue(p,u[p]),this.animationValues&&(this.animationValues[p]=u[p]);s.scheduleRender()}applyProjectionStyles(s,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=mv(c?.pointerEvents)||"",s.transform=d?d(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=mv(c?.pointerEvents)||""),this.hasProjected&&!Od(this.latestValues)&&(s.transform=d?d({},""):"none",this.hasProjected=!1);return}s.visibility="";const p=u.animationValues||u.latestValues;this.applyTransformsToTarget();let x=h0e(this.projectionDeltaWithTransform,this.treeScale,p);d&&(x=d(p,x)),s.transform=x;const{x:w,y:A}=this.projectionDelta;s.transformOrigin=`${w.origin*100}% ${A.origin*100}% 0`,u.animationValues?s.opacity=u===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:s.opacity=u===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const N in SC){if(p[N]===void 0)continue;const{correct:S,applyTo:I,isCSSVariable:j}=SC[N],D=x==="none"?p[N]:S(p[N],u);if(I){const P=I.length;for(let V=0;V<P;V++)s[I[V]]=D}else j?this.options.visualElement.renderState.vars[N]=D:s[N]=D}this.options.layoutId&&(s.pointerEvents=u===this?mv(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(K6),this.root.sharedNodes.clear()}}}function S0e(t){t.updateLayout()}function T0e(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?Yl(p=>{const x=a?e.measuredBox[p]:e.layoutBox[p],w=vs(x);x.min=n[p].min,x.max=x.min+w}):OH(i,e.layoutBox,n)&&Yl(p=>{const x=a?e.measuredBox[p]:e.layoutBox[p],w=vs(n[p]);x.max=x.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+w)});const s=O0();yg(s,n,e.layoutBox);const c=O0();a?yg(c,t.applyTransform(r,!0),e.measuredBox):yg(c,n,e.layoutBox);const d=!AH(s);let u=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:x,layout:w}=p;if(x&&w){const A=ea();Jv(A,e.layoutBox,x.layoutBox);const N=ea();Jv(N,n,w.layoutBox),SH(A,N)||(u=!0),p.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=A,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:s,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function C0e(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function I0e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function N0e(t){t.clearSnapshot()}function K6(t){t.clearMeasurements()}function X6(t){t.isLayoutDirty=!1}function O0e(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Q6(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function M0e(t){t.resolveTargetDelta()}function R0e(t){t.calcProjection()}function k0e(t){t.resetSkewAndRotation()}function D0e(t){t.removeLeadSnapshot()}function Z6(t,e,n){t.translate=li(e.translate,0,n),t.scale=li(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function J6(t,e,n,r){t.min=li(e.min,n.min,r),t.max=li(e.max,n.max,r)}function P0e(t,e,n,r){J6(t.x,e.x,n.x,r),J6(t.y,e.y,n.y,r)}function j0e(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const L0e={duration:.45,ease:[.4,0,.1,1]},eP=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),tP=eP("applewebkit/")&&!eP("chrome/")?Math.round:Ko;function nP(t){t.min=tP(t.min),t.max=tP(t.max)}function F0e(t){nP(t.x),nP(t.y)}function OH(t,e,n){return t==="position"||t==="preserve-aspect"&&!o0e(W6(e),W6(n),.2)}function B0e(t){return t!==t.root&&t.scroll?.wasRoot}const U0e=NH({attachResizeListener:(t,e)=>Hg(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),TA={current:void 0},MH=NH({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!TA.current){const t=new U0e({});t.mount(window),t.setOptions({layoutScroll:!0}),TA.current=t}return TA.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_I=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function rP(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function z0e(...t){return e=>{let n=!1;const r=t.map(i=>{const a=rP(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():rP(t[i],null)}}}}function V0e(...t){return R.useCallback(z0e(...t),t)}class H0e extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=n.offsetParent,i=wC(r)&&r.offsetWidth||0,a=wC(r)&&r.offsetHeight||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left,s.bottom=a-s.height-s.top}return null}componentDidUpdate(){}render(){return this.props.children}}function W0e({children:t,isPresent:e,anchorX:n,anchorY:r,root:i,pop:a}){const s=R.useId(),c=R.useRef(null),d=R.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:u}=R.useContext(_I),p=t.props?.ref??t?.ref,x=V0e(c,p);return R.useInsertionEffect(()=>{const{width:w,height:A,top:N,left:S,right:I,bottom:j}=d.current;if(e||a===!1||!c.current||!w||!A)return;const D=n==="left"?`left: ${S}`:`right: ${I}`,P=r==="bottom"?`bottom: ${j}`:`top: ${N}`;c.current.dataset.motionPopId=s;const V=document.createElement("style");u&&(V.nonce=u);const K=i??document.head;return K.appendChild(V),V.sheet&&V.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${w}px !important;
            height: ${A}px !important;
            ${D}px !important;
            ${P}px !important;
          }
        `),()=>{K.contains(V)&&K.removeChild(V)}},[e]),y.jsx(H0e,{isPresent:e,childRef:c,sizeRef:d,pop:a,children:a===!1?t:R.cloneElement(t,{ref:x})})}const G0e=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:s,anchorX:c,anchorY:d,root:u})=>{const p=$3(q0e),x=R.useId();let w=!0,A=R.useMemo(()=>(w=!1,{id:x,initial:e,isPresent:n,custom:i,onExitComplete:N=>{p.set(N,!0);for(const S of p.values())if(!S)return;r&&r()},register:N=>(p.set(N,!1),()=>p.delete(N))}),[n,p,r]);return a&&w&&(A={...A}),R.useMemo(()=>{p.forEach((N,S)=>p.set(S,!1))},[n]),R.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),t=y.jsx(W0e,{pop:s==="popLayout",isPresent:n,anchorX:c,anchorY:d,root:u,children:t}),y.jsx(Xb.Provider,{value:A,children:t})};function q0e(){return new Map}function RH(t=!0){const e=R.useContext(Xb);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=R.useId();R.useEffect(()=>{if(t)return i(a)},[t]);const s=R.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,s]:[!0]}const Ey=t=>t.key||"";function iP(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const Ba=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1,anchorX:c="left",anchorY:d="top",root:u})=>{const[p,x]=RH(s),w=R.useMemo(()=>iP(t),[t]),A=s&&!p?[]:w.map(Ey),N=R.useRef(!0),S=R.useRef(w),I=$3(()=>new Map),j=R.useRef(new Set),[D,P]=R.useState(w),[V,K]=R.useState(w);cV(()=>{N.current=!1,S.current=w;for(let U=0;U<V.length;U++){const B=Ey(V[U]);A.includes(B)?(I.delete(B),j.current.delete(B)):I.get(B)!==!0&&I.set(B,!1)}},[V,A.length,A.join("-")]);const Z=[];if(w!==D){let U=[...w];for(let B=0;B<V.length;B++){const J=V[B],H=Ey(J);A.includes(H)||(U.splice(B,0,J),Z.push(J))}return a==="wait"&&Z.length&&(U=Z),K(iP(U)),P(w),null}const{forceRender:F}=R.useContext(Y3);return y.jsx(y.Fragment,{children:V.map(U=>{const B=Ey(U),J=s&&!p?!1:w===V||A.includes(B),H=()=>{if(j.current.has(B))return;if(j.current.add(B),I.has(B))I.set(B,!0);else return;let G=!0;I.forEach(q=>{q||(G=!1)}),G&&(F?.(),K(S.current),s&&x?.(),r&&r())};return y.jsx(G0e,{isPresent:J,initial:!N.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:u,onExitComplete:J?void 0:H,anchorX:c,anchorY:d,children:U},B)})})},kH=R.createContext({strict:!1}),aP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let sP=!1;function Y0e(){if(sP)return;const t={};for(const e in aP)t[e]={isEnabled:n=>aP[e].some(r=>!!n[r])};lH(t),sP=!0}function DH(){return Y0e(),khe()}function $0e(t){const e=DH();for(const n in t)e[n]={...e[n],...t[n]};lH(e)}const K0e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function e2(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||K0e.has(t)}let PH=t=>!e2(t);function X0e(t){typeof t=="function"&&(PH=e=>e.startsWith("on")?!e2(e):t(e))}try{X0e(require("@emotion/is-prop-valid").default)}catch{}function Q0e(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(PH(i)||n===!0&&e2(i)||!e&&!e2(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Jb=R.createContext({});function Z0e(t,e){if(Zb(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Vg(n)?n:void 0,animate:Vg(r)?r:void 0}}return t.inherit!==!1?e:{}}function J0e(t){const{initial:e,animate:n}=Z0e(t,R.useContext(Jb));return R.useMemo(()=>({initial:e,animate:n}),[oP(e),oP(n)])}function oP(t){return Array.isArray(t)?t.join(" "):t}const AI=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jH(t,e,n){for(const r in e)!ts(e[r])&&!mH(r,n)&&(t[r]=e[r])}function epe({transformTemplate:t},e){return R.useMemo(()=>{const n=AI();return wI(n,e,t),Object.assign({},n.vars,n.style)},[e])}function tpe(t,e){const n=t.style||{},r={};return jH(r,n,t),Object.assign(r,epe(t,e)),r}function npe(t,e){const n={},r=tpe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const LH=()=>({...AI(),attrs:{}});function rpe(t,e,n,r){const i=R.useMemo(()=>{const a=LH();return gH(a,e,yH(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};jH(a,t.style,t),i.style={...a,...i.style}}return i}const ipe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function SI(t){return typeof t!="string"||t.includes("-")?!1:!!(ipe.indexOf(t)>-1||/[A-Z]/u.test(t))}function ape(t,e,n,{latestValues:r},i,a=!1,s){const d=(s??SI(t)?rpe:npe)(e,r,i,t),u=Q0e(e,typeof t=="string",a),p=t!==R.Fragment?{...u,...d,ref:n}:{},{children:x}=e,w=R.useMemo(()=>ts(x)?x.get():x,[x]);return R.createElement(t,{...p,children:w})}function spe({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:ope(n,r,i,t),renderState:e()}}function ope(t,e,n,r){const i={},a=r(t,{});for(const w in a)i[w]=mv(a[w]);let{initial:s,animate:c}=t;const d=Zb(t),u=oH(t);e&&u&&!d&&t.inherit!==!1&&(s===void 0&&(s=e.initial),c===void 0&&(c=e.animate));let p=n?n.initial===!1:!1;p=p||s===!1;const x=p?c:s;if(x&&typeof x!="boolean"&&!Qb(x)){const w=Array.isArray(x)?x:[x];for(let A=0;A<w.length;A++){const N=hI(t,w[A]);if(N){const{transitionEnd:S,transition:I,...j}=N;for(const D in j){let P=j[D];if(Array.isArray(P)){const V=p?P.length-1:0;P=P[V]}P!==null&&(i[D]=P)}for(const D in S)i[D]=S[D]}}}return i}const FH=t=>(e,n)=>{const r=R.useContext(Jb),i=R.useContext(Xb),a=()=>spe(t,e,r,i);return n?a():$3(a)},lpe=FH({scrapeMotionValuesFromProps:EI,createRenderState:AI}),cpe=FH({scrapeMotionValuesFromProps:vH,createRenderState:LH}),upe=Symbol.for("motionComponentSymbol");function fpe(t,e,n){const r=R.useRef(n);R.useInsertionEffect(()=>{r.current=n});const i=R.useRef(null);return R.useCallback(a=>{a&&t.onMount?.(a),e&&(a?e.mount(a):e.unmount());const s=r.current;if(typeof s=="function")if(a){const c=s(a);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):s(a);else s&&(s.current=a)},[e])}const BH=R.createContext({});function A0(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function dpe(t,e,n,r,i,a){const{visualElement:s}=R.useContext(Jb),c=R.useContext(kH),d=R.useContext(Xb),u=R.useContext(_I),p=u.reducedMotion,x=u.skipAnimations,w=R.useRef(null),A=R.useRef(!1);r=r||c.renderer,!w.current&&r&&(w.current=r(t,{visualState:e,parent:s,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p,skipAnimations:x,isSVG:a}),A.current&&w.current&&(w.current.manuallyAnimateOnMount=!0));const N=w.current,S=R.useContext(BH);N&&!N.projection&&i&&(N.type==="html"||N.type==="svg")&&hpe(w.current,n,i,S);const I=R.useRef(!1);R.useInsertionEffect(()=>{N&&I.current&&N.update(n,d)});const j=n[YV],D=R.useRef(!!j&&!window.MotionHandoffIsComplete?.(j)&&window.MotionHasOptimisedAnimation?.(j));return cV(()=>{A.current=!0,N&&(I.current=!0,window.MotionIsMounted=!0,N.updateFeatures(),N.scheduleRenderMicrotask(),D.current&&N.animationState&&N.animationState.animateChanges())}),R.useEffect(()=>{N&&(!D.current&&N.animationState&&N.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(j)}),D.current=!1),N.enteringChildren=void 0)}),N}function hpe(t,e,n,r){const{layoutId:i,layout:a,drag:s,dragConstraints:c,layoutScroll:d,layoutRoot:u,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:UH(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||c&&A0(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:d,layoutRoot:u})}function UH(t){if(t)return t.options.allowProjection!==!1?t.projection:UH(t.parent)}function CA(t,{forwardMotionProps:e=!1,type:n}={},r,i){r&&$0e(r);const a=n?n==="svg":SI(t),s=a?cpe:lpe;function c(u,p){let x;const w={...R.useContext(_I),...u,layoutId:ppe(u)},{isStatic:A}=w,N=J0e(u),S=s(u,A);if(!A&&lV){mpe();const I=gpe(w);x=I.MeasureLayout,N.visualElement=dpe(t,S,w,i,I.ProjectionNode,a)}return y.jsxs(Jb.Provider,{value:N,children:[x&&N.visualElement?y.jsx(x,{visualElement:N.visualElement,...w}):null,ape(t,u,fpe(S,N.visualElement,p),S,A,e,a)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=R.forwardRef(c);return d[upe]=t,d}function ppe({layoutId:t}){const e=R.useContext(Y3).id;return e&&t!==void 0?e+"-"+t:t}function mpe(t,e){R.useContext(kH).strict}function gpe(t){const e=DH(),{drag:n,layout:r}=e;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function xpe(t,e){if(typeof Proxy>"u")return CA;const n=new Map,r=(a,s)=>CA(a,s,t,e),i=(a,s)=>r(a,s);return new Proxy(i,{get:(a,s)=>s==="create"?r:(n.has(s)||n.set(s,CA(s,void 0,t,e)),n.get(s))})}const ype=(t,e)=>e.isSVG??SI(t)?new Xhe(e):new Whe(e,{allowProjection:t!==R.Fragment});class vpe extends nd{constructor(e){super(e),e.animationState||(e.animationState=t0e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Qb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let bpe=0;class wpe extends nd{constructor(){super(...arguments),this.id=bpe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Epe={animation:{Feature:vpe},exit:{Feature:wpe}};function D1(t){return{point:{x:t.pageX,y:t.pageY}}}const _pe=t=>e=>xI(e)&&t(e,D1(e));function vg(t,e,n,r){return Hg(t,e,_pe(n),r)}const zH=({current:t})=>t?t.ownerDocument.defaultView:null,lP=(t,e)=>Math.abs(t-e);function Ape(t,e){const n=lP(t.x,e.x),r=lP(t.y,e.y);return Math.sqrt(n**2+r**2)}const cP=new Set(["auto","scroll"]);class VH{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=NA(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,S=Ape(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!S)return;const{point:I}=A,{timestamp:j}=Ra;this.history.push({...I,timestamp:j});const{onStart:D,onMove:P}=this.handlers;N||(D&&D(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,A)},this.handlePointerMove=(A,N)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=IA(N,this.transformPagePoint),Mr.update(this.updatePoint,!0)},this.handlePointerUp=(A,N)=>{this.end();const{onEnd:S,onSessionEnd:I,resumeAnimation:j}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=NA(A.type==="pointercancel"?this.lastMoveEventInfo:IA(N,this.transformPagePoint),this.history);this.startEvent&&S&&S(A,D),I&&I(A,D)},!xI(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=s,this.contextWindow=i||window;const d=D1(e),u=IA(d,this.transformPagePoint),{point:p}=u,{timestamp:x}=Ra;this.history=[{...p,timestamp:x}];const{onSessionStart:w}=n;w&&w(e,NA(u,this.history)),this.removeListeners=M1(vg(this.contextWindow,"pointermove",this.handlePointerMove),vg(this.contextWindow,"pointerup",this.handlePointerUp),vg(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(cP.has(r.overflowX)||cP.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:i.x-n.x,y:i.y-n.y};a.x===0&&a.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,i),Mr.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Vf(this.updatePoint)}}function IA(t,e){return e?{point:e(t.point)}:t}function uP(t,e){return{x:t.x-e.x,y:t.y-e.y}}function NA({point:t},e){return{point:t,delta:uP(t,HH(e)),offset:uP(t,Spe(e)),velocity:Tpe(e,.1)}}function Spe(t){return t[0]}function HH(t){return t[t.length-1]}function Tpe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=HH(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ic(e)));)n--;if(!r)return{x:0,y:0};r===t[0]&&t.length>2&&i.timestamp-r.timestamp>ic(e)*2&&(r=t[1]);const a=Go(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Cpe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?li(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?li(n,t,r.max):Math.min(t,n)),t}function fP(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Ipe(t,{top:e,left:n,bottom:r,right:i}){return{x:fP(t.x,n,i),y:fP(t.y,e,r)}}function dP(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Npe(t,e){return{x:dP(t.x,e.x),y:dP(t.y,e.y)}}function Ope(t,e){let n=.5;const r=vs(t),i=vs(e);return i>r?n=Bg(e.min,e.max-r,t.min):r>i&&(n=Bg(t.min,t.max-i,e.min)),fc(0,1,n)}function Mpe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const TC=.35;function Rpe(t=TC){return t===!1?t=0:t===!0&&(t=TC),{x:hP(t,"left","right"),y:hP(t,"top","bottom")}}function hP(t,e,n){return{min:pP(t,e),max:pP(t,n)}}function pP(t,e){return typeof t=="number"?t:t[e]||0}const kpe=new WeakMap;class Dpe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ea(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=x=>{n&&this.snapToCursor(D1(x).point),this.stopAnimation()},s=(x,w)=>{const{drag:A,dragPropagation:N,onDragStart:S}=this.getProps();if(A&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=che(A),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yl(j=>{let D=this.getAxisMotionValue(j).get()||0;if(ac.test(D)){const{projection:P}=this.visualElement;if(P&&P.layout){const V=P.layout.layoutBox[j];V&&(D=vs(V)*(parseFloat(D)/100))}}this.originPoint[j]=D}),S&&Mr.update(()=>S(x,w),!1,!0),yC(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},c=(x,w)=>{this.latestPointerEvent=x,this.latestPanInfo=w;const{dragPropagation:A,dragDirectionLock:N,onDirectionLock:S,onDrag:I}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:j}=w;if(N&&this.currentDirection===null){this.currentDirection=jpe(j),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",w.point,j),this.updateAxis("y",w.point,j),this.visualElement.render(),I&&Mr.update(()=>I(x,w),!1,!0)},d=(x,w)=>{this.latestPointerEvent=x,this.latestPanInfo=w,this.stop(x,w),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>{const{dragSnapToOrigin:x}=this.getProps();(x||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:p}=this.getProps();this.panSession=new VH(e,{onSessionStart:a,onStart:s,onMove:c,onSessionEnd:d,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:zH(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:c}=this.getProps();c&&Mr.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!_y(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=Cpe(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&A0(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Ipe(r.layoutBox,e):this.constraints=!1,this.elastic=Rpe(n),i!==this.constraints&&!A0(e)&&r&&this.constraints&&!this.hasMutatedConstraints&&Yl(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Mpe(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!A0(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Fhe(r,i.root,this.visualElement.getTransformPagePoint());let s=Npe(i.layout.layoutBox,a);if(n){const c=n(Phe(s));this.hasMutatedConstraints=!!c,c&&(s=uH(c))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},u=Yl(p=>{if(!_y(p,n,this.currentDirection))return;let x=d&&d[p]||{};s&&(x={min:0,max:0});const w=i?200:1e6,A=i?40:1e7,N={type:"inertia",velocity:r?e[p]:0,bounceStiffness:w,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...a,...x};return this.startAxisValueAnimation(p,N)});return Promise.all(u).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return yC(this.visualElement,e),r.start(dI(e,r,0,n,this.visualElement,!1))}stopAnimation(){Yl(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Yl(n=>{const{drag:r}=this.getProps();if(!_y(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:c}=i.layout.layoutBox[n],d=a.get()||0;a.set(e[n]-li(s,c,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!A0(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Yl(s=>{const c=this.getAxisMotionValue(s);if(c&&this.constraints!==!1){const d=c.get();i[s]=Ope({min:d,max:d},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),Yl(s=>{if(!_y(s,e,null))return;const c=this.getAxisMotionValue(s),{min:d,max:u}=this.constraints[s];c.set(li(d,u,i[s]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;kpe.set(this.visualElement,this);const e=this.visualElement.current,n=vg(e,"pointerdown",u=>{const{drag:p,dragListener:x=!0}=this.getProps(),w=u.target,A=w!==e&&mhe(w);p&&x&&!A&&this.start(u)});let r;const i=()=>{const{dragConstraints:u}=this.getProps();A0(u)&&u.current&&(this.constraints=this.resolveRefConstraints(),r||(r=Ppe(e,u.current,()=>this.scalePositionWithinConstraints())))},{projection:a}=this.visualElement,s=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Mr.read(i);const c=Hg(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:p})=>{this.isDragging&&p&&(Yl(x=>{const w=this.getAxisMotionValue(x);w&&(this.originPoint[x]+=u[x].translate,w.set(w.get()+u[x].translate))}),this.visualElement.render())}));return()=>{c(),n(),s(),d&&d(),r&&r()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=TC,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:c}}}function mP(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function Ppe(t,e,n){const r=E6(t,mP(n)),i=E6(e,mP(n));return()=>{r(),i()}}function _y(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function jpe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Lpe extends nd{constructor(e){super(e),this.removeGroupControls=Ko,this.removeListeners=Ko,this.controls=new Dpe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ko}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const OA=t=>(e,n)=>{t&&Mr.update(()=>t(e,n),!1,!0)};class Fpe extends nd{constructor(){super(...arguments),this.removePointerDownListener=Ko}onPointerDown(e){this.session=new VH(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zH(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:OA(e),onStart:OA(n),onMove:OA(r),onEnd:(a,s)=>{delete this.session,i&&Mr.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=vg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let MA=!1;class Bpe extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),MA&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),gv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:s}=r;return s&&(s.isPresent=a,e.layoutDependency!==n&&s.setOptions({...s.options,layoutDependency:n}),MA=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||Mr.postRender(()=>{const c=s.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gI.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;MA=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function WH(t){const[e,n]=RH(),r=R.useContext(Y3);return y.jsx(Bpe,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(BH),isPresent:e,safeToRemove:n})}const Upe={pan:{Feature:Fpe},drag:{Feature:Lpe,ProjectionNode:MH,MeasureLayout:WH}};function gP(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Mr.postRender(()=>a(e,D1(e)))}class zpe extends nd{mount(){const{current:e}=this.node;e&&(this.unmount=fhe(e,(n,r)=>(gP(this.node,r,"Start"),i=>gP(this.node,i,"End"))))}unmount(){}}class Vpe extends nd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=M1(Hg(this.node.current,"focus",()=>this.onFocus()),Hg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function xP(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Mr.postRender(()=>a(e,D1(e)))}class Hpe extends nd{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:r}=this.node.props;this.unmount=xhe(e,(i,a)=>(xP(this.node,a,"Start"),(s,{success:c})=>xP(this.node,s,c?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:r?.tap===!1})}unmount(){}}const CC=new WeakMap,RA=new WeakMap,Wpe=t=>{const e=CC.get(t.target);e&&e(t)},Gpe=t=>{t.forEach(Wpe)};function qpe({root:t,...e}){const n=t||document;RA.has(n)||RA.set(n,{});const r=RA.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Gpe,{root:t,...e})),r[i]}function Ype(t,e,n){const r=qpe(e);return CC.set(t,n),r.observe(t),()=>{CC.delete(t),r.unobserve(t)}}const $pe={some:0,all:1};class Kpe extends nd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:$pe[i]},c=d=>{const{isIntersecting:u}=d;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:p,onViewportLeave:x}=this.node.getProps(),w=u?p:x;w&&w(d)};return Ype(this.node.current,s,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Xpe(e,n))&&this.startObserver()}unmount(){}}function Xpe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Qpe={inView:{Feature:Kpe},tap:{Feature:Hpe},focus:{Feature:Vpe},hover:{Feature:zpe}},Zpe={layout:{ProjectionNode:MH,MeasureLayout:WH}},Jpe={...Epe,...Qpe,...Upe,...Zpe},xn=xpe(Jpe,ype),eme=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(""),[i,a]=R.useState(""),[s,c]=R.useState(!1),[d,u]=R.useState(!1),{login:p}=V3(),x=_p(),w=async A=>{A.preventDefault(),a(""),c(!0);try{await p(t,n),x("/")}catch(N){a("Invalid email or password. Please try again."),console.error(N)}finally{c(!1)}};return y.jsxs("div",{className:"login-page",children:[y.jsxs("div",{className:"login-bg-orbs",children:[y.jsx("div",{className:"login-orb login-orb-1"}),y.jsx("div",{className:"login-orb login-orb-2"}),y.jsx("div",{className:"login-orb login-orb-3"})]}),y.jsxs(xn.div,{initial:{opacity:0,y:30,scale:.97},animate:{opacity:1,y:0,scale:1},transition:{duration:.5,ease:"easeOut"},className:"login-card glass",children:[y.jsxs("div",{className:"login-header",children:[y.jsxs(xn.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"logo-brand",children:[y.jsx("div",{className:"logo-circ",children:y.jsx(Vue,{size:28})}),y.jsx("h2",{className:"title-gradient",children:"EduBill Admin"})]}),y.jsx("p",{children:"Sign in to manage your academy records"})]}),y.jsxs("form",{onSubmit:w,className:"login-form",children:[i&&y.jsx(xn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"error-box",children:i}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Email Address"}),y.jsxs("div",{className:"input-with-icon",children:[y.jsx(W3,{className:"ico",size:18}),y.jsx("input",{type:"email",className:"input-field",placeholder:"admin@edubill.com",value:t,onChange:A=>e(A.target.value),required:!0,autoComplete:"email",autoFocus:!0})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Secure Password"}),y.jsxs("div",{className:"input-with-icon",children:[y.jsx(ZD,{className:"ico",size:18}),y.jsx("input",{type:d?"text":"password",className:"input-field",placeholder:"",value:n,onChange:A=>r(A.target.value),required:!0,autoComplete:"current-password"}),y.jsx("button",{type:"button",className:"password-toggle",onClick:()=>u(!d),tabIndex:-1,children:d?y.jsx(Yce,{size:16}):y.jsx(lp,{size:16})})]})]}),y.jsx(xn.button,{type:"submit",className:"btn-primary login-btn",disabled:s,whileHover:{scale:1.01},whileTap:{scale:.98},children:s?y.jsxs(y.Fragment,{children:[y.jsx(ns,{className:"animate-spin",size:20}),"Signing in..."]}):"Access Dashboard"})]}),y.jsxs("footer",{className:"login-footer",children:[y.jsx("p",{children:" 2026 EduBill Management System"}),y.jsxs("span",{className:"secure-tag",children:[y.jsx(ZD,{size:12})," SSL Encrypted"]})]})]}),y.jsx("style",{jsx:"true",children:`
        .login-page {
          height: 100vh;
          width: 100vw;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 20px;
          position: relative;
          overflow: hidden;
        }

        /* Animated background orbs */
        .login-bg-orbs {
          position: fixed;
          top: 0; left: 0; right: 0; bottom: 0;
          pointer-events: none;
          z-index: 0;
        }

        .login-orb {
          position: absolute;
          border-radius: 50%;
          filter: blur(100px);
          opacity: 0.5;
        }

        .login-orb-1 {
          width: 400px;
          height: 400px;
          background: var(--primary);
          top: -10%;
          left: -5%;
          animation: loginFloat1 12s ease-in-out infinite;
        }

        .login-orb-2 {
          width: 350px;
          height: 350px;
          background: var(--accent-purple);
          bottom: -10%;
          right: -5%;
          animation: loginFloat2 15s ease-in-out infinite;
        }

        .login-orb-3 {
          width: 250px;
          height: 250px;
          background: var(--accent-pink);
          top: 40%;
          right: 30%;
          animation: loginFloat3 10s ease-in-out infinite;
        }

        @keyframes loginFloat1 {
          0%, 100% { transform: translate(0, 0) scale(1); }
          50% { transform: translate(40px, 30px) scale(1.1); }
        }

        @keyframes loginFloat2 {
          0%, 100% { transform: translate(0, 0) scale(1); }
          50% { transform: translate(-30px, -40px) scale(1.05); }
        }

        @keyframes loginFloat3 {
          0%, 100% { transform: translate(0, 0); }
          50% { transform: translate(25px, -25px); }
        }

        .login-card {
          width: 100%;
          max-width: 440px;
          padding: 48px 40px;
          background: var(--bg-card);
          box-shadow: var(--shadow-xl), 0 0 80px rgba(37, 99, 235, 0.08);
          border-radius: 28px;
          position: relative;
          z-index: 1;
        }

        .login-header {
          text-align: center;
          margin-bottom: 32px;
        }

        .logo-brand {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 14px;
          margin-bottom: 14px;
        }

        .logo-circ {
          width: 68px;
          height: 68px;
          border-radius: 22px;
          display: flex;
          align-items: center;
          justify-content: center;
          background: linear-gradient(135deg, var(--primary), var(--primary-hover));
          color: white;
          box-shadow: 0 8px 24px rgba(37, 99, 235, 0.3);
        }

        .login-header h2 { font-size: 1.75rem; margin: 0; }
        .login-header p { color: var(--text-muted); font-size: 0.92rem; margin-top: 4px; }

        .login-form {
          display: flex;
          flex-direction: column;
          gap: 22px;
        }

        .form-group label {
          display: block;
          font-size: 0.82rem;
          font-weight: 600;
          color: var(--text-muted);
          margin-bottom: 8px;
          text-transform: uppercase;
          letter-spacing: 0.03em;
        }

        .input-with-icon {
          position: relative;
        }

        .ico {
          position: absolute;
          left: 14px;
          top: 50%;
          transform: translateY(-50%);
          color: var(--text-light);
          pointer-events: none;
        }

        .input-with-icon .input-field {
          padding-left: 44px;
          padding-right: 44px;
          height: 50px;
          background: var(--bg-secondary);
          border: 1.5px solid var(--border-color);
          border-radius: 14px;
          font-size: 0.95rem;
          width: 100%;
          transition: all 0.2s;
          color: var(--text-main);
        }

        .input-with-icon .input-field:focus {
          border-color: var(--primary);
          box-shadow: 0 0 0 3px var(--primary-light);
          background: var(--bg-card);
        }

        .password-toggle {
          position: absolute;
          right: 14px;
          top: 50%;
          transform: translateY(-50%);
          background: none;
          color: var(--text-light);
          padding: 4px;
          cursor: pointer;
          border-radius: 6px;
          transition: color 0.2s;
        }

        .password-toggle:hover {
          color: var(--text-main);
        }

        .error-box {
          padding: 14px;
          background: rgba(239, 68, 68, 0.08);
          border: 1px solid rgba(239, 68, 68, 0.2);
          color: var(--danger);
          border-radius: 12px;
          font-size: 0.85rem;
          text-align: center;
          font-weight: 600;
        }

        .login-btn {
          height: 52px;
          font-size: 1rem;
          font-weight: 700;
          margin-top: 8px;
          border-radius: 14px;
          gap: 10px;
        }

        .login-btn:disabled {
          opacity: 0.7;
          cursor: not-allowed;
        }

        .login-footer {
          margin-top: 36px;
          text-align: center;
        }

        .login-footer p { font-size: 0.78rem; color: var(--text-muted); margin: 0; }

        .secure-tag {
          display: inline-flex;
          align-items: center;
          gap: 5px;
          font-size: 0.68rem;
          color: var(--success);
          font-weight: 700;
          text-transform: uppercase;
          margin-top: 10px;
          padding: 5px 12px;
          background: rgba(16, 185, 129, 0.08);
          border-radius: 20px;
          letter-spacing: 0.04em;
        }

        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        @media (max-width: 480px) {
          .login-card {
            padding: 36px 24px;
            border-radius: 24px;
          }

          .login-header h2 {
            font-size: 1.5rem;
          }
        }
      `})]})},GH=R.createContext(),qH=()=>{const t=R.useContext(GH);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},tme=({children:t})=>{const[e,n]=R.useState(()=>localStorage.getItem("theme")==="dark");R.useEffect(()=>{localStorage.setItem("theme",e?"dark":"light"),document.documentElement.setAttribute("data-theme",e?"dark":"light")},[e]);const r=()=>n(i=>!i);return y.jsx(GH.Provider,{value:{isDark:e,toggleTheme:r},children:t})},nme=()=>{const[t,e]=R.useState(!1),[n,r]=R.useState(""),[i,a]=R.useState({students:[],invoices:[]}),[s,c]=R.useState([]),[d,u]=R.useState([]),[p,x]=R.useState(0),w=R.useRef(null),A=_p(),N=[{label:"Go to Dashboard",icon:y.jsx(ah,{size:18}),path:"/"},{label:"Add Student",icon:y.jsx(iC,{size:18}),path:"/students"},{label:"Log Attendance",icon:y.jsx(Bs,{size:18}),path:"/attendance"},{label:"Generate Invoice",icon:y.jsx(rc,{size:18}),path:"/invoices"},{label:"Analytics",icon:y.jsx(ah,{size:18}),path:"/analytics"},{label:"Settings",icon:y.jsx(iV,{size:18}),path:"/settings"}];R.useEffect(()=>{(async()=>{try{const P=await Zr(wr(Gt,"students"));c(P.docs.map(K=>({id:K.id,...K.data()})));const V=await Zr(wr(Gt,"invoices"));u(V.docs.map(K=>({id:K.id,...K.data()})))}catch(P){console.error(P)}})()},[]),R.useEffect(()=>{const D=P=>{(P.metaKey||P.ctrlKey)&&P.key==="k"&&(P.preventDefault(),e(!0)),P.key==="Escape"&&e(!1)};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[]),R.useEffect(()=>{t&&w.current&&w.current.focus()},[t]),R.useEffect(()=>{if(!n.trim()){a({students:[],invoices:[]});return}const D=n.toLowerCase(),P=s.filter(K=>K.name?.toLowerCase().includes(D)||K.parentName?.toLowerCase().includes(D)||K.phone?.includes(D)).slice(0,5),V=d.filter(K=>K.studentSnapshot?.name?.toLowerCase().includes(D)||K.id.toLowerCase().includes(D)).slice(0,5);a({students:P,invoices:V}),x(0)},[n,s,d]);const S=(D,P)=>{e(!1),r(""),D==="student"?A("/students"):D==="invoice"?window.open(`/invoice/${P.id}`,"_blank"):D==="action"&&A(P.path)},I=[...i.students.map(D=>({type:"student",item:D})),...i.invoices.map(D=>({type:"invoice",item:D})),...n?[]:N.map(D=>({type:"action",item:D}))],j=D=>{if(D.key==="ArrowDown")D.preventDefault(),x(P=>Math.min(P+1,I.length-1));else if(D.key==="ArrowUp")D.preventDefault(),x(P=>Math.max(P-1,0));else if(D.key==="Enter"&&I[p]){const P=I[p];S(P.type,P.item)}};return y.jsxs(y.Fragment,{children:[y.jsxs("button",{className:"search-trigger",onClick:()=>e(!0),children:[y.jsx(mg,{size:18}),y.jsx("span",{children:"Search..."}),y.jsx("kbd",{children:"K"})]}),y.jsx(Ba,{children:t&&y.jsx("div",{className:"search-overlay",onClick:()=>e(!1),children:y.jsxs(xn.div,{initial:{opacity:0,scale:.95,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-20},transition:{duration:.15},className:"search-modal",onClick:D=>D.stopPropagation(),children:[y.jsxs("div",{className:"search-header",children:[y.jsx(mg,{size:20,className:"search-icon"}),y.jsx("input",{ref:w,type:"text",placeholder:"Search students, invoices, or type a command...",value:n,onChange:D=>r(D.target.value),onKeyDown:j}),y.jsx("button",{className:"close-btn",onClick:()=>e(!1),children:y.jsx(uc,{size:18})})]}),y.jsxs("div",{className:"search-results",children:[!n&&y.jsxs("div",{className:"result-section",children:[y.jsx("div",{className:"section-label",children:"Quick Actions"}),N.map((D,P)=>y.jsxs("div",{className:`result-item ${p===P?"selected":""}`,onClick:()=>S("action",D),children:[y.jsx("div",{className:"result-icon action",children:D.icon}),y.jsx("span",{children:D.label}),y.jsx(Qz,{size:14,className:"arrow"})]},D.path))]}),i.students.length>0&&y.jsxs("div",{className:"result-section",children:[y.jsx("div",{className:"section-label",children:"Students"}),i.students.map((D,P)=>y.jsxs("div",{className:`result-item ${p===P?"selected":""}`,onClick:()=>S("student",D),children:[y.jsx("div",{className:"result-icon student",children:D.photo?y.jsx("img",{src:D.photo,alt:""}):D.name?.[0]}),y.jsxs("div",{className:"result-info",children:[y.jsx("strong",{children:D.name}),y.jsxs("span",{children:[D.parentName,"  ",D.phone]})]})]},D.id))]}),i.invoices.length>0&&y.jsxs("div",{className:"result-section",children:[y.jsx("div",{className:"section-label",children:"Invoices"}),i.invoices.map((D,P)=>y.jsxs("div",{className:`result-item ${p===i.students.length+P?"selected":""}`,onClick:()=>S("invoice",D),children:[y.jsx("div",{className:"result-icon invoice",children:y.jsx(rc,{size:18})}),y.jsxs("div",{className:"result-info",children:[y.jsxs("strong",{children:["#",D.id.slice(-8).toUpperCase()]}),y.jsxs("span",{children:[D.studentSnapshot?.name,"  ",D.totalAmount?.toLocaleString()]})]}),y.jsx("span",{className:`status-badge ${D.status?.toLowerCase()}`,children:D.status})]},D.id))]}),n&&i.students.length===0&&i.invoices.length===0&&y.jsxs("div",{className:"no-results",children:[y.jsx(mg,{size:40}),y.jsxs("p",{children:['No results for "',n,'"']})]})]}),y.jsxs("div",{className:"search-footer",children:[y.jsxs("span",{children:[y.jsx("kbd",{children:""})," Navigate"]}),y.jsxs("span",{children:[y.jsx("kbd",{children:""})," Select"]}),y.jsxs("span",{children:[y.jsx("kbd",{children:"esc"})," Close"]})]})]})})}),y.jsx("style",{jsx:"true",children:`
        .search-trigger {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 10px 16px;
          background: var(--bg-secondary);
          border: 1px solid var(--border-color);
          border-radius: 10px;
          color: var(--text-muted);
          font-size: 0.9rem;
          cursor: pointer;
          transition: all 0.2s;
        }

        .search-trigger:hover {
          border-color: var(--primary);
          color: var(--primary);
        }

        .search-trigger kbd {
          background: var(--bg-card);
          padding: 3px 8px;
          border-radius: 6px;
          font-size: 0.75rem;
          font-weight: 600;
          border: 1px solid var(--border-color);
        }

        .search-overlay {
          position: fixed;
          inset: 0;
          background: rgba(15, 23, 42, 0.6);
          backdrop-filter: blur(8px);
          display: flex;
          align-items: flex-start;
          justify-content: center;
          padding-top: 100px;
          z-index: 9999;
        }

        .search-modal {
          width: 100%;
          max-width: 600px;
          background: var(--bg-card);
          border-radius: 16px;
          box-shadow: 0 25px 60px rgba(0, 0, 0, 0.3);
          overflow: hidden;
          border: 1px solid var(--border-color);
        }

        .search-header {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 16px 20px;
          border-bottom: 1px solid var(--border-color);
        }

        .search-icon { color: var(--text-muted); }

        .search-header input {
          flex: 1;
          border: none;
          background: none;
          font-size: 1.1rem;
          color: var(--text-main);
          outline: none;
        }

        .search-header input::placeholder { color: var(--text-muted); }

        .close-btn {
          width: 32px;
          height: 32px;
          border-radius: 8px;
          background: var(--bg-secondary);
          color: var(--text-muted);
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .search-results {
          max-height: 400px;
          overflow-y: auto;
          padding: 10px;
        }

        .result-section { margin-bottom: 15px; }

        .section-label {
          font-size: 0.7rem;
          font-weight: 700;
          color: var(--text-muted);
          text-transform: uppercase;
          letter-spacing: 0.05em;
          padding: 8px 12px;
        }

        .result-item {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 12px;
          border-radius: 10px;
          cursor: pointer;
          transition: all 0.15s;
        }

        .result-item:hover, .result-item.selected {
          background: var(--bg-secondary);
        }

        .result-icon {
          width: 36px;
          height: 36px;
          border-radius: 10px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 700;
          overflow: hidden;
        }

        .result-icon.action { background: rgba(37, 99, 235, 0.1); color: var(--primary); }
        .result-icon.student { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
        .result-icon.invoice { background: rgba(16, 185, 129, 0.1); color: #10b981; }

        .result-icon img { width: 100%; height: 100%; object-fit: cover; }

        .result-info { flex: 1; }
        .result-info strong { display: block; font-size: 0.95rem; }
        .result-info span { font-size: 0.8rem; color: var(--text-muted); }

        .arrow { color: var(--text-muted); margin-left: auto; }

        .status-badge {
          padding: 4px 10px;
          border-radius: 20px;
          font-size: 0.7rem;
          font-weight: 700;
          text-transform: uppercase;
        }

        .status-badge.paid { background: rgba(16, 185, 129, 0.1); color: #10b981; }
        .status-badge.unpaid { background: rgba(245, 158, 11, 0.1); color: #f59e0b; }

        .no-results {
          text-align: center;
          padding: 40px;
          color: var(--text-muted);
        }

        .no-results svg { margin-bottom: 15px; opacity: 0.3; }

        .search-footer {
          display: flex;
          gap: 20px;
          padding: 12px 20px;
          background: var(--bg-secondary);
          border-top: 1px solid var(--border-color);
          font-size: 0.8rem;
          color: var(--text-muted);
        }

        .search-footer kbd {
          background: var(--bg-card);
          padding: 2px 6px;
          border-radius: 4px;
          font-size: 0.7rem;
          margin-right: 5px;
          border: 1px solid var(--border-color);
        }
      `})]})};var Pt;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Pt||(Pt={}));var yP=new Map([[Pt.QR_CODE,"QR_CODE"],[Pt.AZTEC,"AZTEC"],[Pt.CODABAR,"CODABAR"],[Pt.CODE_39,"CODE_39"],[Pt.CODE_93,"CODE_93"],[Pt.CODE_128,"CODE_128"],[Pt.DATA_MATRIX,"DATA_MATRIX"],[Pt.MAXICODE,"MAXICODE"],[Pt.ITF,"ITF"],[Pt.EAN_13,"EAN_13"],[Pt.EAN_8,"EAN_8"],[Pt.PDF_417,"PDF_417"],[Pt.RSS_14,"RSS_14"],[Pt.RSS_EXPANDED,"RSS_EXPANDED"],[Pt.UPC_A,"UPC_A"],[Pt.UPC_E,"UPC_E"],[Pt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),vP;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(vP||(vP={}));function rme(t){return Object.values(Pt).includes(t)}var Wf;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Wf||(Wf={}));var pl=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Wf.SCAN_TYPE_CAMERA,Wf.SCAN_TYPE_FILE],t})(),YH=(function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!yP.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,yP.get(e))},t})(),bP=(function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t})(),IC;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(IC||(IC={}));var $H=(function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:IC.UNKWOWN_ERROR}},t})(),KH=(function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t})();function $l(t){return typeof t>"u"||t===null}function ime(t,e,n){return t>n?n:t<e?e:t}var k0=(function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),fr=(function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t})(),wP=(function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t})(),XH=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var r=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),s=Object.keys(e),c=0,d=s;c<d.length;c++){var u=d[c];if(a.has(u))return n.logError("".concat(u," is not supported videoConstaints."),!0),!1}return!0},t})(),rg={exports:{}},ame=rg.exports,EP;function sme(){return EP||(EP=1,(function(t,e){(function(n,r){r(e)})(ame,(function(n){function r(te){return te==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,l){te.__proto__=l}||function(te,l){for(var h in l)l.hasOwnProperty(h)&&(te[h]=l[h])};function a(te,l){i(te,l);function h(){this.constructor=te}te.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)}function s(te,l){var h=Object.setPrototypeOf;h?h(te,l):te.__proto__=l}function c(te,l){l===void 0&&(l=te.constructor);var h=Error.captureStackTrace;h&&h(te,l)}var d=(function(te){a(l,te);function l(h){var m=this.constructor,v=te.call(this,h)||this;return Object.defineProperty(v,"name",{value:m.name,enumerable:!1}),s(v,m.prototype),c(v),v}return l})(Error);class u extends d{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}u.kind="Exception";class p extends u{}p.kind="ArgumentException";class x extends u{}x.kind="IllegalArgumentException";class w{constructor(l){if(this.binarizer=l,l===null)throw new x("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(l,h){return this.binarizer.getBlackRow(l,h)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(l,h,m,v){const b=this.binarizer.getLuminanceSource().crop(l,h,m,v);return new w(this.binarizer.createBinarizer(b))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new w(this.binarizer.createBinarizer(l))}rotateCounterClockwise45(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new w(this.binarizer.createBinarizer(l))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class A extends u{static getChecksumInstance(){return new A}}A.kind="ChecksumException";class N{constructor(l){this.source=l}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class S{static arraycopy(l,h,m,v,b){for(;b--;)m[v++]=l[h++]}static currentTimeMillis(){return Date.now()}}class I extends u{}I.kind="IndexOutOfBoundsException";class j extends I{constructor(l=void 0,h=void 0){super(h),this.index=l,this.message=h}}j.kind="ArrayIndexOutOfBoundsException";class D{static fill(l,h){for(let m=0,v=l.length;m<v;m++)l[m]=h}static fillWithin(l,h,m,v){D.rangeCheck(l.length,h,m);for(let b=h;b<m;b++)l[b]=v}static rangeCheck(l,h,m){if(h>m)throw new x("fromIndex("+h+") > toIndex("+m+")");if(h<0)throw new j(h);if(m>l)throw new j(m)}static asList(...l){return l}static create(l,h,m){return Array.from({length:l}).map(b=>Array.from({length:h}).fill(m))}static createInt32Array(l,h,m){return Array.from({length:l}).map(b=>Int32Array.from({length:h}).fill(m))}static equals(l,h){if(!l||!h||!l.length||!h.length||l.length!==h.length)return!1;for(let m=0,v=l.length;m<v;m++)if(l[m]!==h[m])return!1;return!0}static hashCode(l){if(l===null)return 0;let h=1;for(const m of l)h=31*h+m;return h}static fillUint8Array(l,h){for(let m=0;m!==l.length;m++)l[m]=h}static copyOf(l,h){return l.slice(0,h)}static copyOfUint8Array(l,h){if(l.length<=h){const m=new Uint8Array(h);return m.set(l),m}return l.slice(0,h)}static copyOfRange(l,h,m){const v=m-h,b=new Int32Array(v);return S.arraycopy(l,h,b,0,v),b}static binarySearch(l,h,m){m===void 0&&(m=D.numberComparator);let v=0,b=l.length-1;for(;v<=b;){const _=b+v>>1,C=m(h,l[_]);if(C>0)v=_+1;else if(C<0)b=_-1;else return _}return-v-1}static numberComparator(l,h){return l-h}}class P{static numberOfTrailingZeros(l){let h;if(l===0)return 32;let m=31;return h=l<<16,h!==0&&(m-=16,l=h),h=l<<8,h!==0&&(m-=8,l=h),h=l<<4,h!==0&&(m-=4,l=h),h=l<<2,h!==0&&(m-=2,l=h),m-(l<<1>>>31)}static numberOfLeadingZeros(l){if(l===0)return 32;let h=1;return l>>>16||(h+=16,l<<=16),l>>>24||(h+=8,l<<=8),l>>>28||(h+=4,l<<=4),l>>>30||(h+=2,l<<=2),h-=l>>>31,h}static toHexString(l){return l.toString(16)}static toBinaryString(l){return String(parseInt(String(l),2))}static bitCount(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),l=l+(l>>>4)&252645135,l=l+(l>>>8),l=l+(l>>>16),l&63}static truncDivision(l,h){return Math.trunc(l/h)}static parseInt(l,h=void 0){return parseInt(l,h)}}P.MIN_VALUE_32_BITS=-2147483648,P.MAX_VALUE=Number.MAX_SAFE_INTEGER;class V{constructor(l,h){l===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=l,h==null?this.bits=V.makeArray(l):this.bits=h)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(l){if(l>this.bits.length*32){const h=V.makeArray(l);S.arraycopy(this.bits,0,h,0,this.bits.length),this.bits=h}}get(l){return(this.bits[Math.floor(l/32)]&1<<(l&31))!==0}set(l){this.bits[Math.floor(l/32)]|=1<<(l&31)}flip(l){this.bits[Math.floor(l/32)]^=1<<(l&31)}getNextSet(l){const h=this.size;if(l>=h)return h;const m=this.bits;let v=Math.floor(l/32),b=m[v];b&=~((1<<(l&31))-1);const _=m.length;for(;b===0;){if(++v===_)return h;b=m[v]}const C=v*32+P.numberOfTrailingZeros(b);return C>h?h:C}getNextUnset(l){const h=this.size;if(l>=h)return h;const m=this.bits;let v=Math.floor(l/32),b=~m[v];b&=~((1<<(l&31))-1);const _=m.length;for(;b===0;){if(++v===_)return h;b=~m[v]}const C=v*32+P.numberOfTrailingZeros(b);return C>h?h:C}setBulk(l,h){this.bits[Math.floor(l/32)]=h}setRange(l,h){if(h<l||l<0||h>this.size)throw new x;if(h===l)return;h--;const m=Math.floor(l/32),v=Math.floor(h/32),b=this.bits;for(let _=m;_<=v;_++){const C=_>m?0:l&31,L=(2<<(_<v?31:h&31))-(1<<C);b[_]|=L}}clear(){const l=this.bits.length,h=this.bits;for(let m=0;m<l;m++)h[m]=0}isRange(l,h,m){if(h<l||l<0||h>this.size)throw new x;if(h===l)return!0;h--;const v=Math.floor(l/32),b=Math.floor(h/32),_=this.bits;for(let C=v;C<=b;C++){const M=C>v?0:l&31,W=(2<<(C<b?31:h&31))-(1<<M)&4294967295;if((_[C]&W)!==(m?W:0))return!1}return!0}appendBit(l){this.ensureCapacity(this.size+1),l&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(l,h){if(h<0||h>32)throw new x("Num bits must be between 0 and 32");this.ensureCapacity(this.size+h);for(let m=h;m>0;m--)this.appendBit((l>>m-1&1)===1)}appendBitArray(l){const h=l.size;this.ensureCapacity(this.size+h);for(let m=0;m<h;m++)this.appendBit(l.get(m))}xor(l){if(this.size!==l.size)throw new x("Sizes don't match");const h=this.bits;for(let m=0,v=h.length;m<v;m++)h[m]^=l.bits[m]}toBytes(l,h,m,v){for(let b=0;b<v;b++){let _=0;for(let C=0;C<8;C++)this.get(l)&&(_|=1<<7-C),l++;h[m+b]=_}}getBitArray(){return this.bits}reverse(){const l=new Int32Array(this.bits.length),h=Math.floor((this.size-1)/32),m=h+1,v=this.bits;for(let b=0;b<m;b++){let _=v[b];_=_>>1&1431655765|(_&1431655765)<<1,_=_>>2&858993459|(_&858993459)<<2,_=_>>4&252645135|(_&252645135)<<4,_=_>>8&16711935|(_&16711935)<<8,_=_>>16&65535|(_&65535)<<16,l[h-b]=_}if(this.size!==m*32){const b=m*32-this.size;let _=l[0]>>>b;for(let C=1;C<m;C++){const M=l[C];_|=M<<32-b,l[C-1]=_,_=M>>>b}l[m-1]=_}this.bits=l}static makeArray(l){return new Int32Array(Math.floor((l+31)/32))}equals(l){if(!(l instanceof V))return!1;const h=l;return this.size===h.size&&D.equals(this.bits,h.bits)}hashCode(){return 31*this.size+D.hashCode(this.bits)}toString(){let l="";for(let h=0,m=this.size;h<m;h++)(h&7)===0&&(l+=" "),l+=this.get(h)?"X":".";return l}clone(){return new V(this.size,this.bits.slice())}}var K;(function(te){te[te.OTHER=0]="OTHER",te[te.PURE_BARCODE=1]="PURE_BARCODE",te[te.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",te[te.TRY_HARDER=3]="TRY_HARDER",te[te.CHARACTER_SET=4]="CHARACTER_SET",te[te.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",te[te.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",te[te.ASSUME_GS1=7]="ASSUME_GS1",te[te.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",te[te.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",te[te.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(K||(K={}));var Z=K;class F extends u{static getFormatInstance(){return new F}}F.kind="FormatException";var U;(function(te){te[te.Cp437=0]="Cp437",te[te.ISO8859_1=1]="ISO8859_1",te[te.ISO8859_2=2]="ISO8859_2",te[te.ISO8859_3=3]="ISO8859_3",te[te.ISO8859_4=4]="ISO8859_4",te[te.ISO8859_5=5]="ISO8859_5",te[te.ISO8859_6=6]="ISO8859_6",te[te.ISO8859_7=7]="ISO8859_7",te[te.ISO8859_8=8]="ISO8859_8",te[te.ISO8859_9=9]="ISO8859_9",te[te.ISO8859_10=10]="ISO8859_10",te[te.ISO8859_11=11]="ISO8859_11",te[te.ISO8859_13=12]="ISO8859_13",te[te.ISO8859_14=13]="ISO8859_14",te[te.ISO8859_15=14]="ISO8859_15",te[te.ISO8859_16=15]="ISO8859_16",te[te.SJIS=16]="SJIS",te[te.Cp1250=17]="Cp1250",te[te.Cp1251=18]="Cp1251",te[te.Cp1252=19]="Cp1252",te[te.Cp1256=20]="Cp1256",te[te.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",te[te.UTF8=22]="UTF8",te[te.ASCII=23]="ASCII",te[te.Big5=24]="Big5",te[te.GB18030=25]="GB18030",te[te.EUC_KR=26]="EUC_KR"})(U||(U={}));class B{constructor(l,h,m,...v){this.valueIdentifier=l,this.name=m,typeof h=="number"?this.values=Int32Array.from([h]):this.values=h,this.otherEncodingNames=v,B.VALUE_IDENTIFIER_TO_ECI.set(l,this),B.NAME_TO_ECI.set(m,this);const b=this.values;for(let _=0,C=b.length;_!==C;_++){const M=b[_];B.VALUES_TO_ECI.set(M,this)}for(const _ of v)B.NAME_TO_ECI.set(_,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(l){if(l<0||l>=900)throw new F("incorect value");const h=B.VALUES_TO_ECI.get(l);if(h===void 0)throw new F("incorect value");return h}static getCharacterSetECIByName(l){const h=B.NAME_TO_ECI.get(l);if(h===void 0)throw new F("incorect value");return h}equals(l){if(!(l instanceof B))return!1;const h=l;return this.getName()===h.getName()}}B.VALUE_IDENTIFIER_TO_ECI=new Map,B.VALUES_TO_ECI=new Map,B.NAME_TO_ECI=new Map,B.Cp437=new B(U.Cp437,Int32Array.from([0,2]),"Cp437"),B.ISO8859_1=new B(U.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),B.ISO8859_2=new B(U.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),B.ISO8859_3=new B(U.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),B.ISO8859_4=new B(U.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),B.ISO8859_5=new B(U.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),B.ISO8859_6=new B(U.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),B.ISO8859_7=new B(U.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),B.ISO8859_8=new B(U.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),B.ISO8859_9=new B(U.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),B.ISO8859_10=new B(U.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),B.ISO8859_11=new B(U.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),B.ISO8859_13=new B(U.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),B.ISO8859_14=new B(U.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),B.ISO8859_15=new B(U.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),B.ISO8859_16=new B(U.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),B.SJIS=new B(U.SJIS,20,"SJIS","Shift_JIS"),B.Cp1250=new B(U.Cp1250,21,"Cp1250","windows-1250"),B.Cp1251=new B(U.Cp1251,22,"Cp1251","windows-1251"),B.Cp1252=new B(U.Cp1252,23,"Cp1252","windows-1252"),B.Cp1256=new B(U.Cp1256,24,"Cp1256","windows-1256"),B.UnicodeBigUnmarked=new B(U.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),B.UTF8=new B(U.UTF8,26,"UTF8","UTF-8"),B.ASCII=new B(U.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),B.Big5=new B(U.Big5,28,"Big5"),B.GB18030=new B(U.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),B.EUC_KR=new B(U.EUC_KR,30,"EUC_KR","EUC-KR");class J extends u{}J.kind="UnsupportedOperationException";class H{static decode(l,h){const m=this.encodingName(h);return this.customDecoder?this.customDecoder(l,m):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(m)?this.decodeFallback(l,m):new TextDecoder(m).decode(l)}static shouldDecodeOnFallback(l){return!H.isBrowser()&&l==="ISO-8859-1"}static encode(l,h){const m=this.encodingName(h);return this.customEncoder?this.customEncoder(l,m):typeof TextEncoder>"u"?this.encodeFallback(l):new TextEncoder().encode(l)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(l){return typeof l=="string"?l:l.getName()}static encodingCharacterSet(l){return l instanceof B?l:B.getCharacterSetECIByName(l)}static decodeFallback(l,h){const m=this.encodingCharacterSet(h);if(H.isDecodeFallbackSupported(m)){let v="";for(let b=0,_=l.length;b<_;b++){let C=l[b].toString(16);C.length<2&&(C="0"+C),v+="%"+C}return decodeURIComponent(v)}if(m.equals(B.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(l.buffer));throw new J(`Encoding ${this.encodingName(h)} not supported by fallback.`)}static isDecodeFallbackSupported(l){return l.equals(B.UTF8)||l.equals(B.ISO8859_1)||l.equals(B.ASCII)}static encodeFallback(l){const m=btoa(unescape(encodeURIComponent(l))).split(""),v=[];for(let b=0;b<m.length;b++)v.push(m[b].charCodeAt(0));return new Uint8Array(v)}}class G{static castAsNonUtf8Char(l,h=null){const m=h?h.getName():this.ISO88591;return H.decode(new Uint8Array([l]),m)}static guessEncoding(l,h){if(h!=null&&h.get(Z.CHARACTER_SET)!==void 0)return h.get(Z.CHARACTER_SET).toString();const m=l.length;let v=!0,b=!0,_=!0,C=0,M=0,L=0,W=0,ne=0,ae=0,ve=0,Se=0,Te=0,De=0,$e=0;const vt=l.length>3&&l[0]===239&&l[1]===187&&l[2]===191;for(let xt=0;xt<m&&(v||b||_);xt++){const ft=l[xt]&255;_&&(C>0?(ft&128)===0?_=!1:C--:(ft&128)!==0&&((ft&64)===0?_=!1:(C++,(ft&32)===0?M++:(C++,(ft&16)===0?L++:(C++,(ft&8)===0?W++:_=!1))))),v&&(ft>127&&ft<160?v=!1:ft>159&&(ft<192||ft===215||ft===247)&&$e++),b&&(ne>0?ft<64||ft===127||ft>252?b=!1:ne--:ft===128||ft===160||ft>239?b=!1:ft>160&&ft<224?(ae++,Se=0,ve++,ve>Te&&(Te=ve)):ft>127?(ne++,ve=0,Se++,Se>De&&(De=Se)):(ve=0,Se=0))}return _&&C>0&&(_=!1),b&&ne>0&&(b=!1),_&&(vt||M+L+W>0)?G.UTF8:b&&(G.ASSUME_SHIFT_JIS||Te>=3||De>=3)?G.SHIFT_JIS:v&&b?Te===2&&ae===2||$e*10>=m?G.SHIFT_JIS:G.ISO88591:v?G.ISO88591:b?G.SHIFT_JIS:_?G.UTF8:G.PLATFORM_DEFAULT_ENCODING}static format(l,...h){let m=-1;function v(_,C,M,L,W,ne){if(_==="%%")return"%";if(h[++m]===void 0)return;_=L?parseInt(L.substr(1)):void 0;let ae=W?parseInt(W.substr(1)):void 0,ve;switch(ne){case"s":ve=h[m];break;case"c":ve=h[m][0];break;case"f":ve=parseFloat(h[m]).toFixed(_);break;case"p":ve=parseFloat(h[m]).toPrecision(_);break;case"e":ve=parseFloat(h[m]).toExponential(_);break;case"x":ve=parseInt(h[m]).toString(ae||16);break;case"d":ve=parseFloat(parseInt(h[m],ae||10).toPrecision(_)).toFixed(0);break}ve=typeof ve=="object"?JSON.stringify(ve):(+ve).toString(ae);let Se=parseInt(M),Te=M&&M[0]+""=="0"?"0":" ";for(;ve.length<Se;)ve=C!==void 0?ve+Te:Te+ve;return ve}let b=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(b,v)}static getBytes(l,h){return H.encode(l,h)}static getCharCode(l,h=0){return l.charCodeAt(h)}static getCharAt(l){return String.fromCharCode(l)}}G.SHIFT_JIS=B.SJIS.getName(),G.GB2312="GB2312",G.ISO88591=B.ISO8859_1.getName(),G.EUC_JP="EUC_JP",G.UTF8=B.UTF8.getName(),G.PLATFORM_DEFAULT_ENCODING=G.UTF8,G.ASSUME_SHIFT_JIS=!1;class q{constructor(l=""){this.value=l}enableDecoding(l){return this.encoding=l,this}append(l){return typeof l=="string"?this.value+=l.toString():this.encoding?this.value+=G.castAsNonUtf8Char(l,this.encoding):this.value+=String.fromCharCode(l),this}appendChars(l,h,m){for(let v=h;h<h+m;v++)this.append(l[v]);return this}length(){return this.value.length}charAt(l){return this.value.charAt(l)}deleteCharAt(l){this.value=this.value.substr(0,l)+this.value.substring(l+1)}setCharAt(l,h){this.value=this.value.substr(0,l)+h+this.value.substr(l+1)}substring(l,h){return this.value.substring(l,h)}setLengthToZero(){this.value=""}toString(){return this.value}insert(l,h){this.value=this.value.substr(0,l)+h+this.value.substr(l+h.length)}}class Ce{constructor(l,h,m,v){if(this.width=l,this.height=h,this.rowSize=m,this.bits=v,h==null&&(h=l),this.height=h,l<1||h<1)throw new x("Both dimensions must be greater than 0");m==null&&(m=Math.floor((l+31)/32)),this.rowSize=m,v==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(l){const h=l.length,m=l[0].length,v=new Ce(m,h);for(let b=0;b<h;b++){const _=l[b];for(let C=0;C<m;C++)_[C]&&v.set(C,b)}return v}static parseFromString(l,h,m){if(l===null)throw new x("stringRepresentation cannot be null");const v=new Array(l.length);let b=0,_=0,C=-1,M=0,L=0;for(;L<l.length;)if(l.charAt(L)===`
`||l.charAt(L)==="\r"){if(b>_){if(C===-1)C=b-_;else if(b-_!==C)throw new x("row lengths do not match");_=b,M++}L++}else if(l.substring(L,L+h.length)===h)L+=h.length,v[b]=!0,b++;else if(l.substring(L,L+m.length)===m)L+=m.length,v[b]=!1,b++;else throw new x("illegal character encountered: "+l.substring(L));if(b>_){if(C===-1)C=b-_;else if(b-_!==C)throw new x("row lengths do not match");M++}const W=new Ce(C,M);for(let ne=0;ne<b;ne++)v[ne]&&W.set(Math.floor(ne%C),Math.floor(ne/C));return W}get(l,h){const m=h*this.rowSize+Math.floor(l/32);return(this.bits[m]>>>(l&31)&1)!==0}set(l,h){const m=h*this.rowSize+Math.floor(l/32);this.bits[m]|=1<<(l&31)&4294967295}unset(l,h){const m=h*this.rowSize+Math.floor(l/32);this.bits[m]&=~(1<<(l&31)&4294967295)}flip(l,h){const m=h*this.rowSize+Math.floor(l/32);this.bits[m]^=1<<(l&31)&4294967295}xor(l){if(this.width!==l.getWidth()||this.height!==l.getHeight()||this.rowSize!==l.getRowSize())throw new x("input matrix dimensions do not match");const h=new V(Math.floor(this.width/32)+1),m=this.rowSize,v=this.bits;for(let b=0,_=this.height;b<_;b++){const C=b*m,M=l.getRow(b,h).getBitArray();for(let L=0;L<m;L++)v[C+L]^=M[L]}}clear(){const l=this.bits,h=l.length;for(let m=0;m<h;m++)l[m]=0}setRegion(l,h,m,v){if(h<0||l<0)throw new x("Left and top must be nonnegative");if(v<1||m<1)throw new x("Height and width must be at least 1");const b=l+m,_=h+v;if(_>this.height||b>this.width)throw new x("The region must fit inside the matrix");const C=this.rowSize,M=this.bits;for(let L=h;L<_;L++){const W=L*C;for(let ne=l;ne<b;ne++)M[W+Math.floor(ne/32)]|=1<<(ne&31)&4294967295}}getRow(l,h){h==null||h.getSize()<this.width?h=new V(this.width):h.clear();const m=this.rowSize,v=this.bits,b=l*m;for(let _=0;_<m;_++)h.setBulk(_*32,v[b+_]);return h}setRow(l,h){S.arraycopy(h.getBitArray(),0,this.bits,l*this.rowSize,this.rowSize)}rotate180(){const l=this.getWidth(),h=this.getHeight();let m=new V(l),v=new V(l);for(let b=0,_=Math.floor((h+1)/2);b<_;b++)m=this.getRow(b,m),v=this.getRow(h-1-b,v),m.reverse(),v.reverse(),this.setRow(b,v),this.setRow(h-1-b,m)}getEnclosingRectangle(){const l=this.width,h=this.height,m=this.rowSize,v=this.bits;let b=l,_=h,C=-1,M=-1;for(let L=0;L<h;L++)for(let W=0;W<m;W++){const ne=v[L*m+W];if(ne!==0){if(L<_&&(_=L),L>M&&(M=L),W*32<b){let ae=0;for(;(ne<<31-ae&4294967295)===0;)ae++;W*32+ae<b&&(b=W*32+ae)}if(W*32+31>C){let ae=31;for(;!(ne>>>ae);)ae--;W*32+ae>C&&(C=W*32+ae)}}}return C<b||M<_?null:Int32Array.from([b,_,C-b+1,M-_+1])}getTopLeftOnBit(){const l=this.rowSize,h=this.bits;let m=0;for(;m<h.length&&h[m]===0;)m++;if(m===h.length)return null;const v=m/l;let b=m%l*32;const _=h[m];let C=0;for(;(_<<31-C&4294967295)===0;)C++;return b+=C,Int32Array.from([b,v])}getBottomRightOnBit(){const l=this.rowSize,h=this.bits;let m=h.length-1;for(;m>=0&&h[m]===0;)m--;if(m<0)return null;const v=Math.floor(m/l);let b=Math.floor(m%l)*32;const _=h[m];let C=31;for(;!(_>>>C);)C--;return b+=C,Int32Array.from([b,v])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(l){if(!(l instanceof Ce))return!1;const h=l;return this.width===h.width&&this.height===h.height&&this.rowSize===h.rowSize&&D.equals(this.bits,h.bits)}hashCode(){let l=this.width;return l=31*l+this.width,l=31*l+this.height,l=31*l+this.rowSize,l=31*l+D.hashCode(this.bits),l}toString(l="X ",h="  ",m=`
`){return this.buildToString(l,h,m)}buildToString(l,h,m){let v=new q;for(let b=0,_=this.height;b<_;b++){for(let C=0,M=this.width;C<M;C++)v.append(this.get(C,b)?l:h);v.append(m)}return v.toString()}clone(){return new Ce(this.width,this.height,this.rowSize,this.bits.slice())}}class re extends u{static getNotFoundInstance(){return new re}}re.kind="NotFoundException";class ue extends N{constructor(l){super(l),this.luminances=ue.EMPTY,this.buckets=new Int32Array(ue.LUMINANCE_BUCKETS)}getBlackRow(l,h){const m=this.getLuminanceSource(),v=m.getWidth();h==null||h.getSize()<v?h=new V(v):h.clear(),this.initArrays(v);const b=m.getRow(l,this.luminances),_=this.buckets;for(let M=0;M<v;M++)_[(b[M]&255)>>ue.LUMINANCE_SHIFT]++;const C=ue.estimateBlackPoint(_);if(v<3)for(let M=0;M<v;M++)(b[M]&255)<C&&h.set(M);else{let M=b[0]&255,L=b[1]&255;for(let W=1;W<v-1;W++){const ne=b[W+1]&255;(L*4-M-ne)/2<C&&h.set(W),M=L,L=ne}}return h}getBlackMatrix(){const l=this.getLuminanceSource(),h=l.getWidth(),m=l.getHeight(),v=new Ce(h,m);this.initArrays(h);const b=this.buckets;for(let M=1;M<5;M++){const L=Math.floor(m*M/5),W=l.getRow(L,this.luminances),ne=Math.floor(h*4/5);for(let ae=Math.floor(h/5);ae<ne;ae++){const ve=W[ae]&255;b[ve>>ue.LUMINANCE_SHIFT]++}}const _=ue.estimateBlackPoint(b),C=l.getMatrix();for(let M=0;M<m;M++){const L=M*h;for(let W=0;W<h;W++)(C[L+W]&255)<_&&v.set(W,M)}return v}createBinarizer(l){return new ue(l)}initArrays(l){this.luminances.length<l&&(this.luminances=new Uint8ClampedArray(l));const h=this.buckets;for(let m=0;m<ue.LUMINANCE_BUCKETS;m++)h[m]=0}static estimateBlackPoint(l){const h=l.length;let m=0,v=0,b=0;for(let W=0;W<h;W++)l[W]>b&&(v=W,b=l[W]),l[W]>m&&(m=l[W]);let _=0,C=0;for(let W=0;W<h;W++){const ne=W-v,ae=l[W]*ne*ne;ae>C&&(_=W,C=ae)}if(v>_){const W=v;v=_,_=W}if(_-v<=h/16)throw new re;let M=_-1,L=-1;for(let W=_-1;W>v;W--){const ne=W-v,ae=ne*ne*(_-W)*(m-l[W]);ae>L&&(M=W,L=ae)}return M<<ue.LUMINANCE_SHIFT}}ue.LUMINANCE_BITS=5,ue.LUMINANCE_SHIFT=8-ue.LUMINANCE_BITS,ue.LUMINANCE_BUCKETS=1<<ue.LUMINANCE_BITS,ue.EMPTY=Uint8ClampedArray.from([0]);class me extends ue{constructor(l){super(l),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const l=this.getLuminanceSource(),h=l.getWidth(),m=l.getHeight();if(h>=me.MINIMUM_DIMENSION&&m>=me.MINIMUM_DIMENSION){const v=l.getMatrix();let b=h>>me.BLOCK_SIZE_POWER;(h&me.BLOCK_SIZE_MASK)!==0&&b++;let _=m>>me.BLOCK_SIZE_POWER;(m&me.BLOCK_SIZE_MASK)!==0&&_++;const C=me.calculateBlackPoints(v,b,_,h,m),M=new Ce(h,m);me.calculateThresholdForBlock(v,b,_,h,m,C,M),this.matrix=M}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(l){return new me(l)}static calculateThresholdForBlock(l,h,m,v,b,_,C){const M=b-me.BLOCK_SIZE,L=v-me.BLOCK_SIZE;for(let W=0;W<m;W++){let ne=W<<me.BLOCK_SIZE_POWER;ne>M&&(ne=M);const ae=me.cap(W,2,m-3);for(let ve=0;ve<h;ve++){let Se=ve<<me.BLOCK_SIZE_POWER;Se>L&&(Se=L);const Te=me.cap(ve,2,h-3);let De=0;for(let vt=-2;vt<=2;vt++){const xt=_[ae+vt];De+=xt[Te-2]+xt[Te-1]+xt[Te]+xt[Te+1]+xt[Te+2]}const $e=De/25;me.thresholdBlock(l,Se,ne,$e,v,C)}}}static cap(l,h,m){return l<h?h:l>m?m:l}static thresholdBlock(l,h,m,v,b,_){for(let C=0,M=m*b+h;C<me.BLOCK_SIZE;C++,M+=b)for(let L=0;L<me.BLOCK_SIZE;L++)(l[M+L]&255)<=v&&_.set(h+L,m+C)}static calculateBlackPoints(l,h,m,v,b){const _=b-me.BLOCK_SIZE,C=v-me.BLOCK_SIZE,M=new Array(m);for(let L=0;L<m;L++){M[L]=new Int32Array(h);let W=L<<me.BLOCK_SIZE_POWER;W>_&&(W=_);for(let ne=0;ne<h;ne++){let ae=ne<<me.BLOCK_SIZE_POWER;ae>C&&(ae=C);let ve=0,Se=255,Te=0;for(let $e=0,vt=W*v+ae;$e<me.BLOCK_SIZE;$e++,vt+=v){for(let xt=0;xt<me.BLOCK_SIZE;xt++){const ft=l[vt+xt]&255;ve+=ft,ft<Se&&(Se=ft),ft>Te&&(Te=ft)}if(Te-Se>me.MIN_DYNAMIC_RANGE)for($e++,vt+=v;$e<me.BLOCK_SIZE;$e++,vt+=v)for(let xt=0;xt<me.BLOCK_SIZE;xt++)ve+=l[vt+xt]&255}let De=ve>>me.BLOCK_SIZE_POWER*2;if(Te-Se<=me.MIN_DYNAMIC_RANGE&&(De=Se/2,L>0&&ne>0)){const $e=(M[L-1][ne]+2*M[L][ne-1]+M[L-1][ne-1])/4;Se<$e&&(De=$e)}M[L][ne]=De}}return M}}me.BLOCK_SIZE_POWER=3,me.BLOCK_SIZE=1<<me.BLOCK_SIZE_POWER,me.BLOCK_SIZE_MASK=me.BLOCK_SIZE-1,me.MINIMUM_DIMENSION=me.BLOCK_SIZE*5,me.MIN_DYNAMIC_RANGE=24;class Re{constructor(l,h){this.width=l,this.height=h}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(l,h,m,v){throw new J("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new J("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new J("This luminance source does not support rotation by 45 degrees.")}toString(){const l=new Uint8ClampedArray(this.width);let h=new q;for(let m=0;m<this.height;m++){const v=this.getRow(m,l);for(let b=0;b<this.width;b++){const _=v[b]&255;let C;_<64?C="#":_<128?C="+":_<192?C=".":C=" ",h.append(C)}h.append(`
`)}return h.toString()}}class Be extends Re{constructor(l){super(l.getWidth(),l.getHeight()),this.delegate=l}getRow(l,h){const m=this.delegate.getRow(l,h),v=this.getWidth();for(let b=0;b<v;b++)m[b]=255-(m[b]&255);return m}getMatrix(){const l=this.delegate.getMatrix(),h=this.getWidth()*this.getHeight(),m=new Uint8ClampedArray(h);for(let v=0;v<h;v++)m[v]=255-(l[v]&255);return m}isCropSupported(){return this.delegate.isCropSupported()}crop(l,h,m,v){return new Be(this.delegate.crop(l,h,m,v))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Be(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Be(this.delegate.rotateCounterClockwise45())}}class be extends Re{constructor(l){super(l.width,l.height),this.canvas=l,this.tempCanvasElement=null,this.buffer=be.makeBufferFromCanvasImageData(l)}static makeBufferFromCanvasImageData(l){const h=l.getContext("2d").getImageData(0,0,l.width,l.height);return be.toGrayscaleBuffer(h.data,l.width,l.height)}static toGrayscaleBuffer(l,h,m){const v=new Uint8ClampedArray(h*m);for(let b=0,_=0,C=l.length;b<C;b+=4,_++){let M;if(l[b+3]===0)M=255;else{const W=l[b],ne=l[b+1],ae=l[b+2];M=306*W+601*ne+117*ae+512>>10}v[_]=M}return v}getRow(l,h){if(l<0||l>=this.getHeight())throw new x("Requested row is outside the image: "+l);const m=this.getWidth(),v=l*m;return h===null?h=this.buffer.slice(v,v+m):(h.length<m&&(h=new Uint8ClampedArray(m)),h.set(this.buffer.slice(v,v+m))),h}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(l,h,m,v){return super.crop(l,h,m,v),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const l=this.canvas.ownerDocument.createElement("canvas");l.width=this.canvas.width,l.height=this.canvas.height,this.tempCanvasElement=l}return this.tempCanvasElement}rotate(l){const h=this.getTempCanvasElement(),m=h.getContext("2d"),v=l*be.DEGREE_TO_RADIANS,b=this.canvas.width,_=this.canvas.height,C=Math.ceil(Math.abs(Math.cos(v))*b+Math.abs(Math.sin(v))*_),M=Math.ceil(Math.abs(Math.sin(v))*b+Math.abs(Math.cos(v))*_);return h.width=C,h.height=M,m.translate(C/2,M/2),m.rotate(v),m.drawImage(this.canvas,b/-2,_/-2),this.buffer=be.makeBufferFromCanvasImageData(h),this}invert(){return new Be(this)}}be.DEGREE_TO_RADIANS=Math.PI/180;class Q{constructor(l,h,m){this.deviceId=l,this.label=h,this.kind="videoinput",this.groupId=m||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ee=(globalThis||wf||self||window||void 0)&&(globalThis||wf||self||window||void 0).__awaiter||function(te,l,h,m){function v(b){return b instanceof h?b:new h(function(_){_(b)})}return new(h||(h=Promise))(function(b,_){function C(W){try{L(m.next(W))}catch(ne){_(ne)}}function M(W){try{L(m.throw(W))}catch(ne){_(ne)}}function L(W){W.done?b(W.value):v(W.value).then(C,M)}L((m=m.apply(te,l||[])).next())})};class oe{constructor(l,h=500,m){this.reader=l,this.timeBetweenScansMillis=h,this._hints=m,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(l){this._timeBetweenDecodingAttempts=l<0?0:l}set hints(l){this._hints=l||null}get hints(){return this._hints}listVideoInputDevices(){return ee(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const l=yield navigator.mediaDevices.enumerateDevices(),h=[];for(const m of l){const v=m.kind==="video"?"videoinput":m.kind;if(v!=="videoinput")continue;const b=m.deviceId||m.id,_=m.label||`Video device ${h.length+1}`,C=m.groupId,M={deviceId:b,label:_,kind:v,groupId:C};h.push(M)}return h})}getVideoInputDevices(){return ee(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(h=>new Q(h.deviceId,h.label))})}findDeviceById(l){return ee(this,void 0,void 0,function*(){const h=yield this.listVideoInputDevices();return h?h.find(m=>m.deviceId===l):null})}decodeFromInputVideoDevice(l,h){return ee(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(l,h)})}decodeOnceFromVideoDevice(l,h){return ee(this,void 0,void 0,function*(){this.reset();let m;l?m={deviceId:{exact:l}}:m={facingMode:"environment"};const v={video:m};return yield this.decodeOnceFromConstraints(v,h)})}decodeOnceFromConstraints(l,h){return ee(this,void 0,void 0,function*(){const m=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeOnceFromStream(m,h)})}decodeOnceFromStream(l,h){return ee(this,void 0,void 0,function*(){this.reset();const m=yield this.attachStreamToVideo(l,h);return yield this.decodeOnce(m)})}decodeFromInputVideoDeviceContinuously(l,h,m){return ee(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(l,h,m)})}decodeFromVideoDevice(l,h,m){return ee(this,void 0,void 0,function*(){let v;l?v={deviceId:{exact:l}}:v={facingMode:"environment"};const b={video:v};return yield this.decodeFromConstraints(b,h,m)})}decodeFromConstraints(l,h,m){return ee(this,void 0,void 0,function*(){const v=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeFromStream(v,h,m)})}decodeFromStream(l,h,m){return ee(this,void 0,void 0,function*(){this.reset();const v=yield this.attachStreamToVideo(l,h);return yield this.decodeContinuously(v,m)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(l,h){return ee(this,void 0,void 0,function*(){const m=this.prepareVideoElement(h);return this.addVideoSource(m,l),this.videoElement=m,this.stream=l,yield this.playVideoOnLoadAsync(m),m})}playVideoOnLoadAsync(l){return new Promise((h,m)=>this.playVideoOnLoad(l,()=>h()))}playVideoOnLoad(l,h){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(l),l.addEventListener("ended",this.videoEndedListener),l.addEventListener("canplay",this.videoCanPlayListener),l.addEventListener("playing",h),this.tryPlayVideo(l)}isVideoPlaying(l){return l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2}tryPlayVideo(l){return ee(this,void 0,void 0,function*(){if(this.isVideoPlaying(l)){console.warn("Trying to play video that is already playing.");return}try{yield l.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(l,h){const m=document.getElementById(l);if(!m)throw new p(`element with id '${l}' not found`);if(m.nodeName.toLowerCase()!==h.toLowerCase())throw new p(`element with id '${l}' must be an ${h} element`);return m}decodeFromImage(l,h){if(!l&&!h)throw new p("either imageElement with a src set or an url must be provided");return h&&!l?this.decodeFromImageUrl(h):this.decodeFromImageElement(l)}decodeFromVideo(l,h){if(!l&&!h)throw new p("Either an element with a src set or an URL must be provided");return h&&!l?this.decodeFromVideoUrl(h):this.decodeFromVideoElement(l)}decodeFromVideoContinuously(l,h,m){if(l===void 0&&h===void 0)throw new p("Either an element with a src set or an URL must be provided");return h&&!l?this.decodeFromVideoUrlContinuously(h,m):this.decodeFromVideoElementContinuously(l,m)}decodeFromImageElement(l){if(!l)throw new p("An image element must be provided.");this.reset();const h=this.prepareImageElement(l);this.imageElement=h;let m;return this.isImageLoaded(h)?m=this.decodeOnce(h,!1,!0):m=this._decodeOnLoadImage(h),m}decodeFromVideoElement(l){const h=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideo(h)}decodeFromVideoElementContinuously(l,h){const m=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideoContinuously(m,h)}_decodeFromVideoElementSetup(l){if(!l)throw new p("A video element must be provided.");this.reset();const h=this.prepareVideoElement(l);return this.videoElement=h,h}decodeFromImageUrl(l){if(!l)throw new p("An URL must be provided.");this.reset();const h=this.prepareImageElement();this.imageElement=h;const m=this._decodeOnLoadImage(h);return h.src=l,m}decodeFromVideoUrl(l){if(!l)throw new p("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),m=this.decodeFromVideoElement(h);return h.src=l,m}decodeFromVideoUrlContinuously(l,h){if(!l)throw new p("An URL must be provided.");this.reset();const m=this.prepareVideoElement(),v=this.decodeFromVideoElementContinuously(m,h);return m.src=l,v}_decodeOnLoadImage(l){return new Promise((h,m)=>{this.imageLoadedListener=()=>this.decodeOnce(l,!1,!0).then(h,m),l.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(l){return ee(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(l),yield this.decodeOnce(l)})}_decodeOnLoadVideoContinuously(l,h){return ee(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(l),this.decodeContinuously(l,h)})}isImageLoaded(l){return!(!l.complete||l.naturalWidth===0)}prepareImageElement(l){let h;return typeof l>"u"&&(h=document.createElement("img"),h.width=200,h.height=200),typeof l=="string"&&(h=this.getMediaElement(l,"img")),l instanceof HTMLImageElement&&(h=l),h}prepareVideoElement(l){let h;return!l&&typeof document<"u"&&(h=document.createElement("video"),h.width=200,h.height=200),typeof l=="string"&&(h=this.getMediaElement(l,"video")),l instanceof HTMLVideoElement&&(h=l),h.setAttribute("autoplay","true"),h.setAttribute("muted","true"),h.setAttribute("playsinline","true"),h}decodeOnce(l,h=!0,m=!0){this._stopAsyncDecode=!1;const v=(b,_)=>{if(this._stopAsyncDecode){_(new re("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const C=this.decode(l);b(C)}catch(C){const M=h&&C instanceof re,W=(C instanceof A||C instanceof F)&&m;if(M||W)return setTimeout(v,this._timeBetweenDecodingAttempts,b,_);_(C)}};return new Promise((b,_)=>v(b,_))}decodeContinuously(l,h){this._stopContinuousDecode=!1;const m=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const v=this.decode(l);h(v,null),setTimeout(m,this.timeBetweenScansMillis)}catch(v){h(null,v);const b=v instanceof A||v instanceof F,_=v instanceof re;(b||_)&&setTimeout(m,this._timeBetweenDecodingAttempts)}};m()}decode(l){const h=this.createBinaryBitmap(l);return this.decodeBitmap(h)}_isHTMLVideoElement(l){return l.videoWidth!==0}drawFrameOnCanvas(l,h,m){h||(h={sx:0,sy:0,sWidth:l.videoWidth,sHeight:l.videoHeight,dx:0,dy:0,dWidth:l.videoWidth,dHeight:l.videoHeight}),m||(m=this.captureCanvasContext),m.drawImage(l,h.sx,h.sy,h.sWidth,h.sHeight,h.dx,h.dy,h.dWidth,h.dHeight)}drawImageOnCanvas(l,h,m=this.captureCanvasContext){h||(h={sx:0,sy:0,sWidth:l.naturalWidth,sHeight:l.naturalHeight,dx:0,dy:0,dWidth:l.naturalWidth,dHeight:l.naturalHeight}),m||(m=this.captureCanvasContext),m.drawImage(l,h.sx,h.sy,h.sWidth,h.sHeight,h.dx,h.dy,h.dWidth,h.dHeight)}createBinaryBitmap(l){this.getCaptureCanvasContext(l),this._isHTMLVideoElement(l)?this.drawFrameOnCanvas(l):this.drawImageOnCanvas(l);const h=this.getCaptureCanvas(l),m=new be(h),v=new me(m);return new w(v)}getCaptureCanvasContext(l){if(!this.captureCanvasContext){const m=this.getCaptureCanvas(l).getContext("2d");this.captureCanvasContext=m}return this.captureCanvasContext}getCaptureCanvas(l){if(!this.captureCanvas){const h=this.createCaptureCanvas(l);this.captureCanvas=h}return this.captureCanvas}decodeBitmap(l){return this.reader.decode(l,this._hints)}createCaptureCanvas(l){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const h=document.createElement("canvas");let m,v;return typeof l<"u"&&(l instanceof HTMLVideoElement?(m=l.videoWidth,v=l.videoHeight):l instanceof HTMLImageElement&&(m=l.naturalWidth||l.width,v=l.naturalHeight||l.height)),h.style.width=m+"px",h.style.height=v+"px",h.width=m,h.height=v,h}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(l=>l.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(l,h){try{l.srcObject=h}catch{l.src=URL.createObjectURL(h)}}cleanVideoSource(l){try{l.srcObject=null}catch{l.src=""}this.videoElement.removeAttribute("src")}}class se{constructor(l,h,m=h==null?0:8*h.length,v,b,_=S.currentTimeMillis()){this.text=l,this.rawBytes=h,this.numBits=m,this.resultPoints=v,this.format=b,this.timestamp=_,this.text=l,this.rawBytes=h,m==null?this.numBits=h==null?0:8*h.length:this.numBits=m,this.resultPoints=v,this.format=b,this.resultMetadata=null,_==null?this.timestamp=S.currentTimeMillis():this.timestamp=_}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(l,h){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(l,h)}putAllMetadata(l){l!==null&&(this.resultMetadata===null?this.resultMetadata=l:this.resultMetadata=new Map(l))}addResultPoints(l){const h=this.resultPoints;if(h===null)this.resultPoints=l;else if(l!==null&&l.length>0){const m=new Array(h.length+l.length);S.arraycopy(h,0,m,0,h.length),S.arraycopy(l,0,m,h.length,l.length),this.resultPoints=m}}getTimestamp(){return this.timestamp}toString(){return this.text}}var fe;(function(te){te[te.AZTEC=0]="AZTEC",te[te.CODABAR=1]="CODABAR",te[te.CODE_39=2]="CODE_39",te[te.CODE_93=3]="CODE_93",te[te.CODE_128=4]="CODE_128",te[te.DATA_MATRIX=5]="DATA_MATRIX",te[te.EAN_8=6]="EAN_8",te[te.EAN_13=7]="EAN_13",te[te.ITF=8]="ITF",te[te.MAXICODE=9]="MAXICODE",te[te.PDF_417=10]="PDF_417",te[te.QR_CODE=11]="QR_CODE",te[te.RSS_14=12]="RSS_14",te[te.RSS_EXPANDED=13]="RSS_EXPANDED",te[te.UPC_A=14]="UPC_A",te[te.UPC_E=15]="UPC_E",te[te.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(fe||(fe={}));var Ee=fe,Ne;(function(te){te[te.OTHER=0]="OTHER",te[te.ORIENTATION=1]="ORIENTATION",te[te.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",te[te.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",te[te.ISSUE_NUMBER=4]="ISSUE_NUMBER",te[te.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",te[te.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",te[te.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",te[te.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",te[te.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",te[te.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ne||(Ne={}));var Ge=Ne;class _e{constructor(l,h,m,v,b=-1,_=-1){this.rawBytes=l,this.text=h,this.byteSegments=m,this.ecLevel=v,this.structuredAppendSequenceNumber=b,this.structuredAppendParity=_,this.numBits=l==null?0:8*l.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(l){this.numBits=l}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(l){this.errorsCorrected=l}getErasures(){return this.erasures}setErasures(l){this.erasures=l}getOther(){return this.other}setOther(l){this.other=l}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ze{exp(l){return this.expTable[l]}log(l){if(l===0)throw new x;return this.logTable[l]}static addOrSubtract(l,h){return l^h}}class tt{constructor(l,h){if(h.length===0)throw new x;this.field=l;const m=h.length;if(m>1&&h[0]===0){let v=1;for(;v<m&&h[v]===0;)v++;v===m?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(m-v),S.arraycopy(h,v,this.coefficients,0,this.coefficients.length))}else this.coefficients=h}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);const h=this.coefficients;let m;if(l===1){m=0;for(let _=0,C=h.length;_!==C;_++){const M=h[_];m=ze.addOrSubtract(m,M)}return m}m=h[0];const v=h.length,b=this.field;for(let _=1;_<v;_++)m=ze.addOrSubtract(b.multiply(l,m),h[_]);return m}addOrSubtract(l){if(!this.field.equals(l.field))throw new x("GenericGFPolys do not have same GenericGF field");if(this.isZero())return l;if(l.isZero())return this;let h=this.coefficients,m=l.coefficients;if(h.length>m.length){const _=h;h=m,m=_}let v=new Int32Array(m.length);const b=m.length-h.length;S.arraycopy(m,0,v,0,b);for(let _=b;_<m.length;_++)v[_]=ze.addOrSubtract(h[_-b],m[_]);return new tt(this.field,v)}multiply(l){if(!this.field.equals(l.field))throw new x("GenericGFPolys do not have same GenericGF field");if(this.isZero()||l.isZero())return this.field.getZero();const h=this.coefficients,m=h.length,v=l.coefficients,b=v.length,_=new Int32Array(m+b-1),C=this.field;for(let M=0;M<m;M++){const L=h[M];for(let W=0;W<b;W++)_[M+W]=ze.addOrSubtract(_[M+W],C.multiply(L,v[W]))}return new tt(C,_)}multiplyScalar(l){if(l===0)return this.field.getZero();if(l===1)return this;const h=this.coefficients.length,m=this.field,v=new Int32Array(h),b=this.coefficients;for(let _=0;_<h;_++)v[_]=m.multiply(b[_],l);return new tt(m,v)}multiplyByMonomial(l,h){if(l<0)throw new x;if(h===0)return this.field.getZero();const m=this.coefficients,v=m.length,b=new Int32Array(v+l),_=this.field;for(let C=0;C<v;C++)b[C]=_.multiply(m[C],h);return new tt(_,b)}divide(l){if(!this.field.equals(l.field))throw new x("GenericGFPolys do not have same GenericGF field");if(l.isZero())throw new x("Divide by 0");const h=this.field;let m=h.getZero(),v=this;const b=l.getCoefficient(l.getDegree()),_=h.inverse(b);for(;v.getDegree()>=l.getDegree()&&!v.isZero();){const C=v.getDegree()-l.getDegree(),M=h.multiply(v.getCoefficient(v.getDegree()),_),L=l.multiplyByMonomial(C,M),W=h.buildMonomial(C,M);m=m.addOrSubtract(W),v=v.addOrSubtract(L)}return[m,v]}toString(){let l="";for(let h=this.getDegree();h>=0;h--){let m=this.getCoefficient(h);if(m!==0){if(m<0?(l+=" - ",m=-m):l.length>0&&(l+=" + "),h===0||m!==1){const v=this.field.log(m);v===0?l+="1":v===1?l+="a":(l+="a^",l+=v)}h!==0&&(h===1?l+="x":(l+="x^",l+=h))}}return l}}class Me extends u{}Me.kind="ArithmeticException";class gt extends ze{constructor(l,h,m){super(),this.primitive=l,this.size=h,this.generatorBase=m;const v=new Int32Array(h);let b=1;for(let C=0;C<h;C++)v[C]=b,b*=2,b>=h&&(b^=l,b&=h-1);this.expTable=v;const _=new Int32Array(h);for(let C=0;C<h-1;C++)_[v[C]]=C;this.logTable=_,this.zero=new tt(this,Int32Array.from([0])),this.one=new tt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,h){if(l<0)throw new x;if(h===0)return this.zero;const m=new Int32Array(l+1);return m[0]=h,new tt(this,m)}inverse(l){if(l===0)throw new Me;return this.expTable[this.size-this.logTable[l]-1]}multiply(l,h){return l===0||h===0?0:this.expTable[(this.logTable[l]+this.logTable[h])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+P.toHexString(this.primitive)+","+this.size+")"}equals(l){return l===this}}gt.AZTEC_DATA_12=new gt(4201,4096,1),gt.AZTEC_DATA_10=new gt(1033,1024,1),gt.AZTEC_DATA_6=new gt(67,64,1),gt.AZTEC_PARAM=new gt(19,16,1),gt.QR_CODE_FIELD_256=new gt(285,256,0),gt.DATA_MATRIX_FIELD_256=new gt(301,256,1),gt.AZTEC_DATA_8=gt.DATA_MATRIX_FIELD_256,gt.MAXICODE_FIELD_64=gt.AZTEC_DATA_6;class nt extends u{}nt.kind="ReedSolomonException";class Ut extends u{}Ut.kind="IllegalStateException";class Ct{constructor(l){this.field=l}decode(l,h){const m=this.field,v=new tt(m,l),b=new Int32Array(h);let _=!0;for(let ve=0;ve<h;ve++){const Se=v.evaluateAt(m.exp(ve+m.getGeneratorBase()));b[b.length-1-ve]=Se,Se!==0&&(_=!1)}if(_)return;const C=new tt(m,b),M=this.runEuclideanAlgorithm(m.buildMonomial(h,1),C,h),L=M[0],W=M[1],ne=this.findErrorLocations(L),ae=this.findErrorMagnitudes(W,ne);for(let ve=0;ve<ne.length;ve++){const Se=l.length-1-m.log(ne[ve]);if(Se<0)throw new nt("Bad error location");l[Se]=gt.addOrSubtract(l[Se],ae[ve])}}runEuclideanAlgorithm(l,h,m){if(l.getDegree()<h.getDegree()){const ve=l;l=h,h=ve}const v=this.field;let b=l,_=h,C=v.getZero(),M=v.getOne();for(;_.getDegree()>=(m/2|0);){let ve=b,Se=C;if(b=_,C=M,b.isZero())throw new nt("r_{i-1} was zero");_=ve;let Te=v.getZero();const De=b.getCoefficient(b.getDegree()),$e=v.inverse(De);for(;_.getDegree()>=b.getDegree()&&!_.isZero();){const vt=_.getDegree()-b.getDegree(),xt=v.multiply(_.getCoefficient(_.getDegree()),$e);Te=Te.addOrSubtract(v.buildMonomial(vt,xt)),_=_.addOrSubtract(b.multiplyByMonomial(vt,xt))}if(M=Te.multiply(C).addOrSubtract(Se),_.getDegree()>=b.getDegree())throw new Ut("Division algorithm failed to reduce polynomial?")}const L=M.getCoefficient(0);if(L===0)throw new nt("sigmaTilde(0) was zero");const W=v.inverse(L),ne=M.multiplyScalar(W),ae=_.multiplyScalar(W);return[ne,ae]}findErrorLocations(l){const h=l.getDegree();if(h===1)return Int32Array.from([l.getCoefficient(1)]);const m=new Int32Array(h);let v=0;const b=this.field;for(let _=1;_<b.getSize()&&v<h;_++)l.evaluateAt(_)===0&&(m[v]=b.inverse(_),v++);if(v!==h)throw new nt("Error locator degree does not match number of roots");return m}findErrorMagnitudes(l,h){const m=h.length,v=new Int32Array(m),b=this.field;for(let _=0;_<m;_++){const C=b.inverse(h[_]);let M=1;for(let L=0;L<m;L++)if(_!==L){const W=b.multiply(h[L],C),ne=(W&1)===0?W|1:W&-2;M=b.multiply(M,ne)}v[_]=b.multiply(l.evaluateAt(C),b.inverse(M)),b.getGeneratorBase()!==0&&(v[_]=b.multiply(v[_],C))}return v}}var st;(function(te){te[te.UPPER=0]="UPPER",te[te.LOWER=1]="LOWER",te[te.MIXED=2]="MIXED",te[te.DIGIT=3]="DIGIT",te[te.PUNCT=4]="PUNCT",te[te.BINARY=5]="BINARY"})(st||(st={}));class It{decode(l){this.ddata=l;let h=l.getBits(),m=this.extractBits(h),v=this.correctBits(m),b=It.convertBoolArrayToByteArray(v),_=It.getEncodedData(v),C=new _e(b,_,null,null);return C.setNumBits(v.length),C}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let h=l.length,m=st.UPPER,v=st.UPPER,b="",_=0;for(;_<h;)if(v===st.BINARY){if(h-_<5)break;let C=It.readCode(l,_,5);if(_+=5,C===0){if(h-_<11)break;C=It.readCode(l,_,11)+31,_+=11}for(let M=0;M<C;M++){if(h-_<8){_=h;break}const L=It.readCode(l,_,8);b+=G.castAsNonUtf8Char(L),_+=8}v=m}else{let C=v===st.DIGIT?4:5;if(h-_<C)break;let M=It.readCode(l,_,C);_+=C;let L=It.getCharacter(v,M);L.startsWith("CTRL_")?(m=v,v=It.getTable(L.charAt(5)),L.charAt(6)==="L"&&(m=v)):(b+=L,v=m)}return b}static getTable(l){switch(l){case"L":return st.LOWER;case"P":return st.PUNCT;case"M":return st.MIXED;case"D":return st.DIGIT;case"B":return st.BINARY;default:return st.UPPER}}static getCharacter(l,h){switch(l){case st.UPPER:return It.UPPER_TABLE[h];case st.LOWER:return It.LOWER_TABLE[h];case st.MIXED:return It.MIXED_TABLE[h];case st.PUNCT:return It.PUNCT_TABLE[h];case st.DIGIT:return It.DIGIT_TABLE[h];default:throw new Ut("Bad table")}}correctBits(l){let h,m;this.ddata.getNbLayers()<=2?(m=6,h=gt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(m=8,h=gt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(m=10,h=gt.AZTEC_DATA_10):(m=12,h=gt.AZTEC_DATA_12);let v=this.ddata.getNbDatablocks(),b=l.length/m;if(b<v)throw new F;let _=l.length%m,C=new Int32Array(b);for(let ae=0;ae<b;ae++,_+=m)C[ae]=It.readCode(l,_,m);try{new Ct(h).decode(C,b-v)}catch(ae){throw new F(ae)}let M=(1<<m)-1,L=0;for(let ae=0;ae<v;ae++){let ve=C[ae];if(ve===0||ve===M)throw new F;(ve===1||ve===M-1)&&L++}let W=new Array(v*m-L),ne=0;for(let ae=0;ae<v;ae++){let ve=C[ae];if(ve===1||ve===M-1)W.fill(ve>1,ne,ne+m-1),ne+=m-1;else for(let Se=m-1;Se>=0;--Se)W[ne++]=(ve&1<<Se)!==0}return W}extractBits(l){let h=this.ddata.isCompact(),m=this.ddata.getNbLayers(),v=(h?11:14)+m*4,b=new Int32Array(v),_=new Array(this.totalBitsInLayer(m,h));if(h)for(let C=0;C<b.length;C++)b[C]=C;else{let C=v+1+2*P.truncDivision(P.truncDivision(v,2)-1,15),M=v/2,L=P.truncDivision(C,2);for(let W=0;W<M;W++){let ne=W+P.truncDivision(W,15);b[M-W-1]=L-ne-1,b[M+W]=L+ne+1}}for(let C=0,M=0;C<m;C++){let L=(m-C)*4+(h?9:12),W=C*2,ne=v-1-W;for(let ae=0;ae<L;ae++){let ve=ae*2;for(let Se=0;Se<2;Se++)_[M+ve+Se]=l.get(b[W+Se],b[W+ae]),_[M+2*L+ve+Se]=l.get(b[W+ae],b[ne-Se]),_[M+4*L+ve+Se]=l.get(b[ne-Se],b[ne-ae]),_[M+6*L+ve+Se]=l.get(b[ne-ae],b[W+Se])}M+=L*8}return _}static readCode(l,h,m){let v=0;for(let b=h;b<h+m;b++)v<<=1,l[b]&&(v|=1);return v}static readByte(l,h){let m=l.length-h;return m>=8?It.readCode(l,h,8):It.readCode(l,h,m)<<8-m}static convertBoolArrayToByteArray(l){let h=new Uint8Array((l.length+7)/8);for(let m=0;m<h.length;m++)h[m]=It.readByte(l,8*m);return h}totalBitsInLayer(l,h){return((h?88:112)+16*l)*l}}It.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],It.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],It.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],It.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],It.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class _t{constructor(){}static round(l){return l===NaN?0:l<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:l>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:l+(l<0?-.5:.5)|0}static distance(l,h,m,v){const b=l-m,_=h-v;return Math.sqrt(b*b+_*_)}static sum(l){let h=0;for(let m=0,v=l.length;m!==v;m++){const b=l[m];h+=b}return h}}class bt{static floatToIntBits(l){return l}}bt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class mt{constructor(l,h){this.x=l,this.y=h}getX(){return this.x}getY(){return this.y}equals(l){if(l instanceof mt){const h=l;return this.x===h.x&&this.y===h.y}return!1}hashCode(){return 31*bt.floatToIntBits(this.x)+bt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(l){const h=this.distance(l[0],l[1]),m=this.distance(l[1],l[2]),v=this.distance(l[0],l[2]);let b,_,C;if(m>=h&&m>=v?(_=l[0],b=l[1],C=l[2]):v>=m&&v>=h?(_=l[1],b=l[0],C=l[2]):(_=l[2],b=l[0],C=l[1]),this.crossProductZ(b,_,C)<0){const M=b;b=C,C=M}l[0]=b,l[1]=_,l[2]=C}static distance(l,h){return _t.distance(l.x,l.y,h.x,h.y)}static crossProductZ(l,h,m){const v=h.x,b=h.y;return(m.x-v)*(l.y-b)-(m.y-b)*(l.x-v)}}class fi{constructor(l,h){this.bits=l,this.points=h}getBits(){return this.bits}getPoints(){return this.points}}class nr extends fi{constructor(l,h,m,v,b){super(l,h),this.compact=m,this.nbDatablocks=v,this.nbLayers=b}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Kt{constructor(l,h,m,v){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),h==null&&(h=Kt.INIT_SIZE),m==null&&(m=l.getWidth()/2|0),v==null&&(v=l.getHeight()/2|0);const b=h/2|0;if(this.leftInit=m-b,this.rightInit=m+b,this.upInit=v-b,this.downInit=v+b,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new re}detect(){let l=this.leftInit,h=this.rightInit,m=this.upInit,v=this.downInit,b=!1,_=!0,C=!1,M=!1,L=!1,W=!1,ne=!1;const ae=this.width,ve=this.height;for(;_;){_=!1;let Se=!0;for(;(Se||!M)&&h<ae;)Se=this.containsBlackPoint(m,v,h,!1),Se?(h++,_=!0,M=!0):M||h++;if(h>=ae){b=!0;break}let Te=!0;for(;(Te||!L)&&v<ve;)Te=this.containsBlackPoint(l,h,v,!0),Te?(v++,_=!0,L=!0):L||v++;if(v>=ve){b=!0;break}let De=!0;for(;(De||!W)&&l>=0;)De=this.containsBlackPoint(m,v,l,!1),De?(l--,_=!0,W=!0):W||l--;if(l<0){b=!0;break}let $e=!0;for(;($e||!ne)&&m>=0;)$e=this.containsBlackPoint(l,h,m,!0),$e?(m--,_=!0,ne=!0):ne||m--;if(m<0){b=!0;break}_&&(C=!0)}if(!b&&C){const Se=h-l;let Te=null;for(let xt=1;Te===null&&xt<Se;xt++)Te=this.getBlackPointOnSegment(l,v-xt,l+xt,v);if(Te==null)throw new re;let De=null;for(let xt=1;De===null&&xt<Se;xt++)De=this.getBlackPointOnSegment(l,m+xt,l+xt,m);if(De==null)throw new re;let $e=null;for(let xt=1;$e===null&&xt<Se;xt++)$e=this.getBlackPointOnSegment(h,m+xt,h-xt,m);if($e==null)throw new re;let vt=null;for(let xt=1;vt===null&&xt<Se;xt++)vt=this.getBlackPointOnSegment(h,v-xt,h-xt,v);if(vt==null)throw new re;return this.centerEdges(vt,Te,$e,De)}else throw new re}getBlackPointOnSegment(l,h,m,v){const b=_t.round(_t.distance(l,h,m,v)),_=(m-l)/b,C=(v-h)/b,M=this.image;for(let L=0;L<b;L++){const W=_t.round(l+L*_),ne=_t.round(h+L*C);if(M.get(W,ne))return new mt(W,ne)}return null}centerEdges(l,h,m,v){const b=l.getX(),_=l.getY(),C=h.getX(),M=h.getY(),L=m.getX(),W=m.getY(),ne=v.getX(),ae=v.getY(),ve=Kt.CORR;return b<this.width/2?[new mt(ne-ve,ae+ve),new mt(C+ve,M+ve),new mt(L-ve,W-ve),new mt(b+ve,_-ve)]:[new mt(ne+ve,ae+ve),new mt(C+ve,M-ve),new mt(L-ve,W+ve),new mt(b-ve,_-ve)]}containsBlackPoint(l,h,m,v){const b=this.image;if(v){for(let _=l;_<=h;_++)if(b.get(_,m))return!0}else for(let _=l;_<=h;_++)if(b.get(m,_))return!0;return!1}}Kt.INIT_SIZE=10,Kt.CORR=1;class Rr{static checkAndNudgePoints(l,h){const m=l.getWidth(),v=l.getHeight();let b=!0;for(let _=0;_<h.length&&b;_+=2){const C=Math.floor(h[_]),M=Math.floor(h[_+1]);if(C<-1||C>m||M<-1||M>v)throw new re;b=!1,C===-1?(h[_]=0,b=!0):C===m&&(h[_]=m-1,b=!0),M===-1?(h[_+1]=0,b=!0):M===v&&(h[_+1]=v-1,b=!0)}b=!0;for(let _=h.length-2;_>=0&&b;_-=2){const C=Math.floor(h[_]),M=Math.floor(h[_+1]);if(C<-1||C>m||M<-1||M>v)throw new re;b=!1,C===-1?(h[_]=0,b=!0):C===m&&(h[_]=m-1,b=!0),M===-1?(h[_+1]=0,b=!0):M===v&&(h[_+1]=v-1,b=!0)}}}class ye{constructor(l,h,m,v,b,_,C,M,L){this.a11=l,this.a21=h,this.a31=m,this.a12=v,this.a22=b,this.a32=_,this.a13=C,this.a23=M,this.a33=L}static quadrilateralToQuadrilateral(l,h,m,v,b,_,C,M,L,W,ne,ae,ve,Se,Te,De){const $e=ye.quadrilateralToSquare(l,h,m,v,b,_,C,M);return ye.squareToQuadrilateral(L,W,ne,ae,ve,Se,Te,De).times($e)}transformPoints(l){const h=l.length,m=this.a11,v=this.a12,b=this.a13,_=this.a21,C=this.a22,M=this.a23,L=this.a31,W=this.a32,ne=this.a33;for(let ae=0;ae<h;ae+=2){const ve=l[ae],Se=l[ae+1],Te=b*ve+M*Se+ne;l[ae]=(m*ve+_*Se+L)/Te,l[ae+1]=(v*ve+C*Se+W)/Te}}transformPointsWithValues(l,h){const m=this.a11,v=this.a12,b=this.a13,_=this.a21,C=this.a22,M=this.a23,L=this.a31,W=this.a32,ne=this.a33,ae=l.length;for(let ve=0;ve<ae;ve++){const Se=l[ve],Te=h[ve],De=b*Se+M*Te+ne;l[ve]=(m*Se+_*Te+L)/De,h[ve]=(v*Se+C*Te+W)/De}}static squareToQuadrilateral(l,h,m,v,b,_,C,M){const L=l-m+b-C,W=h-v+_-M;if(L===0&&W===0)return new ye(m-l,b-m,l,v-h,_-v,h,0,0,1);{const ne=m-b,ae=C-b,ve=v-_,Se=M-_,Te=ne*Se-ae*ve,De=(L*Se-ae*W)/Te,$e=(ne*W-L*ve)/Te;return new ye(m-l+De*m,C-l+$e*C,l,v-h+De*v,M-h+$e*M,h,De,$e,1)}}static quadrilateralToSquare(l,h,m,v,b,_,C,M){return ye.squareToQuadrilateral(l,h,m,v,b,_,C,M).buildAdjoint()}buildAdjoint(){return new ye(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(l){return new ye(this.a11*l.a11+this.a21*l.a12+this.a31*l.a13,this.a11*l.a21+this.a21*l.a22+this.a31*l.a23,this.a11*l.a31+this.a21*l.a32+this.a31*l.a33,this.a12*l.a11+this.a22*l.a12+this.a32*l.a13,this.a12*l.a21+this.a22*l.a22+this.a32*l.a23,this.a12*l.a31+this.a22*l.a32+this.a32*l.a33,this.a13*l.a11+this.a23*l.a12+this.a33*l.a13,this.a13*l.a21+this.a23*l.a22+this.a33*l.a23,this.a13*l.a31+this.a23*l.a32+this.a33*l.a33)}}class yt extends Rr{sampleGrid(l,h,m,v,b,_,C,M,L,W,ne,ae,ve,Se,Te,De,$e,vt,xt){const ft=ye.quadrilateralToQuadrilateral(v,b,_,C,M,L,W,ne,ae,ve,Se,Te,De,$e,vt,xt);return this.sampleGridWithTransform(l,h,m,ft)}sampleGridWithTransform(l,h,m,v){if(h<=0||m<=0)throw new re;const b=new Ce(h,m),_=new Float32Array(2*h);for(let C=0;C<m;C++){const M=_.length,L=C+.5;for(let W=0;W<M;W+=2)_[W]=W/2+.5,_[W+1]=L;v.transformPoints(_),Rr.checkAndNudgePoints(l,_);try{for(let W=0;W<M;W+=2)l.get(Math.floor(_[W]),Math.floor(_[W+1]))&&b.set(W/2,C)}catch{throw new re}}return b}}class Rt{static setGridSampler(l){Rt.gridSampler=l}static getInstance(){return Rt.gridSampler}}Rt.gridSampler=new yt;class Xt{constructor(l,h){this.x=l,this.y=h}toResultPoint(){return new mt(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class In{constructor(l){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=l}detect(){return this.detectMirror(!1)}detectMirror(l){let h=this.getMatrixCenter(),m=this.getBullsEyeCorners(h);if(l){let _=m[0];m[0]=m[2],m[2]=_}this.extractParameters(m);let v=this.sampleGrid(this.image,m[this.shift%4],m[(this.shift+1)%4],m[(this.shift+2)%4],m[(this.shift+3)%4]),b=this.getMatrixCornerPoints(m);return new nr(v,b,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(l){if(!this.isValidPoint(l[0])||!this.isValidPoint(l[1])||!this.isValidPoint(l[2])||!this.isValidPoint(l[3]))throw new re;let h=2*this.nbCenterLayers,m=new Int32Array([this.sampleLine(l[0],l[1],h),this.sampleLine(l[1],l[2],h),this.sampleLine(l[2],l[3],h),this.sampleLine(l[3],l[0],h)]);this.shift=this.getRotation(m,h);let v=0;for(let _=0;_<4;_++){let C=m[(this.shift+_)%4];this.compact?(v<<=7,v+=C>>1&127):(v<<=10,v+=(C>>2&992)+(C>>1&31))}let b=this.getCorrectedParameterData(v,this.compact);this.compact?(this.nbLayers=(b>>6)+1,this.nbDataBlocks=(b&63)+1):(this.nbLayers=(b>>11)+1,this.nbDataBlocks=(b&2047)+1)}getRotation(l,h){let m=0;l.forEach((v,b,_)=>{let C=(v>>h-2<<1)+(v&1);m=(m<<3)+C}),m=((m&1)<<11)+(m>>1);for(let v=0;v<4;v++)if(P.bitCount(m^this.EXPECTED_CORNER_BITS[v])<=2)return v;throw new re}getCorrectedParameterData(l,h){let m,v;h?(m=7,v=2):(m=10,v=4);let b=m-v,_=new Int32Array(m);for(let M=m-1;M>=0;--M)_[M]=l&15,l>>=4;try{new Ct(gt.AZTEC_PARAM).decode(_,b)}catch{throw new re}let C=0;for(let M=0;M<v;M++)C=(C<<4)+_[M];return C}getBullsEyeCorners(l){let h=l,m=l,v=l,b=l,_=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let ne=this.getFirstDifferent(h,_,1,-1),ae=this.getFirstDifferent(m,_,1,1),ve=this.getFirstDifferent(v,_,-1,1),Se=this.getFirstDifferent(b,_,-1,-1);if(this.nbCenterLayers>2){let Te=this.distancePoint(Se,ne)*this.nbCenterLayers/(this.distancePoint(b,h)*(this.nbCenterLayers+2));if(Te<.75||Te>1.25||!this.isWhiteOrBlackRectangle(ne,ae,ve,Se))break}h=ne,m=ae,v=ve,b=Se,_=!_}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new re;this.compact=this.nbCenterLayers===5;let C=new mt(h.getX()+.5,h.getY()-.5),M=new mt(m.getX()+.5,m.getY()+.5),L=new mt(v.getX()-.5,v.getY()+.5),W=new mt(b.getX()-.5,b.getY()-.5);return this.expandSquare([C,M,L,W],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let l,h,m,v;try{let C=new Kt(this.image).detect();l=C[0],h=C[1],m=C[2],v=C[3]}catch{let M=this.image.getWidth()/2,L=this.image.getHeight()/2;l=this.getFirstDifferent(new Xt(M+7,L-7),!1,1,-1).toResultPoint(),h=this.getFirstDifferent(new Xt(M+7,L+7),!1,1,1).toResultPoint(),m=this.getFirstDifferent(new Xt(M-7,L+7),!1,-1,1).toResultPoint(),v=this.getFirstDifferent(new Xt(M-7,L-7),!1,-1,-1).toResultPoint()}let b=_t.round((l.getX()+v.getX()+h.getX()+m.getX())/4),_=_t.round((l.getY()+v.getY()+h.getY()+m.getY())/4);try{let C=new Kt(this.image,15,b,_).detect();l=C[0],h=C[1],m=C[2],v=C[3]}catch{l=this.getFirstDifferent(new Xt(b+7,_-7),!1,1,-1).toResultPoint(),h=this.getFirstDifferent(new Xt(b+7,_+7),!1,1,1).toResultPoint(),m=this.getFirstDifferent(new Xt(b-7,_+7),!1,-1,1).toResultPoint(),v=this.getFirstDifferent(new Xt(b-7,_-7),!1,-1,-1).toResultPoint()}return b=_t.round((l.getX()+v.getX()+h.getX()+m.getX())/4),_=_t.round((l.getY()+v.getY()+h.getY()+m.getY())/4),new Xt(b,_)}getMatrixCornerPoints(l){return this.expandSquare(l,2*this.nbCenterLayers,this.getDimension())}sampleGrid(l,h,m,v,b){let _=Rt.getInstance(),C=this.getDimension(),M=C/2-this.nbCenterLayers,L=C/2+this.nbCenterLayers;return _.sampleGrid(l,C,C,M,M,L,M,L,L,M,L,h.getX(),h.getY(),m.getX(),m.getY(),v.getX(),v.getY(),b.getX(),b.getY())}sampleLine(l,h,m){let v=0,b=this.distanceResultPoint(l,h),_=b/m,C=l.getX(),M=l.getY(),L=_*(h.getX()-l.getX())/b,W=_*(h.getY()-l.getY())/b;for(let ne=0;ne<m;ne++)this.image.get(_t.round(C+ne*L),_t.round(M+ne*W))&&(v|=1<<m-ne-1);return v}isWhiteOrBlackRectangle(l,h,m,v){let b=3;l=new Xt(l.getX()-b,l.getY()+b),h=new Xt(h.getX()-b,h.getY()-b),m=new Xt(m.getX()+b,m.getY()-b),v=new Xt(v.getX()+b,v.getY()+b);let _=this.getColor(v,l);if(_===0)return!1;let C=this.getColor(l,h);return C!==_||(C=this.getColor(h,m),C!==_)?!1:(C=this.getColor(m,v),C===_)}getColor(l,h){let m=this.distancePoint(l,h),v=(h.getX()-l.getX())/m,b=(h.getY()-l.getY())/m,_=0,C=l.getX(),M=l.getY(),L=this.image.get(l.getX(),l.getY()),W=Math.ceil(m);for(let ae=0;ae<W;ae++)C+=v,M+=b,this.image.get(_t.round(C),_t.round(M))!==L&&_++;let ne=_/m;return ne>.1&&ne<.9?0:ne<=.1===L?1:-1}getFirstDifferent(l,h,m,v){let b=l.getX()+m,_=l.getY()+v;for(;this.isValid(b,_)&&this.image.get(b,_)===h;)b+=m,_+=v;for(b-=m,_-=v;this.isValid(b,_)&&this.image.get(b,_)===h;)b+=m;for(b-=m;this.isValid(b,_)&&this.image.get(b,_)===h;)_+=v;return _-=v,new Xt(b,_)}expandSquare(l,h,m){let v=m/(2*h),b=l[0].getX()-l[2].getX(),_=l[0].getY()-l[2].getY(),C=(l[0].getX()+l[2].getX())/2,M=(l[0].getY()+l[2].getY())/2,L=new mt(C+v*b,M+v*_),W=new mt(C-v*b,M-v*_);b=l[1].getX()-l[3].getX(),_=l[1].getY()-l[3].getY(),C=(l[1].getX()+l[3].getX())/2,M=(l[1].getY()+l[3].getY())/2;let ne=new mt(C+v*b,M+v*_),ae=new mt(C-v*b,M-v*_);return[L,ne,W,ae]}isValid(l,h){return l>=0&&l<this.image.getWidth()&&h>0&&h<this.image.getHeight()}isValidPoint(l){let h=_t.round(l.getX()),m=_t.round(l.getY());return this.isValid(h,m)}distancePoint(l,h){return _t.distance(l.getX(),l.getY(),h.getX(),h.getY())}distanceResultPoint(l,h){return _t.distance(l.getX(),l.getY(),h.getX(),h.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(P.truncDivision(this.nbLayers-4,8)+1)+15}}class nn{decode(l,h=null){let m=null,v=new In(l.getBlackMatrix()),b=null,_=null;try{let W=v.detectMirror(!1);b=W.getPoints(),this.reportFoundResultPoints(h,b),_=new It().decode(W)}catch(W){m=W}if(_==null)try{let W=v.detectMirror(!0);b=W.getPoints(),this.reportFoundResultPoints(h,b),_=new It().decode(W)}catch(W){throw m??W}let C=new se(_.getText(),_.getRawBytes(),_.getNumBits(),b,Ee.AZTEC,S.currentTimeMillis()),M=_.getByteSegments();M!=null&&C.putMetadata(Ge.BYTE_SEGMENTS,M);let L=_.getECLevel();return L!=null&&C.putMetadata(Ge.ERROR_CORRECTION_LEVEL,L),C}reportFoundResultPoints(l,h){if(l!=null){let m=l.get(Z.NEED_RESULT_POINT_CALLBACK);m!=null&&h.forEach((v,b,_)=>{m.foundPossibleResultPoint(v)})}}reset(){}}class Ea extends oe{constructor(l=500){super(new nn,l)}}class mn{decode(l,h){try{return this.doDecode(l,h)}catch{if(h&&h.get(Z.TRY_HARDER)===!0&&l.isRotateSupported()){const b=l.rotateCounterClockwise(),_=this.doDecode(b,h),C=_.getResultMetadata();let M=270;C!==null&&C.get(Ge.ORIENTATION)===!0&&(M=M+C.get(Ge.ORIENTATION)%360),_.putMetadata(Ge.ORIENTATION,M);const L=_.getResultPoints();if(L!==null){const W=b.getHeight();for(let ne=0;ne<L.length;ne++)L[ne]=new mt(W-L[ne].getY()-1,L[ne].getX())}return _}else throw new re}}reset(){}doDecode(l,h){const m=l.getWidth(),v=l.getHeight();let b=new V(m);const _=h&&h.get(Z.TRY_HARDER)===!0,C=Math.max(1,v>>(_?8:5));let M;_?M=v:M=15;const L=Math.trunc(v/2);for(let W=0;W<M;W++){const ne=Math.trunc((W+1)/2),ae=(W&1)===0,ve=L+C*(ae?ne:-ne);if(ve<0||ve>=v)break;try{b=l.getBlackRow(ve,b)}catch{continue}for(let Se=0;Se<2;Se++){if(Se===1&&(b.reverse(),h&&h.get(Z.NEED_RESULT_POINT_CALLBACK)===!0)){const Te=new Map;h.forEach((De,$e)=>Te.set($e,De)),Te.delete(Z.NEED_RESULT_POINT_CALLBACK),h=Te}try{const Te=this.decodeRow(ve,b,h);if(Se===1){Te.putMetadata(Ge.ORIENTATION,180);const De=Te.getResultPoints();De!==null&&(De[0]=new mt(m-De[0].getX()-1,De[0].getY()),De[1]=new mt(m-De[1].getX()-1,De[1].getY()))}return Te}catch{}}}throw new re}static recordPattern(l,h,m){const v=m.length;for(let L=0;L<v;L++)m[L]=0;const b=l.getSize();if(h>=b)throw new re;let _=!l.get(h),C=0,M=h;for(;M<b;){if(l.get(M)!==_)m[C]++;else{if(++C===v)break;m[C]=1,_=!_}M++}if(!(C===v||C===v-1&&M===b))throw new re}static recordPatternInReverse(l,h,m){let v=m.length,b=l.get(h);for(;h>0&&v>=0;)l.get(--h)!==b&&(v--,b=!b);if(v>=0)throw new re;mn.recordPattern(l,h+1,m)}static patternMatchVariance(l,h,m){const v=l.length;let b=0,_=0;for(let L=0;L<v;L++)b+=l[L],_+=h[L];if(b<_)return Number.POSITIVE_INFINITY;const C=b/_;m*=C;let M=0;for(let L=0;L<v;L++){const W=l[L],ne=h[L]*C,ae=W>ne?W-ne:ne-W;if(ae>m)return Number.POSITIVE_INFINITY;M+=ae}return M/b}}class ct extends mn{static findStartPattern(l){const h=l.getSize(),m=l.getNextSet(0);let v=0,b=Int32Array.from([0,0,0,0,0,0]),_=m,C=!1;const M=6;for(let L=m;L<h;L++)if(l.get(L)!==C)b[v]++;else{if(v===M-1){let W=ct.MAX_AVG_VARIANCE,ne=-1;for(let ae=ct.CODE_START_A;ae<=ct.CODE_START_C;ae++){const ve=mn.patternMatchVariance(b,ct.CODE_PATTERNS[ae],ct.MAX_INDIVIDUAL_VARIANCE);ve<W&&(W=ve,ne=ae)}if(ne>=0&&l.isRange(Math.max(0,_-(L-_)/2),_,!1))return Int32Array.from([_,L,ne]);_+=b[0]+b[1],b=b.slice(2,b.length-1),b[v-1]=0,b[v]=0,v--}else v++;b[v]=1,C=!C}throw new re}static decodeCode(l,h,m){mn.recordPattern(l,m,h);let v=ct.MAX_AVG_VARIANCE,b=-1;for(let _=0;_<ct.CODE_PATTERNS.length;_++){const C=ct.CODE_PATTERNS[_],M=this.patternMatchVariance(h,C,ct.MAX_INDIVIDUAL_VARIANCE);M<v&&(v=M,b=_)}if(b>=0)return b;throw new re}decodeRow(l,h,m){const v=m&&m.get(Z.ASSUME_GS1)===!0,b=ct.findStartPattern(h),_=b[2];let C=0;const M=new Uint8Array(20);M[C++]=_;let L;switch(_){case ct.CODE_START_A:L=ct.CODE_CODE_A;break;case ct.CODE_START_B:L=ct.CODE_CODE_B;break;case ct.CODE_START_C:L=ct.CODE_CODE_C;break;default:throw new F}let W=!1,ne=!1,ae="",ve=b[0],Se=b[1];const Te=Int32Array.from([0,0,0,0,0,0]);let De=0,$e=0,vt=_,xt=0,ft=!0,_n=!1,cn=!1;for(;!W;){const Oc=ne;switch(ne=!1,De=$e,$e=ct.decodeCode(h,Te,Se),M[C++]=$e,$e!==ct.CODE_STOP&&(ft=!0),$e!==ct.CODE_STOP&&(xt++,vt+=xt*$e),ve=Se,Se+=Te.reduce((ux,Jp)=>ux+Jp,0),$e){case ct.CODE_START_A:case ct.CODE_START_B:case ct.CODE_START_C:throw new F}switch(L){case ct.CODE_CODE_A:if($e<64)cn===_n?ae+=String.fromCharCode(32+$e):ae+=String.fromCharCode(32+$e+128),cn=!1;else if($e<96)cn===_n?ae+=String.fromCharCode($e-64):ae+=String.fromCharCode($e+64),cn=!1;else switch($e!==ct.CODE_STOP&&(ft=!1),$e){case ct.CODE_FNC_1:v&&(ae.length===0?ae+="]C1":ae+="");break;case ct.CODE_FNC_2:case ct.CODE_FNC_3:break;case ct.CODE_FNC_4_A:!_n&&cn?(_n=!0,cn=!1):_n&&cn?(_n=!1,cn=!1):cn=!0;break;case ct.CODE_SHIFT:ne=!0,L=ct.CODE_CODE_B;break;case ct.CODE_CODE_B:L=ct.CODE_CODE_B;break;case ct.CODE_CODE_C:L=ct.CODE_CODE_C;break;case ct.CODE_STOP:W=!0;break}break;case ct.CODE_CODE_B:if($e<96)cn===_n?ae+=String.fromCharCode(32+$e):ae+=String.fromCharCode(32+$e+128),cn=!1;else switch($e!==ct.CODE_STOP&&(ft=!1),$e){case ct.CODE_FNC_1:v&&(ae.length===0?ae+="]C1":ae+="");break;case ct.CODE_FNC_2:case ct.CODE_FNC_3:break;case ct.CODE_FNC_4_B:!_n&&cn?(_n=!0,cn=!1):_n&&cn?(_n=!1,cn=!1):cn=!0;break;case ct.CODE_SHIFT:ne=!0,L=ct.CODE_CODE_A;break;case ct.CODE_CODE_A:L=ct.CODE_CODE_A;break;case ct.CODE_CODE_C:L=ct.CODE_CODE_C;break;case ct.CODE_STOP:W=!0;break}break;case ct.CODE_CODE_C:if($e<100)$e<10&&(ae+="0"),ae+=$e;else switch($e!==ct.CODE_STOP&&(ft=!1),$e){case ct.CODE_FNC_1:v&&(ae.length===0?ae+="]C1":ae+="");break;case ct.CODE_CODE_A:L=ct.CODE_CODE_A;break;case ct.CODE_CODE_B:L=ct.CODE_CODE_B;break;case ct.CODE_STOP:W=!0;break}break}Oc&&(L=L===ct.CODE_CODE_A?ct.CODE_CODE_B:ct.CODE_CODE_A)}const pi=Se-ve;if(Se=h.getNextUnset(Se),!h.isRange(Se,Math.min(h.getSize(),Se+(Se-ve)/2),!1))throw new re;if(vt-=xt*De,vt%103!==De)throw new A;const Ns=ae.length;if(Ns===0)throw new re;Ns>0&&ft&&(L===ct.CODE_CODE_C?ae=ae.substring(0,Ns-2):ae=ae.substring(0,Ns-1));const Sa=(b[1]+b[0])/2,ar=ve+pi/2,Qi=M.length,ds=new Uint8Array(Qi);for(let Oc=0;Oc<Qi;Oc++)ds[Oc]=M[Oc];const Bu=[new mt(Sa,l),new mt(ar,l)];return new se(ae,ds,0,Bu,Ee.CODE_128,new Date().getTime())}}ct.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ct.MAX_AVG_VARIANCE=.25,ct.MAX_INDIVIDUAL_VARIANCE=.7,ct.CODE_SHIFT=98,ct.CODE_CODE_C=99,ct.CODE_CODE_B=100,ct.CODE_CODE_A=101,ct.CODE_FNC_1=102,ct.CODE_FNC_2=97,ct.CODE_FNC_3=96,ct.CODE_FNC_4_A=101,ct.CODE_FNC_4_B=100,ct.CODE_START_A=103,ct.CODE_START_B=104,ct.CODE_START_C=105,ct.CODE_STOP=106;class yn extends mn{constructor(l=!1,h=!1){super(),this.usingCheckDigit=l,this.extendedMode=h,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,h,m){let v=this.counters;v.fill(0),this.decodeRowResult="";let b=yn.findAsteriskPattern(h,v),_=h.getNextSet(b[1]),C=h.getSize(),M,L;do{yn.recordPattern(h,_,v);let Te=yn.toNarrowWidePattern(v);if(Te<0)throw new re;M=yn.patternToChar(Te),this.decodeRowResult+=M,L=_;for(let De of v)_+=De;_=h.getNextSet(_)}while(M!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let W=0;for(let Te of v)W+=Te;let ne=_-L-W;if(_!==C&&ne*2<W)throw new re;if(this.usingCheckDigit){let Te=this.decodeRowResult.length-1,De=0;for(let $e=0;$e<Te;$e++)De+=yn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt($e));if(this.decodeRowResult.charAt(Te)!==yn.ALPHABET_STRING.charAt(De%43))throw new A;this.decodeRowResult=this.decodeRowResult.substring(0,Te)}if(this.decodeRowResult.length===0)throw new re;let ae;this.extendedMode?ae=yn.decodeExtended(this.decodeRowResult):ae=this.decodeRowResult;let ve=(b[1]+b[0])/2,Se=L+W/2;return new se(ae,null,0,[new mt(ve,l),new mt(Se,l)],Ee.CODE_39,new Date().getTime())}static findAsteriskPattern(l,h){let m=l.getSize(),v=l.getNextSet(0),b=0,_=v,C=!1,M=h.length;for(let L=v;L<m;L++)if(l.get(L)!==C)h[b]++;else{if(b===M-1){if(this.toNarrowWidePattern(h)===yn.ASTERISK_ENCODING&&l.isRange(Math.max(0,_-Math.floor((L-_)/2)),_,!1))return[_,L];_+=h[0]+h[1],h.copyWithin(0,2,2+b-1),h[b-1]=0,h[b]=0,b--}else b++;h[b]=1,C=!C}throw new re}static toNarrowWidePattern(l){let h=l.length,m=0,v;do{let b=2147483647;for(let M of l)M<b&&M>m&&(b=M);m=b,v=0;let _=0,C=0;for(let M=0;M<h;M++){let L=l[M];L>m&&(C|=1<<h-1-M,v++,_+=L)}if(v===3){for(let M=0;M<h&&v>0;M++){let L=l[M];if(L>m&&(v--,L*2>=_))return-1}return C}}while(v>3);return-1}static patternToChar(l){for(let h=0;h<yn.CHARACTER_ENCODINGS.length;h++)if(yn.CHARACTER_ENCODINGS[h]===l)return yn.ALPHABET_STRING.charAt(h);if(l===yn.ASTERISK_ENCODING)return"*";throw new re}static decodeExtended(l){let h=l.length,m="";for(let v=0;v<h;v++){let b=l.charAt(v);if(b==="+"||b==="$"||b==="%"||b==="/"){let _=l.charAt(v+1),C="\0";switch(b){case"+":if(_>="A"&&_<="Z")C=String.fromCharCode(_.charCodeAt(0)+32);else throw new F;break;case"$":if(_>="A"&&_<="Z")C=String.fromCharCode(_.charCodeAt(0)-64);else throw new F;break;case"%":if(_>="A"&&_<="E")C=String.fromCharCode(_.charCodeAt(0)-38);else if(_>="F"&&_<="J")C=String.fromCharCode(_.charCodeAt(0)-11);else if(_>="K"&&_<="O")C=String.fromCharCode(_.charCodeAt(0)+16);else if(_>="P"&&_<="T")C=String.fromCharCode(_.charCodeAt(0)+43);else if(_==="U")C="\0";else if(_==="V")C="@";else if(_==="W")C="`";else if(_==="X"||_==="Y"||_==="Z")C="";else throw new F;break;case"/":if(_>="A"&&_<="O")C=String.fromCharCode(_.charCodeAt(0)-32);else if(_==="Z")C=":";else throw new F;break}m+=C,v++}else m+=b}return m}}yn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",yn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],yn.ASTERISK_ENCODING=148;class Ht extends mn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(l,h,m){let v=this.decodeStart(h),b=this.decodeEnd(h),_=new q;Ht.decodeMiddle(h,v[1],b[0],_);let C=_.toString(),M=null;m!=null&&(M=m.get(Z.ALLOWED_LENGTHS)),M==null&&(M=Ht.DEFAULT_ALLOWED_LENGTHS);let L=C.length,W=!1,ne=0;for(let Se of M){if(L===Se){W=!0;break}Se>ne&&(ne=Se)}if(!W&&L>ne&&(W=!0),!W)throw new F;const ae=[new mt(v[1],l),new mt(b[0],l)];return new se(C,null,0,ae,Ee.ITF,new Date().getTime())}static decodeMiddle(l,h,m,v){let b=new Int32Array(10),_=new Int32Array(5),C=new Int32Array(5);for(b.fill(0),_.fill(0),C.fill(0);h<m;){mn.recordPattern(l,h,b);for(let L=0;L<5;L++){let W=2*L;_[L]=b[W],C[L]=b[W+1]}let M=Ht.decodeDigit(_);v.append(M.toString()),M=this.decodeDigit(C),v.append(M.toString()),b.forEach(function(L){h+=L})}}decodeStart(l){let h=Ht.skipWhiteSpace(l),m=Ht.findGuardPattern(l,h,Ht.START_PATTERN);return this.narrowLineWidth=(m[1]-m[0])/4,this.validateQuietZone(l,m[0]),m}validateQuietZone(l,h){let m=this.narrowLineWidth*10;m=m<h?m:h;for(let v=h-1;m>0&&v>=0&&!l.get(v);v--)m--;if(m!==0)throw new re}static skipWhiteSpace(l){const h=l.getSize(),m=l.getNextSet(0);if(m===h)throw new re;return m}decodeEnd(l){l.reverse();try{let h=Ht.skipWhiteSpace(l),m;try{m=Ht.findGuardPattern(l,h,Ht.END_PATTERN_REVERSED[0])}catch(b){b instanceof re&&(m=Ht.findGuardPattern(l,h,Ht.END_PATTERN_REVERSED[1]))}this.validateQuietZone(l,m[0]);let v=m[0];return m[0]=l.getSize()-m[1],m[1]=l.getSize()-v,m}finally{l.reverse()}}static findGuardPattern(l,h,m){let v=m.length,b=new Int32Array(v),_=l.getSize(),C=!1,M=0,L=h;b.fill(0);for(let W=h;W<_;W++)if(l.get(W)!==C)b[M]++;else{if(M===v-1){if(mn.patternMatchVariance(b,m,Ht.MAX_INDIVIDUAL_VARIANCE)<Ht.MAX_AVG_VARIANCE)return[L,W];L+=b[0]+b[1],S.arraycopy(b,2,b,0,M-1),b[M-1]=0,b[M]=0,M--}else M++;b[M]=1,C=!C}throw new re}static decodeDigit(l){let h=Ht.MAX_AVG_VARIANCE,m=-1,v=Ht.PATTERNS.length;for(let b=0;b<v;b++){let _=Ht.PATTERNS[b],C=mn.patternMatchVariance(l,_,Ht.MAX_INDIVIDUAL_VARIANCE);C<h?(h=C,m=b):C===h&&(m=-1)}if(m>=0)return m%10;throw new re}}Ht.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ht.MAX_AVG_VARIANCE=.38,Ht.MAX_INDIVIDUAL_VARIANCE=.5,Ht.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ht.START_PATTERN=Int32Array.from([1,1,1,1]),Ht.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class gn extends mn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(l){let h=!1,m,v=0,b=Int32Array.from([0,0,0]);for(;!h;){b=Int32Array.from([0,0,0]),m=gn.findGuardPattern(l,v,!1,this.START_END_PATTERN,b);let _=m[0];v=m[1];let C=_-(v-_);C>=0&&(h=l.isRange(C,_,!1))}return m}static checkChecksum(l){return gn.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let h=l.length;if(h===0)return!1;let m=parseInt(l.charAt(h-1),10);return gn.getStandardUPCEANChecksum(l.substring(0,h-1))===m}static getStandardUPCEANChecksum(l){let h=l.length,m=0;for(let v=h-1;v>=0;v-=2){let b=l.charAt(v).charCodeAt(0)-48;if(b<0||b>9)throw new F;m+=b}m*=3;for(let v=h-2;v>=0;v-=2){let b=l.charAt(v).charCodeAt(0)-48;if(b<0||b>9)throw new F;m+=b}return(1e3-m)%10}static decodeEnd(l,h){return gn.findGuardPattern(l,h,!1,gn.START_END_PATTERN,new Int32Array(gn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(l,h,m,v){return this.findGuardPattern(l,h,m,v,new Int32Array(v.length))}static findGuardPattern(l,h,m,v,b){let _=l.getSize();h=m?l.getNextUnset(h):l.getNextSet(h);let C=0,M=h,L=v.length,W=m;for(let ne=h;ne<_;ne++)if(l.get(ne)!==W)b[C]++;else{if(C===L-1){if(mn.patternMatchVariance(b,v,gn.MAX_INDIVIDUAL_VARIANCE)<gn.MAX_AVG_VARIANCE)return Int32Array.from([M,ne]);M+=b[0]+b[1];let ae=b.slice(2,b.length-1);for(let ve=0;ve<C-1;ve++)b[ve]=ae[ve];b[C-1]=0,b[C]=0,C--}else C++;b[C]=1,W=!W}throw new re}static decodeDigit(l,h,m,v){this.recordPattern(l,m,h);let b=this.MAX_AVG_VARIANCE,_=-1,C=v.length;for(let M=0;M<C;M++){let L=v[M],W=mn.patternMatchVariance(h,L,gn.MAX_INDIVIDUAL_VARIANCE);W<b&&(b=W,_=M)}if(_>=0)return _;throw new re}}gn.MAX_AVG_VARIANCE=.48,gn.MAX_INDIVIDUAL_VARIANCE=.7,gn.START_END_PATTERN=Int32Array.from([1,1,1]),gn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),gn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),gn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class di{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,h,m){let v=this.decodeRowStringBuffer,b=this.decodeMiddle(h,m,v),_=v.toString(),C=di.parseExtensionString(_),M=[new mt((m[0]+m[1])/2,l),new mt(b,l)],L=new se(_,null,0,M,Ee.UPC_EAN_EXTENSION,new Date().getTime());return C!=null&&L.putAllMetadata(C),L}decodeMiddle(l,h,m){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let b=l.getSize(),_=h[1],C=0;for(let L=0;L<5&&_<b;L++){let W=gn.decodeDigit(l,v,_,gn.L_AND_G_PATTERNS);m+=String.fromCharCode(48+W%10);for(let ne of v)_+=ne;W>=10&&(C|=1<<4-L),L!==4&&(_=l.getNextSet(_),_=l.getNextUnset(_))}if(m.length!==5)throw new re;let M=this.determineCheckDigit(C);if(di.extensionChecksum(m.toString())!==M)throw new re;return _}static extensionChecksum(l){let h=l.length,m=0;for(let v=h-2;v>=0;v-=2)m+=l.charAt(v).charCodeAt(0)-48;m*=3;for(let v=h-1;v>=0;v-=2)m+=l.charAt(v).charCodeAt(0)-48;return m*=3,m%10}determineCheckDigit(l){for(let h=0;h<10;h++)if(l===this.CHECK_DIGIT_ENCODINGS[h])return h;throw new re}static parseExtensionString(l){if(l.length!==5)return null;let h=di.parseExtension5String(l);return h==null?null:new Map([[Ge.SUGGESTED_PRICE,h]])}static parseExtension5String(l){let h;switch(l.charAt(0)){case"0":h="";break;case"5":h="$";break;case"9":switch(l){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}h="";break;default:h="";break}let m=parseInt(l.substring(1)),v=(m/100).toString(),b=m%100,_=b<10?"0"+b:b.toString();return h+v+"."+_}}class Wr{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,h,m){let v=this.decodeRowStringBuffer,b=this.decodeMiddle(h,m,v),_=v.toString(),C=Wr.parseExtensionString(_),M=[new mt((m[0]+m[1])/2,l),new mt(b,l)],L=new se(_,null,0,M,Ee.UPC_EAN_EXTENSION,new Date().getTime());return C!=null&&L.putAllMetadata(C),L}decodeMiddle(l,h,m){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let b=l.getSize(),_=h[1],C=0;for(let M=0;M<2&&_<b;M++){let L=gn.decodeDigit(l,v,_,gn.L_AND_G_PATTERNS);m+=String.fromCharCode(48+L%10);for(let W of v)_+=W;L>=10&&(C|=1<<1-M),M!==1&&(_=l.getNextSet(_),_=l.getNextUnset(_))}if(m.length!==2)throw new re;if(parseInt(m.toString())%4!==C)throw new re;return _}static parseExtensionString(l){return l.length!==2?null:new Map([[Ge.ISSUE_NUMBER,parseInt(l)]])}}class hi{static decodeRow(l,h,m){let v=gn.findGuardPattern(h,m,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new di().decodeRow(l,h,v)}catch{return new Wr().decodeRow(l,h,v)}}}hi.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class sn extends gn{constructor(){super(),this.decodeRowStringBuffer="",sn.L_AND_G_PATTERNS=sn.L_PATTERNS.map(l=>Int32Array.from(l));for(let l=10;l<20;l++){let h=sn.L_PATTERNS[l-10],m=new Int32Array(h.length);for(let v=0;v<h.length;v++)m[v]=h[h.length-v-1];sn.L_AND_G_PATTERNS[l]=m}}decodeRow(l,h,m){let v=sn.findStartGuardPattern(h),b=m==null?null:m.get(Z.NEED_RESULT_POINT_CALLBACK);if(b!=null){const ft=new mt((v[0]+v[1])/2,l);b.foundPossibleResultPoint(ft)}let _=this.decodeMiddle(h,v,this.decodeRowStringBuffer),C=_.rowOffset,M=_.resultString;if(b!=null){const ft=new mt(C,l);b.foundPossibleResultPoint(ft)}let L=this.decodeEnd(h,C);if(b!=null){const ft=new mt((L[0]+L[1])/2,l);b.foundPossibleResultPoint(ft)}let W=L[1],ne=W+(W-L[0]);if(ne>=h.getSize()||!h.isRange(W,ne,!1))throw new re;let ae=M.toString();if(ae.length<8)throw new F;if(!sn.checkChecksum(ae))throw new A;let ve=(v[1]+v[0])/2,Se=(L[1]+L[0])/2,Te=this.getBarcodeFormat(),De=[new mt(ve,l),new mt(Se,l)],$e=new se(ae,null,0,De,Te,new Date().getTime()),vt=0;try{let ft=hi.decodeRow(l,h,L[1]);$e.putMetadata(Ge.UPC_EAN_EXTENSION,ft.getText()),$e.putAllMetadata(ft.getResultMetadata()),$e.addResultPoints(ft.getResultPoints()),vt=ft.getText().length}catch{}let xt=m==null?null:m.get(Z.ALLOWED_EAN_EXTENSIONS);if(xt!=null){let ft=!1;for(let _n in xt)if(vt.toString()===_n){ft=!0;break}if(!ft)throw new re}return $e}decodeEnd(l,h){return sn.findGuardPattern(l,h,!1,sn.START_END_PATTERN,new Int32Array(sn.START_END_PATTERN.length).fill(0))}static checkChecksum(l){return sn.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let h=l.length;if(h===0)return!1;let m=parseInt(l.charAt(h-1),10);return sn.getStandardUPCEANChecksum(l.substring(0,h-1))===m}static getStandardUPCEANChecksum(l){let h=l.length,m=0;for(let v=h-1;v>=0;v-=2){let b=l.charAt(v).charCodeAt(0)-48;if(b<0||b>9)throw new F;m+=b}m*=3;for(let v=h-2;v>=0;v-=2){let b=l.charAt(v).charCodeAt(0)-48;if(b<0||b>9)throw new F;m+=b}return(1e3-m)%10}}class kn extends sn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,h,m){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let b=l.getSize(),_=h[1],C=0;for(let L=0;L<6&&_<b;L++){let W=sn.decodeDigit(l,v,_,sn.L_AND_G_PATTERNS);m+=String.fromCharCode(48+W%10);for(let ne of v)_+=ne;W>=10&&(C|=1<<5-L)}m=kn.determineFirstDigit(m,C),_=sn.findGuardPattern(l,_,!0,sn.MIDDLE_PATTERN,new Int32Array(sn.MIDDLE_PATTERN.length).fill(0))[1];for(let L=0;L<6&&_<b;L++){let W=sn.decodeDigit(l,v,_,sn.L_PATTERNS);m+=String.fromCharCode(48+W);for(let ne of v)_+=ne}return{rowOffset:_,resultString:m}}getBarcodeFormat(){return Ee.EAN_13}static determineFirstDigit(l,h){for(let m=0;m<10;m++)if(h===this.FIRST_DIGIT_ENCODINGS[m])return l=String.fromCharCode(48+m)+l,l;throw new re}}kn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class kr extends sn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,h,m){const v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let b=l.getSize(),_=h[1];for(let M=0;M<4&&_<b;M++){let L=sn.decodeDigit(l,v,_,sn.L_PATTERNS);m+=String.fromCharCode(48+L);for(let W of v)_+=W}_=sn.findGuardPattern(l,_,!0,sn.MIDDLE_PATTERN,new Int32Array(sn.MIDDLE_PATTERN.length).fill(0))[1];for(let M=0;M<4&&_<b;M++){let L=sn.decodeDigit(l,v,_,sn.L_PATTERNS);m+=String.fromCharCode(48+L);for(let W of v)_+=W}return{rowOffset:_,resultString:m}}getBarcodeFormat(){return Ee.EAN_8}}class sa extends sn{constructor(){super(...arguments),this.ean13Reader=new kn}getBarcodeFormat(){return Ee.UPC_A}decode(l,h){return this.maybeReturnResult(this.ean13Reader.decode(l))}decodeRow(l,h,m){return this.maybeReturnResult(this.ean13Reader.decodeRow(l,h,m))}decodeMiddle(l,h,m){return this.ean13Reader.decodeMiddle(l,h,m)}maybeReturnResult(l){let h=l.getText();if(h.charAt(0)==="0"){let m=new se(h.substring(1),null,null,l.getResultPoints(),Ee.UPC_A);return l.getResultMetadata()!=null&&m.putAllMetadata(l.getResultMetadata()),m}else throw new re}reset(){this.ean13Reader.reset()}}class _r extends sn{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(l,h,m){const v=this.decodeMiddleCounters.map(L=>L);v[0]=0,v[1]=0,v[2]=0,v[3]=0;const b=l.getSize();let _=h[1],C=0;for(let L=0;L<6&&_<b;L++){const W=_r.decodeDigit(l,v,_,_r.L_AND_G_PATTERNS);m+=String.fromCharCode(48+W%10);for(let ne of v)_+=ne;W>=10&&(C|=1<<5-L)}let M=_r.determineNumSysAndCheckDigit(m,C);return{rowOffset:_,resultString:M}}decodeEnd(l,h){return _r.findGuardPatternWithoutCounters(l,h,!0,_r.MIDDLE_END_PATTERN)}checkChecksum(l){return sn.checkChecksum(_r.convertUPCEtoUPCA(l))}static determineNumSysAndCheckDigit(l,h){for(let m=0;m<=1;m++)for(let v=0;v<10;v++)if(h===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[m][v]){let b=String.fromCharCode(48+m),_=String.fromCharCode(48+v);return b+l+_}throw re.getNotFoundInstance()}getBarcodeFormat(){return Ee.UPC_E}static convertUPCEtoUPCA(l){const h=l.slice(1,7).split("").map(b=>b.charCodeAt(0)),m=new q;m.append(l.charAt(0));let v=h[5];switch(v){case 0:case 1:case 2:m.appendChars(h,0,2),m.append(v),m.append("0000"),m.appendChars(h,2,3);break;case 3:m.appendChars(h,0,3),m.append("00000"),m.appendChars(h,3,2);break;case 4:m.appendChars(h,0,4),m.append("00000"),m.append(h[4]);break;default:m.appendChars(h,0,5),m.append("0000"),m.append(v);break}return l.length>=8&&m.append(l.charAt(7)),m.toString()}}_r.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),_r.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class qs extends mn{constructor(l){super();let h=l==null?null:l.get(Z.POSSIBLE_FORMATS),m=[];r(h)?(m.push(new kn),m.push(new sa),m.push(new kr),m.push(new _r)):(h.indexOf(Ee.EAN_13)>-1&&m.push(new kn),h.indexOf(Ee.UPC_A)>-1&&m.push(new sa),h.indexOf(Ee.EAN_8)>-1&&m.push(new kr),h.indexOf(Ee.UPC_E)>-1&&m.push(new _r)),this.readers=m}decodeRow(l,h,m){for(let v of this.readers)try{const b=v.decodeRow(l,h,m),_=b.getBarcodeFormat()===Ee.EAN_13&&b.getText().charAt(0)==="0",C=m==null?null:m.get(Z.POSSIBLE_FORMATS),M=C==null||C.includes(Ee.UPC_A);if(_&&M){const L=b.getRawBytes(),W=new se(b.getText().substring(1),L,L?L.length:null,b.getResultPoints(),Ee.UPC_A);return W.putAllMetadata(b.getResultMetadata()),W}return b}catch{}throw new re}reset(){for(let l of this.readers)l.reset()}}class Dr extends mn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,h){for(let m=0;m<h.length;m++)if(mn.patternMatchVariance(l,h[m],Dr.MAX_INDIVIDUAL_VARIANCE)<Dr.MAX_AVG_VARIANCE)return m;throw new re}static count(l){return _t.sum(new Int32Array(l))}static increment(l,h){let m=0,v=h[0];for(let b=1;b<l.length;b++)h[b]>v&&(v=h[b],m=b);l[m]++}static decrement(l,h){let m=0,v=h[0];for(let b=1;b<l.length;b++)h[b]<v&&(v=h[b],m=b);l[m]--}static isFinderPattern(l){let h=l[0]+l[1],m=h+l[2]+l[3],v=h/m;if(v>=Dr.MIN_FINDER_PATTERN_RATIO&&v<=Dr.MAX_FINDER_PATTERN_RATIO){let b=Number.MAX_SAFE_INTEGER,_=Number.MIN_SAFE_INTEGER;for(let C of l)C>_&&(_=C),C<b&&(b=C);return _<10*b}return!1}}Dr.MAX_AVG_VARIANCE=.2,Dr.MAX_INDIVIDUAL_VARIANCE=.45,Dr.MIN_FINDER_PATTERN_RATIO=9.5/12,Dr.MAX_FINDER_PATTERN_RATIO=12.5/14;class ni{constructor(l,h){this.value=l,this.checksumPortion=h}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(l){if(!(l instanceof ni))return!1;const h=l;return this.value===h.value&&this.checksumPortion===h.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ha{constructor(l,h,m,v,b){this.value=l,this.startEnd=h,this.value=l,this.startEnd=h,this.resultPoints=new Array,this.resultPoints.push(new mt(m,b)),this.resultPoints.push(new mt(v,b))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(l){if(!(l instanceof Ha))return!1;const h=l;return this.value===h.value}hashCode(){return this.value}}class Un{constructor(){}static getRSSvalue(l,h,m){let v=0;for(let M of l)v+=M;let b=0,_=0,C=l.length;for(let M=0;M<C-1;M++){let L;for(L=1,_|=1<<M;L<l[M];L++,_&=~(1<<M)){let W=Un.combins(v-L-1,C-M-2);if(m&&_===0&&v-L-(C-M-1)>=C-M-1&&(W-=Un.combins(v-L-(C-M),C-M-2)),C-M-1>1){let ne=0;for(let ae=v-L-(C-M-2);ae>h;ae--)ne+=Un.combins(v-L-ae-1,C-M-3);W-=ne*(C-1-M)}else v-L>h&&W--;b+=W}v-=L}return b}static combins(l,h){let m,v;l-h>h?(v=h,m=l-h):(v=l-h,m=h);let b=1,_=1;for(let C=l;C>m;C--)b*=C,_<=v&&(b/=_,_++);for(;_<=v;)b/=_,_++;return b}}class Gr{static buildBitArray(l){let h=l.length*2-1;l[l.length-1].getRightChar()==null&&(h-=1);let m=12*h,v=new V(m),b=0,C=l[0].getRightChar().getValue();for(let M=11;M>=0;--M)(C&1<<M)!=0&&v.set(b),b++;for(let M=1;M<l.length;++M){let L=l[M],W=L.getLeftChar().getValue();for(let ne=11;ne>=0;--ne)(W&1<<ne)!=0&&v.set(b),b++;if(L.getRightChar()!=null){let ne=L.getRightChar().getValue();for(let ae=11;ae>=0;--ae)(ne&1<<ae)!=0&&v.set(b),b++}}return v}}class Ar{constructor(l,h){h?this.decodedInformation=null:(this.finished=l,this.decodedInformation=h)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Pi{constructor(l){this.newPosition=l}getNewPosition(){return this.newPosition}}class Pr extends Pi{constructor(l,h){super(l),this.value=h}getValue(){return this.value}isFNC1(){return this.value===Pr.FNC1}}Pr.FNC1="$";class Ci extends Pi{constructor(l,h,m){super(l),m?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=h}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ie extends Pi{constructor(l,h,m){if(super(l),h<0||h>10||m<0||m>10)throw new F;this.firstDigit=h,this.secondDigit=m}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ie.FNC1}isSecondDigitFNC1(){return this.secondDigit===ie.FNC1}isAnyFNC1(){return this.firstDigit===ie.FNC1||this.secondDigit===ie.FNC1}}ie.FNC1=10;class ce{constructor(){}static parseFieldsInGeneralPurpose(l){if(!l)return null;if(l.length<2)throw new re;let h=l.substring(0,2);for(let b of ce.TWO_DIGIT_DATA_LENGTH)if(b[0]===h)return b[1]===ce.VARIABLE_LENGTH?ce.processVariableAI(2,b[2],l):ce.processFixedAI(2,b[1],l);if(l.length<3)throw new re;let m=l.substring(0,3);for(let b of ce.THREE_DIGIT_DATA_LENGTH)if(b[0]===m)return b[1]===ce.VARIABLE_LENGTH?ce.processVariableAI(3,b[2],l):ce.processFixedAI(3,b[1],l);for(let b of ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(b[0]===m)return b[1]===ce.VARIABLE_LENGTH?ce.processVariableAI(4,b[2],l):ce.processFixedAI(4,b[1],l);if(l.length<4)throw new re;let v=l.substring(0,4);for(let b of ce.FOUR_DIGIT_DATA_LENGTH)if(b[0]===v)return b[1]===ce.VARIABLE_LENGTH?ce.processVariableAI(4,b[2],l):ce.processFixedAI(4,b[1],l);throw new re}static processFixedAI(l,h,m){if(m.length<l)throw new re;let v=m.substring(0,l);if(m.length<l+h)throw new re;let b=m.substring(l,l+h),_=m.substring(l+h),C="("+v+")"+b,M=ce.parseFieldsInGeneralPurpose(_);return M==null?C:C+M}static processVariableAI(l,h,m){let v=m.substring(0,l),b;m.length<l+h?b=m.length:b=l+h;let _=m.substring(l,b),C=m.substring(b),M="("+v+")"+_,L=ce.parseFieldsInGeneralPurpose(C);return L==null?M:M+L}}ce.VARIABLE_LENGTH=[],ce.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ce.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ce.VARIABLE_LENGTH,20],["22",ce.VARIABLE_LENGTH,29],["30",ce.VARIABLE_LENGTH,8],["37",ce.VARIABLE_LENGTH,8],["90",ce.VARIABLE_LENGTH,30],["91",ce.VARIABLE_LENGTH,30],["92",ce.VARIABLE_LENGTH,30],["93",ce.VARIABLE_LENGTH,30],["94",ce.VARIABLE_LENGTH,30],["95",ce.VARIABLE_LENGTH,30],["96",ce.VARIABLE_LENGTH,30],["97",ce.VARIABLE_LENGTH,3],["98",ce.VARIABLE_LENGTH,30],["99",ce.VARIABLE_LENGTH,30]],ce.THREE_DIGIT_DATA_LENGTH=[["240",ce.VARIABLE_LENGTH,30],["241",ce.VARIABLE_LENGTH,30],["242",ce.VARIABLE_LENGTH,6],["250",ce.VARIABLE_LENGTH,30],["251",ce.VARIABLE_LENGTH,30],["253",ce.VARIABLE_LENGTH,17],["254",ce.VARIABLE_LENGTH,20],["400",ce.VARIABLE_LENGTH,30],["401",ce.VARIABLE_LENGTH,30],["402",17],["403",ce.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ce.VARIABLE_LENGTH,20],["421",ce.VARIABLE_LENGTH,15],["422",3],["423",ce.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ce.VARIABLE_LENGTH,15],["391",ce.VARIABLE_LENGTH,18],["392",ce.VARIABLE_LENGTH,15],["393",ce.VARIABLE_LENGTH,18],["703",ce.VARIABLE_LENGTH,30]],ce.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ce.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ce.VARIABLE_LENGTH,20],["8003",ce.VARIABLE_LENGTH,30],["8004",ce.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ce.VARIABLE_LENGTH,30],["8008",ce.VARIABLE_LENGTH,12],["8018",18],["8020",ce.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ce.VARIABLE_LENGTH,70],["8200",ce.VARIABLE_LENGTH,70]];class de{constructor(l){this.buffer=new q,this.information=l}decodeAllCodes(l,h){let m=h,v=null;do{let b=this.decodeGeneralPurposeField(m,v),_=ce.parseFieldsInGeneralPurpose(b.getNewString());if(_!=null&&l.append(_),b.isRemaining()?v=""+b.getRemainingValue():v=null,m===b.getNewPosition())break;m=b.getNewPosition()}while(!0);return l.toString()}isStillNumeric(l){if(l+7>this.information.getSize())return l+4<=this.information.getSize();for(let h=l;h<l+3;++h)if(this.information.get(h))return!0;return this.information.get(l+3)}decodeNumeric(l){if(l+7>this.information.getSize()){let b=this.extractNumericValueFromBitArray(l,4);return b===0?new ie(this.information.getSize(),ie.FNC1,ie.FNC1):new ie(this.information.getSize(),b-1,ie.FNC1)}let h=this.extractNumericValueFromBitArray(l,7),m=(h-8)/11,v=(h-8)%11;return new ie(l+7,m,v)}extractNumericValueFromBitArray(l,h){return de.extractNumericValueFromBitArray(this.information,l,h)}static extractNumericValueFromBitArray(l,h,m){let v=0;for(let b=0;b<m;++b)l.get(h+b)&&(v|=1<<m-b-1);return v}decodeGeneralPurposeField(l,h){this.buffer.setLengthToZero(),h!=null&&this.buffer.append(h),this.current.setPosition(l);let m=this.parseBlocks();return m!=null&&m.isRemaining()?new Ci(this.current.getPosition(),this.buffer.toString(),m.getRemainingValue()):new Ci(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let l,h;do{let m=this.current.getPosition();if(this.current.isAlpha()?(h=this.parseAlphaBlock(),l=h.isFinished()):this.current.isIsoIec646()?(h=this.parseIsoIec646Block(),l=h.isFinished()):(h=this.parseNumericBlock(),l=h.isFinished()),!(m!==this.current.getPosition())&&!l)break}while(!l);return h.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let l=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFirstDigitFNC1()){let h;return l.isSecondDigitFNC1()?h=new Ci(this.current.getPosition(),this.buffer.toString()):h=new Ci(this.current.getPosition(),this.buffer.toString(),l.getSecondDigit()),new Ar(!0,h)}if(this.buffer.append(l.getFirstDigit()),l.isSecondDigitFNC1()){let h=new Ci(this.current.getPosition(),this.buffer.toString());return new Ar(!0,h)}this.buffer.append(l.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ar(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let l=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let h=new Ci(this.current.getPosition(),this.buffer.toString());return new Ar(!0,h)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ar(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let l=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let h=new Ci(this.current.getPosition(),this.buffer.toString());return new Ar(!0,h)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ar(!1)}isStillIsoIec646(l){if(l+5>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(l,5);if(h>=5&&h<16)return!0;if(l+7>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(l,7);if(m>=64&&m<116)return!0;if(l+8>this.information.getSize())return!1;let v=this.extractNumericValueFromBitArray(l,8);return v>=232&&v<253}decodeIsoIec646(l){let h=this.extractNumericValueFromBitArray(l,5);if(h===15)return new Pr(l+5,Pr.FNC1);if(h>=5&&h<15)return new Pr(l+5,"0"+(h-5));let m=this.extractNumericValueFromBitArray(l,7);if(m>=64&&m<90)return new Pr(l+7,""+(m+1));if(m>=90&&m<116)return new Pr(l+7,""+(m+7));let v=this.extractNumericValueFromBitArray(l,8),b;switch(v){case 232:b="!";break;case 233:b='"';break;case 234:b="%";break;case 235:b="&";break;case 236:b="'";break;case 237:b="(";break;case 238:b=")";break;case 239:b="*";break;case 240:b="+";break;case 241:b=",";break;case 242:b="-";break;case 243:b=".";break;case 244:b="/";break;case 245:b=":";break;case 246:b=";";break;case 247:b="<";break;case 248:b="=";break;case 249:b=">";break;case 250:b="?";break;case 251:b="_";break;case 252:b=" ";break;default:throw new F}return new Pr(l+8,b)}isStillAlpha(l){if(l+5>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(l,5);if(h>=5&&h<16)return!0;if(l+6>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(l,6);return m>=16&&m<63}decodeAlphanumeric(l){let h=this.extractNumericValueFromBitArray(l,5);if(h===15)return new Pr(l+5,Pr.FNC1);if(h>=5&&h<15)return new Pr(l+5,"0"+(h-5));let m=this.extractNumericValueFromBitArray(l,6);if(m>=32&&m<58)return new Pr(l+6,""+(m+33));let v;switch(m){case 58:v="*";break;case 59:v=",";break;case 60:v="-";break;case 61:v=".";break;case 62:v="/";break;default:throw new Ut("Decoding invalid alphanumeric value: "+m)}return new Pr(l+6,v)}isAlphaTo646ToAlphaLatch(l){if(l+1>this.information.getSize())return!1;for(let h=0;h<5&&h+l<this.information.getSize();++h)if(h===2){if(!this.information.get(l+2))return!1}else if(this.information.get(l+h))return!1;return!0}isAlphaOr646ToNumericLatch(l){if(l+3>this.information.getSize())return!1;for(let h=l;h<l+3;++h)if(this.information.get(h))return!1;return!0}isNumericToAlphaNumericLatch(l){if(l+1>this.information.getSize())return!1;for(let h=0;h<4&&h+l<this.information.getSize();++h)if(this.information.get(l+h))return!1;return!0}}class pe{constructor(l){this.information=l,this.generalDecoder=new de(l)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class ge extends pe{constructor(l){super(l)}encodeCompressedGtin(l,h){l.append("(01)");let m=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,h,m)}encodeCompressedGtinWithoutAI(l,h,m){for(let v=0;v<4;++v){let b=this.getGeneralDecoder().extractNumericValueFromBitArray(h+10*v,10);b/100===0&&l.append("0"),b/10===0&&l.append("0"),l.append(b)}ge.appendCheckDigit(l,m)}static appendCheckDigit(l,h){let m=0;for(let v=0;v<13;v++){let b=l.charAt(v+h).charCodeAt(0)-48;m+=(v&1)===0?3*b:b}m=10-m%10,m===10&&(m=0),l.append(m)}}ge.GTIN_SIZE=40;class we extends ge{constructor(l){super(l)}parseInformation(){let l=new q;l.append("(01)");let h=l.length(),m=this.getGeneralDecoder().extractNumericValueFromBitArray(we.HEADER_SIZE,4);return l.append(m),this.encodeCompressedGtinWithoutAI(l,we.HEADER_SIZE+4,h),this.getGeneralDecoder().decodeAllCodes(l,we.HEADER_SIZE+44)}}we.HEADER_SIZE=4;class Le extends pe{constructor(l){super(l)}parseInformation(){let l=new q;return this.getGeneralDecoder().decodeAllCodes(l,Le.HEADER_SIZE)}}Le.HEADER_SIZE=5;class Ze extends ge{constructor(l){super(l)}encodeCompressedWeight(l,h,m){let v=this.getGeneralDecoder().extractNumericValueFromBitArray(h,m);this.addWeightCode(l,v);let b=this.checkWeight(v),_=1e5;for(let C=0;C<5;++C)b/_===0&&l.append("0"),_/=10;l.append(b)}}class Pe extends Ze{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=Pe.HEADER_SIZE+Ze.GTIN_SIZE+Pe.WEIGHT_SIZE)throw new re;let l=new q;return this.encodeCompressedGtin(l,Pe.HEADER_SIZE),this.encodeCompressedWeight(l,Pe.HEADER_SIZE+Ze.GTIN_SIZE,Pe.WEIGHT_SIZE),l.toString()}}Pe.HEADER_SIZE=5,Pe.WEIGHT_SIZE=15;class We extends Pe{constructor(l){super(l)}addWeightCode(l,h){l.append("(3103)")}checkWeight(l){return l}}class Ve extends Pe{constructor(l){super(l)}addWeightCode(l,h){h<1e4?l.append("(3202)"):l.append("(3203)")}checkWeight(l){return l<1e4?l:l-1e4}}class ot extends ge{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<ot.HEADER_SIZE+ge.GTIN_SIZE)throw new re;let l=new q;this.encodeCompressedGtin(l,ot.HEADER_SIZE);let h=this.getGeneralDecoder().extractNumericValueFromBitArray(ot.HEADER_SIZE+ge.GTIN_SIZE,ot.LAST_DIGIT_SIZE);l.append("(392"),l.append(h),l.append(")");let m=this.getGeneralDecoder().decodeGeneralPurposeField(ot.HEADER_SIZE+ge.GTIN_SIZE+ot.LAST_DIGIT_SIZE,null);return l.append(m.getNewString()),l.toString()}}ot.HEADER_SIZE=8,ot.LAST_DIGIT_SIZE=2;class dt extends ge{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<dt.HEADER_SIZE+ge.GTIN_SIZE)throw new re;let l=new q;this.encodeCompressedGtin(l,dt.HEADER_SIZE);let h=this.getGeneralDecoder().extractNumericValueFromBitArray(dt.HEADER_SIZE+ge.GTIN_SIZE,dt.LAST_DIGIT_SIZE);l.append("(393"),l.append(h),l.append(")");let m=this.getGeneralDecoder().extractNumericValueFromBitArray(dt.HEADER_SIZE+ge.GTIN_SIZE+dt.LAST_DIGIT_SIZE,dt.FIRST_THREE_DIGITS_SIZE);m/100==0&&l.append("0"),m/10==0&&l.append("0"),l.append(m);let v=this.getGeneralDecoder().decodeGeneralPurposeField(dt.HEADER_SIZE+ge.GTIN_SIZE+dt.LAST_DIGIT_SIZE+dt.FIRST_THREE_DIGITS_SIZE,null);return l.append(v.getNewString()),l.toString()}}dt.HEADER_SIZE=8,dt.LAST_DIGIT_SIZE=2,dt.FIRST_THREE_DIGITS_SIZE=10;class ht extends Ze{constructor(l,h,m){super(l),this.dateCode=m,this.firstAIdigits=h}parseInformation(){if(this.getInformation().getSize()!=ht.HEADER_SIZE+ht.GTIN_SIZE+ht.WEIGHT_SIZE+ht.DATE_SIZE)throw new re;let l=new q;return this.encodeCompressedGtin(l,ht.HEADER_SIZE),this.encodeCompressedWeight(l,ht.HEADER_SIZE+ht.GTIN_SIZE,ht.WEIGHT_SIZE),this.encodeCompressedDate(l,ht.HEADER_SIZE+ht.GTIN_SIZE+ht.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,h){let m=this.getGeneralDecoder().extractNumericValueFromBitArray(h,ht.DATE_SIZE);if(m==38400)return;l.append("("),l.append(this.dateCode),l.append(")");let v=m%32;m/=32;let b=m%12+1;m/=12;let _=m;_/10==0&&l.append("0"),l.append(_),b/10==0&&l.append("0"),l.append(b),v/10==0&&l.append("0"),l.append(v)}addWeightCode(l,h){l.append("("),l.append(this.firstAIdigits),l.append(h/1e5),l.append(")")}checkWeight(l){return l%1e5}}ht.HEADER_SIZE=8,ht.WEIGHT_SIZE=20,ht.DATE_SIZE=16;function pt(te){try{if(te.get(1))return new we(te);if(!te.get(2))return new Le(te);switch(de.extractNumericValueFromBitArray(te,1,4)){case 4:return new We(te);case 5:return new Ve(te)}switch(de.extractNumericValueFromBitArray(te,1,5)){case 12:return new ot(te);case 13:return new dt(te)}switch(de.extractNumericValueFromBitArray(te,1,7)){case 56:return new ht(te,"310","11");case 57:return new ht(te,"320","11");case 58:return new ht(te,"310","13");case 59:return new ht(te,"320","13");case 60:return new ht(te,"310","15");case 61:return new ht(te,"320","15");case 62:return new ht(te,"310","17");case 63:return new ht(te,"320","17")}}catch(l){throw console.log(l),new Ut("unknown decoder: "+te)}}class Et{constructor(l,h,m,v){this.leftchar=l,this.rightchar=h,this.finderpattern=m,this.maybeLast=v}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(l,h){return l instanceof Et?Et.equalsOrNull(l.leftchar,h.leftchar)&&Et.equalsOrNull(l.rightchar,h.rightchar)&&Et.equalsOrNull(l.finderpattern,h.finderpattern):!1}static equalsOrNull(l,h){return l===null?h===null:Et.equals(l,h)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class kt{constructor(l,h,m){this.pairs=l,this.rowNumber=h,this.wasReversed=m}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(l){return this.checkEqualitity(this,l)}toString(){return"{ "+this.pairs+" }"}equals(l,h){return l instanceof kt?this.checkEqualitity(l,h)&&l.wasReversed===h.wasReversed:!1}checkEqualitity(l,h){if(!l||!h)return;let m;return l.forEach((v,b)=>{h.forEach(_=>{v.getLeftChar().getValue()===_.getLeftChar().getValue()&&v.getRightChar().getValue()===_.getRightChar().getValue()&&v.getFinderPatter().getValue()===_.getFinderPatter().getValue()&&(m=!0)})}),m}}class Qe extends Dr{constructor(l){super(...arguments),this.pairs=new Array(Qe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=l===!0}decodeRow(l,h,m){this.pairs.length=0,this.startFromEven=!1;try{return Qe.constructResult(this.decodeRow2pairs(l,h))}catch(v){this.verbose&&console.log(v)}return this.pairs.length=0,this.startFromEven=!0,Qe.constructResult(this.decodeRow2pairs(l,h))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(l,h){let m=!1;for(;!m;)try{this.pairs.push(this.retrieveNextPair(h,this.pairs,l))}catch(b){if(b instanceof re){if(!this.pairs.length)throw new re;m=!0}}if(this.checkChecksum())return this.pairs;let v;if(this.rows.length?v=!0:v=!1,this.storeRow(l,!1),v){let b=this.checkRowsBoolean(!1);if(b!=null||(b=this.checkRowsBoolean(!0),b!=null))return b}throw new re}checkRowsBoolean(l){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,l&&(this.rows=this.rows.reverse());let h=null;try{h=this.checkRows(new Array,0)}catch(m){this.verbose&&console.log(m)}return l&&(this.rows=this.rows.reverse()),h}checkRows(l,h){for(let m=h;m<this.rows.length;m++){let v=this.rows[m];this.pairs.length=0;for(let _ of l)this.pairs.push(_.getPairs());if(this.pairs.push(v.getPairs()),!Qe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let b=new Array(l);b.push(v);try{return this.checkRows(b,m+1)}catch(_){this.verbose&&console.log(_)}}throw new re}static isValidSequence(l){for(let h of Qe.FINDER_PATTERN_SEQUENCES){if(l.length>h.length)continue;let m=!0;for(let v=0;v<l.length;v++)if(l[v].getFinderPattern().getValue()!=h[v]){m=!1;break}if(m)return!0}return!1}storeRow(l,h){let m=0,v=!1,b=!1;for(;m<this.rows.length;){let _=this.rows[m];if(_.getRowNumber()>l){b=_.isEquivalent(this.pairs);break}v=_.isEquivalent(this.pairs),m++}b||v||Qe.isPartialRow(this.pairs,this.rows)||(this.rows.push(m,new kt(this.pairs,l,h)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(l,h){for(let m of h)if(m.getPairs().length!==l.length){for(let v of m.getPairs())for(let b of l)if(Et.equals(v,b))break}}static isPartialRow(l,h){for(let m of h){let v=!0;for(let b of l){let _=!1;for(let C of m.getPairs())if(b.equals(C)){_=!0;break}if(!_){v=!1;break}}if(v)return!0}return!1}getRows(){return this.rows}static constructResult(l){let h=Gr.buildBitArray(l),v=pt(h).parseInformation(),b=l[0].getFinderPattern().getResultPoints(),_=l[l.length-1].getFinderPattern().getResultPoints(),C=[b[0],b[1],_[0],_[1]];return new se(v,null,null,C,Ee.RSS_EXPANDED,null)}checkChecksum(){let l=this.pairs.get(0),h=l.getLeftChar(),m=l.getRightChar();if(m==null)return!1;let v=m.getChecksumPortion(),b=2;for(let C=1;C<this.pairs.size();++C){let M=this.pairs.get(C);v+=M.getLeftChar().getChecksumPortion(),b++;let L=M.getRightChar();L!=null&&(v+=L.getChecksumPortion(),b++)}return v%=211,211*(b-4)+v==h.getValue()}static getNextSecondBar(l,h){let m;return l.get(h)?(m=l.getNextUnset(h),m=l.getNextSet(m)):(m=l.getNextSet(h),m=l.getNextUnset(m)),m}retrieveNextPair(l,h,m){let v=h.length%2==0;this.startFromEven&&(v=!v);let b,_=!0,C=-1;do this.findNextPair(l,h,C),b=this.parseFoundFinderPattern(l,m,v),b==null?C=Qe.getNextSecondBar(l,this.startEnd[0]):_=!1;while(_);let M=this.decodeDataCharacter(l,b,v,!0);if(!this.isEmptyPair(h)&&h[h.length-1].mustBeLast())throw new re;let L;try{L=this.decodeDataCharacter(l,b,v,!1)}catch(W){L=null,this.verbose&&console.log(W)}return new Et(M,L,b,!0)}isEmptyPair(l){return l.length===0}findNextPair(l,h,m){let v=this.getDecodeFinderCounters();v[0]=0,v[1]=0,v[2]=0,v[3]=0;let b=l.getSize(),_;m>=0?_=m:this.isEmptyPair(h)?_=0:_=h[h.length-1].getFinderPattern().getStartEnd()[1];let C=h.length%2!=0;this.startFromEven&&(C=!C);let M=!1;for(;_<b&&(M=!l.get(_),!!M);)_++;let L=0,W=_;for(let ne=_;ne<b;ne++)if(l.get(ne)!=M)v[L]++;else{if(L==3){if(C&&Qe.reverseCounters(v),Qe.isFinderPattern(v)){this.startEnd[0]=W,this.startEnd[1]=ne;return}C&&Qe.reverseCounters(v),W+=v[0]+v[1],v[0]=v[2],v[1]=v[3],v[2]=0,v[3]=0,L--}else L++;v[L]=1,M=!M}throw new re}static reverseCounters(l){let h=l.length;for(let m=0;m<h/2;++m){let v=l[m];l[m]=l[h-m-1],l[h-m-1]=v}}parseFoundFinderPattern(l,h,m){let v,b,_;if(m){let L=this.startEnd[0]-1;for(;L>=0&&!l.get(L);)L--;L++,v=this.startEnd[0]-L,b=L,_=this.startEnd[1]}else b=this.startEnd[0],_=l.getNextUnset(this.startEnd[1]+1),v=_-this.startEnd[1];let C=this.getDecodeFinderCounters();S.arraycopy(C,0,C,1,C.length-1),C[0]=v;let M;try{M=this.parseFinderValue(C,Qe.FINDER_PATTERNS)}catch{return null}return new Ha(M,[b,_],b,_,h)}decodeDataCharacter(l,h,m,v){let b=this.getDataCharacterCounters();for(let ar=0;ar<b.length;ar++)b[ar]=0;if(v)Qe.recordPatternInReverse(l,h.getStartEnd()[0],b);else{Qe.recordPattern(l,h.getStartEnd()[1],b);for(let ar=0,Qi=b.length-1;ar<Qi;ar++,Qi--){let ds=b[ar];b[ar]=b[Qi],b[Qi]=ds}}let _=17,C=_t.sum(new Int32Array(b))/_,M=(h.getStartEnd()[1]-h.getStartEnd()[0])/15;if(Math.abs(C-M)/M>.3)throw new re;let L=this.getOddCounts(),W=this.getEvenCounts(),ne=this.getOddRoundingErrors(),ae=this.getEvenRoundingErrors();for(let ar=0;ar<b.length;ar++){let Qi=1*b[ar]/C,ds=Qi+.5;if(ds<1){if(Qi<.3)throw new re;ds=1}else if(ds>8){if(Qi>8.7)throw new re;ds=8}let Bu=ar/2;(ar&1)==0?(L[Bu]=ds,ne[Bu]=Qi-ds):(W[Bu]=ds,ae[Bu]=Qi-ds)}this.adjustOddEvenCounts(_);let ve=4*h.getValue()+(m?0:2)+(v?0:1)-1,Se=0,Te=0;for(let ar=L.length-1;ar>=0;ar--){if(Qe.isNotA1left(h,m,v)){let Qi=Qe.WEIGHTS[ve][2*ar];Te+=L[ar]*Qi}Se+=L[ar]}let De=0;for(let ar=W.length-1;ar>=0;ar--)if(Qe.isNotA1left(h,m,v)){let Qi=Qe.WEIGHTS[ve][2*ar+1];De+=W[ar]*Qi}let $e=Te+De;if((Se&1)!=0||Se>13||Se<4)throw new re;let vt=(13-Se)/2,xt=Qe.SYMBOL_WIDEST[vt],ft=9-xt,_n=Un.getRSSvalue(L,xt,!0),cn=Un.getRSSvalue(W,ft,!1),pi=Qe.EVEN_TOTAL_SUBSET[vt],Ns=Qe.GSUM[vt],Sa=_n*pi+cn+Ns;return new ni(Sa,$e)}static isNotA1left(l,h,m){return!(l.getValue()==0&&h&&m)}adjustOddEvenCounts(l){let h=_t.sum(new Int32Array(this.getOddCounts())),m=_t.sum(new Int32Array(this.getEvenCounts())),v=!1,b=!1;h>13?b=!0:h<4&&(v=!0);let _=!1,C=!1;m>13?C=!0:m<4&&(_=!0);let M=h+m-l,L=(h&1)==1,W=(m&1)==0;if(M==1)if(L){if(W)throw new re;b=!0}else{if(!W)throw new re;C=!0}else if(M==-1)if(L){if(W)throw new re;v=!0}else{if(!W)throw new re;_=!0}else if(M==0){if(L){if(!W)throw new re;h<m?(v=!0,C=!0):(b=!0,_=!0)}else if(W)throw new re}else throw new re;if(v){if(b)throw new re;Qe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(b&&Qe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),_){if(C)throw new re;Qe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&Qe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Qe.SYMBOL_WIDEST=[7,5,4,3,1],Qe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Qe.GSUM=[0,348,1388,2948,3988],Qe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Qe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Qe.FINDER_PAT_A=0,Qe.FINDER_PAT_B=1,Qe.FINDER_PAT_C=2,Qe.FINDER_PAT_D=3,Qe.FINDER_PAT_E=4,Qe.FINDER_PAT_F=5,Qe.FINDER_PATTERN_SEQUENCES=[[Qe.FINDER_PAT_A,Qe.FINDER_PAT_A],[Qe.FINDER_PAT_A,Qe.FINDER_PAT_B,Qe.FINDER_PAT_B],[Qe.FINDER_PAT_A,Qe.FINDER_PAT_C,Qe.FINDER_PAT_B,Qe.FINDER_PAT_D],[Qe.FINDER_PAT_A,Qe.FINDER_PAT_E,Qe.FINDER_PAT_B,Qe.FINDER_PAT_D,Qe.FINDER_PAT_C],[Qe.FINDER_PAT_A,Qe.FINDER_PAT_E,Qe.FINDER_PAT_B,Qe.FINDER_PAT_D,Qe.FINDER_PAT_D,Qe.FINDER_PAT_F],[Qe.FINDER_PAT_A,Qe.FINDER_PAT_E,Qe.FINDER_PAT_B,Qe.FINDER_PAT_D,Qe.FINDER_PAT_E,Qe.FINDER_PAT_F,Qe.FINDER_PAT_F],[Qe.FINDER_PAT_A,Qe.FINDER_PAT_A,Qe.FINDER_PAT_B,Qe.FINDER_PAT_B,Qe.FINDER_PAT_C,Qe.FINDER_PAT_C,Qe.FINDER_PAT_D,Qe.FINDER_PAT_D],[Qe.FINDER_PAT_A,Qe.FINDER_PAT_A,Qe.FINDER_PAT_B,Qe.FINDER_PAT_B,Qe.FINDER_PAT_C,Qe.FINDER_PAT_C,Qe.FINDER_PAT_D,Qe.FINDER_PAT_E,Qe.FINDER_PAT_E],[Qe.FINDER_PAT_A,Qe.FINDER_PAT_A,Qe.FINDER_PAT_B,Qe.FINDER_PAT_B,Qe.FINDER_PAT_C,Qe.FINDER_PAT_C,Qe.FINDER_PAT_D,Qe.FINDER_PAT_E,Qe.FINDER_PAT_F,Qe.FINDER_PAT_F],[Qe.FINDER_PAT_A,Qe.FINDER_PAT_A,Qe.FINDER_PAT_B,Qe.FINDER_PAT_B,Qe.FINDER_PAT_C,Qe.FINDER_PAT_D,Qe.FINDER_PAT_D,Qe.FINDER_PAT_E,Qe.FINDER_PAT_E,Qe.FINDER_PAT_F,Qe.FINDER_PAT_F]],Qe.MAX_PAIRS=11;class Qn extends ni{constructor(l,h,m){super(l,h),this.count=0,this.finderPattern=m}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class tn extends Dr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(l,h,m){const v=this.decodePair(h,!1,l,m);tn.addOrTally(this.possibleLeftPairs,v),h.reverse();let b=this.decodePair(h,!0,l,m);tn.addOrTally(this.possibleRightPairs,b),h.reverse();for(let _ of this.possibleLeftPairs)if(_.getCount()>1){for(let C of this.possibleRightPairs)if(C.getCount()>1&&tn.checkChecksum(_,C))return tn.constructResult(_,C)}throw new re}static addOrTally(l,h){if(h==null)return;let m=!1;for(let v of l)if(v.getValue()===h.getValue()){v.incrementCount(),m=!0;break}m||l.push(h)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(l,h){let m=4537077*l.getValue()+h.getValue(),v=new String(m).toString(),b=new q;for(let L=13-v.length;L>0;L--)b.append("0");b.append(v);let _=0;for(let L=0;L<13;L++){let W=b.charAt(L).charCodeAt(0)-48;_+=(L&1)===0?3*W:W}_=10-_%10,_===10&&(_=0),b.append(_.toString());let C=l.getFinderPattern().getResultPoints(),M=h.getFinderPattern().getResultPoints();return new se(b.toString(),null,0,[C[0],C[1],M[0],M[1]],Ee.RSS_14,new Date().getTime())}static checkChecksum(l,h){let m=(l.getChecksumPortion()+16*h.getChecksumPortion())%79,v=9*l.getFinderPattern().getValue()+h.getFinderPattern().getValue();return v>72&&v--,v>8&&v--,m===v}decodePair(l,h,m,v){try{let b=this.findFinderPattern(l,h),_=this.parseFoundFinderPattern(l,m,h,b),C=v==null?null:v.get(Z.NEED_RESULT_POINT_CALLBACK);if(C!=null){let W=(b[0]+b[1])/2;h&&(W=l.getSize()-1-W),C.foundPossibleResultPoint(new mt(W,m))}let M=this.decodeDataCharacter(l,_,!0),L=this.decodeDataCharacter(l,_,!1);return new Qn(1597*M.getValue()+L.getValue(),M.getChecksumPortion()+4*L.getChecksumPortion(),_)}catch{return null}}decodeDataCharacter(l,h,m){let v=this.getDataCharacterCounters();for(let De=0;De<v.length;De++)v[De]=0;if(m)mn.recordPatternInReverse(l,h.getStartEnd()[0],v);else{mn.recordPattern(l,h.getStartEnd()[1]+1,v);for(let De=0,$e=v.length-1;De<$e;De++,$e--){let vt=v[De];v[De]=v[$e],v[$e]=vt}}let b=m?16:15,_=_t.sum(new Int32Array(v))/b,C=this.getOddCounts(),M=this.getEvenCounts(),L=this.getOddRoundingErrors(),W=this.getEvenRoundingErrors();for(let De=0;De<v.length;De++){let $e=v[De]/_,vt=Math.floor($e+.5);vt<1?vt=1:vt>8&&(vt=8);let xt=Math.floor(De/2);(De&1)===0?(C[xt]=vt,L[xt]=$e-vt):(M[xt]=vt,W[xt]=$e-vt)}this.adjustOddEvenCounts(m,b);let ne=0,ae=0;for(let De=C.length-1;De>=0;De--)ae*=9,ae+=C[De],ne+=C[De];let ve=0,Se=0;for(let De=M.length-1;De>=0;De--)ve*=9,ve+=M[De],Se+=M[De];let Te=ae+3*ve;if(m){if((ne&1)!==0||ne>12||ne<4)throw new re;let De=(12-ne)/2,$e=tn.OUTSIDE_ODD_WIDEST[De],vt=9-$e,xt=Un.getRSSvalue(C,$e,!1),ft=Un.getRSSvalue(M,vt,!0),_n=tn.OUTSIDE_EVEN_TOTAL_SUBSET[De],cn=tn.OUTSIDE_GSUM[De];return new ni(xt*_n+ft+cn,Te)}else{if((Se&1)!==0||Se>10||Se<4)throw new re;let De=(10-Se)/2,$e=tn.INSIDE_ODD_WIDEST[De],vt=9-$e,xt=Un.getRSSvalue(C,$e,!0),ft=Un.getRSSvalue(M,vt,!1),_n=tn.INSIDE_ODD_TOTAL_SUBSET[De],cn=tn.INSIDE_GSUM[De];return new ni(ft*_n+xt+cn,Te)}}findFinderPattern(l,h){let m=this.getDecodeFinderCounters();m[0]=0,m[1]=0,m[2]=0,m[3]=0;let v=l.getSize(),b=!1,_=0;for(;_<v&&(b=!l.get(_),h!==b);)_++;let C=0,M=_;for(let L=_;L<v;L++)if(l.get(L)!==b)m[C]++;else{if(C===3){if(Dr.isFinderPattern(m))return[M,L];M+=m[0]+m[1],m[0]=m[2],m[1]=m[3],m[2]=0,m[3]=0,C--}else C++;m[C]=1,b=!b}throw new re}parseFoundFinderPattern(l,h,m,v){let b=l.get(v[0]),_=v[0]-1;for(;_>=0&&b!==l.get(_);)_--;_++;const C=v[0]-_,M=this.getDecodeFinderCounters(),L=new Int32Array(M.length);S.arraycopy(M,0,L,1,M.length-1),L[0]=C;const W=this.parseFinderValue(L,tn.FINDER_PATTERNS);let ne=_,ae=v[1];return m&&(ne=l.getSize()-1-ne,ae=l.getSize()-1-ae),new Ha(W,[_,v[1]],ne,ae,h)}adjustOddEvenCounts(l,h){let m=_t.sum(new Int32Array(this.getOddCounts())),v=_t.sum(new Int32Array(this.getEvenCounts())),b=!1,_=!1,C=!1,M=!1;l?(m>12?_=!0:m<4&&(b=!0),v>12?M=!0:v<4&&(C=!0)):(m>11?_=!0:m<5&&(b=!0),v>10?M=!0:v<4&&(C=!0));let L=m+v-h,W=(m&1)===(l?1:0),ne=(v&1)===1;if(L===1)if(W){if(ne)throw new re;_=!0}else{if(!ne)throw new re;M=!0}else if(L===-1)if(W){if(ne)throw new re;b=!0}else{if(!ne)throw new re;C=!0}else if(L===0){if(W){if(!ne)throw new re;m<v?(b=!0,M=!0):(_=!0,C=!0)}else if(ne)throw new re}else throw new re;if(b){if(_)throw new re;Dr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(_&&Dr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),C){if(M)throw new re;Dr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}M&&Dr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}tn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],tn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],tn.OUTSIDE_GSUM=[0,161,961,2015,2715],tn.INSIDE_GSUM=[0,336,1036,1516],tn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],tn.INSIDE_ODD_WIDEST=[2,4,6,8],tn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ri extends mn{constructor(l,h){super(),this.readers=[],this.verbose=h===!0;const m=l?l.get(Z.POSSIBLE_FORMATS):null,v=l&&l.get(Z.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;m?((m.includes(Ee.EAN_13)||m.includes(Ee.UPC_A)||m.includes(Ee.EAN_8)||m.includes(Ee.UPC_E))&&this.readers.push(new qs(l)),m.includes(Ee.CODE_39)&&this.readers.push(new yn(v)),m.includes(Ee.CODE_128)&&this.readers.push(new ct),m.includes(Ee.ITF)&&this.readers.push(new Ht),m.includes(Ee.RSS_14)&&this.readers.push(new tn),m.includes(Ee.RSS_EXPANDED)&&this.readers.push(new Qe(this.verbose))):(this.readers.push(new qs(l)),this.readers.push(new yn),this.readers.push(new qs(l)),this.readers.push(new ct),this.readers.push(new Ht),this.readers.push(new tn),this.readers.push(new Qe(this.verbose)))}decodeRow(l,h,m){for(let v=0;v<this.readers.length;v++)try{return this.readers[v].decodeRow(l,h,m)}catch{}throw new re}reset(){this.readers.forEach(l=>l.reset())}}class Ys extends oe{constructor(l=500,h){super(new ri(h),l,h)}}class vn{constructor(l,h,m){this.ecCodewords=l,this.ecBlocks=[h],m&&this.ecBlocks.push(m)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ln{constructor(l,h){this.count=l,this.dataCodewords=h}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class fn{constructor(l,h,m,v,b,_){this.versionNumber=l,this.symbolSizeRows=h,this.symbolSizeColumns=m,this.dataRegionSizeRows=v,this.dataRegionSizeColumns=b,this.ecBlocks=_;let C=0;const M=_.getECCodewords(),L=_.getECBlocks();for(let W of L)C+=W.getCount()*(W.getDataCodewords()+M);this.totalCodewords=C}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(l,h){if((l&1)!==0||(h&1)!==0)throw new F;for(let m of fn.VERSIONS)if(m.symbolSizeRows===l&&m.symbolSizeColumns===h)return m;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new fn(1,10,10,8,8,new vn(5,new ln(1,3))),new fn(2,12,12,10,10,new vn(7,new ln(1,5))),new fn(3,14,14,12,12,new vn(10,new ln(1,8))),new fn(4,16,16,14,14,new vn(12,new ln(1,12))),new fn(5,18,18,16,16,new vn(14,new ln(1,18))),new fn(6,20,20,18,18,new vn(18,new ln(1,22))),new fn(7,22,22,20,20,new vn(20,new ln(1,30))),new fn(8,24,24,22,22,new vn(24,new ln(1,36))),new fn(9,26,26,24,24,new vn(28,new ln(1,44))),new fn(10,32,32,14,14,new vn(36,new ln(1,62))),new fn(11,36,36,16,16,new vn(42,new ln(1,86))),new fn(12,40,40,18,18,new vn(48,new ln(1,114))),new fn(13,44,44,20,20,new vn(56,new ln(1,144))),new fn(14,48,48,22,22,new vn(68,new ln(1,174))),new fn(15,52,52,24,24,new vn(42,new ln(2,102))),new fn(16,64,64,14,14,new vn(56,new ln(2,140))),new fn(17,72,72,16,16,new vn(36,new ln(4,92))),new fn(18,80,80,18,18,new vn(48,new ln(4,114))),new fn(19,88,88,20,20,new vn(56,new ln(4,144))),new fn(20,96,96,22,22,new vn(68,new ln(4,174))),new fn(21,104,104,24,24,new vn(56,new ln(6,136))),new fn(22,120,120,18,18,new vn(68,new ln(6,175))),new fn(23,132,132,20,20,new vn(62,new ln(8,163))),new fn(24,144,144,22,22,new vn(62,new ln(8,156),new ln(2,155))),new fn(25,8,18,6,16,new vn(7,new ln(1,5))),new fn(26,8,32,6,14,new vn(11,new ln(1,10))),new fn(27,12,26,10,24,new vn(14,new ln(1,16))),new fn(28,12,36,10,16,new vn(18,new ln(1,22))),new fn(29,16,36,14,16,new vn(24,new ln(1,32))),new fn(30,16,48,14,22,new vn(28,new ln(1,49)))]}}fn.VERSIONS=fn.buildVersions();class ji{constructor(l){const h=l.getHeight();if(h<8||h>144||(h&1)!==0)throw new F;this.version=ji.readVersion(l),this.mappingBitMatrix=this.extractDataRegion(l),this.readMappingMatrix=new Ce(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(l){const h=l.getHeight(),m=l.getWidth();return fn.getVersionForDimensions(h,m)}readCodewords(){const l=new Int8Array(this.version.getTotalCodewords());let h=0,m=4,v=0;const b=this.mappingBitMatrix.getHeight(),_=this.mappingBitMatrix.getWidth();let C=!1,M=!1,L=!1,W=!1;do if(m===b&&v===0&&!C)l[h++]=this.readCorner1(b,_)&255,m-=2,v+=2,C=!0;else if(m===b-2&&v===0&&(_&3)!==0&&!M)l[h++]=this.readCorner2(b,_)&255,m-=2,v+=2,M=!0;else if(m===b+4&&v===2&&(_&7)===0&&!L)l[h++]=this.readCorner3(b,_)&255,m-=2,v+=2,L=!0;else if(m===b-2&&v===0&&(_&7)===4&&!W)l[h++]=this.readCorner4(b,_)&255,m-=2,v+=2,W=!0;else{do m<b&&v>=0&&!this.readMappingMatrix.get(v,m)&&(l[h++]=this.readUtah(m,v,b,_)&255),m-=2,v+=2;while(m>=0&&v<_);m+=1,v+=3;do m>=0&&v<_&&!this.readMappingMatrix.get(v,m)&&(l[h++]=this.readUtah(m,v,b,_)&255),m+=2,v-=2;while(m<b&&v>=0);m+=3,v+=1}while(m<b||v<_);if(h!==this.version.getTotalCodewords())throw new F;return l}readModule(l,h,m,v){return l<0&&(l+=m,h+=4-(m+4&7)),h<0&&(h+=v,l+=4-(v+4&7)),this.readMappingMatrix.set(h,l),this.mappingBitMatrix.get(h,l)}readUtah(l,h,m,v){let b=0;return this.readModule(l-2,h-2,m,v)&&(b|=1),b<<=1,this.readModule(l-2,h-1,m,v)&&(b|=1),b<<=1,this.readModule(l-1,h-2,m,v)&&(b|=1),b<<=1,this.readModule(l-1,h-1,m,v)&&(b|=1),b<<=1,this.readModule(l-1,h,m,v)&&(b|=1),b<<=1,this.readModule(l,h-2,m,v)&&(b|=1),b<<=1,this.readModule(l,h-1,m,v)&&(b|=1),b<<=1,this.readModule(l,h,m,v)&&(b|=1),b}readCorner1(l,h){let m=0;return this.readModule(l-1,0,l,h)&&(m|=1),m<<=1,this.readModule(l-1,1,l,h)&&(m|=1),m<<=1,this.readModule(l-1,2,l,h)&&(m|=1),m<<=1,this.readModule(0,h-2,l,h)&&(m|=1),m<<=1,this.readModule(0,h-1,l,h)&&(m|=1),m<<=1,this.readModule(1,h-1,l,h)&&(m|=1),m<<=1,this.readModule(2,h-1,l,h)&&(m|=1),m<<=1,this.readModule(3,h-1,l,h)&&(m|=1),m}readCorner2(l,h){let m=0;return this.readModule(l-3,0,l,h)&&(m|=1),m<<=1,this.readModule(l-2,0,l,h)&&(m|=1),m<<=1,this.readModule(l-1,0,l,h)&&(m|=1),m<<=1,this.readModule(0,h-4,l,h)&&(m|=1),m<<=1,this.readModule(0,h-3,l,h)&&(m|=1),m<<=1,this.readModule(0,h-2,l,h)&&(m|=1),m<<=1,this.readModule(0,h-1,l,h)&&(m|=1),m<<=1,this.readModule(1,h-1,l,h)&&(m|=1),m}readCorner3(l,h){let m=0;return this.readModule(l-1,0,l,h)&&(m|=1),m<<=1,this.readModule(l-1,h-1,l,h)&&(m|=1),m<<=1,this.readModule(0,h-3,l,h)&&(m|=1),m<<=1,this.readModule(0,h-2,l,h)&&(m|=1),m<<=1,this.readModule(0,h-1,l,h)&&(m|=1),m<<=1,this.readModule(1,h-3,l,h)&&(m|=1),m<<=1,this.readModule(1,h-2,l,h)&&(m|=1),m<<=1,this.readModule(1,h-1,l,h)&&(m|=1),m}readCorner4(l,h){let m=0;return this.readModule(l-3,0,l,h)&&(m|=1),m<<=1,this.readModule(l-2,0,l,h)&&(m|=1),m<<=1,this.readModule(l-1,0,l,h)&&(m|=1),m<<=1,this.readModule(0,h-2,l,h)&&(m|=1),m<<=1,this.readModule(0,h-1,l,h)&&(m|=1),m<<=1,this.readModule(1,h-1,l,h)&&(m|=1),m<<=1,this.readModule(2,h-1,l,h)&&(m|=1),m<<=1,this.readModule(3,h-1,l,h)&&(m|=1),m}extractDataRegion(l){const h=this.version.getSymbolSizeRows(),m=this.version.getSymbolSizeColumns();if(l.getHeight()!==h)throw new x("Dimension of bitMatrix must match the version size");const v=this.version.getDataRegionSizeRows(),b=this.version.getDataRegionSizeColumns(),_=h/v|0,C=m/b|0,M=_*v,L=C*b,W=new Ce(L,M);for(let ne=0;ne<_;++ne){const ae=ne*v;for(let ve=0;ve<C;++ve){const Se=ve*b;for(let Te=0;Te<v;++Te){const De=ne*(v+2)+1+Te,$e=ae+Te;for(let vt=0;vt<b;++vt){const xt=ve*(b+2)+1+vt;if(l.get(xt,De)){const ft=Se+vt;W.set(ft,$e)}}}}}return W}}class _a{constructor(l,h){this.numDataCodewords=l,this.codewords=h}static getDataBlocks(l,h){const m=h.getECBlocks();let v=0;const b=m.getECBlocks();for(let Te of b)v+=Te.getCount();const _=new Array(v);let C=0;for(let Te of b)for(let De=0;De<Te.getCount();De++){const $e=Te.getDataCodewords(),vt=m.getECCodewords()+$e;_[C++]=new _a($e,new Uint8Array(vt))}const L=_[0].codewords.length-m.getECCodewords(),W=L-1;let ne=0;for(let Te=0;Te<W;Te++)for(let De=0;De<C;De++)_[De].codewords[Te]=l[ne++];const ae=h.getVersionNumber()===24,ve=ae?8:C;for(let Te=0;Te<ve;Te++)_[Te].codewords[L-1]=l[ne++];const Se=_[0].codewords.length;for(let Te=L;Te<Se;Te++)for(let De=0;De<C;De++){const $e=ae?(De+8)%C:De,vt=ae&&$e>7?Te-1:Te;_[$e].codewords[vt]=l[ne++]}if(ne!==l.length)throw new x;return _}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class qr{constructor(l){this.bytes=l,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(l){if(l<1||l>32||l>this.available())throw new x(""+l);let h=0,m=this.bitOffset,v=this.byteOffset;const b=this.bytes;if(m>0){const _=8-m,C=l<_?l:_,M=_-C,L=255>>8-C<<M;h=(b[v]&L)>>M,l-=C,m+=C,m===8&&(m=0,v++)}if(l>0){for(;l>=8;)h=h<<8|b[v]&255,v++,l-=8;if(l>0){const _=8-l,C=255>>_<<_;h=h<<l|(b[v]&C)>>_,m+=l}}return this.bitOffset=m,this.byteOffset=v,h}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Tn;(function(te){te[te.PAD_ENCODE=0]="PAD_ENCODE",te[te.ASCII_ENCODE=1]="ASCII_ENCODE",te[te.C40_ENCODE=2]="C40_ENCODE",te[te.TEXT_ENCODE=3]="TEXT_ENCODE",te[te.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",te[te.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",te[te.BASE256_ENCODE=6]="BASE256_ENCODE"})(Tn||(Tn={}));class Aa{static decode(l){const h=new qr(l),m=new q,v=new q,b=new Array;let _=Tn.ASCII_ENCODE;do if(_===Tn.ASCII_ENCODE)_=this.decodeAsciiSegment(h,m,v);else{switch(_){case Tn.C40_ENCODE:this.decodeC40Segment(h,m);break;case Tn.TEXT_ENCODE:this.decodeTextSegment(h,m);break;case Tn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(h,m);break;case Tn.EDIFACT_ENCODE:this.decodeEdifactSegment(h,m);break;case Tn.BASE256_ENCODE:this.decodeBase256Segment(h,m,b);break;default:throw new F}_=Tn.ASCII_ENCODE}while(_!==Tn.PAD_ENCODE&&h.available()>0);return v.length()>0&&m.append(v.toString()),new _e(l,m.toString(),b.length===0?null:b,null)}static decodeAsciiSegment(l,h,m){let v=!1;do{let b=l.readBits(8);if(b===0)throw new F;if(b<=128)return v&&(b+=128),h.append(String.fromCharCode(b-1)),Tn.ASCII_ENCODE;if(b===129)return Tn.PAD_ENCODE;if(b<=229){const _=b-130;_<10&&h.append("0"),h.append(""+_)}else switch(b){case 230:return Tn.C40_ENCODE;case 231:return Tn.BASE256_ENCODE;case 232:h.append("");break;case 233:case 234:break;case 235:v=!0;break;case 236:h.append("[)>05"),m.insert(0,"");break;case 237:h.append("[)>06"),m.insert(0,"");break;case 238:return Tn.ANSIX12_ENCODE;case 239:return Tn.TEXT_ENCODE;case 240:return Tn.EDIFACT_ENCODE;case 241:break;default:if(b!==254||l.available()!==0)throw new F;break}}while(l.available()>0);return Tn.ASCII_ENCODE}static decodeC40Segment(l,h){let m=!1;const v=[];let b=0;do{if(l.available()===8)return;const _=l.readBits(8);if(_===254)return;this.parseTwoBytes(_,l.readBits(8),v);for(let C=0;C<3;C++){const M=v[C];switch(b){case 0:if(M<3)b=M+1;else if(M<this.C40_BASIC_SET_CHARS.length){const L=this.C40_BASIC_SET_CHARS[M];m?(h.append(String.fromCharCode(L.charCodeAt(0)+128)),m=!1):h.append(L)}else throw new F;break;case 1:m?(h.append(String.fromCharCode(M+128)),m=!1):h.append(String.fromCharCode(M)),b=0;break;case 2:if(M<this.C40_SHIFT2_SET_CHARS.length){const L=this.C40_SHIFT2_SET_CHARS[M];m?(h.append(String.fromCharCode(L.charCodeAt(0)+128)),m=!1):h.append(L)}else switch(M){case 27:h.append("");break;case 30:m=!0;break;default:throw new F}b=0;break;case 3:m?(h.append(String.fromCharCode(M+224)),m=!1):h.append(String.fromCharCode(M+96)),b=0;break;default:throw new F}}}while(l.available()>0)}static decodeTextSegment(l,h){let m=!1,v=[],b=0;do{if(l.available()===8)return;const _=l.readBits(8);if(_===254)return;this.parseTwoBytes(_,l.readBits(8),v);for(let C=0;C<3;C++){const M=v[C];switch(b){case 0:if(M<3)b=M+1;else if(M<this.TEXT_BASIC_SET_CHARS.length){const L=this.TEXT_BASIC_SET_CHARS[M];m?(h.append(String.fromCharCode(L.charCodeAt(0)+128)),m=!1):h.append(L)}else throw new F;break;case 1:m?(h.append(String.fromCharCode(M+128)),m=!1):h.append(String.fromCharCode(M)),b=0;break;case 2:if(M<this.TEXT_SHIFT2_SET_CHARS.length){const L=this.TEXT_SHIFT2_SET_CHARS[M];m?(h.append(String.fromCharCode(L.charCodeAt(0)+128)),m=!1):h.append(L)}else switch(M){case 27:h.append("");break;case 30:m=!0;break;default:throw new F}b=0;break;case 3:if(M<this.TEXT_SHIFT3_SET_CHARS.length){const L=this.TEXT_SHIFT3_SET_CHARS[M];m?(h.append(String.fromCharCode(L.charCodeAt(0)+128)),m=!1):h.append(L),b=0}else throw new F;break;default:throw new F}}}while(l.available()>0)}static decodeAnsiX12Segment(l,h){const m=[];do{if(l.available()===8)return;const v=l.readBits(8);if(v===254)return;this.parseTwoBytes(v,l.readBits(8),m);for(let b=0;b<3;b++){const _=m[b];switch(_){case 0:h.append("\r");break;case 1:h.append("*");break;case 2:h.append(">");break;case 3:h.append(" ");break;default:if(_<14)h.append(String.fromCharCode(_+44));else if(_<40)h.append(String.fromCharCode(_+51));else throw new F;break}}}while(l.available()>0)}static parseTwoBytes(l,h,m){let v=(l<<8)+h-1,b=Math.floor(v/1600);m[0]=b,v-=b*1600,b=Math.floor(v/40),m[1]=b,m[2]=v-b*40}static decodeEdifactSegment(l,h){do{if(l.available()<=16)return;for(let m=0;m<4;m++){let v=l.readBits(6);if(v===31){const b=8-l.getBitOffset();b!==8&&l.readBits(b);return}(v&32)===0&&(v|=64),h.append(String.fromCharCode(v))}}while(l.available()>0)}static decodeBase256Segment(l,h,m){let v=1+l.getByteOffset();const b=this.unrandomize255State(l.readBits(8),v++);let _;if(b===0?_=l.available()/8|0:b<250?_=b:_=250*(b-249)+this.unrandomize255State(l.readBits(8),v++),_<0)throw new F;const C=new Uint8Array(_);for(let M=0;M<_;M++){if(l.available()<8)throw new F;C[M]=this.unrandomize255State(l.readBits(8),v++)}m.push(C);try{h.append(H.decode(C,G.ISO88591))}catch(M){throw new Ut("Platform does not support required encoding: "+M.message)}}static unrandomize255State(l,h){const m=149*h%255+1,v=l-m;return v>=0?v:v+256}}Aa.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Aa.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Aa.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Aa.TEXT_SHIFT2_SET_CHARS=Aa.C40_SHIFT2_SET_CHARS,Aa.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class od{constructor(){this.rsDecoder=new Ct(gt.DATA_MATRIX_FIELD_256)}decode(l){const h=new ji(l),m=h.getVersion(),v=h.readCodewords(),b=_a.getDataBlocks(v,m);let _=0;for(let L of b)_+=L.getNumDataCodewords();const C=new Uint8Array(_),M=b.length;for(let L=0;L<M;L++){const W=b[L],ne=W.getCodewords(),ae=W.getNumDataCodewords();this.correctErrors(ne,ae);for(let ve=0;ve<ae;ve++)C[ve*M+L]=ne[ve]}return Aa.decode(C)}correctErrors(l,h){const m=new Int32Array(l);try{this.rsDecoder.decode(m,l.length-h)}catch{throw new A}for(let v=0;v<h;v++)l[v]=m[v]}}class Jt{constructor(l){this.image=l,this.rectangleDetector=new Kt(this.image)}detect(){const l=this.rectangleDetector.detect();let h=this.detectSolid1(l);if(h=this.detectSolid2(h),h[3]=this.correctTopRight(h),!h[3])throw new re;h=this.shiftToModuleCenter(h);const m=h[0],v=h[1],b=h[2],_=h[3];let C=this.transitionsBetween(m,_)+1,M=this.transitionsBetween(b,_)+1;(C&1)===1&&(C+=1),(M&1)===1&&(M+=1),4*C<7*M&&4*M<7*C&&(C=M=Math.max(C,M));let L=Jt.sampleGrid(this.image,m,v,b,_,C,M);return new fi(L,[m,v,b,_])}static shiftPoint(l,h,m){let v=(h.getX()-l.getX())/(m+1),b=(h.getY()-l.getY())/(m+1);return new mt(l.getX()+v,l.getY()+b)}static moveAway(l,h,m){let v=l.getX(),b=l.getY();return v<h?v-=1:v+=1,b<m?b-=1:b+=1,new mt(v,b)}detectSolid1(l){let h=l[0],m=l[1],v=l[3],b=l[2],_=this.transitionsBetween(h,m),C=this.transitionsBetween(m,v),M=this.transitionsBetween(v,b),L=this.transitionsBetween(b,h),W=_,ne=[b,h,m,v];return W>C&&(W=C,ne[0]=h,ne[1]=m,ne[2]=v,ne[3]=b),W>M&&(W=M,ne[0]=m,ne[1]=v,ne[2]=b,ne[3]=h),W>L&&(ne[0]=v,ne[1]=b,ne[2]=h,ne[3]=m),ne}detectSolid2(l){let h=l[0],m=l[1],v=l[2],b=l[3],_=this.transitionsBetween(h,b),C=Jt.shiftPoint(m,v,(_+1)*4),M=Jt.shiftPoint(v,m,(_+1)*4),L=this.transitionsBetween(C,h),W=this.transitionsBetween(M,b);return L<W?(l[0]=h,l[1]=m,l[2]=v,l[3]=b):(l[0]=m,l[1]=v,l[2]=b,l[3]=h),l}correctTopRight(l){let h=l[0],m=l[1],v=l[2],b=l[3],_=this.transitionsBetween(h,b),C=this.transitionsBetween(m,b),M=Jt.shiftPoint(h,m,(C+1)*4),L=Jt.shiftPoint(v,m,(_+1)*4);_=this.transitionsBetween(M,b),C=this.transitionsBetween(L,b);let W=new mt(b.getX()+(v.getX()-m.getX())/(_+1),b.getY()+(v.getY()-m.getY())/(_+1)),ne=new mt(b.getX()+(h.getX()-m.getX())/(C+1),b.getY()+(h.getY()-m.getY())/(C+1));if(!this.isValid(W))return this.isValid(ne)?ne:null;if(!this.isValid(ne))return W;let ae=this.transitionsBetween(M,W)+this.transitionsBetween(L,W),ve=this.transitionsBetween(M,ne)+this.transitionsBetween(L,ne);return ae>ve?W:ne}shiftToModuleCenter(l){let h=l[0],m=l[1],v=l[2],b=l[3],_=this.transitionsBetween(h,b)+1,C=this.transitionsBetween(v,b)+1,M=Jt.shiftPoint(h,m,C*4),L=Jt.shiftPoint(v,m,_*4);_=this.transitionsBetween(M,b)+1,C=this.transitionsBetween(L,b)+1,(_&1)===1&&(_+=1),(C&1)===1&&(C+=1);let W=(h.getX()+m.getX()+v.getX()+b.getX())/4,ne=(h.getY()+m.getY()+v.getY()+b.getY())/4;h=Jt.moveAway(h,W,ne),m=Jt.moveAway(m,W,ne),v=Jt.moveAway(v,W,ne),b=Jt.moveAway(b,W,ne);let ae,ve;return M=Jt.shiftPoint(h,m,C*4),M=Jt.shiftPoint(M,b,_*4),ae=Jt.shiftPoint(m,h,C*4),ae=Jt.shiftPoint(ae,v,_*4),L=Jt.shiftPoint(v,b,C*4),L=Jt.shiftPoint(L,m,_*4),ve=Jt.shiftPoint(b,v,C*4),ve=Jt.shiftPoint(ve,h,_*4),[M,ae,L,ve]}isValid(l){return l.getX()>=0&&l.getX()<this.image.getWidth()&&l.getY()>0&&l.getY()<this.image.getHeight()}static sampleGrid(l,h,m,v,b,_,C){return Rt.getInstance().sampleGrid(l,_,C,.5,.5,_-.5,.5,_-.5,C-.5,.5,C-.5,h.getX(),h.getY(),b.getX(),b.getY(),v.getX(),v.getY(),m.getX(),m.getY())}transitionsBetween(l,h){let m=Math.trunc(l.getX()),v=Math.trunc(l.getY()),b=Math.trunc(h.getX()),_=Math.trunc(h.getY()),C=Math.abs(_-v)>Math.abs(b-m);if(C){let Te=m;m=v,v=Te,Te=b,b=_,_=Te}let M=Math.abs(b-m),L=Math.abs(_-v),W=-M/2,ne=v<_?1:-1,ae=m<b?1:-1,ve=0,Se=this.image.get(C?v:m,C?m:v);for(let Te=m,De=v;Te!==b;Te+=ae){let $e=this.image.get(C?De:Te,C?Te:De);if($e!==Se&&(ve++,Se=$e),W+=L,W>0){if(De===_)break;De+=ne,W-=M}}return ve}}class Wa{constructor(){this.decoder=new od}decode(l,h=null){let m,v;if(h!=null&&h.has(Z.PURE_BARCODE)){const L=Wa.extractPureBits(l.getBlackMatrix());m=this.decoder.decode(L),v=Wa.NO_POINTS}else{const L=new Jt(l.getBlackMatrix()).detect();m=this.decoder.decode(L.getBits()),v=L.getPoints()}const b=m.getRawBytes(),_=new se(m.getText(),b,8*b.length,v,Ee.DATA_MATRIX,S.currentTimeMillis()),C=m.getByteSegments();C!=null&&_.putMetadata(Ge.BYTE_SEGMENTS,C);const M=m.getECLevel();return M!=null&&_.putMetadata(Ge.ERROR_CORRECTION_LEVEL,M),_}reset(){}static extractPureBits(l){const h=l.getTopLeftOnBit(),m=l.getBottomRightOnBit();if(h==null||m==null)throw new re;const v=this.moduleSize(h,l);let b=h[1];const _=m[1];let C=h[0];const L=(m[0]-C+1)/v,W=(_-b+1)/v;if(L<=0||W<=0)throw new re;const ne=v/2;b+=ne,C+=ne;const ae=new Ce(L,W);for(let ve=0;ve<W;ve++){const Se=b+ve*v;for(let Te=0;Te<L;Te++)l.get(C+Te*v,Se)&&ae.set(Te,ve)}return ae}static moduleSize(l,h){const m=h.getWidth();let v=l[0];const b=l[1];for(;v<m&&h.get(v,b);)v++;if(v===m)throw new re;const _=v-l[0];if(_===0)throw new re;return _}}Wa.NO_POINTS=[];class _o extends oe{constructor(l=500){super(new Wa,l)}}var Ss;(function(te){te[te.L=0]="L",te[te.M=1]="M",te[te.Q=2]="Q",te[te.H=3]="H"})(Ss||(Ss={}));class wn{constructor(l,h,m){this.value=l,this.stringValue=h,this.bits=m,wn.FOR_BITS.set(m,this),wn.FOR_VALUE.set(l,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(l){switch(l){case"L":return wn.L;case"M":return wn.M;case"Q":return wn.Q;case"H":return wn.H;default:throw new p(l+"not available")}}toString(){return this.stringValue}equals(l){if(!(l instanceof wn))return!1;const h=l;return this.value===h.value}static forBits(l){if(l<0||l>=wn.FOR_BITS.size)throw new x;return wn.FOR_BITS.get(l)}}wn.FOR_BITS=new Map,wn.FOR_VALUE=new Map,wn.L=new wn(Ss.L,"L",1),wn.M=new wn(Ss.M,"M",0),wn.Q=new wn(Ss.Q,"Q",3),wn.H=new wn(Ss.H,"H",2);class ii{constructor(l){this.errorCorrectionLevel=wn.forBits(l>>3&3),this.dataMask=l&7}static numBitsDiffering(l,h){return P.bitCount(l^h)}static decodeFormatInformation(l,h){const m=ii.doDecodeFormatInformation(l,h);return m!==null?m:ii.doDecodeFormatInformation(l^ii.FORMAT_INFO_MASK_QR,h^ii.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(l,h){let m=Number.MAX_SAFE_INTEGER,v=0;for(const b of ii.FORMAT_INFO_DECODE_LOOKUP){const _=b[0];if(_===l||_===h)return new ii(b[1]);let C=ii.numBitsDiffering(l,_);C<m&&(v=b[1],m=C),l!==h&&(C=ii.numBitsDiffering(h,_),C<m&&(v=b[1],m=C))}return m<=3?new ii(v):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(l){if(!(l instanceof ii))return!1;const h=l;return this.errorCorrectionLevel===h.errorCorrectionLevel&&this.dataMask===h.dataMask}}ii.FORMAT_INFO_MASK_QR=21522,ii.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class je{constructor(l,...h){this.ecCodewordsPerBlock=l,this.ecBlocks=h}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let l=0;const h=this.ecBlocks;for(const m of h)l+=m.getCount();return l}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class xe{constructor(l,h){this.count=l,this.dataCodewords=h}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Lt{constructor(l,h,...m){this.versionNumber=l,this.alignmentPatternCenters=h,this.ecBlocks=m;let v=0;const b=m[0].getECCodewordsPerBlock(),_=m[0].getECBlocks();for(const C of _)v+=C.getCount()*(C.getDataCodewords()+b);this.totalCodewords=v}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(l){return this.ecBlocks[l.getValue()]}static getProvisionalVersionForDimension(l){if(l%4!==1)throw new F;try{return this.getVersionForNumber((l-17)/4)}catch{throw new F}}static getVersionForNumber(l){if(l<1||l>40)throw new x;return Lt.VERSIONS[l-1]}static decodeVersionInformation(l){let h=Number.MAX_SAFE_INTEGER,m=0;for(let v=0;v<Lt.VERSION_DECODE_INFO.length;v++){const b=Lt.VERSION_DECODE_INFO[v];if(b===l)return Lt.getVersionForNumber(v+7);const _=ii.numBitsDiffering(l,b);_<h&&(m=v+7,h=_)}return h<=3?Lt.getVersionForNumber(m):null}buildFunctionPattern(){const l=this.getDimensionForVersion(),h=new Ce(l);h.setRegion(0,0,9,9),h.setRegion(l-8,0,8,9),h.setRegion(0,l-8,9,8);const m=this.alignmentPatternCenters.length;for(let v=0;v<m;v++){const b=this.alignmentPatternCenters[v]-2;for(let _=0;_<m;_++)v===0&&(_===0||_===m-1)||v===m-1&&_===0||h.setRegion(this.alignmentPatternCenters[_]-2,b,5,5)}return h.setRegion(6,9,1,l-17),h.setRegion(9,6,l-17,1),this.versionNumber>6&&(h.setRegion(l-11,0,3,6),h.setRegion(0,l-11,6,3)),h}toString(){return""+this.versionNumber}}Lt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Lt.VERSIONS=[new Lt(1,new Int32Array(0),new je(7,new xe(1,19)),new je(10,new xe(1,16)),new je(13,new xe(1,13)),new je(17,new xe(1,9))),new Lt(2,Int32Array.from([6,18]),new je(10,new xe(1,34)),new je(16,new xe(1,28)),new je(22,new xe(1,22)),new je(28,new xe(1,16))),new Lt(3,Int32Array.from([6,22]),new je(15,new xe(1,55)),new je(26,new xe(1,44)),new je(18,new xe(2,17)),new je(22,new xe(2,13))),new Lt(4,Int32Array.from([6,26]),new je(20,new xe(1,80)),new je(18,new xe(2,32)),new je(26,new xe(2,24)),new je(16,new xe(4,9))),new Lt(5,Int32Array.from([6,30]),new je(26,new xe(1,108)),new je(24,new xe(2,43)),new je(18,new xe(2,15),new xe(2,16)),new je(22,new xe(2,11),new xe(2,12))),new Lt(6,Int32Array.from([6,34]),new je(18,new xe(2,68)),new je(16,new xe(4,27)),new je(24,new xe(4,19)),new je(28,new xe(4,15))),new Lt(7,Int32Array.from([6,22,38]),new je(20,new xe(2,78)),new je(18,new xe(4,31)),new je(18,new xe(2,14),new xe(4,15)),new je(26,new xe(4,13),new xe(1,14))),new Lt(8,Int32Array.from([6,24,42]),new je(24,new xe(2,97)),new je(22,new xe(2,38),new xe(2,39)),new je(22,new xe(4,18),new xe(2,19)),new je(26,new xe(4,14),new xe(2,15))),new Lt(9,Int32Array.from([6,26,46]),new je(30,new xe(2,116)),new je(22,new xe(3,36),new xe(2,37)),new je(20,new xe(4,16),new xe(4,17)),new je(24,new xe(4,12),new xe(4,13))),new Lt(10,Int32Array.from([6,28,50]),new je(18,new xe(2,68),new xe(2,69)),new je(26,new xe(4,43),new xe(1,44)),new je(24,new xe(6,19),new xe(2,20)),new je(28,new xe(6,15),new xe(2,16))),new Lt(11,Int32Array.from([6,30,54]),new je(20,new xe(4,81)),new je(30,new xe(1,50),new xe(4,51)),new je(28,new xe(4,22),new xe(4,23)),new je(24,new xe(3,12),new xe(8,13))),new Lt(12,Int32Array.from([6,32,58]),new je(24,new xe(2,92),new xe(2,93)),new je(22,new xe(6,36),new xe(2,37)),new je(26,new xe(4,20),new xe(6,21)),new je(28,new xe(7,14),new xe(4,15))),new Lt(13,Int32Array.from([6,34,62]),new je(26,new xe(4,107)),new je(22,new xe(8,37),new xe(1,38)),new je(24,new xe(8,20),new xe(4,21)),new je(22,new xe(12,11),new xe(4,12))),new Lt(14,Int32Array.from([6,26,46,66]),new je(30,new xe(3,115),new xe(1,116)),new je(24,new xe(4,40),new xe(5,41)),new je(20,new xe(11,16),new xe(5,17)),new je(24,new xe(11,12),new xe(5,13))),new Lt(15,Int32Array.from([6,26,48,70]),new je(22,new xe(5,87),new xe(1,88)),new je(24,new xe(5,41),new xe(5,42)),new je(30,new xe(5,24),new xe(7,25)),new je(24,new xe(11,12),new xe(7,13))),new Lt(16,Int32Array.from([6,26,50,74]),new je(24,new xe(5,98),new xe(1,99)),new je(28,new xe(7,45),new xe(3,46)),new je(24,new xe(15,19),new xe(2,20)),new je(30,new xe(3,15),new xe(13,16))),new Lt(17,Int32Array.from([6,30,54,78]),new je(28,new xe(1,107),new xe(5,108)),new je(28,new xe(10,46),new xe(1,47)),new je(28,new xe(1,22),new xe(15,23)),new je(28,new xe(2,14),new xe(17,15))),new Lt(18,Int32Array.from([6,30,56,82]),new je(30,new xe(5,120),new xe(1,121)),new je(26,new xe(9,43),new xe(4,44)),new je(28,new xe(17,22),new xe(1,23)),new je(28,new xe(2,14),new xe(19,15))),new Lt(19,Int32Array.from([6,30,58,86]),new je(28,new xe(3,113),new xe(4,114)),new je(26,new xe(3,44),new xe(11,45)),new je(26,new xe(17,21),new xe(4,22)),new je(26,new xe(9,13),new xe(16,14))),new Lt(20,Int32Array.from([6,34,62,90]),new je(28,new xe(3,107),new xe(5,108)),new je(26,new xe(3,41),new xe(13,42)),new je(30,new xe(15,24),new xe(5,25)),new je(28,new xe(15,15),new xe(10,16))),new Lt(21,Int32Array.from([6,28,50,72,94]),new je(28,new xe(4,116),new xe(4,117)),new je(26,new xe(17,42)),new je(28,new xe(17,22),new xe(6,23)),new je(30,new xe(19,16),new xe(6,17))),new Lt(22,Int32Array.from([6,26,50,74,98]),new je(28,new xe(2,111),new xe(7,112)),new je(28,new xe(17,46)),new je(30,new xe(7,24),new xe(16,25)),new je(24,new xe(34,13))),new Lt(23,Int32Array.from([6,30,54,78,102]),new je(30,new xe(4,121),new xe(5,122)),new je(28,new xe(4,47),new xe(14,48)),new je(30,new xe(11,24),new xe(14,25)),new je(30,new xe(16,15),new xe(14,16))),new Lt(24,Int32Array.from([6,28,54,80,106]),new je(30,new xe(6,117),new xe(4,118)),new je(28,new xe(6,45),new xe(14,46)),new je(30,new xe(11,24),new xe(16,25)),new je(30,new xe(30,16),new xe(2,17))),new Lt(25,Int32Array.from([6,32,58,84,110]),new je(26,new xe(8,106),new xe(4,107)),new je(28,new xe(8,47),new xe(13,48)),new je(30,new xe(7,24),new xe(22,25)),new je(30,new xe(22,15),new xe(13,16))),new Lt(26,Int32Array.from([6,30,58,86,114]),new je(28,new xe(10,114),new xe(2,115)),new je(28,new xe(19,46),new xe(4,47)),new je(28,new xe(28,22),new xe(6,23)),new je(30,new xe(33,16),new xe(4,17))),new Lt(27,Int32Array.from([6,34,62,90,118]),new je(30,new xe(8,122),new xe(4,123)),new je(28,new xe(22,45),new xe(3,46)),new je(30,new xe(8,23),new xe(26,24)),new je(30,new xe(12,15),new xe(28,16))),new Lt(28,Int32Array.from([6,26,50,74,98,122]),new je(30,new xe(3,117),new xe(10,118)),new je(28,new xe(3,45),new xe(23,46)),new je(30,new xe(4,24),new xe(31,25)),new je(30,new xe(11,15),new xe(31,16))),new Lt(29,Int32Array.from([6,30,54,78,102,126]),new je(30,new xe(7,116),new xe(7,117)),new je(28,new xe(21,45),new xe(7,46)),new je(30,new xe(1,23),new xe(37,24)),new je(30,new xe(19,15),new xe(26,16))),new Lt(30,Int32Array.from([6,26,52,78,104,130]),new je(30,new xe(5,115),new xe(10,116)),new je(28,new xe(19,47),new xe(10,48)),new je(30,new xe(15,24),new xe(25,25)),new je(30,new xe(23,15),new xe(25,16))),new Lt(31,Int32Array.from([6,30,56,82,108,134]),new je(30,new xe(13,115),new xe(3,116)),new je(28,new xe(2,46),new xe(29,47)),new je(30,new xe(42,24),new xe(1,25)),new je(30,new xe(23,15),new xe(28,16))),new Lt(32,Int32Array.from([6,34,60,86,112,138]),new je(30,new xe(17,115)),new je(28,new xe(10,46),new xe(23,47)),new je(30,new xe(10,24),new xe(35,25)),new je(30,new xe(19,15),new xe(35,16))),new Lt(33,Int32Array.from([6,30,58,86,114,142]),new je(30,new xe(17,115),new xe(1,116)),new je(28,new xe(14,46),new xe(21,47)),new je(30,new xe(29,24),new xe(19,25)),new je(30,new xe(11,15),new xe(46,16))),new Lt(34,Int32Array.from([6,34,62,90,118,146]),new je(30,new xe(13,115),new xe(6,116)),new je(28,new xe(14,46),new xe(23,47)),new je(30,new xe(44,24),new xe(7,25)),new je(30,new xe(59,16),new xe(1,17))),new Lt(35,Int32Array.from([6,30,54,78,102,126,150]),new je(30,new xe(12,121),new xe(7,122)),new je(28,new xe(12,47),new xe(26,48)),new je(30,new xe(39,24),new xe(14,25)),new je(30,new xe(22,15),new xe(41,16))),new Lt(36,Int32Array.from([6,24,50,76,102,128,154]),new je(30,new xe(6,121),new xe(14,122)),new je(28,new xe(6,47),new xe(34,48)),new je(30,new xe(46,24),new xe(10,25)),new je(30,new xe(2,15),new xe(64,16))),new Lt(37,Int32Array.from([6,28,54,80,106,132,158]),new je(30,new xe(17,122),new xe(4,123)),new je(28,new xe(29,46),new xe(14,47)),new je(30,new xe(49,24),new xe(10,25)),new je(30,new xe(24,15),new xe(46,16))),new Lt(38,Int32Array.from([6,32,58,84,110,136,162]),new je(30,new xe(4,122),new xe(18,123)),new je(28,new xe(13,46),new xe(32,47)),new je(30,new xe(48,24),new xe(14,25)),new je(30,new xe(42,15),new xe(32,16))),new Lt(39,Int32Array.from([6,26,54,82,110,138,166]),new je(30,new xe(20,117),new xe(4,118)),new je(28,new xe(40,47),new xe(7,48)),new je(30,new xe(43,24),new xe(22,25)),new je(30,new xe(10,15),new xe(67,16))),new Lt(40,Int32Array.from([6,30,58,86,114,142,170]),new je(30,new xe(19,118),new xe(6,119)),new je(28,new xe(18,47),new xe(31,48)),new je(30,new xe(34,24),new xe(34,25)),new je(30,new xe(20,15),new xe(61,16)))];var ai;(function(te){te[te.DATA_MASK_000=0]="DATA_MASK_000",te[te.DATA_MASK_001=1]="DATA_MASK_001",te[te.DATA_MASK_010=2]="DATA_MASK_010",te[te.DATA_MASK_011=3]="DATA_MASK_011",te[te.DATA_MASK_100=4]="DATA_MASK_100",te[te.DATA_MASK_101=5]="DATA_MASK_101",te[te.DATA_MASK_110=6]="DATA_MASK_110",te[te.DATA_MASK_111=7]="DATA_MASK_111"})(ai||(ai={}));class Ii{constructor(l,h){this.value=l,this.isMasked=h}unmaskBitMatrix(l,h){for(let m=0;m<h;m++)for(let v=0;v<h;v++)this.isMasked(m,v)&&l.flip(v,m)}}Ii.values=new Map([[ai.DATA_MASK_000,new Ii(ai.DATA_MASK_000,(te,l)=>(te+l&1)===0)],[ai.DATA_MASK_001,new Ii(ai.DATA_MASK_001,(te,l)=>(te&1)===0)],[ai.DATA_MASK_010,new Ii(ai.DATA_MASK_010,(te,l)=>l%3===0)],[ai.DATA_MASK_011,new Ii(ai.DATA_MASK_011,(te,l)=>(te+l)%3===0)],[ai.DATA_MASK_100,new Ii(ai.DATA_MASK_100,(te,l)=>(Math.floor(te/2)+Math.floor(l/3)&1)===0)],[ai.DATA_MASK_101,new Ii(ai.DATA_MASK_101,(te,l)=>te*l%6===0)],[ai.DATA_MASK_110,new Ii(ai.DATA_MASK_110,(te,l)=>te*l%6<3)],[ai.DATA_MASK_111,new Ii(ai.DATA_MASK_111,(te,l)=>(te+l+te*l%3&1)===0)]]);class Ga{constructor(l){const h=l.getHeight();if(h<21||(h&3)!==1)throw new F;this.bitMatrix=l}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let l=0;for(let b=0;b<6;b++)l=this.copyBit(b,8,l);l=this.copyBit(7,8,l),l=this.copyBit(8,8,l),l=this.copyBit(8,7,l);for(let b=5;b>=0;b--)l=this.copyBit(8,b,l);const h=this.bitMatrix.getHeight();let m=0;const v=h-7;for(let b=h-1;b>=v;b--)m=this.copyBit(8,b,m);for(let b=h-8;b<h;b++)m=this.copyBit(b,8,m);if(this.parsedFormatInfo=ii.decodeFormatInformation(l,m),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const l=this.bitMatrix.getHeight(),h=Math.floor((l-17)/4);if(h<=6)return Lt.getVersionForNumber(h);let m=0;const v=l-11;for(let _=5;_>=0;_--)for(let C=l-9;C>=v;C--)m=this.copyBit(C,_,m);let b=Lt.decodeVersionInformation(m);if(b!==null&&b.getDimensionForVersion()===l)return this.parsedVersion=b,b;m=0;for(let _=5;_>=0;_--)for(let C=l-9;C>=v;C--)m=this.copyBit(_,C,m);if(b=Lt.decodeVersionInformation(m),b!==null&&b.getDimensionForVersion()===l)return this.parsedVersion=b,b;throw new F}copyBit(l,h,m){return(this.isMirror?this.bitMatrix.get(h,l):this.bitMatrix.get(l,h))?m<<1|1:m<<1}readCodewords(){const l=this.readFormatInformation(),h=this.readVersion(),m=Ii.values.get(l.getDataMask()),v=this.bitMatrix.getHeight();m.unmaskBitMatrix(this.bitMatrix,v);const b=h.buildFunctionPattern();let _=!0;const C=new Uint8Array(h.getTotalCodewords());let M=0,L=0,W=0;for(let ne=v-1;ne>0;ne-=2){ne===6&&ne--;for(let ae=0;ae<v;ae++){const ve=_?v-1-ae:ae;for(let Se=0;Se<2;Se++)b.get(ne-Se,ve)||(W++,L<<=1,this.bitMatrix.get(ne-Se,ve)&&(L|=1),W===8&&(C[M++]=L,W=0,L=0))}_=!_}if(M!==h.getTotalCodewords())throw new F;return C}remask(){if(this.parsedFormatInfo===null)return;const l=Ii.values[this.parsedFormatInfo.getDataMask()],h=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,h)}setMirror(l){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=l}mirror(){const l=this.bitMatrix;for(let h=0,m=l.getWidth();h<m;h++)for(let v=h+1,b=l.getHeight();v<b;v++)l.get(h,v)!==l.get(v,h)&&(l.flip(v,h),l.flip(h,v))}}class ku{constructor(l,h){this.numDataCodewords=l,this.codewords=h}static getDataBlocks(l,h,m){if(l.length!==h.getTotalCodewords())throw new x;const v=h.getECBlocksForLevel(m);let b=0;const _=v.getECBlocks();for(const Se of _)b+=Se.getCount();const C=new Array(b);let M=0;for(const Se of _)for(let Te=0;Te<Se.getCount();Te++){const De=Se.getDataCodewords(),$e=v.getECCodewordsPerBlock()+De;C[M++]=new ku(De,new Uint8Array($e))}const L=C[0].codewords.length;let W=C.length-1;for(;W>=0&&C[W].codewords.length!==L;)W--;W++;const ne=L-v.getECCodewordsPerBlock();let ae=0;for(let Se=0;Se<ne;Se++)for(let Te=0;Te<M;Te++)C[Te].codewords[Se]=l[ae++];for(let Se=W;Se<M;Se++)C[Se].codewords[ne]=l[ae++];const ve=C[0].codewords.length;for(let Se=ne;Se<ve;Se++)for(let Te=0;Te<M;Te++){const De=Te<W?Se:Se+1;C[Te].codewords[De]=l[ae++]}return C}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var oa;(function(te){te[te.TERMINATOR=0]="TERMINATOR",te[te.NUMERIC=1]="NUMERIC",te[te.ALPHANUMERIC=2]="ALPHANUMERIC",te[te.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",te[te.BYTE=4]="BYTE",te[te.ECI=5]="ECI",te[te.KANJI=6]="KANJI",te[te.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",te[te.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",te[te.HANZI=9]="HANZI"})(oa||(oa={}));class Wt{constructor(l,h,m,v){this.value=l,this.stringValue=h,this.characterCountBitsForVersions=m,this.bits=v,Wt.FOR_BITS.set(v,this),Wt.FOR_VALUE.set(l,this)}static forBits(l){const h=Wt.FOR_BITS.get(l);if(h===void 0)throw new x;return h}getCharacterCountBits(l){const h=l.getVersionNumber();let m;return h<=9?m=0:h<=26?m=1:m=2,this.characterCountBitsForVersions[m]}getValue(){return this.value}getBits(){return this.bits}equals(l){if(!(l instanceof Wt))return!1;const h=l;return this.value===h.value}toString(){return this.stringValue}}Wt.FOR_BITS=new Map,Wt.FOR_VALUE=new Map,Wt.TERMINATOR=new Wt(oa.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Wt.NUMERIC=new Wt(oa.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Wt.ALPHANUMERIC=new Wt(oa.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Wt.STRUCTURED_APPEND=new Wt(oa.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Wt.BYTE=new Wt(oa.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Wt.ECI=new Wt(oa.ECI,"ECI",Int32Array.from([0,0,0]),7),Wt.KANJI=new Wt(oa.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Wt.FNC1_FIRST_POSITION=new Wt(oa.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Wt.FNC1_SECOND_POSITION=new Wt(oa.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Wt.HANZI=new Wt(oa.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class rr{static decode(l,h,m,v){const b=new qr(l);let _=new q;const C=new Array;let M=-1,L=-1;try{let W=null,ne=!1,ae;do{if(b.available()<4)ae=Wt.TERMINATOR;else{const ve=b.readBits(4);ae=Wt.forBits(ve)}switch(ae){case Wt.TERMINATOR:break;case Wt.FNC1_FIRST_POSITION:case Wt.FNC1_SECOND_POSITION:ne=!0;break;case Wt.STRUCTURED_APPEND:if(b.available()<16)throw new F;M=b.readBits(8),L=b.readBits(8);break;case Wt.ECI:const ve=rr.parseECIValue(b);if(W=B.getCharacterSetECIByValue(ve),W===null)throw new F;break;case Wt.HANZI:const Se=b.readBits(4),Te=b.readBits(ae.getCharacterCountBits(h));Se===rr.GB2312_SUBSET&&rr.decodeHanziSegment(b,_,Te);break;default:const De=b.readBits(ae.getCharacterCountBits(h));switch(ae){case Wt.NUMERIC:rr.decodeNumericSegment(b,_,De);break;case Wt.ALPHANUMERIC:rr.decodeAlphanumericSegment(b,_,De,ne);break;case Wt.BYTE:rr.decodeByteSegment(b,_,De,W,C,v);break;case Wt.KANJI:rr.decodeKanjiSegment(b,_,De);break;default:throw new F}break}}while(ae!==Wt.TERMINATOR)}catch{throw new F}return new _e(l,_.toString(),C.length===0?null:C,m===null?null:m.toString(),M,L)}static decodeHanziSegment(l,h,m){if(m*13>l.available())throw new F;const v=new Uint8Array(2*m);let b=0;for(;m>0;){const _=l.readBits(13);let C=_/96<<8&4294967295|_%96;C<959?C+=41377:C+=42657,v[b]=C>>8&255,v[b+1]=C&255,b+=2,m--}try{h.append(H.decode(v,G.GB2312))}catch(_){throw new F(_)}}static decodeKanjiSegment(l,h,m){if(m*13>l.available())throw new F;const v=new Uint8Array(2*m);let b=0;for(;m>0;){const _=l.readBits(13);let C=_/192<<8&4294967295|_%192;C<7936?C+=33088:C+=49472,v[b]=C>>8,v[b+1]=C,b+=2,m--}try{h.append(H.decode(v,G.SHIFT_JIS))}catch(_){throw new F(_)}}static decodeByteSegment(l,h,m,v,b,_){if(8*m>l.available())throw new F;const C=new Uint8Array(m);for(let L=0;L<m;L++)C[L]=l.readBits(8);let M;v===null?M=G.guessEncoding(C,_):M=v.getName();try{h.append(H.decode(C,M))}catch(L){throw new F(L)}b.push(C)}static toAlphaNumericChar(l){if(l>=rr.ALPHANUMERIC_CHARS.length)throw new F;return rr.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,h,m,v){const b=h.length();for(;m>1;){if(l.available()<11)throw new F;const _=l.readBits(11);h.append(rr.toAlphaNumericChar(Math.floor(_/45))),h.append(rr.toAlphaNumericChar(_%45)),m-=2}if(m===1){if(l.available()<6)throw new F;h.append(rr.toAlphaNumericChar(l.readBits(6)))}if(v)for(let _=b;_<h.length();_++)h.charAt(_)==="%"&&(_<h.length()-1&&h.charAt(_+1)==="%"?h.deleteCharAt(_+1):h.setCharAt(_,""))}static decodeNumericSegment(l,h,m){for(;m>=3;){if(l.available()<10)throw new F;const v=l.readBits(10);if(v>=1e3)throw new F;h.append(rr.toAlphaNumericChar(Math.floor(v/100))),h.append(rr.toAlphaNumericChar(Math.floor(v/10)%10)),h.append(rr.toAlphaNumericChar(v%10)),m-=3}if(m===2){if(l.available()<7)throw new F;const v=l.readBits(7);if(v>=100)throw new F;h.append(rr.toAlphaNumericChar(Math.floor(v/10))),h.append(rr.toAlphaNumericChar(v%10))}else if(m===1){if(l.available()<4)throw new F;const v=l.readBits(4);if(v>=10)throw new F;h.append(rr.toAlphaNumericChar(v))}}static parseECIValue(l){const h=l.readBits(8);if((h&128)===0)return h&127;if((h&192)===128){const m=l.readBits(8);return(h&63)<<8&4294967295|m}if((h&224)===192){const m=l.readBits(16);return(h&31)<<16&4294967295|m}throw new F}}rr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",rr.GB2312_SUBSET=1;class ld{constructor(l){this.mirrored=l}isMirrored(){return this.mirrored}applyMirroredCorrection(l){if(!this.mirrored||l===null||l.length<3)return;const h=l[0];l[0]=l[2],l[2]=h}}class kl{constructor(){this.rsDecoder=new Ct(gt.QR_CODE_FIELD_256)}decodeBooleanArray(l,h){return this.decodeBitMatrix(Ce.parseFromBooleanArray(l),h)}decodeBitMatrix(l,h){const m=new Ga(l);let v=null;try{return this.decodeBitMatrixParser(m,h)}catch(b){v=b}try{m.remask(),m.setMirror(!0),m.readVersion(),m.readFormatInformation(),m.mirror();const b=this.decodeBitMatrixParser(m,h);return b.setOther(new ld(!0)),b}catch(b){throw v!==null?v:b}}decodeBitMatrixParser(l,h){const m=l.readVersion(),v=l.readFormatInformation().getErrorCorrectionLevel(),b=l.readCodewords(),_=ku.getDataBlocks(b,m,v);let C=0;for(const W of _)C+=W.getNumDataCodewords();const M=new Uint8Array(C);let L=0;for(const W of _){const ne=W.getCodewords(),ae=W.getNumDataCodewords();this.correctErrors(ne,ae);for(let ve=0;ve<ae;ve++)M[L++]=ne[ve]}return rr.decode(M,m,v,h)}correctErrors(l,h){const m=new Int32Array(l);try{this.rsDecoder.decode(m,l.length-h)}catch{throw new A}for(let v=0;v<h;v++)l[v]=m[v]}}class Dl extends mt{constructor(l,h,m){super(l,h),this.estimatedModuleSize=m}aboutEquals(l,h,m){if(Math.abs(h-this.getY())<=l&&Math.abs(m-this.getX())<=l){const v=Math.abs(l-this.estimatedModuleSize);return v<=1||v<=this.estimatedModuleSize}return!1}combineEstimate(l,h,m){const v=(this.getX()+h)/2,b=(this.getY()+l)/2,_=(this.estimatedModuleSize+m)/2;return new Dl(v,b,_)}}class qa{constructor(l,h,m,v,b,_,C){this.image=l,this.startX=h,this.startY=m,this.width=v,this.height=b,this.moduleSize=_,this.resultPointCallback=C,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const l=this.startX,h=this.height,m=this.width,v=l+m,b=this.startY+h/2,_=new Int32Array(3),C=this.image;for(let M=0;M<h;M++){const L=b+((M&1)===0?Math.floor((M+1)/2):-Math.floor((M+1)/2));_[0]=0,_[1]=0,_[2]=0;let W=l;for(;W<v&&!C.get(W,L);)W++;let ne=0;for(;W<v;){if(C.get(W,L))if(ne===1)_[1]++;else if(ne===2){if(this.foundPatternCross(_)){const ae=this.handlePossibleCenter(_,L,W);if(ae!==null)return ae}_[0]=_[2],_[1]=1,_[2]=0,ne=1}else _[++ne]++;else ne===1&&ne++,_[ne]++;W++}if(this.foundPatternCross(_)){const ae=this.handlePossibleCenter(_,L,v);if(ae!==null)return ae}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new re}static centerFromEnd(l,h){return h-l[2]-l[1]/2}foundPatternCross(l){const h=this.moduleSize,m=h/2;for(let v=0;v<3;v++)if(Math.abs(h-l[v])>=m)return!1;return!0}crossCheckVertical(l,h,m,v){const b=this.image,_=b.getHeight(),C=this.crossCheckStateCount;C[0]=0,C[1]=0,C[2]=0;let M=l;for(;M>=0&&b.get(h,M)&&C[1]<=m;)C[1]++,M--;if(M<0||C[1]>m)return NaN;for(;M>=0&&!b.get(h,M)&&C[0]<=m;)C[0]++,M--;if(C[0]>m)return NaN;for(M=l+1;M<_&&b.get(h,M)&&C[1]<=m;)C[1]++,M++;if(M===_||C[1]>m)return NaN;for(;M<_&&!b.get(h,M)&&C[2]<=m;)C[2]++,M++;if(C[2]>m)return NaN;const L=C[0]+C[1]+C[2];return 5*Math.abs(L-v)>=2*v?NaN:this.foundPatternCross(C)?qa.centerFromEnd(C,M):NaN}handlePossibleCenter(l,h,m){const v=l[0]+l[1]+l[2],b=qa.centerFromEnd(l,m),_=this.crossCheckVertical(h,b,2*l[1],v);if(!isNaN(_)){const C=(l[0]+l[1]+l[2])/3;for(const L of this.possibleCenters)if(L.aboutEquals(C,_,b))return L.combineEstimate(_,b,C);const M=new Dl(b,_,C);this.possibleCenters.push(M),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(M)}return null}}class bc extends mt{constructor(l,h,m,v){super(l,h),this.estimatedModuleSize=m,this.count=v,v===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(l,h,m){if(Math.abs(h-this.getY())<=l&&Math.abs(m-this.getX())<=l){const v=Math.abs(l-this.estimatedModuleSize);return v<=1||v<=this.estimatedModuleSize}return!1}combineEstimate(l,h,m){const v=this.count+1,b=(this.count*this.getX()+h)/v,_=(this.count*this.getY()+l)/v,C=(this.count*this.estimatedModuleSize+m)/v;return new bc(b,_,C,v)}}class Ts{constructor(l){this.bottomLeft=l[0],this.topLeft=l[1],this.topRight=l[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Sr{constructor(l,h){this.image=l,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=h}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const h=l!=null&&l.get(Z.TRY_HARDER)!==void 0,m=l!=null&&l.get(Z.PURE_BARCODE)!==void 0,v=this.image,b=v.getHeight(),_=v.getWidth();let C=Math.floor(3*b/(4*Sr.MAX_MODULES));(C<Sr.MIN_SKIP||h)&&(C=Sr.MIN_SKIP);let M=!1;const L=new Int32Array(5);for(let ne=C-1;ne<b&&!M;ne+=C){L[0]=0,L[1]=0,L[2]=0,L[3]=0,L[4]=0;let ae=0;for(let ve=0;ve<_;ve++)if(v.get(ve,ne))(ae&1)===1&&ae++,L[ae]++;else if((ae&1)===0)if(ae===4)if(Sr.foundPatternCross(L)){if(this.handlePossibleCenter(L,ne,ve,m)===!0)if(C=2,this.hasSkipped===!0)M=this.haveMultiplyConfirmedCenters();else{const Te=this.findRowSkip();Te>L[2]&&(ne+=Te-L[2]-C,ve=_-1)}else{L[0]=L[2],L[1]=L[3],L[2]=L[4],L[3]=1,L[4]=0,ae=3;continue}ae=0,L[0]=0,L[1]=0,L[2]=0,L[3]=0,L[4]=0}else L[0]=L[2],L[1]=L[3],L[2]=L[4],L[3]=1,L[4]=0,ae=3;else L[++ae]++;else L[ae]++;Sr.foundPatternCross(L)&&this.handlePossibleCenter(L,ne,_,m)===!0&&(C=L[0],this.hasSkipped&&(M=this.haveMultiplyConfirmedCenters()))}const W=this.selectBestPatterns();return mt.orderBestPatterns(W),new Ts(W)}static centerFromEnd(l,h){return h-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let h=0;for(let b=0;b<5;b++){const _=l[b];if(_===0)return!1;h+=_}if(h<7)return!1;const m=h/7,v=m/2;return Math.abs(m-l[0])<v&&Math.abs(m-l[1])<v&&Math.abs(3*m-l[2])<3*v&&Math.abs(m-l[3])<v&&Math.abs(m-l[4])<v}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,h,m,v){const b=this.getCrossCheckStateCount();let _=0;const C=this.image;for(;l>=_&&h>=_&&C.get(h-_,l-_);)b[2]++,_++;if(l<_||h<_)return!1;for(;l>=_&&h>=_&&!C.get(h-_,l-_)&&b[1]<=m;)b[1]++,_++;if(l<_||h<_||b[1]>m)return!1;for(;l>=_&&h>=_&&C.get(h-_,l-_)&&b[0]<=m;)b[0]++,_++;if(b[0]>m)return!1;const M=C.getHeight(),L=C.getWidth();for(_=1;l+_<M&&h+_<L&&C.get(h+_,l+_);)b[2]++,_++;if(l+_>=M||h+_>=L)return!1;for(;l+_<M&&h+_<L&&!C.get(h+_,l+_)&&b[3]<m;)b[3]++,_++;if(l+_>=M||h+_>=L||b[3]>=m)return!1;for(;l+_<M&&h+_<L&&C.get(h+_,l+_)&&b[4]<m;)b[4]++,_++;if(b[4]>=m)return!1;const W=b[0]+b[1]+b[2]+b[3]+b[4];return Math.abs(W-v)<2*v&&Sr.foundPatternCross(b)}crossCheckVertical(l,h,m,v){const b=this.image,_=b.getHeight(),C=this.getCrossCheckStateCount();let M=l;for(;M>=0&&b.get(h,M);)C[2]++,M--;if(M<0)return NaN;for(;M>=0&&!b.get(h,M)&&C[1]<=m;)C[1]++,M--;if(M<0||C[1]>m)return NaN;for(;M>=0&&b.get(h,M)&&C[0]<=m;)C[0]++,M--;if(C[0]>m)return NaN;for(M=l+1;M<_&&b.get(h,M);)C[2]++,M++;if(M===_)return NaN;for(;M<_&&!b.get(h,M)&&C[3]<m;)C[3]++,M++;if(M===_||C[3]>=m)return NaN;for(;M<_&&b.get(h,M)&&C[4]<m;)C[4]++,M++;if(C[4]>=m)return NaN;const L=C[0]+C[1]+C[2]+C[3]+C[4];return 5*Math.abs(L-v)>=2*v?NaN:Sr.foundPatternCross(C)?Sr.centerFromEnd(C,M):NaN}crossCheckHorizontal(l,h,m,v){const b=this.image,_=b.getWidth(),C=this.getCrossCheckStateCount();let M=l;for(;M>=0&&b.get(M,h);)C[2]++,M--;if(M<0)return NaN;for(;M>=0&&!b.get(M,h)&&C[1]<=m;)C[1]++,M--;if(M<0||C[1]>m)return NaN;for(;M>=0&&b.get(M,h)&&C[0]<=m;)C[0]++,M--;if(C[0]>m)return NaN;for(M=l+1;M<_&&b.get(M,h);)C[2]++,M++;if(M===_)return NaN;for(;M<_&&!b.get(M,h)&&C[3]<m;)C[3]++,M++;if(M===_||C[3]>=m)return NaN;for(;M<_&&b.get(M,h)&&C[4]<m;)C[4]++,M++;if(C[4]>=m)return NaN;const L=C[0]+C[1]+C[2]+C[3]+C[4];return 5*Math.abs(L-v)>=v?NaN:Sr.foundPatternCross(C)?Sr.centerFromEnd(C,M):NaN}handlePossibleCenter(l,h,m,v){const b=l[0]+l[1]+l[2]+l[3]+l[4];let _=Sr.centerFromEnd(l,m),C=this.crossCheckVertical(h,Math.floor(_),l[2],b);if(!isNaN(C)&&(_=this.crossCheckHorizontal(Math.floor(_),Math.floor(C),l[2],b),!isNaN(_)&&(!v||this.crossCheckDiagonal(Math.floor(C),Math.floor(_),l[2],b)))){const M=b/7;let L=!1;const W=this.possibleCenters;for(let ne=0,ae=W.length;ne<ae;ne++){const ve=W[ne];if(ve.aboutEquals(M,C,_)){W[ne]=ve.combineEstimate(C,_,M),L=!0;break}}if(!L){const ne=new bc(_,C,M);W.push(ne),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(ne)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let h=null;for(const m of this.possibleCenters)if(m.getCount()>=Sr.CENTER_QUORUM)if(h==null)h=m;else return this.hasSkipped=!0,Math.floor((Math.abs(h.getX()-m.getX())-Math.abs(h.getY()-m.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let l=0,h=0;const m=this.possibleCenters.length;for(const _ of this.possibleCenters)_.getCount()>=Sr.CENTER_QUORUM&&(l++,h+=_.getEstimatedModuleSize());if(l<3)return!1;const v=h/m;let b=0;for(const _ of this.possibleCenters)b+=Math.abs(_.getEstimatedModuleSize()-v);return b<=.05*h}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new re;const h=this.possibleCenters;let m;if(l>3){let v=0,b=0;for(const M of this.possibleCenters){const L=M.getEstimatedModuleSize();v+=L,b+=L*L}m=v/l;let _=Math.sqrt(b/l-m*m);h.sort((M,L)=>{const W=Math.abs(L.getEstimatedModuleSize()-m),ne=Math.abs(M.getEstimatedModuleSize()-m);return W<ne?-1:W>ne?1:0});const C=Math.max(.2*m,_);for(let M=0;M<h.length&&h.length>3;M++){const L=h[M];Math.abs(L.getEstimatedModuleSize()-m)>C&&(h.splice(M,1),M--)}}if(h.length>3){let v=0;for(const b of h)v+=b.getEstimatedModuleSize();m=v/h.length,h.sort((b,_)=>{if(_.getCount()===b.getCount()){const C=Math.abs(_.getEstimatedModuleSize()-m),M=Math.abs(b.getEstimatedModuleSize()-m);return C<M?1:C>M?-1:0}else return _.getCount()-b.getCount()}),h.splice(3)}return[h[0],h[1],h[2]]}}Sr.CENTER_QUORUM=2,Sr.MIN_SKIP=3,Sr.MAX_MODULES=57;class Ya{constructor(l){this.image=l}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(l){this.resultPointCallback=l==null?null:l.get(Z.NEED_RESULT_POINT_CALLBACK);const m=new Sr(this.image,this.resultPointCallback).find(l);return this.processFinderPatternInfo(m)}processFinderPatternInfo(l){const h=l.getTopLeft(),m=l.getTopRight(),v=l.getBottomLeft(),b=this.calculateModuleSize(h,m,v);if(b<1)throw new re("No pattern found in proccess finder.");const _=Ya.computeDimension(h,m,v,b),C=Lt.getProvisionalVersionForDimension(_),M=C.getDimensionForVersion()-7;let L=null;if(C.getAlignmentPatternCenters().length>0){const ve=m.getX()-h.getX()+v.getX(),Se=m.getY()-h.getY()+v.getY(),Te=1-3/M,De=Math.floor(h.getX()+Te*(ve-h.getX())),$e=Math.floor(h.getY()+Te*(Se-h.getY()));for(let vt=4;vt<=16;vt<<=1)try{L=this.findAlignmentInRegion(b,De,$e,vt);break}catch(xt){if(!(xt instanceof re))throw xt}}const W=Ya.createTransform(h,m,v,L,_),ne=Ya.sampleGrid(this.image,W,_);let ae;return L===null?ae=[v,h,m]:ae=[v,h,m,L],new fi(ne,ae)}static createTransform(l,h,m,v,b){const _=b-3.5;let C,M,L,W;return v!==null?(C=v.getX(),M=v.getY(),L=_-3,W=L):(C=h.getX()-l.getX()+m.getX(),M=h.getY()-l.getY()+m.getY(),L=_,W=_),ye.quadrilateralToQuadrilateral(3.5,3.5,_,3.5,L,W,3.5,_,l.getX(),l.getY(),h.getX(),h.getY(),C,M,m.getX(),m.getY())}static sampleGrid(l,h,m){return Rt.getInstance().sampleGridWithTransform(l,m,m,h)}static computeDimension(l,h,m,v){const b=_t.round(mt.distance(l,h)/v),_=_t.round(mt.distance(l,m)/v);let C=Math.floor((b+_)/2)+7;switch(C&3){case 0:C++;break;case 2:C--;break;case 3:throw new re("Dimensions could be not found.")}return C}calculateModuleSize(l,h,m){return(this.calculateModuleSizeOneWay(l,h)+this.calculateModuleSizeOneWay(l,m))/2}calculateModuleSizeOneWay(l,h){const m=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(h.getX()),Math.floor(h.getY())),v=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(h.getX()),Math.floor(h.getY()),Math.floor(l.getX()),Math.floor(l.getY()));return isNaN(m)?v/7:isNaN(v)?m/7:(m+v)/14}sizeOfBlackWhiteBlackRunBothWays(l,h,m,v){let b=this.sizeOfBlackWhiteBlackRun(l,h,m,v),_=1,C=l-(m-l);C<0?(_=l/(l-C),C=0):C>=this.image.getWidth()&&(_=(this.image.getWidth()-1-l)/(C-l),C=this.image.getWidth()-1);let M=Math.floor(h-(v-h)*_);return _=1,M<0?(_=h/(h-M),M=0):M>=this.image.getHeight()&&(_=(this.image.getHeight()-1-h)/(M-h),M=this.image.getHeight()-1),C=Math.floor(l+(C-l)*_),b+=this.sizeOfBlackWhiteBlackRun(l,h,C,M),b-1}sizeOfBlackWhiteBlackRun(l,h,m,v){const b=Math.abs(v-h)>Math.abs(m-l);if(b){let ve=l;l=h,h=ve,ve=m,m=v,v=ve}const _=Math.abs(m-l),C=Math.abs(v-h);let M=-_/2;const L=l<m?1:-1,W=h<v?1:-1;let ne=0;const ae=m+L;for(let ve=l,Se=h;ve!==ae;ve+=L){const Te=b?Se:ve,De=b?ve:Se;if(ne===1===this.image.get(Te,De)){if(ne===2)return _t.distance(ve,Se,l,h);ne++}if(M+=C,M>0){if(Se===v)break;Se+=W,M-=_}}return ne===2?_t.distance(m+L,v,l,h):NaN}findAlignmentInRegion(l,h,m,v){const b=Math.floor(v*l),_=Math.max(0,h-b),C=Math.min(this.image.getWidth()-1,h+b);if(C-_<l*3)throw new re("Alignment top exceeds estimated module size.");const M=Math.max(0,m-b),L=Math.min(this.image.getHeight()-1,m+b);if(L-M<l*3)throw new re("Alignment bottom exceeds estimated module size.");return new qa(this.image,_,M,C-_,L-M,l,this.resultPointCallback).find()}}class $a{constructor(){this.decoder=new kl}getDecoder(){return this.decoder}decode(l,h){let m,v;if(h!=null&&h.get(Z.PURE_BARCODE)!==void 0){const M=$a.extractPureBits(l.getBlackMatrix());m=this.decoder.decodeBitMatrix(M,h),v=$a.NO_POINTS}else{const M=new Ya(l.getBlackMatrix()).detect(h);m=this.decoder.decodeBitMatrix(M.getBits(),h),v=M.getPoints()}m.getOther()instanceof ld&&m.getOther().applyMirroredCorrection(v);const b=new se(m.getText(),m.getRawBytes(),void 0,v,Ee.QR_CODE,void 0),_=m.getByteSegments();_!==null&&b.putMetadata(Ge.BYTE_SEGMENTS,_);const C=m.getECLevel();return C!==null&&b.putMetadata(Ge.ERROR_CORRECTION_LEVEL,C),m.hasStructuredAppend()&&(b.putMetadata(Ge.STRUCTURED_APPEND_SEQUENCE,m.getStructuredAppendSequenceNumber()),b.putMetadata(Ge.STRUCTURED_APPEND_PARITY,m.getStructuredAppendParity())),b}reset(){}static extractPureBits(l){const h=l.getTopLeftOnBit(),m=l.getBottomRightOnBit();if(h===null||m===null)throw new re;const v=this.moduleSize(h,l);let b=h[1],_=m[1],C=h[0],M=m[0];if(C>=M||b>=_)throw new re;if(_-b!==M-C&&(M=C+(_-b),M>=l.getWidth()))throw new re;const L=Math.round((M-C+1)/v),W=Math.round((_-b+1)/v);if(L<=0||W<=0)throw new re;if(W!==L)throw new re;const ne=Math.floor(v/2);b+=ne,C+=ne;const ae=C+Math.floor((L-1)*v)-M;if(ae>0){if(ae>ne)throw new re;C-=ae}const ve=b+Math.floor((W-1)*v)-_;if(ve>0){if(ve>ne)throw new re;b-=ve}const Se=new Ce(L,W);for(let Te=0;Te<W;Te++){const De=b+Math.floor(Te*v);for(let $e=0;$e<L;$e++)l.get(C+Math.floor($e*v),De)&&Se.set($e,Te)}return Se}static moduleSize(l,h){const m=h.getHeight(),v=h.getWidth();let b=l[0],_=l[1],C=!0,M=0;for(;b<v&&_<m;){if(C!==h.get(b,_)){if(++M===5)break;C=!C}b++,_++}if(b===v||_===m)throw new re;return(b-l[0])/7}}$a.NO_POINTS=new Array;class qt{PDF417Common(){}static getBitCountSum(l){return _t.sum(l)}static toIntArray(l){if(l==null||!l.length)return qt.EMPTY_INT_ARRAY;const h=new Int32Array(l.length);let m=0;for(const v of l)h[m++]=v;return h}static getCodeword(l){const h=D.binarySearch(qt.SYMBOL_TABLE,l&262143);return h<0?-1:(qt.CODEWORD_TABLE[h]-1)%qt.NUMBER_OF_CODEWORDS}}qt.NUMBER_OF_CODEWORDS=929,qt.MAX_CODEWORDS_IN_BARCODE=qt.NUMBER_OF_CODEWORDS-1,qt.MIN_ROWS_IN_BARCODE=3,qt.MAX_ROWS_IN_BARCODE=90,qt.MODULES_IN_CODEWORD=17,qt.MODULES_IN_STOP_PATTERN=18,qt.BARS_IN_MODULE=8,qt.EMPTY_INT_ARRAY=new Int32Array([]),qt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),qt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Pl{constructor(l,h){this.bits=l,this.points=h}getBits(){return this.bits}getPoints(){return this.points}}class Qt{static detectMultiple(l,h,m){let v=l.getBlackMatrix(),b=Qt.detect(m,v);return b.length||(v=v.clone(),v.rotate180(),b=Qt.detect(m,v)),new Pl(v,b)}static detect(l,h){const m=new Array;let v=0,b=0,_=!1;for(;v<h.getHeight();){const C=Qt.findVertices(h,v,b);if(C[0]==null&&C[3]==null){if(!_)break;_=!1,b=0;for(const M of m)M[1]!=null&&(v=Math.trunc(Math.max(v,M[1].getY()))),M[3]!=null&&(v=Math.max(v,Math.trunc(M[3].getY())));v+=Qt.ROW_STEP;continue}if(_=!0,m.push(C),!l)break;C[2]!=null?(b=Math.trunc(C[2].getX()),v=Math.trunc(C[2].getY())):(b=Math.trunc(C[4].getX()),v=Math.trunc(C[4].getY()))}return m}static findVertices(l,h,m){const v=l.getHeight(),b=l.getWidth(),_=new Array(8);return Qt.copyToResult(_,Qt.findRowsWithPattern(l,v,b,h,m,Qt.START_PATTERN),Qt.INDEXES_START_PATTERN),_[4]!=null&&(m=Math.trunc(_[4].getX()),h=Math.trunc(_[4].getY())),Qt.copyToResult(_,Qt.findRowsWithPattern(l,v,b,h,m,Qt.STOP_PATTERN),Qt.INDEXES_STOP_PATTERN),_}static copyToResult(l,h,m){for(let v=0;v<m.length;v++)l[m[v]]=h[v]}static findRowsWithPattern(l,h,m,v,b,_){const C=new Array(4);let M=!1;const L=new Int32Array(_.length);for(;v<h;v+=Qt.ROW_STEP){let ne=Qt.findGuardPattern(l,b,v,m,!1,_,L);if(ne!=null){for(;v>0;){const ae=Qt.findGuardPattern(l,b,--v,m,!1,_,L);if(ae!=null)ne=ae;else{v++;break}}C[0]=new mt(ne[0],v),C[1]=new mt(ne[1],v),M=!0;break}}let W=v+1;if(M){let ne=0,ae=Int32Array.from([Math.trunc(C[0].getX()),Math.trunc(C[1].getX())]);for(;W<h;W++){const ve=Qt.findGuardPattern(l,ae[0],W,m,!1,_,L);if(ve!=null&&Math.abs(ae[0]-ve[0])<Qt.MAX_PATTERN_DRIFT&&Math.abs(ae[1]-ve[1])<Qt.MAX_PATTERN_DRIFT)ae=ve,ne=0;else{if(ne>Qt.SKIPPED_ROW_COUNT_MAX)break;ne++}}W-=ne+1,C[2]=new mt(ae[0],W),C[3]=new mt(ae[1],W)}return W-v<Qt.BARCODE_MIN_HEIGHT&&D.fill(C,null),C}static findGuardPattern(l,h,m,v,b,_,C){D.fillWithin(C,0,C.length,0);let M=h,L=0;for(;l.get(M,m)&&M>0&&L++<Qt.MAX_PIXEL_DRIFT;)M--;let W=M,ne=0,ae=_.length;for(let ve=b;W<v;W++)if(l.get(W,m)!==ve)C[ne]++;else{if(ne===ae-1){if(Qt.patternMatchVariance(C,_,Qt.MAX_INDIVIDUAL_VARIANCE)<Qt.MAX_AVG_VARIANCE)return new Int32Array([M,W]);M+=C[0]+C[1],S.arraycopy(C,2,C,0,ne-1),C[ne-1]=0,C[ne]=0,ne--}else ne++;C[ne]=1,ve=!ve}return ne===ae-1&&Qt.patternMatchVariance(C,_,Qt.MAX_INDIVIDUAL_VARIANCE)<Qt.MAX_AVG_VARIANCE?new Int32Array([M,W-1]):null}static patternMatchVariance(l,h,m){let v=l.length,b=0,_=0;for(let L=0;L<v;L++)b+=l[L],_+=h[L];if(b<_)return 1/0;let C=b/_;m*=C;let M=0;for(let L=0;L<v;L++){let W=l[L],ne=h[L]*C,ae=W>ne?W-ne:ne-W;if(ae>m)return 1/0;M+=ae}return M/b}}Qt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Qt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Qt.MAX_AVG_VARIANCE=.42,Qt.MAX_INDIVIDUAL_VARIANCE=.8,Qt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Qt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Qt.MAX_PIXEL_DRIFT=3,Qt.MAX_PATTERN_DRIFT=5,Qt.SKIPPED_ROW_COUNT_MAX=25,Qt.ROW_STEP=5,Qt.BARCODE_MIN_HEIGHT=10;class ir{constructor(l,h){if(h.length===0)throw new x;this.field=l;let m=h.length;if(m>1&&h[0]===0){let v=1;for(;v<m&&h[v]===0;)v++;v===m?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(m-v),S.arraycopy(h,v,this.coefficients,0,this.coefficients.length))}else this.coefficients=h}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);if(l===1){let v=0;for(let b of this.coefficients)v=this.field.add(v,b);return v}let h=this.coefficients[0],m=this.coefficients.length;for(let v=1;v<m;v++)h=this.field.add(this.field.multiply(l,h),this.coefficients[v]);return h}add(l){if(!this.field.equals(l.field))throw new x("ModulusPolys do not have same ModulusGF field");if(this.isZero())return l;if(l.isZero())return this;let h=this.coefficients,m=l.coefficients;if(h.length>m.length){let _=h;h=m,m=_}let v=new Int32Array(m.length),b=m.length-h.length;S.arraycopy(m,0,v,0,b);for(let _=b;_<m.length;_++)v[_]=this.field.add(h[_-b],m[_]);return new ir(this.field,v)}subtract(l){if(!this.field.equals(l.field))throw new x("ModulusPolys do not have same ModulusGF field");return l.isZero()?this:this.add(l.negative())}multiply(l){return l instanceof ir?this.multiplyOther(l):this.multiplyScalar(l)}multiplyOther(l){if(!this.field.equals(l.field))throw new x("ModulusPolys do not have same ModulusGF field");if(this.isZero()||l.isZero())return new ir(this.field,new Int32Array([0]));let h=this.coefficients,m=h.length,v=l.coefficients,b=v.length,_=new Int32Array(m+b-1);for(let C=0;C<m;C++){let M=h[C];for(let L=0;L<b;L++)_[C+L]=this.field.add(_[C+L],this.field.multiply(M,v[L]))}return new ir(this.field,_)}negative(){let l=this.coefficients.length,h=new Int32Array(l);for(let m=0;m<l;m++)h[m]=this.field.subtract(0,this.coefficients[m]);return new ir(this.field,h)}multiplyScalar(l){if(l===0)return new ir(this.field,new Int32Array([0]));if(l===1)return this;let h=this.coefficients.length,m=new Int32Array(h);for(let v=0;v<h;v++)m[v]=this.field.multiply(this.coefficients[v],l);return new ir(this.field,m)}multiplyByMonomial(l,h){if(l<0)throw new x;if(h===0)return new ir(this.field,new Int32Array([0]));let m=this.coefficients.length,v=new Int32Array(m+l);for(let b=0;b<m;b++)v[b]=this.field.multiply(this.coefficients[b],h);return new ir(this.field,v)}toString(){let l=new q;for(let h=this.getDegree();h>=0;h--){let m=this.getCoefficient(h);m!==0&&(m<0?(l.append(" - "),m=-m):l.length()>0&&l.append(" + "),(h===0||m!==1)&&l.append(m),h!==0&&(h===1?l.append("x"):(l.append("x^"),l.append(h))))}return l.toString()}}class wc{add(l,h){return(l+h)%this.modulus}subtract(l,h){return(this.modulus+l-h)%this.modulus}exp(l){return this.expTable[l]}log(l){if(l===0)throw new x;return this.logTable[l]}inverse(l){if(l===0)throw new Me;return this.expTable[this.modulus-this.logTable[l]-1]}multiply(l,h){return l===0||h===0?0:this.expTable[(this.logTable[l]+this.logTable[h])%(this.modulus-1)]}getSize(){return this.modulus}equals(l){return l===this}}class qn extends wc{constructor(l,h){super(),this.modulus=l,this.expTable=new Int32Array(l),this.logTable=new Int32Array(l);let m=1;for(let v=0;v<l;v++)this.expTable[v]=m,m=m*h%l;for(let v=0;v<l-1;v++)this.logTable[this.expTable[v]]=v;this.zero=new ir(this,new Int32Array([0])),this.one=new ir(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,h){if(l<0)throw new x;if(h===0)return this.zero;let m=new Int32Array(l+1);return m[0]=h,new ir(this,m)}}qn.PDF417_GF=new qn(qt.NUMBER_OF_CODEWORDS,3);class $s{constructor(){this.field=qn.PDF417_GF}decode(l,h,m){let v=new ir(this.field,l),b=new Int32Array(h),_=!1;for(let Se=h;Se>0;Se--){let Te=v.evaluateAt(this.field.exp(Se));b[h-Se]=Te,Te!==0&&(_=!0)}if(!_)return 0;let C=this.field.getOne();if(m!=null)for(const Se of m){let Te=this.field.exp(l.length-1-Se),De=new ir(this.field,new Int32Array([this.field.subtract(0,Te),1]));C=C.multiply(De)}let M=new ir(this.field,b),L=this.runEuclideanAlgorithm(this.field.buildMonomial(h,1),M,h),W=L[0],ne=L[1],ae=this.findErrorLocations(W),ve=this.findErrorMagnitudes(ne,W,ae);for(let Se=0;Se<ae.length;Se++){let Te=l.length-1-this.field.log(ae[Se]);if(Te<0)throw A.getChecksumInstance();l[Te]=this.field.subtract(l[Te],ve[Se])}return ae.length}runEuclideanAlgorithm(l,h,m){if(l.getDegree()<h.getDegree()){let ae=l;l=h,h=ae}let v=l,b=h,_=this.field.getZero(),C=this.field.getOne();for(;b.getDegree()>=Math.round(m/2);){let ae=v,ve=_;if(v=b,_=C,v.isZero())throw A.getChecksumInstance();b=ae;let Se=this.field.getZero(),Te=v.getCoefficient(v.getDegree()),De=this.field.inverse(Te);for(;b.getDegree()>=v.getDegree()&&!b.isZero();){let $e=b.getDegree()-v.getDegree(),vt=this.field.multiply(b.getCoefficient(b.getDegree()),De);Se=Se.add(this.field.buildMonomial($e,vt)),b=b.subtract(v.multiplyByMonomial($e,vt))}C=Se.multiply(_).subtract(ve).negative()}let M=C.getCoefficient(0);if(M===0)throw A.getChecksumInstance();let L=this.field.inverse(M),W=C.multiply(L),ne=b.multiply(L);return[W,ne]}findErrorLocations(l){let h=l.getDegree(),m=new Int32Array(h),v=0;for(let b=1;b<this.field.getSize()&&v<h;b++)l.evaluateAt(b)===0&&(m[v]=this.field.inverse(b),v++);if(v!==h)throw A.getChecksumInstance();return m}findErrorMagnitudes(l,h,m){let v=h.getDegree(),b=new Int32Array(v);for(let L=1;L<=v;L++)b[v-L]=this.field.multiply(L,h.getCoefficient(L));let _=new ir(this.field,b),C=m.length,M=new Int32Array(C);for(let L=0;L<C;L++){let W=this.field.inverse(m[L]),ne=this.field.subtract(0,l.evaluateAt(W)),ae=this.field.inverse(_.evaluateAt(W));M[L]=this.field.multiply(ne,ae)}return M}}class Ks{constructor(l,h,m,v,b){l instanceof Ks?this.constructor_2(l):this.constructor_1(l,h,m,v,b)}constructor_1(l,h,m,v,b){const _=h==null||m==null,C=v==null||b==null;if(_&&C)throw new re;_?(h=new mt(0,v.getY()),m=new mt(0,b.getY())):C&&(v=new mt(l.getWidth()-1,h.getY()),b=new mt(l.getWidth()-1,m.getY())),this.image=l,this.topLeft=h,this.bottomLeft=m,this.topRight=v,this.bottomRight=b,this.minX=Math.trunc(Math.min(h.getX(),m.getX())),this.maxX=Math.trunc(Math.max(v.getX(),b.getX())),this.minY=Math.trunc(Math.min(h.getY(),v.getY())),this.maxY=Math.trunc(Math.max(m.getY(),b.getY()))}constructor_2(l){this.image=l.image,this.topLeft=l.getTopLeft(),this.bottomLeft=l.getBottomLeft(),this.topRight=l.getTopRight(),this.bottomRight=l.getBottomRight(),this.minX=l.getMinX(),this.maxX=l.getMaxX(),this.minY=l.getMinY(),this.maxY=l.getMaxY()}static merge(l,h){return l==null?h:h==null?l:new Ks(l.image,l.topLeft,l.bottomLeft,h.topRight,h.bottomRight)}addMissingRows(l,h,m){let v=this.topLeft,b=this.bottomLeft,_=this.topRight,C=this.bottomRight;if(l>0){let M=m?this.topLeft:this.topRight,L=Math.trunc(M.getY()-l);L<0&&(L=0);let W=new mt(M.getX(),L);m?v=W:_=W}if(h>0){let M=m?this.bottomLeft:this.bottomRight,L=Math.trunc(M.getY()+h);L>=this.image.getHeight()&&(L=this.image.getHeight()-1);let W=new mt(M.getX(),L);m?b=W:C=W}return new Ks(this.image,v,b,_,C)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ec{constructor(l,h,m,v){this.columnCount=l,this.errorCorrectionLevel=v,this.rowCountUpperPart=h,this.rowCountLowerPart=m,this.rowCount=h+m}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class rl{constructor(){this.buffer=""}static form(l,h){let m=-1;function v(_,C,M,L,W,ne){if(_==="%%")return"%";if(h[++m]===void 0)return;_=L?parseInt(L.substr(1)):void 0;let ae=W?parseInt(W.substr(1)):void 0,ve;switch(ne){case"s":ve=h[m];break;case"c":ve=h[m][0];break;case"f":ve=parseFloat(h[m]).toFixed(_);break;case"p":ve=parseFloat(h[m]).toPrecision(_);break;case"e":ve=parseFloat(h[m]).toExponential(_);break;case"x":ve=parseInt(h[m]).toString(ae||16);break;case"d":ve=parseFloat(parseInt(h[m],ae||10).toPrecision(_)).toFixed(0);break}ve=typeof ve=="object"?JSON.stringify(ve):(+ve).toString(ae);let Se=parseInt(M),Te=M&&M[0]+""=="0"?"0":" ";for(;ve.length<Se;)ve=C!==void 0?ve+Te:Te+ve;return ve}let b=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(b,v)}format(l,...h){this.buffer+=rl.form(l,h)}toString(){return this.buffer}}class Xs{constructor(l){this.boundingBox=new Ks(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let h=this.getCodeword(l);if(h!=null)return h;for(let m=1;m<Xs.MAX_NEARBY_DISTANCE;m++){let v=this.imageRowToCodewordIndex(l)-m;if(v>=0&&(h=this.codewords[v],h!=null)||(v=this.imageRowToCodewordIndex(l)+m,v<this.codewords.length&&(h=this.codewords[v],h!=null)))return h}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,h){this.codewords[this.imageRowToCodewordIndex(l)]=h}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new rl;let h=0;for(const m of this.codewords){if(m==null){l.format("%3d:    |   %n",h++);continue}l.format("%3d: %3d|%3d%n",h++,m.getRowNumber(),m.getValue())}return l.toString()}}Xs.MAX_NEARBY_DISTANCE=5;class ls{constructor(){this.values=new Map}setValue(l){l=Math.trunc(l);let h=this.values.get(l);h==null&&(h=0),h++,this.values.set(l,h)}getValue(){let l=-1,h=new Array;for(const[m,v]of this.values.entries()){const b={getKey:()=>m,getValue:()=>v};b.getValue()>l?(l=b.getValue(),h=[],h.push(b.getKey())):b.getValue()===l&&h.push(b.getKey())}return qt.toIntArray(h)}getConfidence(l){return this.values.get(l)}}class Cs extends Xs{constructor(l,h){super(l),this._isLeft=h}setRowNumbers(){for(let l of this.getCodewords())l?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(l){let h=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(h,l);let m=this.getBoundingBox(),v=this._isLeft?m.getTopLeft():m.getTopRight(),b=this._isLeft?m.getBottomLeft():m.getBottomRight(),_=this.imageRowToCodewordIndex(Math.trunc(v.getY())),C=this.imageRowToCodewordIndex(Math.trunc(b.getY())),M=-1,L=1,W=0;for(let ne=_;ne<C;ne++){if(h[ne]==null)continue;let ae=h[ne],ve=ae.getRowNumber()-M;if(ve===0)W++;else if(ve===1)L=Math.max(L,W),W=1,M=ae.getRowNumber();else if(ve<0||ae.getRowNumber()>=l.getRowCount()||ve>ne)h[ne]=null;else{let Se;L>2?Se=(L-2)*ve:Se=ve;let Te=Se>=ne;for(let De=1;De<=Se&&!Te;De++)Te=h[ne-De]!=null;Te?h[ne]=null:(M=ae.getRowNumber(),W=1)}}}getRowHeights(){let l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);let h=new Int32Array(l.getRowCount());for(let m of this.getCodewords())if(m!=null){let v=m.getRowNumber();if(v>=h.length)continue;h[v]++}return h}adjustIncompleteIndicatorColumnRowNumbers(l){let h=this.getBoundingBox(),m=this._isLeft?h.getTopLeft():h.getTopRight(),v=this._isLeft?h.getBottomLeft():h.getBottomRight(),b=this.imageRowToCodewordIndex(Math.trunc(m.getY())),_=this.imageRowToCodewordIndex(Math.trunc(v.getY())),C=this.getCodewords(),M=-1;for(let L=b;L<_;L++){if(C[L]==null)continue;let W=C[L];W.setRowNumberAsRowIndicatorColumn();let ne=W.getRowNumber()-M;ne===0||(ne===1?M=W.getRowNumber():W.getRowNumber()>=l.getRowCount()?C[L]=null:M=W.getRowNumber())}}getBarcodeMetadata(){let l=this.getCodewords(),h=new ls,m=new ls,v=new ls,b=new ls;for(let C of l){if(C==null)continue;C.setRowNumberAsRowIndicatorColumn();let M=C.getValue()%30,L=C.getRowNumber();switch(this._isLeft||(L+=2),L%3){case 0:m.setValue(M*3+1);break;case 1:b.setValue(M/3),v.setValue(M%3);break;case 2:h.setValue(M+1);break}}if(h.getValue().length===0||m.getValue().length===0||v.getValue().length===0||b.getValue().length===0||h.getValue()[0]<1||m.getValue()[0]+v.getValue()[0]<qt.MIN_ROWS_IN_BARCODE||m.getValue()[0]+v.getValue()[0]>qt.MAX_ROWS_IN_BARCODE)return null;let _=new Ec(h.getValue()[0],m.getValue()[0],v.getValue()[0],b.getValue()[0]);return this.removeIncorrectCodewords(l,_),_}removeIncorrectCodewords(l,h){for(let m=0;m<l.length;m++){let v=l[m];if(l[m]==null)continue;let b=v.getValue()%30,_=v.getRowNumber();if(_>h.getRowCount()){l[m]=null;continue}switch(this._isLeft||(_+=2),_%3){case 0:b*3+1!==h.getRowCountUpperPart()&&(l[m]=null);break;case 1:(Math.trunc(b/3)!==h.getErrorCorrectionLevel()||b%3!==h.getRowCountLowerPart())&&(l[m]=null);break;case 2:b+1!==h.getColumnCount()&&(l[m]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class si{constructor(l,h){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=l,this.barcodeColumnCount=l.getColumnCount(),this.boundingBox=h,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l=qt.MAX_CODEWORDS_IN_BARCODE,h;do h=l,l=this.adjustRowNumbersAndGetCount();while(l>0&&l<h);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(l){l?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let l=this.adjustRowNumbersByRow();if(l===0)return 0;for(let h=1;h<this.barcodeColumnCount+1;h++){let m=this.detectionResultColumns[h].getCodewords();for(let v=0;v<m.length;v++)m[v]!=null&&(m[v].hasValidRowNumber()||this.adjustRowNumbers(h,v,m))}return l}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let l=this.detectionResultColumns[0].getCodewords(),h=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let m=0;m<l.length;m++)if(l[m]!=null&&h[m]!=null&&l[m].getRowNumber()===h[m].getRowNumber())for(let v=1;v<=this.barcodeColumnCount;v++){let b=this.detectionResultColumns[v].getCodewords()[m];b!=null&&(b.setRowNumber(l[m].getRowNumber()),b.hasValidRowNumber()||(this.detectionResultColumns[v].getCodewords()[m]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let l=0,h=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let m=0;m<h.length;m++){if(h[m]==null)continue;let v=h[m].getRowNumber(),b=0;for(let _=this.barcodeColumnCount+1;_>0&&b<this.ADJUST_ROW_NUMBER_SKIP;_--){let C=this.detectionResultColumns[_].getCodewords()[m];C!=null&&(b=si.adjustRowNumberIfValid(v,b,C),C.hasValidRowNumber()||l++)}}return l}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let l=0,h=this.detectionResultColumns[0].getCodewords();for(let m=0;m<h.length;m++){if(h[m]==null)continue;let v=h[m].getRowNumber(),b=0;for(let _=1;_<this.barcodeColumnCount+1&&b<this.ADJUST_ROW_NUMBER_SKIP;_++){let C=this.detectionResultColumns[_].getCodewords()[m];C!=null&&(b=si.adjustRowNumberIfValid(v,b,C),C.hasValidRowNumber()||l++)}}return l}static adjustRowNumberIfValid(l,h,m){return m==null||m.hasValidRowNumber()||(m.isValidRowNumber(l)?(m.setRowNumber(l),h=0):++h),h}adjustRowNumbers(l,h,m){if(!this.detectionResultColumns[l-1])return;let v=m[h],b=this.detectionResultColumns[l-1].getCodewords(),_=b;this.detectionResultColumns[l+1]!=null&&(_=this.detectionResultColumns[l+1].getCodewords());let C=new Array(14);C[2]=b[h],C[3]=_[h],h>0&&(C[0]=m[h-1],C[4]=b[h-1],C[5]=_[h-1]),h>1&&(C[8]=m[h-2],C[10]=b[h-2],C[11]=_[h-2]),h<m.length-1&&(C[1]=m[h+1],C[6]=b[h+1],C[7]=_[h+1]),h<m.length-2&&(C[9]=m[h+2],C[12]=b[h+2],C[13]=_[h+2]);for(let M of C)if(si.adjustRowNumber(v,M))return}static adjustRowNumber(l,h){return h==null?!1:h.hasValidRowNumber()&&h.getBucket()===l.getBucket()?(l.setRowNumber(h.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(l){this.boundingBox=l}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(l,h){this.detectionResultColumns[l]=h}getDetectionResultColumn(l){return this.detectionResultColumns[l]}toString(){let l=this.detectionResultColumns[0];l==null&&(l=this.detectionResultColumns[this.barcodeColumnCount+1]);let h=new rl;for(let m=0;m<l.getCodewords().length;m++){h.format("CW %3d:",m);for(let v=0;v<this.barcodeColumnCount+2;v++){if(this.detectionResultColumns[v]==null){h.format("    |   ");continue}let b=this.detectionResultColumns[v].getCodewords()[m];if(b==null){h.format("    |   ");continue}h.format(" %3d|%3d",b.getRowNumber(),b.getValue())}h.format("%n")}return h.toString()}}class cs{constructor(l,h,m,v){this.rowNumber=cs.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(h),this.bucket=Math.trunc(m),this.value=Math.trunc(v)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==cs.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}cs.BARCODE_ROW_UNKNOWN=-1;class jr{static initialize(){for(let l=0;l<qt.SYMBOL_TABLE.length;l++){let h=qt.SYMBOL_TABLE[l],m=h&1;for(let v=0;v<qt.BARS_IN_MODULE;v++){let b=0;for(;(h&1)===m;)b+=1,h>>=1;m=h&1,jr.RATIOS_TABLE[l]||(jr.RATIOS_TABLE[l]=new Array(qt.BARS_IN_MODULE)),jr.RATIOS_TABLE[l][qt.BARS_IN_MODULE-v-1]=Math.fround(b/qt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(l){let h=jr.getDecodedCodewordValue(jr.sampleBitCounts(l));return h!==-1?h:jr.getClosestDecodedValue(l)}static sampleBitCounts(l){let h=_t.sum(l),m=new Int32Array(qt.BARS_IN_MODULE),v=0,b=0;for(let _=0;_<qt.MODULES_IN_CODEWORD;_++){let C=h/(2*qt.MODULES_IN_CODEWORD)+_*h/qt.MODULES_IN_CODEWORD;b+l[v]<=C&&(b+=l[v],v++),m[v]++}return m}static getDecodedCodewordValue(l){let h=jr.getBitValue(l);return qt.getCodeword(h)===-1?-1:h}static getBitValue(l){let h=0;for(let m=0;m<l.length;m++)for(let v=0;v<l[m];v++)h=h<<1|(m%2===0?1:0);return Math.trunc(h)}static getClosestDecodedValue(l){let h=_t.sum(l),m=new Array(qt.BARS_IN_MODULE);if(h>1)for(let _=0;_<m.length;_++)m[_]=Math.fround(l[_]/h);let v=bt.MAX_VALUE,b=-1;this.bSymbolTableReady||jr.initialize();for(let _=0;_<jr.RATIOS_TABLE.length;_++){let C=0,M=jr.RATIOS_TABLE[_];for(let L=0;L<qt.BARS_IN_MODULE;L++){let W=Math.fround(M[L]-m[L]);if(C+=Math.fround(W*W),C>=v)break}C<v&&(v=C,b=qt.SYMBOL_TABLE[_])}return b}}jr.bSymbolTableReady=!1,jr.RATIOS_TABLE=new Array(qt.SYMBOL_TABLE.length).map(te=>new Array(qt.BARS_IN_MODULE));class il{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(l){this.segmentIndex=l}getFileId(){return this.fileId}setFileId(l){this.fileId=l}getOptionalData(){return this.optionalData}setOptionalData(l){this.optionalData=l}isLastSegment(){return this.lastSegment}setLastSegment(l){this.lastSegment=l}getSegmentCount(){return this.segmentCount}setSegmentCount(l){this.segmentCount=l}getSender(){return this.sender||null}setSender(l){this.sender=l}getAddressee(){return this.addressee||null}setAddressee(l){this.addressee=l}getFileName(){return this.fileName}setFileName(l){this.fileName=l}getFileSize(){return this.fileSize}setFileSize(l){this.fileSize=l}getChecksum(){return this.checksum}setChecksum(l){this.checksum=l}getTimestamp(){return this.timestamp}setTimestamp(l){this.timestamp=l}}class Du{static parseLong(l,h=void 0){return parseInt(l,h)}}class al extends u{}al.kind="NullPointerException";class Pu{writeBytes(l){this.writeBytesOffset(l,0,l.length)}writeBytesOffset(l,h,m){if(l==null)throw new al;if(h<0||h>l.length||m<0||h+m>l.length||h+m<0)throw new I;if(m===0)return;for(let v=0;v<m;v++)this.write(l[h+v])}flush(){}close(){}}class Ao extends u{}class ju extends Pu{constructor(l=32){if(super(),this.count=0,l<0)throw new x("Negative initial size: "+l);this.buf=new Uint8Array(l)}ensureCapacity(l){l-this.buf.length>0&&this.grow(l)}grow(l){let m=this.buf.length<<1;if(m-l<0&&(m=l),m<0){if(l<0)throw new Ao;m=P.MAX_VALUE}this.buf=D.copyOfUint8Array(this.buf,m)}write(l){this.ensureCapacity(this.count+1),this.buf[this.count]=l,this.count+=1}writeBytesOffset(l,h,m){if(h<0||h>l.length||m<0||h+m-l.length>0)throw new I;this.ensureCapacity(this.count+m),S.arraycopy(l,h,this.buf,this.count,m),this.count+=m}writeTo(l){l.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return D.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(l){return l?typeof l=="string"?this.toString_string(l):this.toString_number(l):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(l){return new String(this.buf).toString()}toString_number(l){return new String(this.buf).toString()}close(){}}var Hn;(function(te){te[te.ALPHA=0]="ALPHA",te[te.LOWER=1]="LOWER",te[te.MIXED=2]="MIXED",te[te.PUNCT=3]="PUNCT",te[te.ALPHA_SHIFT=4]="ALPHA_SHIFT",te[te.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Hn||(Hn={}));function jl(){if(typeof window<"u")return window.BigInt||null;if(typeof wf<"u")return wf.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let _c;function Qs(te){if(typeof _c>"u"&&(_c=jl()),_c===null)throw new Error("BigInt is not supported!");return _c(te)}function Ac(){let te=[];te[0]=Qs(1);let l=Qs(900);te[1]=l;for(let h=2;h<16;h++)te[h]=te[h-1]*l;return te}class Ye{static decode(l,h){let m=new q(""),v=B.ISO8859_1;m.enableDecoding(v);let b=1,_=l[b++],C=new il;for(;b<l[0];){switch(_){case Ye.TEXT_COMPACTION_MODE_LATCH:b=Ye.textCompaction(l,b,m);break;case Ye.BYTE_COMPACTION_MODE_LATCH:case Ye.BYTE_COMPACTION_MODE_LATCH_6:b=Ye.byteCompaction(_,l,v,b,m);break;case Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(l[b++]);break;case Ye.NUMERIC_COMPACTION_MODE_LATCH:b=Ye.numericCompaction(l,b,m);break;case Ye.ECI_CHARSET:B.getCharacterSetECIByValue(l[b++]);break;case Ye.ECI_GENERAL_PURPOSE:b+=2;break;case Ye.ECI_USER_DEFINED:b++;break;case Ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:b=Ye.decodeMacroBlock(l,b,C);break;case Ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ye.MACRO_PDF417_TERMINATOR:throw new F;default:b--,b=Ye.textCompaction(l,b,m);break}if(b<l.length)_=l[b++];else throw F.getFormatInstance()}if(m.length()===0)throw F.getFormatInstance();let M=new _e(null,m.toString(),null,h);return M.setOther(C),M}static decodeMacroBlock(l,h,m){if(h+Ye.NUMBER_OF_SEQUENCE_CODEWORDS>l[0])throw F.getFormatInstance();let v=new Int32Array(Ye.NUMBER_OF_SEQUENCE_CODEWORDS);for(let C=0;C<Ye.NUMBER_OF_SEQUENCE_CODEWORDS;C++,h++)v[C]=l[h];m.setSegmentIndex(P.parseInt(Ye.decodeBase900toBase10(v,Ye.NUMBER_OF_SEQUENCE_CODEWORDS)));let b=new q;h=Ye.textCompaction(l,h,b),m.setFileId(b.toString());let _=-1;for(l[h]===Ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(_=h+1);h<l[0];)switch(l[h]){case Ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(h++,l[h]){case Ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let C=new q;h=Ye.textCompaction(l,h+1,C),m.setFileName(C.toString());break;case Ye.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let M=new q;h=Ye.textCompaction(l,h+1,M),m.setSender(M.toString());break;case Ye.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let L=new q;h=Ye.textCompaction(l,h+1,L),m.setAddressee(L.toString());break;case Ye.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let W=new q;h=Ye.numericCompaction(l,h+1,W),m.setSegmentCount(P.parseInt(W.toString()));break;case Ye.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let ne=new q;h=Ye.numericCompaction(l,h+1,ne),m.setTimestamp(Du.parseLong(ne.toString()));break;case Ye.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let ae=new q;h=Ye.numericCompaction(l,h+1,ae),m.setChecksum(P.parseInt(ae.toString()));break;case Ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ve=new q;h=Ye.numericCompaction(l,h+1,ve),m.setFileSize(Du.parseLong(ve.toString()));break;default:throw F.getFormatInstance()}break;case Ye.MACRO_PDF417_TERMINATOR:h++,m.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(_!==-1){let C=h-_;m.isLastSegment()&&C--,m.setOptionalData(D.copyOfRange(l,_,_+C))}return h}static textCompaction(l,h,m){let v=new Int32Array((l[0]-h)*2),b=new Int32Array((l[0]-h)*2),_=0,C=!1;for(;h<l[0]&&!C;){let M=l[h++];if(M<Ye.TEXT_COMPACTION_MODE_LATCH)v[_]=M/30,v[_+1]=M%30,_+=2;else switch(M){case Ye.TEXT_COMPACTION_MODE_LATCH:v[_++]=Ye.TEXT_COMPACTION_MODE_LATCH;break;case Ye.BYTE_COMPACTION_MODE_LATCH:case Ye.BYTE_COMPACTION_MODE_LATCH_6:case Ye.NUMERIC_COMPACTION_MODE_LATCH:case Ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ye.MACRO_PDF417_TERMINATOR:h--,C=!0;break;case Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v[_]=Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,M=l[h++],b[_]=M,_++;break}}return Ye.decodeTextCompaction(v,b,_,m),h}static decodeTextCompaction(l,h,m,v){let b=Hn.ALPHA,_=Hn.ALPHA,C=0;for(;C<m;){let M=l[C],L="";switch(b){case Hn.ALPHA:if(M<26)L=String.fromCharCode(65+M);else switch(M){case 26:L=" ";break;case Ye.LL:b=Hn.LOWER;break;case Ye.ML:b=Hn.MIXED;break;case Ye.PS:_=b,b=Hn.PUNCT_SHIFT;break;case Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[C]);break;case Ye.TEXT_COMPACTION_MODE_LATCH:b=Hn.ALPHA;break}break;case Hn.LOWER:if(M<26)L=String.fromCharCode(97+M);else switch(M){case 26:L=" ";break;case Ye.AS:_=b,b=Hn.ALPHA_SHIFT;break;case Ye.ML:b=Hn.MIXED;break;case Ye.PS:_=b,b=Hn.PUNCT_SHIFT;break;case Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[C]);break;case Ye.TEXT_COMPACTION_MODE_LATCH:b=Hn.ALPHA;break}break;case Hn.MIXED:if(M<Ye.PL)L=Ye.MIXED_CHARS[M];else switch(M){case Ye.PL:b=Hn.PUNCT;break;case 26:L=" ";break;case Ye.LL:b=Hn.LOWER;break;case Ye.AL:b=Hn.ALPHA;break;case Ye.PS:_=b,b=Hn.PUNCT_SHIFT;break;case Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[C]);break;case Ye.TEXT_COMPACTION_MODE_LATCH:b=Hn.ALPHA;break}break;case Hn.PUNCT:if(M<Ye.PAL)L=Ye.PUNCT_CHARS[M];else switch(M){case Ye.PAL:b=Hn.ALPHA;break;case Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[C]);break;case Ye.TEXT_COMPACTION_MODE_LATCH:b=Hn.ALPHA;break}break;case Hn.ALPHA_SHIFT:if(b=_,M<26)L=String.fromCharCode(65+M);else switch(M){case 26:L=" ";break;case Ye.TEXT_COMPACTION_MODE_LATCH:b=Hn.ALPHA;break}break;case Hn.PUNCT_SHIFT:if(b=_,M<Ye.PAL)L=Ye.PUNCT_CHARS[M];else switch(M){case Ye.PAL:b=Hn.ALPHA;break;case Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[C]);break;case Ye.TEXT_COMPACTION_MODE_LATCH:b=Hn.ALPHA;break}break}L!==""&&v.append(L),C++}}static byteCompaction(l,h,m,v,b){let _=new ju,C=0,M=0,L=!1;switch(l){case Ye.BYTE_COMPACTION_MODE_LATCH:let W=new Int32Array(6),ne=h[v++];for(;v<h[0]&&!L;)switch(W[C++]=ne,M=900*M+ne,ne=h[v++],ne){case Ye.TEXT_COMPACTION_MODE_LATCH:case Ye.BYTE_COMPACTION_MODE_LATCH:case Ye.NUMERIC_COMPACTION_MODE_LATCH:case Ye.BYTE_COMPACTION_MODE_LATCH_6:case Ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ye.MACRO_PDF417_TERMINATOR:v--,L=!0;break;default:if(C%5===0&&C>0){for(let ae=0;ae<6;++ae)_.write(Number(Qs(M)>>Qs(8*(5-ae))));M=0,C=0}break}v===h[0]&&ne<Ye.TEXT_COMPACTION_MODE_LATCH&&(W[C++]=ne);for(let ae=0;ae<C;ae++)_.write(W[ae]);break;case Ye.BYTE_COMPACTION_MODE_LATCH_6:for(;v<h[0]&&!L;){let ae=h[v++];if(ae<Ye.TEXT_COMPACTION_MODE_LATCH)C++,M=900*M+ae;else switch(ae){case Ye.TEXT_COMPACTION_MODE_LATCH:case Ye.BYTE_COMPACTION_MODE_LATCH:case Ye.NUMERIC_COMPACTION_MODE_LATCH:case Ye.BYTE_COMPACTION_MODE_LATCH_6:case Ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ye.MACRO_PDF417_TERMINATOR:v--,L=!0;break}if(C%5===0&&C>0){for(let ve=0;ve<6;++ve)_.write(Number(Qs(M)>>Qs(8*(5-ve))));M=0,C=0}}break}return b.append(H.decode(_.toByteArray(),m)),v}static numericCompaction(l,h,m){let v=0,b=!1,_=new Int32Array(Ye.MAX_NUMERIC_CODEWORDS);for(;h<l[0]&&!b;){let C=l[h++];if(h===l[0]&&(b=!0),C<Ye.TEXT_COMPACTION_MODE_LATCH)_[v]=C,v++;else switch(C){case Ye.TEXT_COMPACTION_MODE_LATCH:case Ye.BYTE_COMPACTION_MODE_LATCH:case Ye.BYTE_COMPACTION_MODE_LATCH_6:case Ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ye.MACRO_PDF417_TERMINATOR:h--,b=!0;break}(v%Ye.MAX_NUMERIC_CODEWORDS===0||C===Ye.NUMERIC_COMPACTION_MODE_LATCH||b)&&v>0&&(m.append(Ye.decodeBase900toBase10(_,v)),v=0)}return h}static decodeBase900toBase10(l,h){let m=Qs(0);for(let b=0;b<h;b++)m+=Ye.EXP900[h-b-1]*Qs(l[b]);let v=m.toString();if(v.charAt(0)!=="1")throw new F;return v.substring(1)}}Ye.TEXT_COMPACTION_MODE_LATCH=900,Ye.BYTE_COMPACTION_MODE_LATCH=901,Ye.NUMERIC_COMPACTION_MODE_LATCH=902,Ye.BYTE_COMPACTION_MODE_LATCH_6=924,Ye.ECI_USER_DEFINED=925,Ye.ECI_GENERAL_PURPOSE=926,Ye.ECI_CHARSET=927,Ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ye.MACRO_PDF417_TERMINATOR=922,Ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ye.MAX_NUMERIC_CODEWORDS=15,Ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ye.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ye.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ye.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ye.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ye.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ye.PL=25,Ye.LL=27,Ye.AS=27,Ye.ML=28,Ye.AL=28,Ye.PS=29,Ye.PAL=29,Ye.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ye.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ye.EXP900=jl()?Ac():[],Ye.NUMBER_OF_SEQUENCE_CODEWORDS=2;class dn{constructor(){}static decode(l,h,m,v,b,_,C){let M=new Ks(l,h,m,v,b),L=null,W=null,ne;for(let Se=!0;;Se=!1){if(h!=null&&(L=dn.getRowIndicatorColumn(l,M,h,!0,_,C)),v!=null&&(W=dn.getRowIndicatorColumn(l,M,v,!1,_,C)),ne=dn.merge(L,W),ne==null)throw re.getNotFoundInstance();let Te=ne.getBoundingBox();if(Se&&Te!=null&&(Te.getMinY()<M.getMinY()||Te.getMaxY()>M.getMaxY()))M=Te;else break}ne.setBoundingBox(M);let ae=ne.getBarcodeColumnCount()+1;ne.setDetectionResultColumn(0,L),ne.setDetectionResultColumn(ae,W);let ve=L!=null;for(let Se=1;Se<=ae;Se++){let Te=ve?Se:ae-Se;if(ne.getDetectionResultColumn(Te)!==void 0)continue;let De;Te===0||Te===ae?De=new Cs(M,Te===0):De=new Xs(M),ne.setDetectionResultColumn(Te,De);let $e=-1,vt=$e;for(let xt=M.getMinY();xt<=M.getMaxY();xt++){if($e=dn.getStartColumn(ne,Te,xt,ve),$e<0||$e>M.getMaxX()){if(vt===-1)continue;$e=vt}let ft=dn.detectCodeword(l,M.getMinX(),M.getMaxX(),ve,$e,xt,_,C);ft!=null&&(De.setCodeword(xt,ft),vt=$e,_=Math.min(_,ft.getWidth()),C=Math.max(C,ft.getWidth()))}}return dn.createDecoderResult(ne)}static merge(l,h){if(l==null&&h==null)return null;let m=dn.getBarcodeMetadata(l,h);if(m==null)return null;let v=Ks.merge(dn.adjustBoundingBox(l),dn.adjustBoundingBox(h));return new si(m,v)}static adjustBoundingBox(l){if(l==null)return null;let h=l.getRowHeights();if(h==null)return null;let m=dn.getMax(h),v=0;for(let C of h)if(v+=m-C,C>0)break;let b=l.getCodewords();for(let C=0;v>0&&b[C]==null;C++)v--;let _=0;for(let C=h.length-1;C>=0&&(_+=m-h[C],!(h[C]>0));C--);for(let C=b.length-1;_>0&&b[C]==null;C--)_--;return l.getBoundingBox().addMissingRows(v,_,l.isLeft())}static getMax(l){let h=-1;for(let m of l)h=Math.max(h,m);return h}static getBarcodeMetadata(l,h){let m;if(l==null||(m=l.getBarcodeMetadata())==null)return h==null?null:h.getBarcodeMetadata();let v;return h==null||(v=h.getBarcodeMetadata())==null?m:m.getColumnCount()!==v.getColumnCount()&&m.getErrorCorrectionLevel()!==v.getErrorCorrectionLevel()&&m.getRowCount()!==v.getRowCount()?null:m}static getRowIndicatorColumn(l,h,m,v,b,_){let C=new Cs(h,v);for(let M=0;M<2;M++){let L=M===0?1:-1,W=Math.trunc(Math.trunc(m.getX()));for(let ne=Math.trunc(Math.trunc(m.getY()));ne<=h.getMaxY()&&ne>=h.getMinY();ne+=L){let ae=dn.detectCodeword(l,0,l.getWidth(),v,W,ne,b,_);ae!=null&&(C.setCodeword(ne,ae),v?W=ae.getStartX():W=ae.getEndX())}}return C}static adjustCodewordCount(l,h){let m=h[0][1],v=m.getValue(),b=l.getBarcodeColumnCount()*l.getBarcodeRowCount()-dn.getNumberOfECCodeWords(l.getBarcodeECLevel());if(v.length===0){if(b<1||b>qt.MAX_CODEWORDS_IN_BARCODE)throw re.getNotFoundInstance();m.setValue(b)}else v[0]!==b&&m.setValue(b)}static createDecoderResult(l){let h=dn.createBarcodeMatrix(l);dn.adjustCodewordCount(l,h);let m=new Array,v=new Int32Array(l.getBarcodeRowCount()*l.getBarcodeColumnCount()),b=[],_=new Array;for(let M=0;M<l.getBarcodeRowCount();M++)for(let L=0;L<l.getBarcodeColumnCount();L++){let W=h[M][L+1].getValue(),ne=M*l.getBarcodeColumnCount()+L;W.length===0?m.push(ne):W.length===1?v[ne]=W[0]:(_.push(ne),b.push(W))}let C=new Array(b.length);for(let M=0;M<C.length;M++)C[M]=b[M];return dn.createDecoderResultFromAmbiguousValues(l.getBarcodeECLevel(),v,qt.toIntArray(m),qt.toIntArray(_),C)}static createDecoderResultFromAmbiguousValues(l,h,m,v,b){let _=new Int32Array(v.length),C=100;for(;C-- >0;){for(let M=0;M<_.length;M++)h[v[M]]=b[M][_[M]];try{return dn.decodeCodewords(h,l,m)}catch(M){if(!(M instanceof A))throw M}if(_.length===0)throw A.getChecksumInstance();for(let M=0;M<_.length;M++)if(_[M]<b[M].length-1){_[M]++;break}else if(_[M]=0,M===_.length-1)throw A.getChecksumInstance()}throw A.getChecksumInstance()}static createBarcodeMatrix(l){let h=Array.from({length:l.getBarcodeRowCount()},()=>new Array(l.getBarcodeColumnCount()+2));for(let v=0;v<h.length;v++)for(let b=0;b<h[v].length;b++)h[v][b]=new ls;let m=0;for(let v of l.getDetectionResultColumns()){if(v!=null){for(let b of v.getCodewords())if(b!=null){let _=b.getRowNumber();if(_>=0){if(_>=h.length)continue;h[_][m].setValue(b.getValue())}}}m++}return h}static isValidBarcodeColumn(l,h){return h>=0&&h<=l.getBarcodeColumnCount()+1}static getStartColumn(l,h,m,v){let b=v?1:-1,_=null;if(dn.isValidBarcodeColumn(l,h-b)&&(_=l.getDetectionResultColumn(h-b).getCodeword(m)),_!=null)return v?_.getEndX():_.getStartX();if(_=l.getDetectionResultColumn(h).getCodewordNearby(m),_!=null)return v?_.getStartX():_.getEndX();if(dn.isValidBarcodeColumn(l,h-b)&&(_=l.getDetectionResultColumn(h-b).getCodewordNearby(m)),_!=null)return v?_.getEndX():_.getStartX();let C=0;for(;dn.isValidBarcodeColumn(l,h-b);){h-=b;for(let M of l.getDetectionResultColumn(h).getCodewords())if(M!=null)return(v?M.getEndX():M.getStartX())+b*C*(M.getEndX()-M.getStartX());C++}return v?l.getBoundingBox().getMinX():l.getBoundingBox().getMaxX()}static detectCodeword(l,h,m,v,b,_,C,M){b=dn.adjustCodewordStartColumn(l,h,m,v,b,_);let L=dn.getModuleBitCount(l,h,m,v,b,_);if(L==null)return null;let W,ne=_t.sum(L);if(v)W=b+ne;else{for(let Se=0;Se<L.length/2;Se++){let Te=L[Se];L[Se]=L[L.length-1-Se],L[L.length-1-Se]=Te}W=b,b=W-ne}if(!dn.checkCodewordSkew(ne,C,M))return null;let ae=jr.getDecodedValue(L),ve=qt.getCodeword(ae);return ve===-1?null:new cs(b,W,dn.getCodewordBucketNumber(ae),ve)}static getModuleBitCount(l,h,m,v,b,_){let C=b,M=new Int32Array(8),L=0,W=v?1:-1,ne=v;for(;(v?C<m:C>=h)&&L<M.length;)l.get(C,_)===ne?(M[L]++,C+=W):(L++,ne=!ne);return L===M.length||C===(v?m:h)&&L===M.length-1?M:null}static getNumberOfECCodeWords(l){return 2<<l}static adjustCodewordStartColumn(l,h,m,v,b,_){let C=b,M=v?-1:1;for(let L=0;L<2;L++){for(;(v?C>=h:C<m)&&v===l.get(C,_);){if(Math.abs(b-C)>dn.CODEWORD_SKEW_SIZE)return b;C+=M}M=-M,v=!v}return C}static checkCodewordSkew(l,h,m){return h-dn.CODEWORD_SKEW_SIZE<=l&&l<=m+dn.CODEWORD_SKEW_SIZE}static decodeCodewords(l,h,m){if(l.length===0)throw F.getFormatInstance();let v=1<<h+1,b=dn.correctErrors(l,m,v);dn.verifyCodewordCount(l,v);let _=Ye.decode(l,""+h);return _.setErrorsCorrected(b),_.setErasures(m.length),_}static correctErrors(l,h,m){if(h!=null&&h.length>m/2+dn.MAX_ERRORS||m<0||m>dn.MAX_EC_CODEWORDS)throw A.getChecksumInstance();return dn.errorCorrection.decode(l,m,h)}static verifyCodewordCount(l,h){if(l.length<4)throw F.getFormatInstance();let m=l[0];if(m>l.length)throw F.getFormatInstance();if(m===0)if(h<l.length)l[0]=l.length-h;else throw F.getFormatInstance()}static getBitCountForCodeword(l){let h=new Int32Array(8),m=0,v=h.length-1;for(;!((l&1)!==m&&(m=l&1,v--,v<0));)h[v]++,l>>=1;return h}static getCodewordBucketNumber(l){return l instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(l):this.getCodewordBucketNumber_number(l)}static getCodewordBucketNumber_number(l){return dn.getCodewordBucketNumber(dn.getBitCountForCodeword(l))}static getCodewordBucketNumber_Int32Array(l){return(l[0]-l[2]+l[4]-l[6]+9)%9}static toString(l){let h=new rl;for(let m=0;m<l.length;m++){h.format("Row %2d: ",m);for(let v=0;v<l[m].length;v++){let b=l[m][v];b.getValue().length===0?h.format("        ",null):h.format("%4d(%2d)",b.getValue()[0],b.getConfidence(b.getValue()[0]))}h.format("%n")}return h.toString()}}dn.CODEWORD_SKEW_SIZE=2,dn.MAX_ERRORS=3,dn.MAX_EC_CODEWORDS=512,dn.errorCorrection=new $s;class Yr{decode(l,h=null){let m=Yr.decode(l,h,!1);if(m==null||m.length===0||m[0]==null)throw re.getNotFoundInstance();return m[0]}decodeMultiple(l,h=null){try{return Yr.decode(l,h,!0)}catch(m){throw m instanceof F||m instanceof A?re.getNotFoundInstance():m}}static decode(l,h,m){const v=new Array,b=Qt.detectMultiple(l,h,m);for(const _ of b.getPoints()){const C=dn.decode(b.getBits(),_[4],_[5],_[6],_[7],Yr.getMinCodewordWidth(_),Yr.getMaxCodewordWidth(_)),M=new se(C.getText(),C.getRawBytes(),void 0,_,Ee.PDF_417);M.putMetadata(Ge.ERROR_CORRECTION_LEVEL,C.getECLevel());const L=C.getOther();L!=null&&M.putMetadata(Ge.PDF417_EXTRA_METADATA,L),v.push(M)}return v.map(_=>_)}static getMaxWidth(l,h){return l==null||h==null?0:Math.trunc(Math.abs(l.getX()-h.getX()))}static getMinWidth(l,h){return l==null||h==null?P.MAX_VALUE:Math.trunc(Math.abs(l.getX()-h.getX()))}static getMaxCodewordWidth(l){return Math.floor(Math.max(Math.max(Yr.getMaxWidth(l[0],l[4]),Yr.getMaxWidth(l[6],l[2])*qt.MODULES_IN_CODEWORD/qt.MODULES_IN_STOP_PATTERN),Math.max(Yr.getMaxWidth(l[1],l[5]),Yr.getMaxWidth(l[7],l[3])*qt.MODULES_IN_CODEWORD/qt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(l){return Math.floor(Math.min(Math.min(Yr.getMinWidth(l[0],l[4]),Yr.getMinWidth(l[6],l[2])*qt.MODULES_IN_CODEWORD/qt.MODULES_IN_STOP_PATTERN),Math.min(Yr.getMinWidth(l[1],l[5]),Yr.getMinWidth(l[7],l[3])*qt.MODULES_IN_CODEWORD/qt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Sc extends u{}Sc.kind="ReaderException";class cd{constructor(l,h){this.verbose=l===!0,h&&this.setHints(h)}decode(l,h){return h&&this.setHints(h),this.decodeInternal(l)}decodeWithState(l){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(l)}setHints(l){this.hints=l;const h=!r(l)&&l.get(Z.TRY_HARDER)===!0,m=r(l)?null:l.get(Z.POSSIBLE_FORMATS),v=new Array;if(!r(m)){const b=m.some(_=>_===Ee.UPC_A||_===Ee.UPC_E||_===Ee.EAN_13||_===Ee.EAN_8||_===Ee.CODABAR||_===Ee.CODE_39||_===Ee.CODE_93||_===Ee.CODE_128||_===Ee.ITF||_===Ee.RSS_14||_===Ee.RSS_EXPANDED);b&&!h&&v.push(new ri(l,this.verbose)),m.includes(Ee.QR_CODE)&&v.push(new $a),m.includes(Ee.DATA_MATRIX)&&v.push(new Wa),m.includes(Ee.AZTEC)&&v.push(new nn),m.includes(Ee.PDF_417)&&v.push(new Yr),b&&h&&v.push(new ri(l,this.verbose))}v.length===0&&(h||v.push(new ri(l,this.verbose)),v.push(new $a),v.push(new Wa),v.push(new nn),v.push(new Yr),h&&v.push(new ri(l,this.verbose))),this.readers=v}reset(){if(this.readers!==null)for(const l of this.readers)l.reset()}decodeInternal(l){if(this.readers===null)throw new Sc("No readers where selected, nothing can be read.");for(const h of this.readers)try{return h.decode(l,this.hints)}catch(m){if(m instanceof Sc)continue}throw new re("No MultiFormat Readers were able to detect the code.")}}class So extends oe{constructor(l=null,h=500){const m=new cd;m.setHints(l),super(m,h)}decodeBitmap(l){return this.reader.decodeWithState(l)}}class Lh extends oe{constructor(l=500){super(new Yr,l)}}class Fh extends oe{constructor(l=500){super(new $a,l)}}var Lu;(function(te){te[te.ERROR_CORRECTION=0]="ERROR_CORRECTION",te[te.CHARACTER_SET=1]="CHARACTER_SET",te[te.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",te[te.MIN_SIZE=3]="MIN_SIZE",te[te.MAX_SIZE=4]="MAX_SIZE",te[te.MARGIN=5]="MARGIN",te[te.PDF417_COMPACT=6]="PDF417_COMPACT",te[te.PDF417_COMPACTION=7]="PDF417_COMPACTION",te[te.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",te[te.AZTEC_LAYERS=9]="AZTEC_LAYERS",te[te.QR_VERSION=10]="QR_VERSION"})(Lu||(Lu={}));var $r=Lu;class To{constructor(l){this.field=l,this.cachedGenerators=[],this.cachedGenerators.push(new tt(l,Int32Array.from([1])))}buildGenerator(l){const h=this.cachedGenerators;if(l>=h.length){let m=h[h.length-1];const v=this.field;for(let b=h.length;b<=l;b++){const _=m.multiply(new tt(v,Int32Array.from([1,v.exp(b-1+v.getGeneratorBase())])));h.push(_),m=_}}return h[l]}encode(l,h){if(h===0)throw new x("No error correction bytes");const m=l.length-h;if(m<=0)throw new x("No data bytes provided");const v=this.buildGenerator(h),b=new Int32Array(m);S.arraycopy(l,0,b,0,m);let _=new tt(this.field,b);_=_.multiplyByMonomial(h,1);const M=_.divide(v)[1].getCoefficients(),L=h-M.length;for(let W=0;W<L;W++)l[m+W]=0;S.arraycopy(M,0,l,m+L,M.length)}}class Cn{constructor(){}static applyMaskPenaltyRule1(l){return Cn.applyMaskPenaltyRule1Internal(l,!0)+Cn.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let h=0;const m=l.getArray(),v=l.getWidth(),b=l.getHeight();for(let _=0;_<b-1;_++){const C=m[_];for(let M=0;M<v-1;M++){const L=C[M];L===C[M+1]&&L===m[_+1][M]&&L===m[_+1][M+1]&&h++}}return Cn.N2*h}static applyMaskPenaltyRule3(l){let h=0;const m=l.getArray(),v=l.getWidth(),b=l.getHeight();for(let _=0;_<b;_++)for(let C=0;C<v;C++){const M=m[_];C+6<v&&M[C]===1&&M[C+1]===0&&M[C+2]===1&&M[C+3]===1&&M[C+4]===1&&M[C+5]===0&&M[C+6]===1&&(Cn.isWhiteHorizontal(M,C-4,C)||Cn.isWhiteHorizontal(M,C+7,C+11))&&h++,_+6<b&&m[_][C]===1&&m[_+1][C]===0&&m[_+2][C]===1&&m[_+3][C]===1&&m[_+4][C]===1&&m[_+5][C]===0&&m[_+6][C]===1&&(Cn.isWhiteVertical(m,C,_-4,_)||Cn.isWhiteVertical(m,C,_+7,_+11))&&h++}return h*Cn.N3}static isWhiteHorizontal(l,h,m){h=Math.max(h,0),m=Math.min(m,l.length);for(let v=h;v<m;v++)if(l[v]===1)return!1;return!0}static isWhiteVertical(l,h,m,v){m=Math.max(m,0),v=Math.min(v,l.length);for(let b=m;b<v;b++)if(l[b][h]===1)return!1;return!0}static applyMaskPenaltyRule4(l){let h=0;const m=l.getArray(),v=l.getWidth(),b=l.getHeight();for(let M=0;M<b;M++){const L=m[M];for(let W=0;W<v;W++)L[W]===1&&h++}const _=l.getHeight()*l.getWidth();return Math.floor(Math.abs(h*2-_)*10/_)*Cn.N4}static getDataMaskBit(l,h,m){let v,b;switch(l){case 0:v=m+h&1;break;case 1:v=m&1;break;case 2:v=h%3;break;case 3:v=(m+h)%3;break;case 4:v=Math.floor(m/2)+Math.floor(h/3)&1;break;case 5:b=m*h,v=(b&1)+b%3;break;case 6:b=m*h,v=(b&1)+b%3&1;break;case 7:b=m*h,v=b%3+(m+h&1)&1;break;default:throw new x("Invalid mask pattern: "+l)}return v===0}static applyMaskPenaltyRule1Internal(l,h){let m=0;const v=h?l.getHeight():l.getWidth(),b=h?l.getWidth():l.getHeight(),_=l.getArray();for(let C=0;C<v;C++){let M=0,L=-1;for(let W=0;W<b;W++){const ne=h?_[C][W]:_[W][C];ne===L?M++:(M>=5&&(m+=Cn.N1+(M-5)),M=1,L=ne)}M>=5&&(m+=Cn.N1+(M-5))}return m}}Cn.N1=3,Cn.N2=3,Cn.N3=40,Cn.N4=10;class Tc{constructor(l,h){this.width=l,this.height=h;const m=new Array(h);for(let v=0;v!==h;v++)m[v]=new Uint8Array(l);this.bytes=m}getHeight(){return this.height}getWidth(){return this.width}get(l,h){return this.bytes[h][l]}getArray(){return this.bytes}setNumber(l,h,m){this.bytes[h][l]=m}setBoolean(l,h,m){this.bytes[h][l]=m?1:0}clear(l){for(const h of this.bytes)D.fill(h,l)}equals(l){if(!(l instanceof Tc))return!1;const h=l;if(this.width!==h.width||this.height!==h.height)return!1;for(let m=0,v=this.height;m<v;++m){const b=this.bytes[m],_=h.bytes[m];for(let C=0,M=this.width;C<M;++C)if(b[C]!==_[C])return!1}return!0}toString(){const l=new q;for(let h=0,m=this.height;h<m;++h){const v=this.bytes[h];for(let b=0,_=this.width;b<_;++b)switch(v[b]){case 0:l.append(" 0");break;case 1:l.append(" 1");break;default:l.append("  ");break}l.append(`
`)}return l.toString()}}class Co{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new q;return l.append(`<<
`),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append(`
 ecLevel: `),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append(`
 version: `),l.append(this.version?this.version.toString():"null"),l.append(`
 maskPattern: `),l.append(this.maskPattern.toString()),this.matrix?(l.append(`
 matrix:
`),l.append(this.matrix.toString())):l.append(`
 matrix: null
`),l.append(`>>
`),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<Co.NUM_MASK_PATTERNS}}Co.NUM_MASK_PATTERNS=8;class Nn extends u{}Nn.kind="WriterException";class T{constructor(){}static clearMatrix(l){l.clear(255)}static buildMatrix(l,h,m,v,b){T.clearMatrix(b),T.embedBasicPatterns(m,b),T.embedTypeInfo(h,v,b),T.maybeEmbedVersionInfo(m,b),T.embedDataBits(l,v,b)}static embedBasicPatterns(l,h){T.embedPositionDetectionPatternsAndSeparators(h),T.embedDarkDotAtLeftBottomCorner(h),T.maybeEmbedPositionAdjustmentPatterns(l,h),T.embedTimingPatterns(h)}static embedTypeInfo(l,h,m){const v=new V;T.makeTypeInfoBits(l,h,v);for(let b=0,_=v.getSize();b<_;++b){const C=v.get(v.getSize()-1-b),M=T.TYPE_INFO_COORDINATES[b],L=M[0],W=M[1];if(m.setBoolean(L,W,C),b<8){const ne=m.getWidth()-b-1;m.setBoolean(ne,8,C)}else{const ae=m.getHeight()-7+(b-8);m.setBoolean(8,ae,C)}}}static maybeEmbedVersionInfo(l,h){if(l.getVersionNumber()<7)return;const m=new V;T.makeVersionInfoBits(l,m);let v=17;for(let b=0;b<6;++b)for(let _=0;_<3;++_){const C=m.get(v);v--,h.setBoolean(b,h.getHeight()-11+_,C),h.setBoolean(h.getHeight()-11+_,b,C)}}static embedDataBits(l,h,m){let v=0,b=-1,_=m.getWidth()-1,C=m.getHeight()-1;for(;_>0;){for(_===6&&(_-=1);C>=0&&C<m.getHeight();){for(let M=0;M<2;++M){const L=_-M;if(!T.isEmpty(m.get(L,C)))continue;let W;v<l.getSize()?(W=l.get(v),++v):W=!1,h!==255&&Cn.getDataMaskBit(h,L,C)&&(W=!W),m.setBoolean(L,C,W)}C+=b}b=-b,C+=b,_-=2}if(v!==l.getSize())throw new Nn("Not all bits consumed: "+v+"/"+l.getSize())}static findMSBSet(l){return 32-P.numberOfLeadingZeros(l)}static calculateBCHCode(l,h){if(h===0)throw new x("0 polynomial");const m=T.findMSBSet(h);for(l<<=m-1;T.findMSBSet(l)>=m;)l^=h<<T.findMSBSet(l)-m;return l}static makeTypeInfoBits(l,h,m){if(!Co.isValidMaskPattern(h))throw new Nn("Invalid mask pattern");const v=l.getBits()<<3|h;m.appendBits(v,5);const b=T.calculateBCHCode(v,T.TYPE_INFO_POLY);m.appendBits(b,10);const _=new V;if(_.appendBits(T.TYPE_INFO_MASK_PATTERN,15),m.xor(_),m.getSize()!==15)throw new Nn("should not happen but we got: "+m.getSize())}static makeVersionInfoBits(l,h){h.appendBits(l.getVersionNumber(),6);const m=T.calculateBCHCode(l.getVersionNumber(),T.VERSION_INFO_POLY);if(h.appendBits(m,12),h.getSize()!==18)throw new Nn("should not happen but we got: "+h.getSize())}static isEmpty(l){return l===255}static embedTimingPatterns(l){for(let h=8;h<l.getWidth()-8;++h){const m=(h+1)%2;T.isEmpty(l.get(h,6))&&l.setNumber(h,6,m),T.isEmpty(l.get(6,h))&&l.setNumber(6,h,m)}}static embedDarkDotAtLeftBottomCorner(l){if(l.get(8,l.getHeight()-8)===0)throw new Nn;l.setNumber(8,l.getHeight()-8,1)}static embedHorizontalSeparationPattern(l,h,m){for(let v=0;v<8;++v){if(!T.isEmpty(m.get(l+v,h)))throw new Nn;m.setNumber(l+v,h,0)}}static embedVerticalSeparationPattern(l,h,m){for(let v=0;v<7;++v){if(!T.isEmpty(m.get(l,h+v)))throw new Nn;m.setNumber(l,h+v,0)}}static embedPositionAdjustmentPattern(l,h,m){for(let v=0;v<5;++v){const b=T.POSITION_ADJUSTMENT_PATTERN[v];for(let _=0;_<5;++_)m.setNumber(l+_,h+v,b[_])}}static embedPositionDetectionPattern(l,h,m){for(let v=0;v<7;++v){const b=T.POSITION_DETECTION_PATTERN[v];for(let _=0;_<7;++_)m.setNumber(l+_,h+v,b[_])}}static embedPositionDetectionPatternsAndSeparators(l){const h=T.POSITION_DETECTION_PATTERN[0].length;T.embedPositionDetectionPattern(0,0,l),T.embedPositionDetectionPattern(l.getWidth()-h,0,l),T.embedPositionDetectionPattern(0,l.getWidth()-h,l);const m=8;T.embedHorizontalSeparationPattern(0,m-1,l),T.embedHorizontalSeparationPattern(l.getWidth()-m,m-1,l),T.embedHorizontalSeparationPattern(0,l.getWidth()-m,l);const v=7;T.embedVerticalSeparationPattern(v,0,l),T.embedVerticalSeparationPattern(l.getHeight()-v-1,0,l),T.embedVerticalSeparationPattern(v,l.getHeight()-v,l)}static maybeEmbedPositionAdjustmentPatterns(l,h){if(l.getVersionNumber()<2)return;const m=l.getVersionNumber()-1,v=T.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[m];for(let b=0,_=v.length;b!==_;b++){const C=v[b];if(C>=0)for(let M=0;M!==_;M++){const L=v[M];L>=0&&T.isEmpty(h.get(L,C))&&T.embedPositionAdjustmentPattern(L-2,C-2,h)}}}}T.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),T.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),T.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),T.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),T.VERSION_INFO_POLY=7973,T.TYPE_INFO_POLY=1335,T.TYPE_INFO_MASK_PATTERN=21522;class z{constructor(l,h){this.dataBytes=l,this.errorCorrectionBytes=h}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class X{constructor(){}static calculateMaskPenalty(l){return Cn.applyMaskPenaltyRule1(l)+Cn.applyMaskPenaltyRule2(l)+Cn.applyMaskPenaltyRule3(l)+Cn.applyMaskPenaltyRule4(l)}static encode(l,h,m=null){let v=X.DEFAULT_BYTE_MODE_ENCODING;const b=m!==null&&m.get($r.CHARACTER_SET)!==void 0;b&&(v=m.get($r.CHARACTER_SET).toString());const _=this.chooseMode(l,v),C=new V;if(_===Wt.BYTE&&(b||X.DEFAULT_BYTE_MODE_ENCODING!==v)){const xt=B.getCharacterSetECIByName(v);xt!==void 0&&this.appendECI(xt,C)}this.appendModeInfo(_,C);const M=new V;this.appendBytes(l,_,M,v);let L;if(m!==null&&m.get($r.QR_VERSION)!==void 0){const xt=Number.parseInt(m.get($r.QR_VERSION).toString(),10);L=Lt.getVersionForNumber(xt);const ft=this.calculateBitsNeeded(_,C,M,L);if(!this.willFit(ft,L,h))throw new Nn("Data too big for requested version")}else L=this.recommendVersion(h,_,C,M);const W=new V;W.appendBitArray(C);const ne=_===Wt.BYTE?M.getSizeInBytes():l.length;this.appendLengthInfo(ne,L,_,W),W.appendBitArray(M);const ae=L.getECBlocksForLevel(h),ve=L.getTotalCodewords()-ae.getTotalECCodewords();this.terminateBits(ve,W);const Se=this.interleaveWithECBytes(W,L.getTotalCodewords(),ve,ae.getNumBlocks()),Te=new Co;Te.setECLevel(h),Te.setMode(_),Te.setVersion(L);const De=L.getDimensionForVersion(),$e=new Tc(De,De),vt=this.chooseMaskPattern(Se,h,L,$e);return Te.setMaskPattern(vt),T.buildMatrix(Se,h,L,vt,$e),Te.setMatrix($e),Te}static recommendVersion(l,h,m,v){const b=this.calculateBitsNeeded(h,m,v,Lt.getVersionForNumber(1)),_=this.chooseVersion(b,l),C=this.calculateBitsNeeded(h,m,v,_);return this.chooseVersion(C,l)}static calculateBitsNeeded(l,h,m,v){return h.getSize()+l.getCharacterCountBits(v)+m.getSize()}static getAlphanumericCode(l){return l<X.ALPHANUMERIC_TABLE.length?X.ALPHANUMERIC_TABLE[l]:-1}static chooseMode(l,h=null){if(B.SJIS.getName()===h&&this.isOnlyDoubleByteKanji(l))return Wt.KANJI;let m=!1,v=!1;for(let b=0,_=l.length;b<_;++b){const C=l.charAt(b);if(X.isDigit(C))m=!0;else if(this.getAlphanumericCode(C.charCodeAt(0))!==-1)v=!0;else return Wt.BYTE}return v?Wt.ALPHANUMERIC:m?Wt.NUMERIC:Wt.BYTE}static isOnlyDoubleByteKanji(l){let h;try{h=H.encode(l,B.SJIS)}catch{return!1}const m=h.length;if(m%2!==0)return!1;for(let v=0;v<m;v+=2){const b=h[v]&255;if((b<129||b>159)&&(b<224||b>235))return!1}return!0}static chooseMaskPattern(l,h,m,v){let b=Number.MAX_SAFE_INTEGER,_=-1;for(let C=0;C<Co.NUM_MASK_PATTERNS;C++){T.buildMatrix(l,h,m,C,v);let M=this.calculateMaskPenalty(v);M<b&&(b=M,_=C)}return _}static chooseVersion(l,h){for(let m=1;m<=40;m++){const v=Lt.getVersionForNumber(m);if(X.willFit(l,v,h))return v}throw new Nn("Data too big")}static willFit(l,h,m){const v=h.getTotalCodewords(),_=h.getECBlocksForLevel(m).getTotalECCodewords(),C=v-_,M=(l+7)/8;return C>=M}static terminateBits(l,h){const m=l*8;if(h.getSize()>m)throw new Nn("data bits cannot fit in the QR Code"+h.getSize()+" > "+m);for(let _=0;_<4&&h.getSize()<m;++_)h.appendBit(!1);const v=h.getSize()&7;if(v>0)for(let _=v;_<8;_++)h.appendBit(!1);const b=l-h.getSizeInBytes();for(let _=0;_<b;++_)h.appendBits((_&1)===0?236:17,8);if(h.getSize()!==m)throw new Nn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(l,h,m,v,b,_){if(v>=m)throw new Nn("Block ID too large");const C=l%m,M=m-C,L=Math.floor(l/m),W=L+1,ne=Math.floor(h/m),ae=ne+1,ve=L-ne,Se=W-ae;if(ve!==Se)throw new Nn("EC bytes mismatch");if(m!==M+C)throw new Nn("RS blocks mismatch");if(l!==(ne+ve)*M+(ae+Se)*C)throw new Nn("Total bytes mismatch");v<M?(b[0]=ne,_[0]=ve):(b[0]=ae,_[0]=Se)}static interleaveWithECBytes(l,h,m,v){if(l.getSizeInBytes()!==m)throw new Nn("Number of bits and data bytes does not match");let b=0,_=0,C=0;const M=new Array;for(let W=0;W<v;++W){const ne=new Int32Array(1),ae=new Int32Array(1);X.getNumDataBytesAndNumECBytesForBlockID(h,m,v,W,ne,ae);const ve=ne[0],Se=new Uint8Array(ve);l.toBytes(8*b,Se,0,ve);const Te=X.generateECBytes(Se,ae[0]);M.push(new z(Se,Te)),_=Math.max(_,ve),C=Math.max(C,Te.length),b+=ne[0]}if(m!==b)throw new Nn("Data bytes does not match offset");const L=new V;for(let W=0;W<_;++W)for(const ne of M){const ae=ne.getDataBytes();W<ae.length&&L.appendBits(ae[W],8)}for(let W=0;W<C;++W)for(const ne of M){const ae=ne.getErrorCorrectionBytes();W<ae.length&&L.appendBits(ae[W],8)}if(h!==L.getSizeInBytes())throw new Nn("Interleaving error: "+h+" and "+L.getSizeInBytes()+" differ.");return L}static generateECBytes(l,h){const m=l.length,v=new Int32Array(m+h);for(let _=0;_<m;_++)v[_]=l[_]&255;new To(gt.QR_CODE_FIELD_256).encode(v,h);const b=new Uint8Array(h);for(let _=0;_<h;_++)b[_]=v[m+_];return b}static appendModeInfo(l,h){h.appendBits(l.getBits(),4)}static appendLengthInfo(l,h,m,v){const b=m.getCharacterCountBits(h);if(l>=1<<b)throw new Nn(l+" is bigger than "+((1<<b)-1));v.appendBits(l,b)}static appendBytes(l,h,m,v){switch(h){case Wt.NUMERIC:X.appendNumericBytes(l,m);break;case Wt.ALPHANUMERIC:X.appendAlphanumericBytes(l,m);break;case Wt.BYTE:X.append8BitBytes(l,m,v);break;case Wt.KANJI:X.appendKanjiBytes(l,m);break;default:throw new Nn("Invalid mode: "+h)}}static getDigit(l){return l.charCodeAt(0)-48}static isDigit(l){const h=X.getDigit(l);return h>=0&&h<=9}static appendNumericBytes(l,h){const m=l.length;let v=0;for(;v<m;){const b=X.getDigit(l.charAt(v));if(v+2<m){const _=X.getDigit(l.charAt(v+1)),C=X.getDigit(l.charAt(v+2));h.appendBits(b*100+_*10+C,10),v+=3}else if(v+1<m){const _=X.getDigit(l.charAt(v+1));h.appendBits(b*10+_,7),v+=2}else h.appendBits(b,4),v++}}static appendAlphanumericBytes(l,h){const m=l.length;let v=0;for(;v<m;){const b=X.getAlphanumericCode(l.charCodeAt(v));if(b===-1)throw new Nn;if(v+1<m){const _=X.getAlphanumericCode(l.charCodeAt(v+1));if(_===-1)throw new Nn;h.appendBits(b*45+_,11),v+=2}else h.appendBits(b,6),v++}}static append8BitBytes(l,h,m){let v;try{v=H.encode(l,m)}catch(b){throw new Nn(b)}for(let b=0,_=v.length;b!==_;b++){const C=v[b];h.appendBits(C,8)}}static appendKanjiBytes(l,h){let m;try{m=H.encode(l,B.SJIS)}catch(b){throw new Nn(b)}const v=m.length;for(let b=0;b<v;b+=2){const _=m[b]&255,C=m[b+1]&255,M=_<<8&4294967295|C;let L=-1;if(M>=33088&&M<=40956?L=M-33088:M>=57408&&M<=60351&&(L=M-49472),L===-1)throw new Nn("Invalid byte sequence");const W=(L>>8)*192+(L&255);h.appendBits(W,13)}}static appendECI(l,h){h.appendBits(Wt.ECI.getBits(),4),h.appendBits(l.getValue(),8)}}X.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),X.DEFAULT_BYTE_MODE_ENCODING=B.UTF8.getName();class he{write(l,h,m,v=null){if(l.length===0)throw new x("Found empty contents");if(h<0||m<0)throw new x("Requested dimensions are too small: "+h+"x"+m);let b=wn.L,_=he.QUIET_ZONE_SIZE;v!==null&&(v.get($r.ERROR_CORRECTION)!==void 0&&(b=wn.fromString(v.get($r.ERROR_CORRECTION).toString())),v.get($r.MARGIN)!==void 0&&(_=Number.parseInt(v.get($r.MARGIN).toString(),10)));const C=X.encode(l,b,v);return this.renderResult(C,h,m,_)}writeToDom(l,h,m,v,b=null){typeof l=="string"&&(l=document.querySelector(l));const _=this.write(h,m,v,b);l&&l.appendChild(_)}renderResult(l,h,m,v){const b=l.getMatrix();if(b===null)throw new Ut;const _=b.getWidth(),C=b.getHeight(),M=_+v*2,L=C+v*2,W=Math.max(h,M),ne=Math.max(m,L),ae=Math.min(Math.floor(W/M),Math.floor(ne/L)),ve=Math.floor((W-_*ae)/2),Se=Math.floor((ne-C*ae)/2),Te=this.createSVGElement(W,ne);for(let De=0,$e=Se;De<C;De++,$e+=ae)for(let vt=0,xt=ve;vt<_;vt++,xt+=ae)if(b.get(vt,De)===1){const ft=this.createSvgRectElement(xt,$e,ae,ae);Te.appendChild(ft)}return Te}createSVGElement(l,h){const m=document.createElementNS(he.SVG_NS,"svg");return m.setAttributeNS(null,"height",l.toString()),m.setAttributeNS(null,"width",h.toString()),m}createSvgRectElement(l,h,m,v){const b=document.createElementNS(he.SVG_NS,"rect");return b.setAttributeNS(null,"x",l.toString()),b.setAttributeNS(null,"y",h.toString()),b.setAttributeNS(null,"height",m.toString()),b.setAttributeNS(null,"width",v.toString()),b.setAttributeNS(null,"fill","#000000"),b}}he.QUIET_ZONE_SIZE=4,he.SVG_NS="http://www.w3.org/2000/svg";class ke{encode(l,h,m,v,b){if(l.length===0)throw new x("Found empty contents");if(h!==Ee.QR_CODE)throw new x("Can only encode QR_CODE, but got "+h);if(m<0||v<0)throw new x(`Requested dimensions are too small: ${m}x${v}`);let _=wn.L,C=ke.QUIET_ZONE_SIZE;b!==null&&(b.get($r.ERROR_CORRECTION)!==void 0&&(_=wn.fromString(b.get($r.ERROR_CORRECTION).toString())),b.get($r.MARGIN)!==void 0&&(C=Number.parseInt(b.get($r.MARGIN).toString(),10)));const M=X.encode(l,_,b);return ke.renderResult(M,m,v,C)}static renderResult(l,h,m,v){const b=l.getMatrix();if(b===null)throw new Ut;const _=b.getWidth(),C=b.getHeight(),M=_+v*2,L=C+v*2,W=Math.max(h,M),ne=Math.max(m,L),ae=Math.min(Math.floor(W/M),Math.floor(ne/L)),ve=Math.floor((W-_*ae)/2),Se=Math.floor((ne-C*ae)/2),Te=new Ce(W,ne);for(let De=0,$e=Se;De<C;De++,$e+=ae)for(let vt=0,xt=ve;vt<_;vt++,xt+=ae)b.get(vt,De)===1&&Te.setRegion(xt,$e,ae,ae);return Te}}ke.QUIET_ZONE_SIZE=4;class Ke{encode(l,h,m,v,b){let _;if(h===Ee.QR_CODE)_=new ke;else throw new x("No encoder available for format "+h);return _.encode(l,h,m,v,b)}}class wt extends Re{constructor(l,h,m,v,b,_,C,M){if(super(_,C),this.yuvData=l,this.dataWidth=h,this.dataHeight=m,this.left=v,this.top=b,v+_>h||b+C>m)throw new x("Crop rectangle does not fit within image data.");M&&this.reverseHorizontal(_,C)}getRow(l,h){if(l<0||l>=this.getHeight())throw new x("Requested row is outside the image: "+l);const m=this.getWidth();(h==null||h.length<m)&&(h=new Uint8ClampedArray(m));const v=(l+this.top)*this.dataWidth+this.left;return S.arraycopy(this.yuvData,v,h,0,m),h}getMatrix(){const l=this.getWidth(),h=this.getHeight();if(l===this.dataWidth&&h===this.dataHeight)return this.yuvData;const m=l*h,v=new Uint8ClampedArray(m);let b=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return S.arraycopy(this.yuvData,b,v,0,m),v;for(let _=0;_<h;_++){const C=_*l;S.arraycopy(this.yuvData,b,v,C,l),b+=this.dataWidth}return v}isCropSupported(){return!0}crop(l,h,m,v){return new wt(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+h,m,v,!1)}renderThumbnail(){const l=this.getWidth()/wt.THUMBNAIL_SCALE_FACTOR,h=this.getHeight()/wt.THUMBNAIL_SCALE_FACTOR,m=new Int32Array(l*h),v=this.yuvData;let b=this.top*this.dataWidth+this.left;for(let _=0;_<h;_++){const C=_*l;for(let M=0;M<l;M++){const L=v[b+M*wt.THUMBNAIL_SCALE_FACTOR]&255;m[C+M]=4278190080|L*65793}b+=this.dataWidth*wt.THUMBNAIL_SCALE_FACTOR}return m}getThumbnailWidth(){return this.getWidth()/wt.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/wt.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,h){const m=this.yuvData;for(let v=0,b=this.top*this.dataWidth+this.left;v<h;v++,b+=this.dataWidth){const _=b+l/2;for(let C=b,M=b+l-1;C<_;C++,M--){const L=m[C];m[C]=m[M],m[M]=L}}}invert(){return new Be(this)}}wt.THUMBNAIL_SCALE_FACTOR=2;class on extends Re{constructor(l,h,m,v,b,_,C){if(super(h,m),this.dataWidth=v,this.dataHeight=b,this.left=_,this.top=C,l.BYTES_PER_ELEMENT===4){const M=h*m,L=new Uint8ClampedArray(M);for(let W=0;W<M;W++){const ne=l[W],ae=ne>>16&255,ve=ne>>7&510,Se=ne&255;L[W]=(ae+ve+Se)/4&255}this.luminances=L}else this.luminances=l;if(v===void 0&&(this.dataWidth=h),b===void 0&&(this.dataHeight=m),_===void 0&&(this.left=0),C===void 0&&(this.top=0),this.left+h>this.dataWidth||this.top+m>this.dataHeight)throw new x("Crop rectangle does not fit within image data.")}getRow(l,h){if(l<0||l>=this.getHeight())throw new x("Requested row is outside the image: "+l);const m=this.getWidth();(h==null||h.length<m)&&(h=new Uint8ClampedArray(m));const v=(l+this.top)*this.dataWidth+this.left;return S.arraycopy(this.luminances,v,h,0,m),h}getMatrix(){const l=this.getWidth(),h=this.getHeight();if(l===this.dataWidth&&h===this.dataHeight)return this.luminances;const m=l*h,v=new Uint8ClampedArray(m);let b=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return S.arraycopy(this.luminances,b,v,0,m),v;for(let _=0;_<h;_++){const C=_*l;S.arraycopy(this.luminances,b,v,C,l),b+=this.dataWidth}return v}isCropSupported(){return!0}crop(l,h,m,v){return new on(this.luminances,m,v,this.dataWidth,this.dataHeight,this.left+l,this.top+h)}invert(){return new Be(this)}}class Kr extends B{static forName(l){return this.getCharacterSetECIByName(l)}}class zn{}zn.ISO_8859_1=B.ISO8859_1;class Tr{isCompact(){return this.compact}setCompact(l){this.compact=l}getSize(){return this.size}setSize(l){this.size=l}getLayers(){return this.layers}setLayers(l){this.layers=l}getCodeWords(){return this.codeWords}setCodeWords(l){this.codeWords=l}getMatrix(){return this.matrix}setMatrix(l){this.matrix=l}}class us{static singletonList(l){return[l]}static min(l,h){return l.sort(h)[0]}}class Io{constructor(l){this.previous=l}getPrevious(){return this.previous}}class la extends Io{constructor(l,h,m){super(l),this.value=h,this.bitCount=m}appendTo(l,h){l.appendBits(this.value,this.bitCount)}add(l,h){return new la(this,l,h)}addBinaryShift(l,h){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new la(this,l,h)}toString(){let l=this.value&(1<<this.bitCount)-1;return l|=1<<this.bitCount,"<"+P.toBinaryString(l|1<<this.bitCount).substring(1)+">"}}class fs extends la{constructor(l,h,m){super(l,0,0),this.binaryShiftStart=h,this.binaryShiftByteCount=m}appendTo(l,h){for(let m=0;m<this.binaryShiftByteCount;m++)(m===0||m===31&&this.binaryShiftByteCount<=62)&&(l.appendBits(31,5),this.binaryShiftByteCount>62?l.appendBits(this.binaryShiftByteCount-31,16):m===0?l.appendBits(Math.min(this.binaryShiftByteCount,31),5):l.appendBits(this.binaryShiftByteCount-31,5)),l.appendBits(h[this.binaryShiftStart+m],8)}addBinaryShift(l,h){return new fs(this,l,h)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Cc(te,l,h){return new fs(te,l,h)}function No(te,l,h){return new la(te,l,h)}const Fu=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ll=0,Bh=1,Is=2,Zp=3,Zs=4,ud=new la(null,0,0),Ic=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function iE(te){for(let l of te)D.fill(l,-1);return te[Ll][Zs]=0,te[Bh][Zs]=0,te[Bh][Ll]=28,te[Zp][Zs]=0,te[Is][Zs]=0,te[Is][Ll]=15,te}const fd=iE(D.createInt32Array(6,6));class Js{constructor(l,h,m,v){this.token=l,this.mode=h,this.binaryShiftByteCount=m,this.bitCount=v}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(l,h){let m=this.bitCount,v=this.token;if(l!==this.mode){let _=Ic[this.mode][l];v=No(v,_&65535,_>>16),m+=_>>16}let b=l===Is?4:5;return v=No(v,h,b),new Js(v,l,0,m+b)}shiftAndAppend(l,h){let m=this.token,v=this.mode===Is?4:5;return m=No(m,fd[this.mode][l],v),m=No(m,h,5),new Js(m,this.mode,0,this.bitCount+v+5)}addBinaryShiftChar(l){let h=this.token,m=this.mode,v=this.bitCount;if(this.mode===Zs||this.mode===Is){let C=Ic[m][Ll];h=No(h,C&65535,C>>16),v+=C>>16,m=Ll}let b=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,_=new Js(h,m,this.binaryShiftByteCount+1,v+b);return _.binaryShiftByteCount===2078&&(_=_.endBinaryShift(l+1)),_}endBinaryShift(l){if(this.binaryShiftByteCount===0)return this;let h=this.token;return h=Cc(h,l-this.binaryShiftByteCount,this.binaryShiftByteCount),new Js(h,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(l){let h=this.bitCount+(Ic[this.mode][l.mode]>>16);return this.binaryShiftByteCount<l.binaryShiftByteCount?h+=Js.calculateBinaryShiftCost(l)-Js.calculateBinaryShiftCost(this):this.binaryShiftByteCount>l.binaryShiftByteCount&&l.binaryShiftByteCount>0&&(h+=10),h<=l.bitCount}toBitArray(l){let h=[];for(let v=this.endBinaryShift(l.length).token;v!==null;v=v.getPrevious())h.unshift(v);let m=new V;for(const v of h)v.appendTo(m,l);return m}toString(){return G.format("%s bits=%d bytes=%d",Fu[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(l){return l.binaryShiftByteCount>62?21:l.binaryShiftByteCount>31?20:l.binaryShiftByteCount>0?10:0}}Js.INITIAL_STATE=new Js(ud,Ll,0,0);function cx(te){const l=G.getCharCode(" "),h=G.getCharCode("."),m=G.getCharCode(",");te[Ll][l]=1;const v=G.getCharCode("Z"),b=G.getCharCode("A");for(let ae=b;ae<=v;ae++)te[Ll][ae]=ae-b+2;te[Bh][l]=1;const _=G.getCharCode("z"),C=G.getCharCode("a");for(let ae=C;ae<=_;ae++)te[Bh][ae]=ae-C+2;te[Is][l]=1;const M=G.getCharCode("9"),L=G.getCharCode("0");for(let ae=L;ae<=M;ae++)te[Is][ae]=ae-L+2;te[Is][m]=12,te[Is][h]=13;const W=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let ae=0;ae<W.length;ae++)te[Zp][G.getCharCode(W[ae])]=ae;const ne=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let ae=0;ae<ne.length;ae++)G.getCharCode(ne[ae])>0&&(te[Zs][G.getCharCode(ne[ae])]=ae);return te}const dd=cx(D.createInt32Array(5,256));class Nc{constructor(l){this.text=l}encode(){const l=G.getCharCode(" "),h=G.getCharCode(`
`);let m=us.singletonList(Js.INITIAL_STATE);for(let b=0;b<this.text.length;b++){let _,C=b+1<this.text.length?this.text[b+1]:0;switch(this.text[b]){case G.getCharCode("\r"):_=C===h?2:0;break;case G.getCharCode("."):_=C===l?3:0;break;case G.getCharCode(","):_=C===l?4:0;break;case G.getCharCode(":"):_=C===l?5:0;break;default:_=0}_>0?(m=Nc.updateStateListForPair(m,b,_),b++):m=this.updateStateListForChar(m,b)}return us.min(m,(b,_)=>b.getBitCount()-_.getBitCount()).toBitArray(this.text)}updateStateListForChar(l,h){const m=[];for(let v of l)this.updateStateForChar(v,h,m);return Nc.simplifyStates(m)}updateStateForChar(l,h,m){let v=this.text[h]&255,b=dd[l.getMode()][v]>0,_=null;for(let C=0;C<=Zs;C++){let M=dd[C][v];if(M>0){if(_==null&&(_=l.endBinaryShift(h)),!b||C===l.getMode()||C===Is){const L=_.latchAndAppend(C,M);m.push(L)}if(!b&&fd[l.getMode()][C]>=0){const L=_.shiftAndAppend(C,M);m.push(L)}}}if(l.getBinaryShiftByteCount()>0||dd[l.getMode()][v]===0){let C=l.addBinaryShiftChar(h);m.push(C)}}static updateStateListForPair(l,h,m){const v=[];for(let b of l)this.updateStateForPair(b,h,m,v);return this.simplifyStates(v)}static updateStateForPair(l,h,m,v){let b=l.endBinaryShift(h);if(v.push(b.latchAndAppend(Zs,m)),l.getMode()!==Zs&&v.push(b.shiftAndAppend(Zs,m)),m===3||m===4){let _=b.latchAndAppend(Is,16-m).latchAndAppend(Is,1);v.push(_)}if(l.getBinaryShiftByteCount()>0){let _=l.addBinaryShiftChar(h).addBinaryShiftChar(h+1);v.push(_)}}static simplifyStates(l){let h=[];for(const m of l){let v=!0;for(const b of h){if(b.isBetterThanOrEqualTo(m)){v=!1;break}m.isBetterThanOrEqualTo(b)&&(h=h.filter(_=>_!==b))}v&&h.push(m)}return h}}class Dn{constructor(){}static encodeBytes(l){return Dn.encode(l,Dn.DEFAULT_EC_PERCENT,Dn.DEFAULT_AZTEC_LAYERS)}static encode(l,h,m){let v=new Nc(l).encode(),b=P.truncDivision(v.getSize()*h,100)+11,_=v.getSize()+b,C,M,L,W,ne;if(m!==Dn.DEFAULT_AZTEC_LAYERS){if(C=m<0,M=Math.abs(m),M>(C?Dn.MAX_NB_BITS_COMPACT:Dn.MAX_NB_BITS))throw new x(G.format("Illegal value %s for layers",m));L=Dn.totalBitsInLayer(M,C),W=Dn.WORD_SIZE[M];let ft=L-L%W;if(ne=Dn.stuffBits(v,W),ne.getSize()+b>ft)throw new x("Data to large for user specified layer");if(C&&ne.getSize()>W*64)throw new x("Data to large for user specified layer")}else{W=0,ne=null;for(let ft=0;;ft++){if(ft>Dn.MAX_NB_BITS)throw new x("Data too large for an Aztec code");if(C=ft<=3,M=C?ft+1:ft,L=Dn.totalBitsInLayer(M,C),_>L)continue;(ne==null||W!==Dn.WORD_SIZE[M])&&(W=Dn.WORD_SIZE[M],ne=Dn.stuffBits(v,W));let _n=L-L%W;if(!(C&&ne.getSize()>W*64)&&ne.getSize()+b<=_n)break}}let ae=Dn.generateCheckWords(ne,L,W),ve=ne.getSize()/W,Se=Dn.generateModeMessage(C,M,ve),Te=(C?11:14)+M*4,De=new Int32Array(Te),$e;if(C){$e=Te;for(let ft=0;ft<De.length;ft++)De[ft]=ft}else{$e=Te+1+2*P.truncDivision(P.truncDivision(Te,2)-1,15);let ft=P.truncDivision(Te,2),_n=P.truncDivision($e,2);for(let cn=0;cn<ft;cn++){let pi=cn+P.truncDivision(cn,15);De[ft-cn-1]=_n-pi-1,De[ft+cn]=_n+pi+1}}let vt=new Ce($e);for(let ft=0,_n=0;ft<M;ft++){let cn=(M-ft)*4+(C?9:12);for(let pi=0;pi<cn;pi++){let Ns=pi*2;for(let Sa=0;Sa<2;Sa++)ae.get(_n+Ns+Sa)&&vt.set(De[ft*2+Sa],De[ft*2+pi]),ae.get(_n+cn*2+Ns+Sa)&&vt.set(De[ft*2+pi],De[Te-1-ft*2-Sa]),ae.get(_n+cn*4+Ns+Sa)&&vt.set(De[Te-1-ft*2-Sa],De[Te-1-ft*2-pi]),ae.get(_n+cn*6+Ns+Sa)&&vt.set(De[Te-1-ft*2-pi],De[ft*2+Sa])}_n+=cn*8}if(Dn.drawModeMessage(vt,C,$e,Se),C)Dn.drawBullsEye(vt,P.truncDivision($e,2),5);else{Dn.drawBullsEye(vt,P.truncDivision($e,2),7);for(let ft=0,_n=0;ft<P.truncDivision(Te,2)-1;ft+=15,_n+=16)for(let cn=P.truncDivision($e,2)&1;cn<$e;cn+=2)vt.set(P.truncDivision($e,2)-_n,cn),vt.set(P.truncDivision($e,2)+_n,cn),vt.set(cn,P.truncDivision($e,2)-_n),vt.set(cn,P.truncDivision($e,2)+_n)}let xt=new Tr;return xt.setCompact(C),xt.setSize($e),xt.setLayers(M),xt.setCodeWords(ve),xt.setMatrix(vt),xt}static drawBullsEye(l,h,m){for(let v=0;v<m;v+=2)for(let b=h-v;b<=h+v;b++)l.set(b,h-v),l.set(b,h+v),l.set(h-v,b),l.set(h+v,b);l.set(h-m,h-m),l.set(h-m+1,h-m),l.set(h-m,h-m+1),l.set(h+m,h-m),l.set(h+m,h-m+1),l.set(h+m,h+m-1)}static generateModeMessage(l,h,m){let v=new V;return l?(v.appendBits(h-1,2),v.appendBits(m-1,6),v=Dn.generateCheckWords(v,28,4)):(v.appendBits(h-1,5),v.appendBits(m-1,11),v=Dn.generateCheckWords(v,40,4)),v}static drawModeMessage(l,h,m,v){let b=P.truncDivision(m,2);if(h)for(let _=0;_<7;_++){let C=b-3+_;v.get(_)&&l.set(C,b-5),v.get(_+7)&&l.set(b+5,C),v.get(20-_)&&l.set(C,b+5),v.get(27-_)&&l.set(b-5,C)}else for(let _=0;_<10;_++){let C=b-5+_+P.truncDivision(_,5);v.get(_)&&l.set(C,b-7),v.get(_+10)&&l.set(b+7,C),v.get(29-_)&&l.set(C,b+7),v.get(39-_)&&l.set(b-7,C)}}static generateCheckWords(l,h,m){let v=l.getSize()/m,b=new To(Dn.getGF(m)),_=P.truncDivision(h,m),C=Dn.bitsToWords(l,m,_);b.encode(C,_-v);let M=h%m,L=new V;L.appendBits(0,M);for(const W of Array.from(C))L.appendBits(W,m);return L}static bitsToWords(l,h,m){let v=new Int32Array(m),b,_;for(b=0,_=l.getSize()/h;b<_;b++){let C=0;for(let M=0;M<h;M++)C|=l.get(b*h+M)?1<<h-M-1:0;v[b]=C}return v}static getGF(l){switch(l){case 4:return gt.AZTEC_PARAM;case 6:return gt.AZTEC_DATA_6;case 8:return gt.AZTEC_DATA_8;case 10:return gt.AZTEC_DATA_10;case 12:return gt.AZTEC_DATA_12;default:throw new x("Unsupported word size "+l)}}static stuffBits(l,h){let m=new V,v=l.getSize(),b=(1<<h)-2;for(let _=0;_<v;_+=h){let C=0;for(let M=0;M<h;M++)(_+M>=v||l.get(_+M))&&(C|=1<<h-1-M);(C&b)===b?(m.appendBits(C&b,h),_--):(C&b)===0?(m.appendBits(C|1,h),_--):m.appendBits(C,h)}return m}static totalBitsInLayer(l,h){return((h?88:112)+16*l)*l}}Dn.DEFAULT_EC_PERCENT=33,Dn.DEFAULT_AZTEC_LAYERS=0,Dn.MAX_NB_BITS=32,Dn.MAX_NB_BITS_COMPACT=4,Dn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class hd{encode(l,h,m,v){return this.encodeWithHints(l,h,m,v,null)}encodeWithHints(l,h,m,v,b){let _=zn.ISO_8859_1,C=Dn.DEFAULT_EC_PERCENT,M=Dn.DEFAULT_AZTEC_LAYERS;return b!=null&&(b.has($r.CHARACTER_SET)&&(_=Kr.forName(b.get($r.CHARACTER_SET).toString())),b.has($r.ERROR_CORRECTION)&&(C=P.parseInt(b.get($r.ERROR_CORRECTION).toString())),b.has($r.AZTEC_LAYERS)&&(M=P.parseInt(b.get($r.AZTEC_LAYERS).toString()))),hd.encodeLayers(l,h,m,v,_,C,M)}static encodeLayers(l,h,m,v,b,_,C){if(h!==Ee.AZTEC)throw new x("Can only encode AZTEC, but got "+h);let M=Dn.encode(G.getBytes(l,b),_,C);return hd.renderResult(M,m,v)}static renderResult(l,h,m){let v=l.getMatrix();if(v==null)throw new Ut;let b=v.getWidth(),_=v.getHeight(),C=Math.max(h,b),M=Math.max(m,_),L=Math.min(C/b,M/_),W=(C-b*L)/2,ne=(M-_*L)/2,ae=new Ce(C,M);for(let ve=0,Se=ne;ve<_;ve++,Se+=L)for(let Te=0,De=W;Te<b;Te++,De+=L)v.get(Te,ve)&&ae.setRegion(De,Se,L,L);return ae}}n.AbstractExpandedDecoder=pe,n.ArgumentException=p,n.ArithmeticException=Me,n.AztecCode=Tr,n.AztecCodeReader=nn,n.AztecCodeWriter=hd,n.AztecDecoder=It,n.AztecDetector=In,n.AztecDetectorResult=nr,n.AztecEncoder=Dn,n.AztecHighLevelEncoder=Nc,n.AztecPoint=Xt,n.BarcodeFormat=Ee,n.Binarizer=N,n.BinaryBitmap=w,n.BitArray=V,n.BitMatrix=Ce,n.BitSource=qr,n.BrowserAztecCodeReader=Ea,n.BrowserBarcodeReader=Ys,n.BrowserCodeReader=oe,n.BrowserDatamatrixCodeReader=_o,n.BrowserMultiFormatReader=So,n.BrowserPDF417Reader=Lh,n.BrowserQRCodeReader=Fh,n.BrowserQRCodeSvgWriter=he,n.CharacterSetECI=B,n.ChecksumException=A,n.Code128Reader=ct,n.Code39Reader=yn,n.DataMatrixDecodedBitStreamParser=Aa,n.DataMatrixReader=Wa,n.DecodeHintType=Z,n.DecoderResult=_e,n.DefaultGridSampler=yt,n.DetectorResult=fi,n.EAN13Reader=kn,n.EncodeHintType=$r,n.Exception=u,n.FormatException=F,n.GenericGF=gt,n.GenericGFPoly=tt,n.GlobalHistogramBinarizer=ue,n.GridSampler=Rr,n.GridSamplerInstance=Rt,n.HTMLCanvasElementLuminanceSource=be,n.HybridBinarizer=me,n.ITFReader=Ht,n.IllegalArgumentException=x,n.IllegalStateException=Ut,n.InvertedLuminanceSource=Be,n.LuminanceSource=Re,n.MathUtils=_t,n.MultiFormatOneDReader=ri,n.MultiFormatReader=cd,n.MultiFormatWriter=Ke,n.NotFoundException=re,n.OneDReader=mn,n.PDF417DecodedBitStreamParser=Ye,n.PDF417DecoderErrorCorrection=$s,n.PDF417Reader=Yr,n.PDF417ResultMetadata=il,n.PerspectiveTransform=ye,n.PlanarYUVLuminanceSource=wt,n.QRCodeByteMatrix=Tc,n.QRCodeDataMask=Ii,n.QRCodeDecodedBitStreamParser=rr,n.QRCodeDecoderErrorCorrectionLevel=wn,n.QRCodeDecoderFormatInformation=ii,n.QRCodeEncoder=X,n.QRCodeEncoderQRCode=Co,n.QRCodeMaskUtil=Cn,n.QRCodeMatrixUtil=T,n.QRCodeMode=Wt,n.QRCodeReader=$a,n.QRCodeVersion=Lt,n.QRCodeWriter=ke,n.RGBLuminanceSource=on,n.RSS14Reader=tn,n.RSSExpandedReader=Qe,n.ReaderException=Sc,n.ReedSolomonDecoder=Ct,n.ReedSolomonEncoder=To,n.ReedSolomonException=nt,n.Result=se,n.ResultMetadataType=Ge,n.ResultPoint=mt,n.StringUtils=G,n.UnsupportedOperationException=J,n.VideoInputDevice=Q,n.WhiteRectangleDetector=Kt,n.WriterException=Nn,n.ZXingArrays=D,n.ZXingCharset=Kr,n.ZXingInteger=P,n.ZXingStandardCharsets=zn,n.ZXingStringBuilder=q,n.ZXingStringEncoding=H,n.ZXingSystem=S,n.createAbstractExpandedDecoder=pt,Object.defineProperty(n,"__esModule",{value:!0})}))})(rg,rg.exports)),rg.exports}var oi=sme();const ome=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var _P=(function(){function t(e,n,r){if(this.formatMap=new Map([[Pt.QR_CODE,oi.BarcodeFormat.QR_CODE],[Pt.AZTEC,oi.BarcodeFormat.AZTEC],[Pt.CODABAR,oi.BarcodeFormat.CODABAR],[Pt.CODE_39,oi.BarcodeFormat.CODE_39],[Pt.CODE_93,oi.BarcodeFormat.CODE_93],[Pt.CODE_128,oi.BarcodeFormat.CODE_128],[Pt.DATA_MATRIX,oi.BarcodeFormat.DATA_MATRIX],[Pt.MAXICODE,oi.BarcodeFormat.MAXICODE],[Pt.ITF,oi.BarcodeFormat.ITF],[Pt.EAN_13,oi.BarcodeFormat.EAN_13],[Pt.EAN_8,oi.BarcodeFormat.EAN_8],[Pt.PDF_417,oi.BarcodeFormat.PDF_417],[Pt.RSS_14,oi.BarcodeFormat.RSS_14],[Pt.RSS_EXPANDED,oi.BarcodeFormat.RSS_EXPANDED],[Pt.UPC_A,oi.BarcodeFormat.UPC_A],[Pt.UPC_E,oi.BarcodeFormat.UPC_E],[Pt.UPC_EAN_EXTENSION,oi.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!ome)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(e),a=new Map;a.set(oi.DecodeHintType.POSSIBLE_FORMATS,i),a.set(oi.DecodeHintType.TRY_HARDER,!1),this.hints=a}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(r,i){try{r(n.decode(e))}catch(a){i(a)}})},t.prototype.decode=function(e){var n=new oi.MultiFormatReader(this.verbose,this.hints),r=new oi.HTMLCanvasElementLuminanceSource(e),i=new oi.BinaryBitmap(new oi.HybridBinarizer(r)),a=n.decode(i);return{text:a.text,format:YH.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),lme=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function c(p){try{u(r.next(p))}catch(x){s(x)}}function d(p){try{u(r.throw(p))}catch(x){s(x)}}function u(p){p.done?a(p.value):i(p.value).then(c,d)}u((r=r.apply(t,e||[])).next())})},cme=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(p){return d([u,p])}}function d(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(p){u=[6,p],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},AP=(function(){function t(e,n,r){if(this.formatMap=new Map([[Pt.QR_CODE,"qr_code"],[Pt.AZTEC,"aztec"],[Pt.CODABAR,"codabar"],[Pt.CODE_39,"code_39"],[Pt.CODE_93,"code_93"],[Pt.CODE_128,"code_128"],[Pt.DATA_MATRIX,"data_matrix"],[Pt.ITF,"itf"],[Pt.EAN_13,"ean_13"],[Pt.EAN_8,"ean_8"],[Pt.PDF_417,"pdf417"],[Pt.UPC_A,"upc_a"],[Pt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return lme(this,void 0,void 0,function(){var n,r;return cme(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:YH.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,r=0,i=0,a=e;i<a.length;i++){var s=a[i],c=s.boundingBox.width*s.boundingBox.height;c>r&&(r=c,n=s)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),SP=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function c(p){try{u(r.next(p))}catch(x){s(x)}}function d(p){try{u(r.throw(p))}catch(x){s(x)}}function u(p){p.done?a(p.value):i(p.value).then(c,d)}u((r=r.apply(t,e||[])).next())})},TP=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(p){return d([u,p])}}function d(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(p){u=[6,p],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ume=(function(){function t(e,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&AP.isSupported()?(this.primaryDecoder=new AP(e,r,i),this.secondaryDecoder=new _P(e,r,i)):this.primaryDecoder=new _P(e,r,i)}return t.prototype.decodeAsync=function(e){return SP(this,void 0,void 0,function(){var n;return TP(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return SP(this,void 0,void 0,function(){var n,r;return TP(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];e+=i}var a=e/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),TI=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),t2=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function c(p){try{u(r.next(p))}catch(x){s(x)}}function d(p){try{u(r.throw(p))}catch(x){s(x)}}function u(p){p.done?a(p.value):i(p.value).then(c,d)}u((r=r.apply(t,e||[])).next())})},n2=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(p){return d([u,p])}}function d(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(p){u=[6,p],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},QH=(function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var r={advanced:[n]};return this.track.applyConstraints(r)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t})(),fme=(function(t){TI(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(QH),dme=(function(t){TI(e,t);function e(n){return t.call(this,"zoom",n)||this}return e})(fme),hme=(function(t){TI(e,t);function e(n){return t.call(this,"torch",n)||this}return e})(QH),pme=(function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new dme(this.track)},t.prototype.torchFeature=function(){return new hme(this.track)},t})(),mme=(function(){function t(e,n,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,i),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,r,i){return t2(this,void 0,void 0,function(){var a,s;return n2(this,function(c){switch(c.label){case 0:return a=new t(e,n,i),r.aspectRatio?(s={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(s)]):[3,2];case 1:c.sent(),c.label=2;case 2:return a.setupSurface(),[2,a]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,r=function(){setTimeout(e,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return t2(this,void 0,void 0,function(){return n2(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,r){var i=e.mediaStream.getVideoTracks(),a=i.length,s=0;e.mediaStream.getVideoTracks().forEach(function(c){e.mediaStream.removeTrack(c),c.stop(),++s,s>=a&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new pme(this.getFirstTrackOrFail())},t})(),gme=(function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,r){return t2(this,void 0,void 0,function(){return n2(this,function(i){return[2,mme.create(e,this.mediaStream,n,r)]})})},t.create=function(e){return t2(this,void 0,void 0,function(){var n,r;return n2(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new t(r)]}})})},t})(),CP=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function c(p){try{u(r.next(p))}catch(x){s(x)}}function d(p){try{u(r.throw(p))}catch(x){s(x)}}function u(p){p.done?a(p.value):i(p.value).then(c,d)}u((r=r.apply(t,e||[])).next())})},IP=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(p){return d([u,p])}}function d(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(p){u=[6,p],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},xme=(function(){function t(){}return t.failIfNotSupported=function(){return CP(this,void 0,void 0,function(){return IP(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return CP(this,void 0,void 0,function(){return IP(this,function(n){return[2,gme.create(e)]})})},t})(),yme=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function c(p){try{u(r.next(p))}catch(x){s(x)}}function d(p){try{u(r.throw(p))}catch(x){s(x)}}function u(p){p.done?a(p.value):i(p.value).then(c,d)}u((r=r.apply(t,e||[])).next())})},vme=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(p){return d([u,p])}}function d(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(p){u=[6,p],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},bme=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=k0.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=k0.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return yme(this,void 0,void 0,function(){var e,n,r,i,a,s,c;return vme(this,function(d){switch(d.label){case 0:return e=function(u){for(var p=u.getVideoTracks(),x=0,w=p;x<w.length;x++){var A=w[x];A.enabled=!1,A.stop(),u.removeTrack(A)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=d.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=d.sent(),i=[],a=0,s=r;a<s.length;a++)c=s[a],c.kind==="videoinput"&&i.push({id:c.deviceId,label:c.label});return e(n),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var r=function(a){for(var s=[],c=0,d=a;c<d.length;c++){var u=d[c];u.kind==="video"&&s.push({id:u.id,label:u.label})}e(s)},i=MediaStreamTrack;i.getSources(r)})},t})(),yi;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(yi||(yi={}));var wme=(function(){function t(){this.state=yi.NOT_STARTED,this.onGoingTransactionNewState=yi.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===yi.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=yi.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===yi.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=yi.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==yi.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case yi.UNKNOWN:throw"Transition from unknown is not allowed";case yi.NOT_STARTED:this.failIfNewStateIs(e,[yi.PAUSED]);break;case yi.SCANNING:break;case yi.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var r=0,i=n;r<i.length;r++){var a=i[r];if(e===a)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t})(),Eme=(function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===yi.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==yi.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===yi.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===yi.PAUSED},t})(),_me=(function(){function t(){}return t.create=function(){return new Eme(new wme)},t})(),Ame=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),oo=(function(t){Ame(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(pl),Sme=(function(){function t(e,n){this.logger=n,this.fps=oo.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=oo.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?XH.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!$l(this.qrbox)},t.create=function(e,n){return new t(e,n)},t})(),NP=(function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new KH(this.verbose),this.qrcode=new ume(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=_me.create()}return t.prototype.start=function(e,n,r,i){var a=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var s;i?s=i:s=this.verbose?this.logger.log:function(){};var c=Sme.create(n,this.logger);this.clearElement();var d=!1;c.videoConstraints&&(c.isMediaStreamConstraintsValid()?d=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var u=d,p=document.getElementById(this.elementId);p.clientWidth?p.clientWidth:oo.DEFAULT_WIDTH,p.style.position="relative",this.shouldScan=!0,this.element=p;var x=this,w=this.stateManagerProxy.startTransition(yi.SCANNING);return new Promise(function(A,N){var S=u?c.videoConstraints:x.createVideoConstraints(e);if(!S){w.cancel(),N("videoConstraints should be defined");return}var I={};(!u||c.aspectRatio)&&(I.aspectRatio=c.aspectRatio);var j={onRenderSurfaceReady:function(D,P){x.setupUi(D,P,c),x.isScanning=!0,x.foreverScan(c,r,s)}};xme.failIfNotSupported().then(function(D){D.create(S).then(function(P){return P.render(a.element,I,j).then(function(V){x.renderedCamera=V,w.execute(),A(null)}).catch(function(V){w.cancel(),N(V)})}).catch(function(P){w.cancel(),N(k0.errorGettingUserMedia(P))})}).catch(function(D){w.cancel(),N(k0.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(yi.PAUSED),this.showPausedState(),($l(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(yi.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(yi.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var a=document.getElementById(oo.SHADED_REGION_ELEMENT_ID);a&&e.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(e,n){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if($l(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var s=new Image;s.onload=function(){var c=s.width,d=s.height,u=document.getElementById(r.elementId),p=u.clientWidth?u.clientWidth:oo.DEFAULT_WIDTH,x=Math.max(u.clientHeight?u.clientHeight:d,oo.FILE_SCAN_MIN_HEIGHT),w=r.computeCanvasDrawConfig(c,d,p,x);if(n){var A=r.createCanvasElement(p,x,"qr-canvas-visible");A.style.display="inline-block",u.appendChild(A);var N=A.getContext("2d");if(!N)throw"Unable to get 2d context from canvas";N.canvas.width=p,N.canvas.height=x,N.drawImage(s,0,0,c,d,w.x,w.y,w.width,w.height)}var S=oo.FILE_SCAN_HIDDEN_CANVAS_PADDING,I=Math.max(s.width,w.width),j=Math.max(s.height,w.height),D=I+2*S,P=j+2*S,V=r.createCanvasElement(D,P);u.appendChild(V);var K=V.getContext("2d");if(!K)throw"Unable to get 2d context from canvas";K.canvas.width=D,K.canvas.height=P,K.drawImage(s,0,0,c,d,S,S,I,j);try{r.qrcode.decodeRobustlyAsync(V).then(function(Z){i(bP.createFromQrcodeResult(Z))}).catch(a)}catch(Z){a("QR code parse error, error = ".concat(Z))}},s.onerror=a,s.onabort=a,s.onstalled=a,s.onsuspend=a,s.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return bme.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!XH.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[Pt.QR_CODE,Pt.AZTEC,Pt.CODABAR,Pt.CODE_39,Pt.CODE_93,Pt.CODE_128,Pt.DATA_MATRIX,Pt.MAXICODE,Pt.ITF,Pt.EAN_13,Pt.EAN_8,Pt.PDF_417,Pt.RSS_14,Pt.RSS_EXPANDED,Pt.UPC_A,Pt.UPC_E,Pt.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,a=e.formatsToSupport;i<a.length;i++){var s=a[i];rme(s)?r.push(s):this.logger.warn("Invalid format: ".concat(s," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if($l(e))return!0;if(!$l(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if($l(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return $l(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,r){var i=this,a=r.qrbox;this.validateQrboxConfig(a);var s=this.toQrdimensions(e,n,a),c=function(u){if(u<oo.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(oo.MIN_QR_BOX_SIZE,"px.")},d=function(u){return u>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),u=e),u};c(s.width),c(s.height),s.width=d(s.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},t.prototype.setupUi=function(e,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,r);var i=$l(r.qrbox)?{width:e,height:n}:r.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(e,n,i);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var s=r.isShadedBoxEnabled()&&a.height<=n,c={x:0,y:0,width:e,height:n},d=s?this.getShadedRegionBounds(e,n,a):c,u=this.createCanvasElement(d.width,d.height),p={willReadFrequently:!0},x=u.getContext("2d",p);x.canvas.width=d.width,x.canvas.height=d.height,this.element.append(u),s&&this.possiblyInsertShadingElement(this.element,e,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=d,this.context=x,this.canvasElement=u},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=k0.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,bP.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var a=k0.codeParseError(i);return n(a,$H.createFrom(a)),!1})},t.prototype.foreverScan=function(e,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),s=a.videoWidth/a.clientWidth,c=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var d=this.qrRegion.width*s,u=this.qrRegion.height*c,p=this.qrRegion.x*s,x=this.qrRegion.y*c;this.context.drawImage(a,p,x,d,u,0,0,this.qrRegion.width,this.qrRegion.height);var w=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,n,r)},i.getTimeoutFps(e.fps))};this.scanContext(n,r).then(function(A){!A&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){w()})):w()}).catch(function(A){i.logger.logError("Error happend while scanning context",A),w()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},a="exact",s=function(N){if(N in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(N,"'")},c=Object.keys(e);if(c.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(c.length," keys");var d=Object.keys(e)[0];if(d!==n&&d!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(d===n){var u=e.facingMode;if(typeof u=="string"){if(s(u))return{facingMode:u}}else if(typeof u=="object")if(a in u){if(s(u["".concat(a)]))return{facingMode:{exact:u["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var p=typeof u;throw"Invalid type of 'facingMode' = ".concat(p)}}else{var x=e.deviceId;if(typeof x=="string")return{deviceId:x};if(typeof x=="object"){if(a in x)return{deviceId:{exact:x["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var w=typeof x;throw"Invalid type of 'deviceId' = ".concat(w)}}}var A=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(A)},t.prototype.computeCanvasDrawConfig=function(e,n,r,i){if(e<=r&&n<=i){var a=(r-e)/2,s=(i-n)/2;return{x:a,y:s,width:e,height:n}}else{var c=e,d=n;return e>r&&(n=r/e*n,e=r),n>i&&(e=i/n*e,n=i),this.logger.log("Image downsampled from "+"".concat(c,"X").concat(d)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,r,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?oo.BORDER_SHADER_MATCH_COLOR:oo.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,r){var i=e,a=n,s=document.createElement("canvas");return s.style.width="".concat(i,"px"),s.style.height="".concat(a,"px"),s.style.display="none",s.id=$l(r)?"qr-canvas":r,s},t.prototype.getShadedRegionBounds=function(e,n,r){if(r.width>e||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(e,n,r,i){if(!(n-i.width<1||r-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var s=(n-i.width)/2,c=(r-i.height)/2;if(a.style.borderLeft="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(oo.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var d=5,u=40;this.insertShaderBorders(a,u,d,-d,null,0,!0),this.insertShaderBorders(a,u,d,-d,null,0,!1),this.insertShaderBorders(a,u,d,null,-d,0,!0),this.insertShaderBorders(a,u,d,null,-d,0,!1),this.insertShaderBorders(a,d,u+d,-d,null,-d,!0),this.insertShaderBorders(a,d,u+d,null,-d,-d,!0),this.insertShaderBorders(a,d,u+d,-d,null,-d,!1),this.insertShaderBorders(a,d,u+d,null,-d,-d,!1),this.hasBorderShaders=!0}e.append(a)}},t.prototype.insertShaderBorders=function(e,n,r,i,a,s,c){var d=document.createElement("div");d.style.position="absolute",d.style.backgroundColor=oo.BORDER_SHADER_DEFAULT_COLOR,d.style.width="".concat(n,"px"),d.style.height="".concat(r,"px"),i!==null&&(d.style.top="".concat(i,"px")),a!==null&&(d.style.bottom="".concat(a,"px")),c?d.style.left="".concat(s,"px"):d.style.right="".concat(s,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(d),e.appendChild(d)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t})(),CI="data:image/svg+xml;base64,",Tme=CI+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Cme=CI+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",OP=CI+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Ime="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",MP=(function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t})(),Nme=(function(){function t(){this.data=MP.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=MP.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t})(),Ome=(function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=wP.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var a=document.createElement("a");a.innerText=wP.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t})(),Mme=(function(){function t(e,n){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=n,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=OP,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Ime,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=OP,this.infoIcon.style.opacity="0.6")},t})(),Rme=(function(){function t(){var e=this;this.infoDiv=new Ome,this.infoIcon=new Mme(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t})(),kme=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function c(p){try{u(r.next(p))}catch(x){s(x)}}function d(p){try{u(r.throw(p))}catch(x){s(x)}}function u(p){p.done?a(p.value):i(p.value).then(c,d)}u((r=r.apply(t,e||[])).next())})},Dme=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(p){return d([u,p])}}function d(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(p){u=[6,p],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},RP=(function(){function t(){}return t.hasPermissions=function(){return kme(this,void 0,void 0,function(){var e,n,r,i;return Dme(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=a.sent(),n=0,r=e;n<r.length;n++)if(i=r[n],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},t})(),uf=(function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,n=this.supportedScanTypes;e<n.length;e++){var r=n[e];if(t.isCameraScanType(r))return!0}return!1},t.isCameraScanType=function(e){return e===Wf.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===Wf.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return pl.DEFAULT_SUPPORTED_SCAN_TYPE;var n=pl.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,i=e;r<i.length;r++){var a=i[r];if(!pl.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return e},t})(),po=(function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t})(),Qc=(function(){function t(){}return t.createElement=function(e,n){var r=document.createElement(e);return r.id=n,r.classList.add(po.ALL_ELEMENT_CLASS),e==="button"&&r.setAttribute("type","button"),r},t})(),ZH=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function c(p){try{u(r.next(p))}catch(x){s(x)}}function d(p){try{u(r.throw(p))}catch(x){s(x)}}function u(p){p.done?a(p.value):i(p.value).then(c,d)}u((r=r.apply(t,e||[])).next())})},JH=function(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(p){return d([u,p])}}function d(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(p){u=[6,p],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},kP=(function(){function t(e,n,r){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=n,this.onTorchActionFailureCallback=r}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return ZH(this,void 0,void 0,function(){var e,n;return JH(this,function(r){switch(r.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return n=r.sent(),this.propagateFailure(e,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,n){e===n?(this.buttonController.setText(n?fr.torchOffButton():fr.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},t.prototype.propagateFailure=function(e,n){var r=e?fr.torchOnFailedMessage():fr.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},t.prototype.reset=function(){this.isTorchOn=!1},t})(),Pme=(function(){function t(e,n){this.onTorchActionFailureCallback=n,this.torchButton=Qc.createElement("button",po.TORCH_BUTTON_ID),this.torchController=new kP(e,this,n)}return t.prototype.render=function(e,n){var r=this;this.torchButton.innerText=fr.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var i=this;this.torchButton.addEventListener("click",function(a){return ZH(r,void 0,void 0,function(){return JH(this,function(s){switch(s.label){case 0:return[4,i.torchController.flipState()];case 1:return s.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(po.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(po.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(po.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(po.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new kP(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=fr.torchOnButton(),this.torchController.reset()},t.create=function(e,n,r,i){var a=new t(n,i);return a.render(e,r),a},t})(),jme=(function(){function t(e,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",e.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=Qc.createElement("button",po.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(c){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=Qc.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(c){if(!(c==null||c.target==null)){var d=c.target;if(!(d.files&&d.files.length===0)){var u=d.files,p=u[0],x=p.name;a.setImageNameToButton(x),r(p)}}});var s=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(s),this.fileBasedScanRegion.addEventListener("dragenter",function(c){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),c.stopPropagation(),c.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(c){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),c.stopPropagation(),c.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(c){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),c.stopPropagation(),c.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(c){c.stopPropagation(),c.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var d=c.dataTransfer;if(d){var u=d.files;if(!u||u.length===0)return;for(var p=!1,x=0;x<u.length;++x){var w=u.item(x);if(w){var A=/image.*/;if(w.type.match(A)){p=!0;var N=w.name;a.setImageNameToButton(N),r(w),s.innerText=fr.dragAndDropMessage();break}}}p||(s.innerText=fr.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=fr.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var n=20;if(e.length>n){var r=e.substring(0,8),i=e.length,a=e.substring(i-8,i);e="".concat(r,"....").concat(a)}var s=fr.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=s},t.prototype.setInitialValueToButton=function(){var e=fr.fileSelectionChooseImage()+" - "+fr.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,n,r){var i=new t(e,n,r);return i},t})(),Lme=(function(){function t(e){this.selectElement=Qc.createElement("select",po.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var i=fr.selectCamera();n.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var a=1,s=0,c=this.cameras;s<c.length;s++){var d=c[s],u=d.id,p=d.label==null?u:d.label;(!p||p==="")&&(p=[fr.anonymousCameraPrefix(),a++].join(" "));var x=document.createElement("option");x.value=u,x.innerText=p,this.options.push(x),this.selectElement.appendChild(x)}n.appendChild(this.selectElement),e.appendChild(n)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var n=0,r=this.options;n<r.length;n++){var i=r[n];if(i.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,n){var r=new t(n);return r.render(e),r},t})(),Fme=(function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Qc.createElement("input",po.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=fr.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=fr.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,n,r,i){this.rangeInput.min=e.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,n){var r=new t;return r.render(e,n),r},t})(),lo;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(lo||(lo={}));function Bme(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function Ume(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var zme=(function(){function t(e,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new uf(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new KH(this.verbose),this.persistedDataManager=new Nme,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,s){if(e)e(a,s);else{if(r.lastMatchFound===a)return;r.lastMatchFound=a,r.setHeaderMessage(fr.lastMatch(a),lo.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,s){n&&n(a,s)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new NP(this.getScanRegionId(),Ume(this.config,this.verbose))},t.prototype.pause=function(e){($l(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,n=function(){var r=document.getElementById(e.elementId);r&&(r.innerHTML="",e.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){if(!e.html5Qrcode){r();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(a){if(!e.html5Qrcode){r();return}e.html5Qrcode.clear(),n(),r()}).catch(function(a){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",a),i(a)}):(e.html5Qrcode.clear(),n(),r())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=pl.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!pl.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=pl.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=pl.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:pl.SCAN_DEFAULT_FPS,rememberLastUsedCamera:pl.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:pl.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",e.appendChild(n),uf.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),a=this.getDashboardId();i.id=a,i.style.width="100%",e.appendChild(i),this.setupInitialDashboard(i)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",e.appendChild(n);var r=new Rme;r.renderInto(n);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",n.appendChild(i)},t.prototype.createSection=function(e){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",e.appendChild(n)},t.prototype.createCameraListUi=function(e,n,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(fr.cameraPermissionRequesting());var a=function(){r||i.createPermissionButton(e,n)};NP.getCameras().then(function(s){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),s&&s.length>0?(e.removeChild(n),i.renderCameraSelection(s)):(i.setHeaderMessage(fr.noCameraFound(),lo.STATUS_WARNING),a())}).catch(function(s){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:a(),i.setHeaderMessage(s,lo.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,n){var r=this,i=Qc.createElement("button",this.getCameraPermissionButtonId());i.innerText=fr.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(e,n,i)}),n.appendChild(i)},t.prototype.createPermissionsUi=function(e,n){var r=this;if(uf.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){RP.hasPermissions().then(function(i){i?r.createCameraListUi(e,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n)});return}this.createPermissionButton(e,n)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");e.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=uf.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(n)},t.prototype.renderFileScanUi=function(e){var n=uf.isFileScanType(this.currentScanType),r=this,i=function(a){if(!r.html5Qrcode)throw"html5Qrcode not defined";uf.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(fr.loadingImage()),r.html5Qrcode.scanFileV2(a,!0).then(function(s){r.resetHeaderMessage(),r.qrCodeSuccessCallback(s.decodedText,s)}).catch(function(s){r.setHeaderMessage(s,lo.STATUS_WARNING),r.qrCodeErrorCallback(s,$H.createFrom(s))}))};this.fileSelectionUi=jme.create(e,n,i)},t.prototype.renderCameraSelection=function(e){var n=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var a=Fme.create(i,!1),s=function(S){var I=S.zoomFeature();if(I.isSupported()){a.setOnCameraZoomValueChangeCallback(function(D){I.apply(D)});var j=1;n.config.defaultZoomValueIfSupported&&(j=n.config.defaultZoomValueIfSupported),j=ime(j,I.min(),I.max()),a.setValues(I.min(),I.max(),j,I.step()),a.show()}},c=Lme.create(i,e),d=document.createElement("span"),u=Qc.createElement("button",po.CAMERA_START_BUTTON_ID);u.innerText=fr.scanButtonStartScanningText(),d.appendChild(u);var p=Qc.createElement("button",po.CAMERA_STOP_BUTTON_ID);p.innerText=fr.scanButtonStopScanningText(),p.style.display="none",p.disabled=!0,d.appendChild(p);var x,w=function(S){if(!S.torchFeature().isSupported()){x&&x.hide();return}x?x.updateTorchCapability(S.torchFeature()):x=Pme.create(d,S.torchFeature(),{display:"none",marginLeft:"5px"},function(I){r.setHeaderMessage(I,lo.STATUS_WARNING)}),x.show()};i.appendChild(d);var A=function(S){S||(u.style.display="none"),u.innerText=fr.scanButtonStartScanningText(),u.style.opacity="1",u.disabled=!1,S&&(u.style.display="inline-block")};if(u.addEventListener("click",function(S){u.innerText=fr.scanButtonScanningStarting(),c.disable(),u.disabled=!0,u.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var I=c.getValue();r.persistedDataManager.setLastUsedCameraId(I),r.html5Qrcode.start(I,Bme(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(j){p.disabled=!1,p.style.display="inline-block",A(!1);var D=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&w(D),n.config.showZoomSliderIfSupported===!0&&s(D)}).catch(function(j){r.showHideScanTypeSwapLink(!0),c.enable(),A(!0),r.setHeaderMessage(j,lo.STATUS_WARNING)})}),c.hasSingleItem()&&u.click(),p.addEventListener("click",function(S){if(!r.html5Qrcode)throw"html5Qrcode not defined";p.disabled=!0,r.html5Qrcode.stop().then(function(I){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),c.enable(),u.disabled=!1,p.style.display="none",u.style.display="inline-block",x&&(x.reset(),x.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(I){p.disabled=!1,r.setHeaderMessage(I,lo.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var N=r.persistedDataManager.getLastUsedCameraId();c.hasValue(N)?(c.setValue(N),u.click()):r.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,n=fr.textIfCameraScanSelected(),r=fr.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var s=Qc.createElement("span",this.getDashboardSectionSwapLinkId());s.style.textDecoration="underline",s.style.cursor="pointer",s.innerText=uf.isCameraScanType(this.currentScanType)?n:r,s.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,uf.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),s.innerText=r,e.currentScanType=Wf.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),s.innerText=n,e.currentScanType=Wf.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),a.appendChild(s),i.appendChild(a)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){RP.hasPermissions().then(function(r){if(r){var i=document.getElementById(n.getCameraPermissionButtonId());if(!i)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,n){n||(n=lo.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",n){case lo.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case lo.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case lo.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Tme,this.cameraScanImage.alt=fr.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Cme,this.fileScanImage.alt=fr.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return po.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return po.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t})();const Vme=({isOpen:t,onClose:e})=>{const[n,r]=R.useState(null),[i,a]=R.useState(null),s=R.useRef(null),c=_p();R.useEffect(()=>{if(t&&!s.current){const p=new zme("qr-reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1,showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0});p.render(x=>{x.includes("/invoice/")?(r(x),p.clear()):(a("This QR code is not a valid invoice"),setTimeout(()=>a(null),3e3))},x=>{}),s.current=p}return()=>{s.current&&(s.current.clear().catch(()=>{}),s.current=null)}},[t]);const d=()=>{if(n){const p=n.split("/invoice/")[1];p?(e(),c(`/invoice/${p}`)):window.open(n,"_blank")}},u=()=>{r(null),a(null)};return t?y.jsxs(Ba,{children:[y.jsx("div",{className:"scanner-overlay",onClick:e,children:y.jsxs(xn.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"scanner-modal",onClick:p=>p.stopPropagation(),children:[y.jsxs("div",{className:"scanner-header",children:[y.jsxs("div",{className:"scanner-title",children:[y.jsx(rV,{size:24}),y.jsx("h3",{children:"Scan Invoice QR"})]}),y.jsx("button",{className:"close-btn",onClick:e,children:y.jsx(uc,{size:20})})]}),y.jsx("div",{className:"scanner-body",children:n?y.jsxs("div",{className:"scan-success",children:[y.jsx("div",{className:"success-icon",children:""}),y.jsx("h4",{children:"Invoice Found!"}),y.jsx("p",{className:"scanned-url",children:n}),y.jsxs("div",{className:"success-actions",children:[y.jsxs("button",{className:"btn-primary",onClick:d,children:[y.jsx(Gce,{size:18}),"Open Invoice"]}),y.jsx("button",{className:"reset-btn",onClick:u,children:"Scan Another"})]})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{id:"qr-reader",className:"qr-reader"}),i&&y.jsx("div",{className:"scan-error",children:i}),y.jsxs("p",{className:"scan-hint",children:[y.jsx(Zz,{size:16}),"Point your camera at an invoice QR code"]})]})})]})}),y.jsx("style",{jsx:"true",children:`
        .scanner-overlay {
          position: fixed;
          inset: 0;
          background: rgba(15, 23, 42, 0.7);
          backdrop-filter: blur(8px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 9999;
          padding: 20px;
        }

        .scanner-modal {
          width: 100%;
          max-width: 420px;
          background: var(--bg-card);
          border-radius: 20px;
          overflow: hidden;
          box-shadow: 0 25px 60px rgba(0, 0, 0, 0.3);
        }

        .scanner-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 20px 24px;
          border-bottom: 1px solid var(--border-color);
        }

        .scanner-title {
          display: flex;
          align-items: center;
          gap: 12px;
          color: var(--primary);
        }

        .scanner-title h3 {
          margin: 0;
          font-size: 1.2rem;
          color: var(--text-main);
        }

        .close-btn {
          width: 36px;
          height: 36px;
          border-radius: 10px;
          background: var(--bg-secondary);
          color: var(--text-muted);
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .close-btn:hover { color: var(--danger); }

        .scanner-body {
          padding: 24px;
        }

        .qr-reader {
          border-radius: 12px;
          overflow: hidden;
        }

        #qr-reader video {
          border-radius: 12px;
        }

        #qr-reader__dashboard {
          padding: 10px 0 0 !important;
        }

        #qr-reader__dashboard button {
          background: var(--primary) !important;
          border: none !important;
          border-radius: 8px !important;
          padding: 10px 20px !important;
          color: white !important;
          font-weight: 600 !important;
          font-size: 0.9rem !important;
        }

        .scan-hint {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          margin-top: 20px;
          color: var(--text-muted);
          font-size: 0.9rem;
        }

        .scan-error {
          background: rgba(239, 68, 68, 0.1);
          color: #ef4444;
          padding: 12px 20px;
          border-radius: 10px;
          text-align: center;
          margin-top: 15px;
          font-weight: 600;
        }

        .scan-success {
          text-align: center;
          padding: 30px 0;
        }

        .success-icon {
          font-size: 3rem;
          margin-bottom: 15px;
        }

        .scan-success h4 {
          margin: 0 0 10px;
          font-size: 1.3rem;
        }

        .scanned-url {
          font-size: 0.85rem;
          color: var(--text-muted);
          word-break: break-all;
          background: var(--bg-secondary);
          padding: 12px 16px;
          border-radius: 10px;
          margin: 15px 0 25px;
        }

        .success-actions {
          display: flex;
          flex-direction: column;
          gap: 10px;
        }

        .success-actions .btn-primary {
          width: 100%;
          padding: 14px;
          font-size: 1rem;
        }

        .reset-btn {
          background: none;
          color: var(--text-muted);
          font-weight: 600;
          padding: 10px;
        }

        .reset-btn:hover { color: var(--primary); }
      `})]}):null},Hme=({children:t})=>{const{logout:e,user:n}=V3(),{isDark:r,toggleTheme:i}=qH(),a=_p(),s=Au(),[c,d]=R.useState(!1),[u,p]=R.useState(!1),[x,w]=R.useState(()=>localStorage.getItem("sidebarCollapsed")==="true"),A=[{path:"/",icon:y.jsx(due,{size:20}),label:"Dashboard",shortcut:"1"},{path:"/students",icon:y.jsx(cp,{size:20}),label:"Students",shortcut:"2"},{path:"/attendance",icon:y.jsx(yce,{size:20}),label:"Attendance",shortcut:"3"},{path:"/invoices",icon:y.jsx(rc,{size:20}),label:"Invoices",shortcut:"4"},{path:"/quotations",icon:y.jsx(rc,{size:20}),label:"Quotations",shortcut:"5"},{path:"/insights",icon:y.jsx(cv,{size:20}),label:"Insights",shortcut:"6"},{path:"/analytics",icon:y.jsx(ah,{size:20}),label:"Analytics",shortcut:"7"},{path:"/settings",icon:y.jsx(iV,{size:20}),label:"Settings",shortcut:"8"}];R.useEffect(()=>{const j=D=>{if(D.altKey&&D.key>="1"&&D.key<="8"){D.preventDefault();const P=parseInt(D.key)-1;A[P]&&(a(A[P].path),p(!1))}D.altKey&&D.key==="s"&&(D.preventDefault(),document.querySelector(".global-search-input")?.focus()),D.altKey&&D.key==="t"&&(D.preventDefault(),i()),D.key==="Escape"&&p(!1)};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[a,i]),R.useEffect(()=>{p(!1)},[s.pathname]),R.useEffect(()=>{localStorage.setItem("sidebarCollapsed",x)},[x]);const N=async()=>{try{await e(),a("/login")}catch(j){console.error("Failed to log out",j)}},S=()=>{const j=new Date().getHours();return j<12?"Good Morning":j<17?"Good Afternoon":"Good Evening"},I=()=>A.find(D=>D.path===s.pathname)?.label||"EduBill";return y.jsxs("div",{className:`layout-container ${x?"sidebar-collapsed":""}`,children:[y.jsx(Ba,{children:u&&y.jsx(xn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"mobile-overlay",onClick:()=>p(!1)})}),y.jsxs("aside",{className:`sidebar glass ${u?"mobile-open":""}`,children:[y.jsxs("div",{className:"sidebar-header",children:[y.jsxs("div",{className:"logo-container",children:[y.jsx("div",{className:"logo-icon",children:y.jsx(rc,{size:20})}),y.jsx("h2",{className:"title-gradient sidebar-brand-text",children:"EduBill"})]}),y.jsx("button",{className:"collapse-btn desktop-only",onClick:()=>w(!x),title:x?"Expand sidebar":"Collapse sidebar",children:y.jsx(Jz,{size:16,className:`collapse-icon ${x?"rotated":""}`})}),y.jsx("button",{className:"close-mobile-btn mobile-only",onClick:()=>p(!1),children:y.jsx(uc,{size:20})})]}),y.jsx("nav",{className:"sidebar-nav",children:A.map(j=>y.jsxs(YF,{to:j.path,className:({isActive:D})=>`nav-link ${D?"active":""}`,onClick:()=>p(!1),children:[y.jsx("span",{className:"icon",children:j.icon}),y.jsx("span",{className:"label",children:j.label}),y.jsxs("span",{className:"shortcut-hint label",children:["Alt+",j.shortcut]}),y.jsx(eV,{className:"chevron",size:14})]},j.path))}),y.jsxs("div",{className:"sidebar-footer",children:[y.jsxs("div",{className:"sidebar-user label",children:[y.jsx("div",{className:"sidebar-user-avatar",children:n?.email?.[0]?.toUpperCase()||"A"}),y.jsxs("div",{className:"sidebar-user-info",children:[y.jsx("span",{className:"sidebar-user-name",children:"Admin"}),y.jsx("span",{className:"sidebar-user-email",children:n?.email||"admin"})]})]}),y.jsxs("button",{onClick:N,className:"logout-btn",children:[y.jsx(gue,{size:18}),y.jsx("span",{className:"label",children:"Sign Out"})]})]})]}),y.jsxs("main",{className:"main-content",children:[y.jsxs("header",{className:"top-header glass",children:[y.jsxs("div",{className:"header-left",children:[y.jsx("button",{className:"hamburger-btn mobile-only",onClick:()=>p(!0),children:y.jsx(bue,{size:22})}),y.jsx("div",{className:"header-title-area mobile-only",children:y.jsx("h3",{className:"mobile-page-title",children:I()})}),y.jsx("div",{className:"desktop-only search-area",children:y.jsx(nme,{})})]}),y.jsxs("div",{className:"header-right",children:[y.jsx("button",{className:"header-btn",onClick:()=>d(!0),title:"Scan QR Code",children:y.jsx(rV,{size:20})}),y.jsx("button",{className:"header-btn",onClick:i,title:`Switch to ${r?"light":"dark"} mode (Alt+T)`,children:r?y.jsx(aV,{size:20}):y.jsx(nV,{size:20})}),y.jsxs("div",{className:"user-profile desktop-only",children:[y.jsxs("div",{className:"user-info",children:[y.jsxs("p",{className:"u-greeting",children:[S()," "]}),y.jsx("p",{className:"u-role",children:"System Administrator"})]}),y.jsx("div",{className:"avatar",children:n?.email?.[0]?.toUpperCase()||"A"})]})]})]}),y.jsx("section",{className:"content-area",children:y.jsx(Ba,{mode:"wait",children:y.jsx(xn.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:-15},transition:{duration:.3},style:{width:"100%"},children:t},s.pathname)})})]}),y.jsx(Vme,{isOpen:c,onClose:()=>d(!1)}),y.jsx("style",{jsx:"true",children:`
        .layout-container {
          display: flex;
          min-height: 100vh;
          font-family: 'Outfit', sans-serif;
        }

        /* Sidebar */
        .sidebar {
          width: 280px;
          height: calc(100vh - 40px);
          margin: 20px 0 20px 20px;
          display: flex;
          flex-direction: column;
          padding: 24px 16px;
          border-radius: 24px;
          position: fixed;
          left: 0;
          z-index: 100;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          overflow: hidden;
        }

        .sidebar-collapsed .sidebar {
          width: 80px;
          padding: 24px 12px;
        }

        .sidebar-collapsed .sidebar-brand-text,
        .sidebar-collapsed .label,
        .sidebar-collapsed .chevron,
        .sidebar-collapsed .sidebar-user {
          display: none;
        }

        .sidebar-collapsed .logo-container {
          justify-content: center;
        }

        .sidebar-collapsed .nav-link {
          justify-content: center;
          padding: 14px;
        }

        .sidebar-collapsed .logout-btn {
          justify-content: center;
        }

        .sidebar-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin-bottom: 28px;
          padding: 0 6px;
        }

        .logo-container {
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .logo-icon {
          width: 44px;
          height: 44px;
          min-width: 44px;
          border-radius: 14px;
          background: linear-gradient(135deg, var(--primary), var(--primary-hover));
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
        }

        .sidebar h2 {
          font-size: 1.4rem;
          letter-spacing: -0.02em;
          white-space: nowrap;
        }

        .collapse-btn {
          width: 28px;
          height: 28px;
          border-radius: 8px;
          background: var(--bg-secondary);
          color: var(--text-muted);
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s;
          cursor: pointer;
          border: 1px solid var(--border-color);
        }

        .collapse-btn:hover {
          background: var(--bg-hover);
          color: var(--primary);
        }

        .collapse-icon {
          transition: transform 0.3s ease;
        }

        .collapse-icon.rotated {
          transform: rotate(180deg);
        }

        .sidebar-nav {
          flex: 1;
          display: flex;
          flex-direction: column;
          gap: 4px;
          overflow-y: auto;
          scrollbar-width: thin;
          padding: 0 2px;
        }

        .nav-link {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 12px 16px;
          border-radius: 14px;
          color: var(--text-muted);
          transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
          font-weight: 600;
          font-size: 0.9rem;
          position: relative;
          white-space: nowrap;
        }

        .nav-link:hover {
          color: var(--text-main);
          background: var(--bg-hover);
          transform: translateX(3px);
        }

        .nav-link.active {
          background: var(--primary);
          color: white;
          box-shadow: 0 4px 14px rgba(37, 99, 235, 0.3);
          transform: none;
        }

        .nav-link.active .icon { color: white; }
        .nav-link.active .chevron { color: white; opacity: 1; }
        .nav-link.active .shortcut-hint { color: rgba(255,255,255,0.6); }

        .shortcut-hint {
          margin-left: auto;
          font-size: 0.65rem;
          color: var(--text-light);
          font-weight: 500;
          letter-spacing: 0.02em;
          opacity: 0;
          transition: opacity 0.2s;
        }

        .nav-link:hover .shortcut-hint {
          opacity: 1;
        }

        .chevron {
          margin-left: auto;
          opacity: 0;
          transition: opacity 0.2s;
        }

        .nav-link:hover .chevron { opacity: 0.5; }

        /* Sidebar Footer */
        .sidebar-footer {
          margin-top: auto;
          padding: 16px 4px 0;
          border-top: 1px solid var(--border-color);
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .sidebar-user {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 8px;
          border-radius: 12px;
          background: var(--bg-secondary);
        }

        .sidebar-user-avatar {
          width: 34px;
          height: 34px;
          min-width: 34px;
          border-radius: 10px;
          background: linear-gradient(135deg, var(--accent-purple), var(--primary));
          color: white;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 700;
          font-size: 0.85rem;
        }

        .sidebar-user-info {
          display: flex;
          flex-direction: column;
          overflow: hidden;
        }

        .sidebar-user-name {
          font-weight: 700;
          font-size: 0.8rem;
          color: var(--text-main);
        }

        .sidebar-user-email {
          font-size: 0.7rem;
          color: var(--text-muted);
          text-overflow: ellipsis;
          overflow: hidden;
          white-space: nowrap;
        }

        .logout-btn {
          width: 100%;
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 12px 16px;
          border-radius: 12px;
          color: var(--danger);
          background: transparent;
          font-weight: 600;
          font-size: 0.9rem;
          transition: all 0.2s;
        }

        .logout-btn:hover {
          background: #fee2e2;
        }
        
        [data-theme="dark"] .logout-btn:hover { background: rgba(239, 68, 68, 0.15); }

        /* Main Content */
        .main-content {
          flex: 1;
          margin-left: 320px;
          padding: 20px 30px 40px;
          max-width: 1600px;
          transition: margin-left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .sidebar-collapsed .main-content {
          margin-left: 120px;
        }

        /* Header */
        .top-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 14px 24px;
          margin-bottom: 28px;
          border-radius: 20px;
          transition: all 0.3s ease;
          gap: 16px;
        }

        .header-left {
          display: flex;
          align-items: center;
          gap: 12px;
          flex: 1;
          min-width: 0;
        }

        .header-right {
          display: flex;
          align-items: center;
          gap: 10px;
          flex-shrink: 0;
        }

        .search-area {
          flex: 1;
          max-width: 400px;
        }

        .header-btn {
          width: 42px;
          height: 42px;
          border-radius: 12px;
          background: var(--bg-card);
          color: var(--text-muted);
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          transition: all 0.2s;
          border: 1px solid var(--border-color);
          flex-shrink: 0;
        }

        .header-btn:hover {
          color: var(--primary);
          border-color: var(--primary);
          box-shadow: 0 2px 8px rgba(0,0,0,0.05);
          transform: translateY(-1px);
        }

        .user-profile {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 6px 14px 6px 16px;
          border-radius: 14px;
          background: var(--bg-card);
          border: 1px solid var(--border-color);
          cursor: pointer;
          transition: all 0.2s;
        }

        .user-profile:hover {
          border-color: var(--primary);
          box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .u-greeting { font-weight: 700; font-size: 0.85rem; margin: 0; color: var(--text-main); }
        .u-role { font-size: 0.72rem; color: var(--text-muted); margin: 0; }
        
        .avatar {
          width: 36px; height: 36px;
          background: linear-gradient(135deg, var(--accent-purple), var(--primary));
          color: white;
          border-radius: 10px;
          display: flex; align-items: center; justify-content: center;
          font-weight: 700;
          box-shadow: 0 2px 5px rgba(0,0,0,0.1);
          font-size: 0.9rem;
        }

        /* Mobile controls */
        .hamburger-btn {
          width: 42px;
          height: 42px;
          border-radius: 12px;
          background: var(--bg-card);
          color: var(--text-main);
          display: flex;
          align-items: center;
          justify-content: center;
          border: 1px solid var(--border-color);
          cursor: pointer;
          flex-shrink: 0;
        }

        .mobile-page-title {
          font-size: 1.1rem;
          font-weight: 700;
          margin: 0;
          white-space: nowrap;
        }

        .close-mobile-btn {
          width: 36px;
          height: 36px;
          border-radius: 10px;
          background: var(--bg-secondary);
          color: var(--text-muted);
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .mobile-overlay {
          position: fixed;
          top: 0; left: 0; right: 0; bottom: 0;
          background: rgba(15, 23, 42, 0.6);
          backdrop-filter: blur(4px);
          z-index: 99;
        }

        /* Responsive utilities */
        .mobile-only { display: none; }
        .desktop-only { display: flex; }

        /* Tablet */
        @media (max-width: 1024px) {
          .sidebar:not(.mobile-open) {
            width: 80px;
            padding: 20px 12px;
          }
          
          .sidebar:not(.mobile-open) .sidebar-brand-text,
          .sidebar:not(.mobile-open) .label,
          .sidebar:not(.mobile-open) .chevron,
          .sidebar:not(.mobile-open) .sidebar-user,
          .sidebar:not(.mobile-open) .collapse-btn {
            display: none;
          }
          
          .sidebar:not(.mobile-open) .logo-container {
            justify-content: center;
          }
          
          .sidebar:not(.mobile-open) .nav-link {
            justify-content: center;
            padding: 14px;
          }
          
          .sidebar:not(.mobile-open) .logout-btn {
            justify-content: center;
          }
          
          .main-content {
            margin-left: 110px;
            padding: 20px;
          }
          
          .sidebar-collapsed .main-content {
            margin-left: 110px;
          }
          
          .user-info { display: none; }
        }

        /* Mobile */
        @media (max-width: 768px) {
          .mobile-only { display: flex; }
          .desktop-only { display: none !important; }

          .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: 300px;
            height: 100vh;
            margin: 0;
            border-radius: 0 24px 24px 0;
            transform: translateX(-110%);
            transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 200;
          }

          .sidebar.mobile-open {
            transform: translateX(0);
          }

          .sidebar.mobile-open .label,
          .sidebar.mobile-open .sidebar-brand-text,
          .sidebar.mobile-open .sidebar-user {
            display: flex;
          }

          .sidebar.mobile-open .chevron {
            display: block;
          }

          .main-content {
            margin-left: 0;
            padding: 12px 16px 30px;
          }

          .sidebar-collapsed .main-content {
            margin-left: 0;
          }

          .top-header {
            padding: 12px 16px;
            border-radius: 16px;
            margin-bottom: 20px;
          }

          .collapse-btn { display: none; }
        }

        /* Tiny screens */
        @media (max-width: 400px) {
          .header-right .header-btn:first-child {
            display: none;
          }
          
          .user-profile {
            display: none;
          }
        }
      `})]})},Wme=()=>{const{user:t,loading:e}=V3();return e?y.jsxs("div",{className:"splash-screen",children:[y.jsxs("div",{className:"splash-content",children:[y.jsxs("div",{className:"splash-logo-container",children:[y.jsx("div",{className:"splash-logo",children:y.jsx(rc,{size:28})}),y.jsx("div",{className:"splash-pulse"})]}),y.jsx("h2",{className:"splash-title",children:"EduBill"}),y.jsx("div",{className:"splash-loader",children:y.jsx("div",{className:"splash-loader-bar"})}),y.jsx("p",{className:"splash-text",children:"Loading your workspace..."})]}),y.jsx("style",{jsx:"true",children:`
                .splash-screen {
                    height: 100vh;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    background: var(--bg-main);
                    flex-direction: column;
                }

                .splash-content {
                    text-align: center;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    gap: 16px;
                }

                .splash-logo-container {
                    position: relative;
                    margin-bottom: 8px;
                }

                .splash-logo {
                    width: 72px;
                    height: 72px;
                    border-radius: 22px;
                    background: linear-gradient(135deg, var(--primary), var(--primary-hover));
                    color: white;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    box-shadow: 0 8px 30px rgba(37, 99, 235, 0.3);
                    position: relative;
                    z-index: 1;
                    animation: splashBreath 2s ease-in-out infinite;
                }

                .splash-pulse {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    width: 72px;
                    height: 72px;
                    border-radius: 22px;
                    background: var(--primary);
                    animation: splashPulse 2s ease-in-out infinite;
                    z-index: 0;
                }

                @keyframes splashBreath {
                    0%, 100% { transform: scale(1); }
                    50% { transform: scale(1.05); }
                }

                @keyframes splashPulse {
                    0% { opacity: 0.4; transform: translate(-50%, -50%) scale(1); }
                    100% { opacity: 0; transform: translate(-50%, -50%) scale(1.8); }
                }

                .splash-title {
                    font-size: 1.6rem;
                    font-weight: 800;
                    background: linear-gradient(135deg, var(--primary), var(--accent-purple));
                    -webkit-background-clip: text;
                    background-clip: text;
                    color: transparent;
                    margin: 0;
                    letter-spacing: -0.02em;
                }

                .splash-loader {
                    width: 120px;
                    height: 3px;
                    border-radius: 4px;
                    background: var(--border-color);
                    overflow: hidden;
                }

                .splash-loader-bar {
                    width: 40%;
                    height: 100%;
                    border-radius: 4px;
                    background: linear-gradient(90deg, var(--primary), var(--accent-purple));
                    animation: splashSlide 1.2s ease-in-out infinite;
                }

                @keyframes splashSlide {
                    0% { transform: translateX(-100%); }
                    100% { transform: translateX(350%); }
                }

                .splash-text {
                    font-size: 0.85rem;
                    color: var(--text-muted);
                    margin: 0;
                    font-weight: 500;
                }
            `})]}):t?y.jsx(Hme,{children:y.jsx(kJ,{})}):y.jsx(RJ,{to:"/login",replace:!0})},Gme=()=>y.jsxs("div",{className:"not-found-page",children:[y.jsxs(xn.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"not-found-content",children:[y.jsx("div",{className:"glitch-container",children:y.jsx(xn.div,{animate:{rotate:[0,5,-5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"icon-float",children:y.jsx(jue,{size:64,strokeWidth:1.5})})}),y.jsx(xn.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"error-code",children:"404"}),y.jsx(xn.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"error-message",children:"Oops! The page you're looking for doesn't exist or has been moved."}),y.jsxs(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"error-actions",children:[y.jsxs(qc,{to:"/",className:"btn-primary home-btn",children:[y.jsx(sue,{size:18}),"Go to Dashboard"]}),y.jsxs("button",{className:"back-btn",onClick:()=>window.history.back(),children:[y.jsx(cce,{size:18}),"Go Back"]})]}),y.jsx("div",{className:"orb orb-1"}),y.jsx("div",{className:"orb orb-2"}),y.jsx("div",{className:"orb orb-3"})]}),y.jsx("style",{jsx:"true",children:`
        .not-found-page {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 40px 20px;
          position: relative;
          overflow: hidden;
        }

        .not-found-content {
          text-align: center;
          max-width: 480px;
          position: relative;
          z-index: 2;
        }

        .glitch-container {
          margin-bottom: 24px;
        }

        .icon-float {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          width: 120px;
          height: 120px;
          border-radius: 32px;
          background: linear-gradient(135deg, rgba(37, 99, 235, 0.1) 0%, rgba(139, 92, 246, 0.15) 100%);
          color: var(--primary);
          box-shadow: 0 8px 32px rgba(37, 99, 235, 0.15);
        }

        .error-code {
          font-size: 7rem;
          font-weight: 900;
          line-height: 1;
          margin: 0 0 16px;
          background: linear-gradient(135deg, var(--primary), var(--accent-purple), var(--accent-pink));
          -webkit-background-clip: text;
          background-clip: text;
          color: transparent;
          letter-spacing: -4px;
        }

        .error-message {
          font-size: 1.1rem;
          color: var(--text-muted);
          margin: 0 0 36px;
          line-height: 1.7;
        }

        .error-actions {
          display: flex;
          gap: 16px;
          justify-content: center;
          flex-wrap: wrap;
        }

        .home-btn {
          padding: 14px 28px;
          font-size: 0.95rem;
        }

        .back-btn {
          display: inline-flex;
          align-items: center;
          gap: 8px;
          padding: 14px 28px;
          background: var(--bg-card);
          color: var(--text-muted);
          border: 1px solid var(--border-color);
          border-radius: 12px;
          font-weight: 600;
          font-size: 0.95rem;
          transition: all 0.2s;
        }

        .back-btn:hover {
          color: var(--text-main);
          border-color: var(--text-muted);
          transform: translateY(-2px);
        }

        /* Floating orbs */
        .orb {
          position: fixed;
          border-radius: 50%;
          filter: blur(80px);
          opacity: 0.4;
          pointer-events: none;
          z-index: 0;
        }

        .orb-1 {
          width: 300px;
          height: 300px;
          background: var(--primary);
          top: 10%;
          left: 10%;
          animation: float1 8s ease-in-out infinite;
        }

        .orb-2 {
          width: 250px;
          height: 250px;
          background: var(--accent-purple);
          bottom: 15%;
          right: 10%;
          animation: float2 10s ease-in-out infinite;
        }

        .orb-3 {
          width: 200px;
          height: 200px;
          background: var(--accent-pink);
          top: 50%;
          left: 60%;
          animation: float3 12s ease-in-out infinite;
        }

        @keyframes float1 {
          0%, 100% { transform: translate(0, 0); }
          50% { transform: translate(30px, -30px); }
        }

        @keyframes float2 {
          0%, 100% { transform: translate(0, 0); }
          50% { transform: translate(-25px, 25px); }
        }

        @keyframes float3 {
          0%, 100% { transform: translate(0, 0); }
          50% { transform: translate(20px, 20px); }
        }
      `})]}),eW=6048e5,qme=864e5,DP=Symbol.for("constructDateFrom");function Qo(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&DP in t?t[DP](e):t instanceof Date?new t.constructor(e):new Date(e)}function ya(t,e){return Qo(e||t,t)}function NC(t,e,n){const r=ya(t,n?.in);return isNaN(e)?Qo(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function II(t,e,n){const r=ya(t,n?.in);if(isNaN(e))return Qo(t,NaN);if(!e)return r;const i=r.getDate(),a=Qo(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const s=a.getDate();return i>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}function r2(t,e){return ya(t,e?.in).getDay()===6}function i2(t,e){return ya(t,e?.in).getDay()===0}let Yme={};function ew(){return Yme}function fp(t,e){const n=ew(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=ya(t,e?.in),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function a2(t,e){return fp(t,{...e,weekStartsOn:1})}function tW(t,e){const n=ya(t,e?.in),r=n.getFullYear(),i=Qo(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=a2(i),s=Qo(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const c=a2(s);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function PP(t){const e=ya(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function NI(t,...e){const n=Qo.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function s2(t,e){const n=ya(t,e?.in);return n.setHours(0,0,0,0),n}function $me(t,e,n){const[r,i]=NI(n?.in,t,e),a=s2(r),s=s2(i),c=+a-PP(a),d=+s-PP(s);return Math.round((c-d)/qme)}function Kme(t,e){const n=tW(t,e),r=Qo(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),a2(r)}function Xme(t,e,n){const[r,i]=NI(n?.in,t,e);return+s2(r)==+s2(i)}function Qme(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Zme(t){return!(!Qme(t)&&typeof t!="number"||isNaN(+ya(t)))}function Wg(t,e){const n=ya(t,e?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Jme(t,e){const[n,r]=NI(t,e.start,e.end);return{start:n,end:r}}function Gg(t,e){const{start:n,end:r}=Jme(e?.in,t);let i=+n>+r;const a=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0);let c=1;const d=[];for(;+s<=a;)d.push(Qo(n,s)),s.setDate(s.getDate()+c),s.setHours(0,0,0,0);return i?d.reverse():d}function qg(t,e){const n=ya(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function ege(t,e){const n=ya(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const tge={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nge=(t,e,n)=>{let r;const i=tge[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function kA(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const rge={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ige={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},age={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sge={date:kA({formats:rge,defaultWidth:"full"}),time:kA({formats:ige,defaultWidth:"full"}),dateTime:kA({formats:age,defaultWidth:"full"})},oge={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lge=(t,e,n,r)=>oge[t];function Lm(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,c=n?.width?String(n.width):s;i=t.formattingValues[c]||t.formattingValues[s]}else{const s=t.defaultWidth,c=n?.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const cge={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uge={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fge={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dge={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mge=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},gge={ordinalNumber:mge,era:Lm({values:cge,defaultWidth:"wide"}),quarter:Lm({values:uge,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Lm({values:fge,defaultWidth:"wide"}),day:Lm({values:dge,defaultWidth:"wide"}),dayPeriod:Lm({values:hge,defaultWidth:"wide",formattingValues:pge,defaultFormattingWidth:"wide"})};function Fm(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?yge(c,x=>x.test(s)):xge(c,x=>x.test(s));let u;u=t.valueCallback?t.valueCallback(d):d,u=n.valueCallback?n.valueCallback(u):u;const p=e.slice(s.length);return{value:u,rest:p}}}function xge(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function yge(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function vge(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const c=e.slice(i.length);return{value:s,rest:c}}}const bge=/^(\d+)(th|st|nd|rd)?/i,wge=/\d+/i,Ege={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_ge={any:[/^b/i,/^(a|c)/i]},Age={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Sge={any:[/1/i,/2/i,/3/i,/4/i]},Tge={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Cge={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ige={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Nge={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Oge={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Mge={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Rge={ordinalNumber:vge({matchPattern:bge,parsePattern:wge,valueCallback:t=>parseInt(t,10)}),era:Fm({matchPatterns:Ege,defaultMatchWidth:"wide",parsePatterns:_ge,defaultParseWidth:"any"}),quarter:Fm({matchPatterns:Age,defaultMatchWidth:"wide",parsePatterns:Sge,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Fm({matchPatterns:Tge,defaultMatchWidth:"wide",parsePatterns:Cge,defaultParseWidth:"any"}),day:Fm({matchPatterns:Ige,defaultMatchWidth:"wide",parsePatterns:Nge,defaultParseWidth:"any"}),dayPeriod:Fm({matchPatterns:Oge,defaultMatchWidth:"any",parsePatterns:Mge,defaultParseWidth:"any"})},kge={code:"en-US",formatDistance:nge,formatLong:sge,formatRelative:lge,localize:gge,match:Rge,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Dge(t,e){const n=ya(t,e?.in);return $me(n,ege(n))+1}function Pge(t,e){const n=ya(t,e?.in),r=+a2(n)-+Kme(n);return Math.round(r/eW)+1}function nW(t,e){const n=ya(t,e?.in),r=n.getFullYear(),i=ew(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,s=Qo(e?.in||t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const c=fp(s,e),d=Qo(e?.in||t,0);d.setFullYear(r,0,a),d.setHours(0,0,0,0);const u=fp(d,e);return+n>=+c?r+1:+n>=+u?r:r-1}function jge(t,e){const n=ew(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=nW(t,e),a=Qo(e?.in||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),fp(a,e)}function Lge(t,e){const n=ya(t,e?.in),r=+fp(n,e)-+jge(n,e);return Math.round(r/eW)+1}function ur(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ff={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ur(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ur(n+1,2)},d(t,e){return ur(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ur(t.getHours()%12||12,e.length)},H(t,e){return ur(t.getHours(),e.length)},m(t,e){return ur(t.getMinutes(),e.length)},s(t,e){return ur(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return ur(i,e.length)}},d0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jP={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ff.y(t,e)},Y:function(t,e,n,r){const i=nW(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return ur(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):ur(a,e.length)},R:function(t,e){const n=tW(t);return ur(n,e.length)},u:function(t,e){const n=t.getFullYear();return ur(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ur(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ur(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ff.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ur(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Lge(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):ur(i,e.length)},I:function(t,e,n){const r=Pge(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ur(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ff.d(t,e)},D:function(t,e,n){const r=Dge(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ur(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return ur(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return ur(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return ur(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=d0.noon:r===0?i=d0.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=d0.evening:r>=12?i=d0.afternoon:r>=4?i=d0.morning:i=d0.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ff.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ff.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ur(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ur(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ff.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ff.s(t,e)},S:function(t,e){return ff.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return FP(r);case"XXXX":case"XX":return Md(r);default:return Md(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return FP(r);case"xxxx":case"xx":return Md(r);default:return Md(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+LP(r,":");default:return"GMT"+Md(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+LP(r,":");default:return"GMT"+Md(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return ur(r,e.length)},T:function(t,e,n){return ur(+t,e.length)}};function LP(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+ur(a,2)}function FP(t,e){return t%60===0?(t>0?"-":"+")+ur(Math.abs(t)/60,2):Md(t,e)}function Md(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=ur(Math.trunc(r/60),2),a=ur(r%60,2);return n+i+e+a}const BP=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},rW=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},Fge=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return BP(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",BP(r,e)).replace("{{time}}",rW(i,e))},Bge={p:rW,P:Fge},Uge=/^D+$/,zge=/^Y+$/,Vge=["D","DD","YY","YYYY"];function Hge(t){return Uge.test(t)}function Wge(t){return zge.test(t)}function Gge(t,e,n){const r=qge(t,e,n);if(console.warn(r),Vge.includes(t))throw new RangeError(r)}function qge(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Yge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$ge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Kge=/^'([^]*?)'?$/,Xge=/''/g,Qge=/[a-zA-Z]/;function Tt(t,e,n){const r=ew(),i=r.locale??kge,a=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,c=ya(t,n?.in);if(!Zme(c))throw new RangeError("Invalid time value");let d=e.match($ge).map(p=>{const x=p[0];if(x==="p"||x==="P"){const w=Bge[x];return w(p,i.formatLong)}return p}).join("").match(Yge).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const x=p[0];if(x==="'")return{isToken:!1,value:Zge(p)};if(jP[x])return{isToken:!0,value:p};if(x.match(Qge))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:p}});i.localize.preprocessor&&(d=i.localize.preprocessor(c,d));const u={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return d.map(p=>{if(!p.isToken)return p.value;const x=p.value;(Wge(x)||Hge(x))&&Gge(x,e,String(t));const w=jP[x[0]];return w(c,x,i.localize,u)}).join("")}function Zge(t){const e=t.match(Kge);return e?e[1].replace(Xge,"'"):t}function Jge(t,e){return ya(t,e?.in).getDay()}function dc(t,e,n){return II(t,-e,n)}function iW(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=iW(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function tr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=iW(t))&&(r&&(r+=" "),r+=e);return r}var e1e=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function OI(t){if(typeof t!="string")return!1;var e=e1e;return e.includes(t)}var t1e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],n1e=new Set(t1e);function aW(t){return typeof t!="string"?!1:n1e.has(t)}function sW(t){return typeof t=="string"&&t.startsWith("data-")}function zs(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(aW(n)||sW(n))&&(e[n]=t[n]);return e}function sh(t){if(t==null)return null;if(R.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return zs(e)}return typeof t=="object"&&!Array.isArray(t)?zs(t):null}function _s(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(aW(n)||sW(n)||OI(n))&&(e[n]=t[n]);return e}function r1e(t){return t==null?null:R.isValidElement(t)?_s(t.props):typeof t=="object"&&!Array.isArray(t)?_s(t):null}var i1e=["children","width","height","viewBox","className","style","title","desc"];function OC(){return OC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OC.apply(null,arguments)}function a1e(t,e){if(t==null)return{};var n,r,i=s1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function s1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var oW=R.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:c,title:d,desc:u}=t,p=a1e(t,i1e),x=a||{width:r,height:i,x:0,y:0},w=tr("recharts-surface",s);return R.createElement("svg",OC({},_s(p),{className:w,width:r,height:i,style:c,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:e}),R.createElement("title",null,d),R.createElement("desc",null,u),n)}),o1e=["children","className"];function MC(){return MC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MC.apply(null,arguments)}function l1e(t,e){if(t==null)return{};var n,r,i=c1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function c1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Di=R.forwardRef((t,e)=>{var{children:n,className:r}=t,i=l1e(t,o1e),a=tr("recharts-layer",r);return R.createElement("g",MC({className:a},_s(i),{ref:e}),n)}),u1e=R.createContext(null);function Nr(t){return function(){return t}}const lW=Math.cos,o2=Math.sin,Rl=Math.sqrt,l2=Math.PI,tw=2*l2,RC=Math.PI,kC=2*RC,Rd=1e-6,f1e=kC-Rd;function cW(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function d1e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return cW;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class h1e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?cW:d1e(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,c=this._y1,d=r-e,u=i-n,p=s-e,x=c-n,w=p*p+x*x;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(w>Rd)if(!(Math.abs(x*d-u*p)>Rd)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let A=r-s,N=i-c,S=d*d+u*u,I=A*A+N*N,j=Math.sqrt(S),D=Math.sqrt(w),P=a*Math.tan((RC-Math.acos((S+w-I)/(2*j*D)))/2),V=P/D,K=P/j;Math.abs(V-1)>Rd&&this._append`L${e+V*p},${n+V*x}`,this._append`A${a},${a},0,0,${+(x*A>p*N)},${this._x1=e+K*d},${this._y1=n+K*u}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),u=e+c,p=n+d,x=1^s,w=s?i-a:a-i;this._x1===null?this._append`M${u},${p}`:(Math.abs(this._x1-u)>Rd||Math.abs(this._y1-p)>Rd)&&this._append`L${u},${p}`,r&&(w<0&&(w=w%kC+kC),w>f1e?this._append`A${r},${r},0,1,${x},${e-c},${n-d}A${r},${r},0,1,${x},${this._x1=u},${this._y1=p}`:w>Rd&&this._append`A${r},${r},0,${+(w>=RC)},${x},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function MI(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new h1e(e)}function RI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function uW(t){this._context=t}uW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function nw(t){return new uW(t)}function fW(t){return t[0]}function dW(t){return t[1]}function hW(t,e){var n=Nr(!0),r=null,i=nw,a=null,s=MI(c);t=typeof t=="function"?t:t===void 0?fW:Nr(t),e=typeof e=="function"?e:e===void 0?dW:Nr(e);function c(d){var u,p=(d=RI(d)).length,x,w=!1,A;for(r==null&&(a=i(A=s())),u=0;u<=p;++u)!(u<p&&n(x=d[u],u,d))===w&&((w=!w)?a.lineStart():a.lineEnd()),w&&a.point(+t(x,u,d),+e(x,u,d));if(A)return a=null,A+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Nr(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Nr(+d),c):e},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Nr(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),c):r},c}function Ay(t,e,n){var r=null,i=Nr(!0),a=null,s=nw,c=null,d=MI(u);t=typeof t=="function"?t:t===void 0?fW:Nr(+t),e=typeof e=="function"?e:Nr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?dW:Nr(+n);function u(x){var w,A,N,S=(x=RI(x)).length,I,j=!1,D,P=new Array(S),V=new Array(S);for(a==null&&(c=s(D=d())),w=0;w<=S;++w){if(!(w<S&&i(I=x[w],w,x))===j)if(j=!j)A=w,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),N=w-1;N>=A;--N)c.point(P[N],V[N]);c.lineEnd(),c.areaEnd()}j&&(P[w]=+t(I,w,x),V[w]=+e(I,w,x),c.point(r?+r(I,w,x):P[w],n?+n(I,w,x):V[w]))}if(D)return c=null,D+""||null}function p(){return hW().defined(i).curve(s).context(a)}return u.x=function(x){return arguments.length?(t=typeof x=="function"?x:Nr(+x),r=null,u):t},u.x0=function(x){return arguments.length?(t=typeof x=="function"?x:Nr(+x),u):t},u.x1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:Nr(+x),u):r},u.y=function(x){return arguments.length?(e=typeof x=="function"?x:Nr(+x),n=null,u):e},u.y0=function(x){return arguments.length?(e=typeof x=="function"?x:Nr(+x),u):e},u.y1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:Nr(+x),u):n},u.lineX0=u.lineY0=function(){return p().x(t).y(e)},u.lineY1=function(){return p().x(t).y(n)},u.lineX1=function(){return p().x(r).y(e)},u.defined=function(x){return arguments.length?(i=typeof x=="function"?x:Nr(!!x),u):i},u.curve=function(x){return arguments.length?(s=x,a!=null&&(c=s(a)),u):s},u.context=function(x){return arguments.length?(x==null?a=c=null:c=s(a=x),u):a},u}class pW{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function p1e(t){return new pW(t,!0)}function m1e(t){return new pW(t,!1)}const kI={draw(t,e){const n=Rl(e/l2);t.moveTo(n,0),t.arc(0,0,n,0,tw)}},g1e={draw(t,e){const n=Rl(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},mW=Rl(1/3),x1e=mW*2,y1e={draw(t,e){const n=Rl(e/x1e),r=n*mW;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},v1e={draw(t,e){const n=Rl(e),r=-n/2;t.rect(r,r,n,n)}},b1e=.8908130915292852,gW=o2(l2/10)/o2(7*l2/10),w1e=o2(tw/10)*gW,E1e=-lW(tw/10)*gW,_1e={draw(t,e){const n=Rl(e*b1e),r=w1e*n,i=E1e*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=tw*a/5,c=lW(s),d=o2(s);t.lineTo(d*n,-c*n),t.lineTo(c*r-d*i,d*r+c*i)}t.closePath()}},DA=Rl(3),A1e={draw(t,e){const n=-Rl(e/(DA*3));t.moveTo(0,n*2),t.lineTo(-DA*n,-n),t.lineTo(DA*n,-n),t.closePath()}},Fo=-.5,Bo=Rl(3)/2,DC=1/Rl(12),S1e=(DC/2+1)*3,T1e={draw(t,e){const n=Rl(e/S1e),r=n/2,i=n*DC,a=r,s=n*DC+n,c=-a,d=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(c,d),t.lineTo(Fo*r-Bo*i,Bo*r+Fo*i),t.lineTo(Fo*a-Bo*s,Bo*a+Fo*s),t.lineTo(Fo*c-Bo*d,Bo*c+Fo*d),t.lineTo(Fo*r+Bo*i,Fo*i-Bo*r),t.lineTo(Fo*a+Bo*s,Fo*s-Bo*a),t.lineTo(Fo*c+Bo*d,Fo*d-Bo*c),t.closePath()}};function C1e(t,e){let n=null,r=MI(i);t=typeof t=="function"?t:Nr(t||kI),e=typeof e=="function"?e:Nr(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Nr(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Nr(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function c2(){}function u2(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function xW(t){this._context=t}xW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:u2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:u2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function I1e(t){return new xW(t)}function yW(t){this._context=t}yW.prototype={areaStart:c2,areaEnd:c2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:u2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function N1e(t){return new yW(t)}function vW(t){this._context=t}vW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:u2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function O1e(t){return new vW(t)}function bW(t){this._context=t}bW.prototype={areaStart:c2,areaEnd:c2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function M1e(t){return new bW(t)}function UP(t){return t<0?-1:1}function zP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),c=(a*i+s*r)/(r+i);return(UP(a)+UP(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(c))||0}function VP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function PA(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,c=(a-r)/3;t._context.bezierCurveTo(r+c,i+c*e,a-c,s-c*n,a,s)}function f2(t){this._context=t}f2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:PA(this,this._t0,VP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,PA(this,VP(this,n=zP(this,t,e)),n);break;default:PA(this,this._t0,n=zP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function wW(t){this._context=new EW(t)}(wW.prototype=Object.create(f2.prototype)).point=function(t,e){f2.prototype.point.call(this,e,t)};function EW(t){this._context=t}EW.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function R1e(t){return new f2(t)}function k1e(t){return new wW(t)}function _W(t){this._context=t}_W.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=HP(t),i=HP(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function HP(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function D1e(t){return new _W(t)}function rw(t,e){this._context=t,this._t=e}rw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function P1e(t){return new rw(t,.5)}function j1e(t){return new rw(t,0)}function L1e(t){return new rw(t,1)}function oh(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,c=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function PC(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function F1e(t,e){return t[e]}function B1e(t){const e=[];return e.key=t,e}function U1e(){var t=Nr([]),e=PC,n=oh,r=F1e;function i(a){var s=Array.from(t.apply(this,arguments),B1e),c,d=s.length,u=-1,p;for(const x of a)for(c=0,++u;c<d;++c)(s[c][u]=[0,+r(x,s[c].key,u,a)]).data=x;for(c=0,p=RI(e(s));c<d;++c)s[p[c]].index=c;return n(s,p),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Nr(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Nr(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?PC:typeof a=="function"?a:Nr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??oh,i):n},i}function z1e(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}oh(t,e)}}function V1e(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,c=0;s<i;++s)c+=t[s][n][1]||0;r[n][1]+=r[n][0]=-c/2}oh(t,e)}}function H1e(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var c=0,d=0,u=0;c<s;++c){for(var p=t[e[c]],x=p[r][1]||0,w=p[r-1][1]||0,A=(x-w)/2,N=0;N<c;++N){var S=t[e[N]],I=S[r][1]||0,j=S[r-1][1]||0;A+=I-j}d+=x,u+=A*x}i[r-1][1]+=i[r-1][0]=n,d&&(n-=u/d)}i[r-1][1]+=i[r-1][0]=n,oh(t,e)}}var jA={},LA={},WP;function W1e(){return WP||(WP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(LA)),LA}var FA={},GP;function AW(){return GP||(GP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(FA)),FA}var BA={},qP;function DI(){return qP||(qP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(BA)),BA}var UA={},zA={},YP;function G1e(){return YP||(YP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(zA)),zA}var $P;function PI(){return $P||($P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G1e(),n=DI();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let c=0,d="",u="",p=!1;for(i.charCodeAt(0)===46&&(a.push(""),c++);c<s;){const x=i[c];u?x==="\\"&&c+1<s?(c++,d+=i[c]):x===u?u="":d+=x:p?x==='"'||x==="'"?u=x:x==="]"?(p=!1,a.push(d),d=""):d+=x:x==="["?(p=!0,d&&(a.push(d),d="")):x==="."?d&&(a.push(d),d=""):d+=x,c++}return d&&a.push(d),a}t.toPath=r})(UA)),UA}var KP;function jI(){return KP||(KP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W1e(),n=AW(),r=DI(),i=PI();function a(c,d,u){if(c==null)return u;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return u;const p=c[d];return p===void 0?n.isDeepKey(d)?a(c,i.toPath(d),u):u:p}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const p=c[d];return p===void 0?u:p}default:{if(Array.isArray(d))return s(c,d,u);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return u;const p=c[d];return p===void 0?u:p}}}function s(c,d,u){if(d.length===0)return u;let p=c;for(let x=0;x<d.length;x++){if(p==null||e.isUnsafeProperty(d[x]))return u;p=p[d[x]]}return p===void 0?u:p}t.get=a})(jA)),jA}var VA,XP;function q1e(){return XP||(XP=1,VA=jI().get),VA}var Y1e=q1e();const lh=_u(Y1e);var $1e=4;function Sf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$1e,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function wi(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,a,s)=>{var c=n[s-1];return typeof c=="string"?i+c+a:c!==void 0?i+Sf(c)+a:i+a},"")}var ma=t=>t===0?0:t>0?1:-1,Nl=t=>typeof t=="number"&&t!=+t,ch=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Mt=t=>(typeof t=="number"||t instanceof Number)&&!Nl(t),hc=t=>Mt(t)||typeof t=="string",K1e=0,Yg=t=>{var e=++K1e;return"".concat(t||"").concat(e)},rs=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Mt(e)&&typeof e!="string")return r;var a;if(ch(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Nl(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},SW=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function zr(t,e,n){return Mt(t)&&Mt(e)?Sf(t+n*(e-t)):e}function TW(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):lh(r,e))===n)}var Si=t=>t===null||typeof t>"u",P1=t=>Si(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Ls(t){return t!=null}function Ch(){}var X1e=["type","size","sizeType"];function jC(){return jC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jC.apply(null,arguments)}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){Q1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q1e(t,e,n){return(e=Z1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z1e(t){var e=J1e(t,"string");return typeof e=="symbol"?e:e+""}function J1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function exe(t,e){if(t==null)return{};var n,r,i=txe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function txe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var CW={symbolCircle:kI,symbolCross:g1e,symbolDiamond:y1e,symbolSquare:v1e,symbolStar:_1e,symbolTriangle:A1e,symbolWye:T1e},nxe=Math.PI/180,rxe=t=>{var e="symbol".concat(P1(t));return CW[e]||kI},ixe=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*nxe;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},axe=(t,e)=>{CW["symbol".concat(P1(t))]=e},IW=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=exe(t,X1e),a=ZP(ZP({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var c=()=>{var w=rxe(s),A=C1e().type(w).size(ixe(n,r,s)),N=A();if(N!==null)return N},{className:d,cx:u,cy:p}=a,x=_s(a);return Mt(u)&&Mt(p)&&Mt(n)?R.createElement("path",jC({},x,{className:tr("recharts-symbols",d),transform:"translate(".concat(u,", ").concat(p,")"),d:c()})):null};IW.registerSymbol=axe;var NW=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,LI=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(R.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{OI(i)&&(r[i]=(a=>n[i](n,a)))}),r},sxe=(t,e,n)=>r=>(t(e,n,r),null),iw=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];OI(i)&&typeof a=="function"&&(r||(r={}),r[i]=sxe(a,e,n))}),r};function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oxe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){lxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lxe(t,e,n){return(e=cxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cxe(t){var e=uxe(t,"string");return typeof e=="symbol"?e:e+""}function uxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function va(t,e){var n=oxe({},t),r=e,i=Object.keys(e),a=i.reduce((s,c)=>(s[c]===void 0&&r[c]!==void 0&&(s[c]=r[c]),s),n);return a}var HA={},WA={},e5;function fxe(){return e5||(e5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],c=r(s,a,n);i.has(c)||i.set(c,s)}return Array.from(i.values())}t.uniqBy=e})(WA)),WA}var GA={},t5;function dxe(){return t5||(t5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(GA)),GA}var qA={},n5;function OW(){return n5||(n5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(qA)),qA}var YA={},$A={},KA={},r5;function hxe(){return r5||(r5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(KA)),KA}var i5;function FI(){return i5||(i5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hxe();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})($A)),$A}var XA={},a5;function pxe(){return a5||(a5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(XA)),XA}var s5;function mxe(){return s5||(s5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FI(),n=pxe();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(YA)),YA}var QA={},ZA={},o5;function gxe(){return o5||(o5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jI();function n(r){return function(i){return e.get(i,r)}}t.property=n})(ZA)),ZA}var JA={},eS={},tS={},nS={},l5;function MW(){return l5||(l5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(nS)),nS}var rS={},c5;function RW(){return c5||(c5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(rS)),rS}var iS={},u5;function kW(){return u5||(u5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(iS)),iS}var f5;function xxe(){return f5||(f5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MW(),n=RW(),r=kW();function i(p,x,w){return typeof w!="function"?i(p,x,()=>{}):a(p,x,function A(N,S,I,j,D,P){const V=w(N,S,I,j,D,P);return V!==void 0?!!V:a(N,S,A,P)},new Map)}function a(p,x,w,A){if(x===p)return!0;switch(typeof x){case"object":return s(p,x,w,A);case"function":return Object.keys(x).length>0?a(p,{...x},w,A):r.isEqualsSameValueZero(p,x);default:return e.isObject(p)?typeof x=="string"?x==="":!0:r.isEqualsSameValueZero(p,x)}}function s(p,x,w,A){if(x==null)return!0;if(Array.isArray(x))return d(p,x,w,A);if(x instanceof Map)return c(p,x,w,A);if(x instanceof Set)return u(p,x,w,A);const N=Object.keys(x);if(p==null||n.isPrimitive(p))return N.length===0;if(N.length===0)return!0;if(A?.has(x))return A.get(x)===p;A?.set(x,p);try{for(let S=0;S<N.length;S++){const I=N[S];if(!n.isPrimitive(p)&&!(I in p)||x[I]===void 0&&p[I]!==void 0||x[I]===null&&p[I]!==null||!w(p[I],x[I],I,p,x,A))return!1}return!0}finally{A?.delete(x)}}function c(p,x,w,A){if(x.size===0)return!0;if(!(p instanceof Map))return!1;for(const[N,S]of x.entries()){const I=p.get(N);if(w(I,S,N,p,x,A)===!1)return!1}return!0}function d(p,x,w,A){if(x.length===0)return!0;if(!Array.isArray(p))return!1;const N=new Set;for(let S=0;S<x.length;S++){const I=x[S];let j=!1;for(let D=0;D<p.length;D++){if(N.has(D))continue;const P=p[D];let V=!1;if(w(P,I,S,p,x,A)&&(V=!0),V){N.add(D),j=!0;break}}if(!j)return!1}return!0}function u(p,x,w,A){return x.size===0?!0:p instanceof Set?d([...p],[...x],w,A):!1}t.isMatchWith=i,t.isSetMatch=u})(tS)),tS}var d5;function DW(){return d5||(d5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xxe();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(eS)),eS}var aS={},sS={},oS={},h5;function yxe(){return h5||(h5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(oS)),oS}var lS={},p5;function BI(){return p5||(p5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(lS)),lS}var cS={},m5;function PW(){return m5||(m5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",c="[object Date]",d="[object Map]",u="[object Set]",p="[object Array]",x="[object Function]",w="[object ArrayBuffer]",A="[object Object]",N="[object Error]",S="[object DataView]",I="[object Uint8Array]",j="[object Uint8ClampedArray]",D="[object Uint16Array]",P="[object Uint32Array]",V="[object BigUint64Array]",K="[object Int8Array]",Z="[object Int16Array]",F="[object Int32Array]",U="[object BigInt64Array]",B="[object Float32Array]",J="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=w,t.arrayTag=p,t.bigInt64ArrayTag=U,t.bigUint64ArrayTag=V,t.booleanTag=i,t.dataViewTag=S,t.dateTag=c,t.errorTag=N,t.float32ArrayTag=B,t.float64ArrayTag=J,t.functionTag=x,t.int16ArrayTag=Z,t.int32ArrayTag=F,t.int8ArrayTag=K,t.mapTag=d,t.numberTag=r,t.objectTag=A,t.regexpTag=e,t.setTag=u,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=D,t.uint32ArrayTag=P,t.uint8ArrayTag=I,t.uint8ClampedArrayTag=j})(cS)),cS}var uS={},g5;function vxe(){return g5||(g5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(uS)),uS}var x5;function jW(){return x5||(x5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yxe(),n=BI(),r=PW(),i=RW(),a=vxe();function s(p,x){return c(p,void 0,p,new Map,x)}function c(p,x,w,A=new Map,N=void 0){const S=N?.(p,x,w,A);if(S!==void 0)return S;if(i.isPrimitive(p))return p;if(A.has(p))return A.get(p);if(Array.isArray(p)){const I=new Array(p.length);A.set(p,I);for(let j=0;j<p.length;j++)I[j]=c(p[j],j,w,A,N);return Object.hasOwn(p,"index")&&(I.index=p.index),Object.hasOwn(p,"input")&&(I.input=p.input),I}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const I=new RegExp(p.source,p.flags);return I.lastIndex=p.lastIndex,I}if(p instanceof Map){const I=new Map;A.set(p,I);for(const[j,D]of p)I.set(j,c(D,j,w,A,N));return I}if(p instanceof Set){const I=new Set;A.set(p,I);for(const j of p)I.add(c(j,void 0,w,A,N));return I}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(a.isTypedArray(p)){const I=new(Object.getPrototypeOf(p)).constructor(p.length);A.set(p,I);for(let j=0;j<p.length;j++)I[j]=c(p[j],j,w,A,N);return I}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const I=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return A.set(p,I),d(I,p,w,A,N),I}if(typeof File<"u"&&p instanceof File){const I=new File([p],p.name,{type:p.type});return A.set(p,I),d(I,p,w,A,N),I}if(typeof Blob<"u"&&p instanceof Blob){const I=new Blob([p],{type:p.type});return A.set(p,I),d(I,p,w,A,N),I}if(p instanceof Error){const I=new p.constructor;return A.set(p,I),I.message=p.message,I.name=p.name,I.stack=p.stack,I.cause=p.cause,d(I,p,w,A,N),I}if(p instanceof Boolean){const I=new Boolean(p.valueOf());return A.set(p,I),d(I,p,w,A,N),I}if(p instanceof Number){const I=new Number(p.valueOf());return A.set(p,I),d(I,p,w,A,N),I}if(p instanceof String){const I=new String(p.valueOf());return A.set(p,I),d(I,p,w,A,N),I}if(typeof p=="object"&&u(p)){const I=Object.create(Object.getPrototypeOf(p));return A.set(p,I),d(I,p,w,A,N),I}return p}function d(p,x,w=p,A,N){const S=[...Object.keys(x),...e.getSymbols(x)];for(let I=0;I<S.length;I++){const j=S[I],D=Object.getOwnPropertyDescriptor(p,j);(D==null||D.writable)&&(p[j]=c(x[j],j,w,A,N))}}function u(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=c,t.copyProperties=d})(sS)),sS}var y5;function bxe(){return y5||(y5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jW();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(aS)),aS}var v5;function wxe(){return v5||(v5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DW(),n=bxe();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(JA)),JA}var fS={},dS={},hS={},b5;function Exe(){return b5||(b5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jW(),n=BI(),r=PW();function i(a,s){return e.cloneDeepWith(a,(c,d,u,p)=>{const x=s?.(c,d,u,p);if(x!==void 0)return x;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const w={};return p.set(a,w),e.copyProperties(w,a,u,p),w}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const w=new a.constructor(a?.valueOf());return e.copyProperties(w,a),w}case r.argumentsTag:{const w={};return e.copyProperties(w,a),w.length=a.length,w[Symbol.iterator]=a[Symbol.iterator],w}default:return}}})}t.cloneDeepWith=i})(hS)),hS}var w5;function _xe(){return w5||(w5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Exe();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(dS)),dS}var pS={},mS={},E5;function LW(){return E5||(E5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(mS)),mS}var gS={},_5;function Axe(){return _5||(_5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BI();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(gS)),gS}var A5;function Sxe(){return A5||(A5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AW(),n=LW(),r=Axe(),i=PI();function a(s,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&e.isDeepKey(c)&&s?.[c]==null?d=i.toPath(c):d=[c],d.length===0)return!1;let u=s;for(let p=0;p<d.length;p++){const x=d[p];if((u==null||!Object.hasOwn(u,x))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(x)&&x<u.length))return!1;u=u[x]}return!0}t.has=a})(pS)),pS}var S5;function Txe(){return S5||(S5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DW(),n=DI(),r=_xe(),i=jI(),a=Sxe();function s(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=r.cloneDeep(d),function(u){const p=i.get(u,c);return p===void 0?a.has(u,c):d===void 0?p===void 0:e.isMatch(p,d)}}t.matchesProperty=s})(fS)),fS}var T5;function Cxe(){return T5||(T5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OW(),n=gxe(),r=wxe(),i=Txe();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(QA)),QA}var C5;function Ixe(){return C5||(C5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fxe(),n=dxe(),r=OW(),i=mxe(),a=Cxe();function s(c,d=r.identity){return i.isArrayLikeObject(c)?e.uniqBy(Array.from(c),n.ary(a.iteratee(d),1)):[]}t.uniqBy=s})(HA)),HA}var xS,I5;function Nxe(){return I5||(I5=1,xS=Ixe().uniqBy),xS}var Oxe=Nxe();const N5=_u(Oxe);function Mxe(t,e,n){return e===!0?N5(t,n):typeof e=="function"?N5(t,e):t}var yS={exports:{}},vS={},bS={exports:{}},wS={};var O5;function Rxe(){if(O5)return wS;O5=1;var t=bp();function e(x,w){return x===w&&(x!==0||1/x===1/w)||x!==x&&w!==w}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function c(x,w){var A=w(),N=r({inst:{value:A,getSnapshot:w}}),S=N[0].inst,I=N[1];return a(function(){S.value=A,S.getSnapshot=w,d(S)&&I({inst:S})},[x,A,w]),i(function(){return d(S)&&I({inst:S}),x(function(){d(S)&&I({inst:S})})},[x]),s(A),A}function d(x){var w=x.getSnapshot;x=x.value;try{var A=w();return!n(x,A)}catch{return!0}}function u(x,w){return w()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:c;return wS.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,wS}var M5;function kxe(){return M5||(M5=1,bS.exports=Rxe()),bS.exports}var R5;function Dxe(){if(R5)return vS;R5=1;var t=bp(),e=kxe();function n(u,p){return u===p&&(u!==0||1/u===1/p)||u!==u&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,c=t.useMemo,d=t.useDebugValue;return vS.useSyncExternalStoreWithSelector=function(u,p,x,w,A){var N=a(null);if(N.current===null){var S={hasValue:!1,value:null};N.current=S}else S=N.current;N=c(function(){function j(Z){if(!D){if(D=!0,P=Z,Z=w(Z),A!==void 0&&S.hasValue){var F=S.value;if(A(F,Z))return V=F}return V=Z}if(F=V,r(P,Z))return F;var U=w(Z);return A!==void 0&&A(F,U)?(P=Z,F):(P=Z,V=U)}var D=!1,P,V,K=x===void 0?null:x;return[function(){return j(p())},K===null?void 0:function(){return j(K())}]},[p,x,w,A]);var I=i(u,N[0],N[1]);return s(function(){S.hasValue=!0,S.value=I},[I]),d(I),I},vS}var k5;function Pxe(){return k5||(k5=1,yS.exports=Dxe()),yS.exports}var jxe=Pxe(),UI=R.createContext(null),Lxe=t=>t,ti=()=>{var t=R.useContext(UI);return t?t.store.dispatch:Lxe},xv=()=>{},Fxe=()=>xv,Bxe=(t,e)=>t===e;function zt(t){var e=R.useContext(UI),n=R.useMemo(()=>e?r=>{if(r!=null)return t(r)}:xv,[e,t]);return jxe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Fxe,e?e.store.getState:xv,e?e.store.getState:xv,n,Bxe)}function Uxe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function zxe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Vxe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var D5=t=>Array.isArray(t)?t:[t];function Hxe(t){const e=Array.isArray(t[0])?t[0]:t;return Vxe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Wxe(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Gxe=class{constructor(t){this.value=t}deref(){return this.value}},qxe=typeof WeakRef<"u"?WeakRef:Gxe,Yxe=0,P5=1;function Sy(){return{s:Yxe,v:void 0,o:null,p:null}}function FW(t,e={}){let n=Sy();const{resultEqualityCheck:r}=e;let i,a=0;function s(){let c=n;const{length:d}=arguments;for(let x=0,w=d;x<w;x++){const A=arguments[x];if(typeof A=="function"||typeof A=="object"&&A!==null){let N=c.o;N===null&&(c.o=N=new WeakMap);const S=N.get(A);S===void 0?(c=Sy(),N.set(A,c)):c=S}else{let N=c.p;N===null&&(c.p=N=new Map);const S=N.get(A);S===void 0?(c=Sy(),N.set(A,c)):c=S}}const u=c;let p;if(c.s===P5)p=c.v;else if(p=t.apply(null,arguments),a++,r){const x=i?.deref?.()??i;x!=null&&r(x,p)&&(p=x,a!==0&&a--),i=typeof p=="object"&&p!==null||typeof p=="function"?new qxe(p):p}return u.s=P5,u.v=p,p}return s.clearCache=()=>{n=Sy(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function $xe(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,c,d={},u=i.pop();typeof u=="object"&&(d=u,u=i.pop()),Uxe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const p={...n,...d},{memoize:x,memoizeOptions:w=[],argsMemoize:A=FW,argsMemoizeOptions:N=[]}=p,S=D5(w),I=D5(N),j=Hxe(i),D=x(function(){return a++,u.apply(null,arguments)},...S),P=A(function(){s++;const K=Wxe(j,arguments);return c=D.apply(null,K),c},...I);return Object.assign(P,{resultFunc:u,memoizedResultFunc:D,dependencies:j,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:x,argsMemoize:A})};return Object.assign(r,{withTypes:()=>r}),r}var Fe=$xe(FW),Kxe=Object.assign((t,e=Fe)=>{zxe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,c,d)=>(s[n[d]]=c,s),{}))},{withTypes:()=>Kxe}),ES={},_S={},AS={},j5;function Xxe(){return j5||(j5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),c=e(i);if(s===c&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?c-s:s-c}return 0};t.compareValues=n})(AS)),AS}var SS={},TS={},L5;function BW(){return L5||(L5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(TS)),TS}var F5;function Qxe(){return F5||(F5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BW(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(SS)),SS}var B5;function Zxe(){return B5||(B5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xxe(),n=Qxe(),r=PI();function i(a,s,c,d){if(a==null)return[];c=d?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(A=>String(A));const u=(A,N)=>{let S=A;for(let I=0;I<N.length&&S!=null;++I)S=S[N[I]];return S},p=(A,N)=>N==null||A==null?N:typeof A=="object"&&"key"in A?Object.hasOwn(N,A.key)?N[A.key]:u(N,A.path):typeof A=="function"?A(N):Array.isArray(A)?u(N,A):typeof N=="object"?N[A]:N,x=s.map(A=>(Array.isArray(A)&&A.length===1&&(A=A[0]),A==null||typeof A=="function"||Array.isArray(A)||n.isKey(A)?A:{key:A,path:r.toPath(A)}));return a.map(A=>({original:A,criteria:x.map(N=>p(N,A))})).slice().sort((A,N)=>{for(let S=0;S<x.length;S++){const I=e.compareValues(A.criteria[S],N.criteria[S],c[S]);if(I!==0)return I}return 0}).map(A=>A.original)}t.orderBy=i})(_S)),_S}var CS={},U5;function Jxe(){return U5||(U5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(c,d)=>{for(let u=0;u<c.length;u++){const p=c[u];Array.isArray(p)&&d<a?s(p,d+1):i.push(p)}};return s(n,0),i}t.flatten=e})(CS)),CS}var IS={},z5;function UW(){return z5||(z5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LW(),n=FI(),r=MW(),i=kW();function a(s,c,d){return r.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&e.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.isEqualsSameValueZero(d[c],s):!1}t.isIterateeCall=a})(IS)),IS}var V5;function eye(){return V5||(V5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zxe(),n=Jxe(),r=UW();function i(a,...s){const c=s.length;return c>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:c>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})(ES)),ES}var NS,H5;function tye(){return H5||(H5=1,NS=eye().sortBy),NS}var nye=tye();const aw=_u(nye);var zW=t=>t.legend.settings,rye=t=>t.legend.size,iye=t=>t.legend.payload;Fe([iye,zW],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?aw(r,n):r});var Ty=1;function aye(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=R.useState({height:0,left:0,top:0,width:0}),r=R.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>Ty||Math.abs(s.left-e.left)>Ty||Math.abs(s.top-e.top)>Ty||Math.abs(s.width-e.width)>Ty)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Ma(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var sye=typeof Symbol=="function"&&Symbol.observable||"@@observable",W5=sye,OS=()=>Math.random().toString(36).substring(7).split("").join("."),oye={INIT:`@@redux/INIT${OS()}`,REPLACE:`@@redux/REPLACE${OS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${OS()}`},d2=oye;function zI(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function VW(t,e,n){if(typeof t!="function")throw new Error(Ma(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ma(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ma(1));return n(VW)(t,e)}let r=t,i=e,a=new Map,s=a,c=0,d=!1;function u(){s===a&&(s=new Map,a.forEach((I,j)=>{s.set(j,I)}))}function p(){if(d)throw new Error(Ma(3));return i}function x(I){if(typeof I!="function")throw new Error(Ma(4));if(d)throw new Error(Ma(5));let j=!0;u();const D=c++;return s.set(D,I),function(){if(j){if(d)throw new Error(Ma(6));j=!1,u(),s.delete(D),a=null}}}function w(I){if(!zI(I))throw new Error(Ma(7));if(typeof I.type>"u")throw new Error(Ma(8));if(typeof I.type!="string")throw new Error(Ma(17));if(d)throw new Error(Ma(9));try{d=!0,i=r(i,I)}finally{d=!1}return(a=s).forEach(D=>{D()}),I}function A(I){if(typeof I!="function")throw new Error(Ma(10));r=I,w({type:d2.REPLACE})}function N(){const I=x;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(Ma(11));function D(){const V=j;V.next&&V.next(p())}return D(),{unsubscribe:I(D)}},[W5](){return this}}}return w({type:d2.INIT}),{dispatch:w,subscribe:x,getState:p,replaceReducer:A,[W5]:N}}function lye(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:d2.INIT})>"u")throw new Error(Ma(12));if(typeof n(void 0,{type:d2.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ma(13))})}function HW(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{lye(n)}catch(a){i=a}return function(s={},c){if(i)throw i;let d=!1;const u={};for(let p=0;p<r.length;p++){const x=r[p],w=n[x],A=s[x],N=w(A,c);if(typeof N>"u")throw c&&c.type,new Error(Ma(14));u[x]=N,d=d||N!==A}return d=d||r.length!==Object.keys(s).length,d?u:s}}function h2(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function cye(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Ma(15))};const s={getState:i.getState,dispatch:(d,...u)=>a(d,...u)},c=t.map(d=>d(s));return a=h2(...c)(i.dispatch),{...i,dispatch:a}}}function WW(t){return zI(t)&&"type"in t&&typeof t.type=="string"}var GW=Symbol.for("immer-nothing"),G5=Symbol.for("immer-draftable"),As=Symbol.for("immer-state");function gl(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var xo=Object,dp=xo.getPrototypeOf,p2="constructor",sw="prototype",LC="configurable",m2="enumerable",yv="writable",$g="value",pu=t=>!!t&&!!t[As];function Ol(t){return t?qW(t)||lw(t)||!!t[G5]||!!t[p2]?.[G5]||cw(t)||uw(t):!1}var uye=xo[sw][p2].toString(),q5=new WeakMap;function qW(t){if(!t||!VI(t))return!1;const e=dp(t);if(e===null||e===xo[sw])return!0;const n=xo.hasOwnProperty.call(e,p2)&&e[p2];if(n===Object)return!0;if(!S0(n))return!1;let r=q5.get(n);return r===void 0&&(r=Function.toString.call(n),q5.set(n,r)),r===uye}function ow(t,e,n=!0){j1(t)===0?(n?Reflect.ownKeys(t):xo.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function j1(t){const e=t[As];return e?e.type_:lw(t)?1:cw(t)?2:uw(t)?3:0}var Y5=(t,e,n=j1(t))=>n===2?t.has(e):xo[sw].hasOwnProperty.call(t,e),FC=(t,e,n=j1(t))=>n===2?t.get(e):t[e],g2=(t,e,n,r=j1(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function fye(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var lw=Array.isArray,cw=t=>t instanceof Map,uw=t=>t instanceof Set,VI=t=>typeof t=="object",S0=t=>typeof t=="function",MS=t=>typeof t=="boolean";function dye(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Yc=t=>t.copy_||t.base_,HI=t=>t.modified_?t.copy_:t.base_;function BC(t,e){if(cw(t))return new Map(t);if(uw(t))return new Set(t);if(lw(t))return Array[sw].slice.call(t);const n=qW(t);if(e===!0||e==="class_only"&&!n){const r=xo.getOwnPropertyDescriptors(t);delete r[As];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],c=r[s];c[yv]===!1&&(c[yv]=!0,c[LC]=!0),(c.get||c.set)&&(r[s]={[LC]:!0,[yv]:!0,[m2]:c[m2],[$g]:t[s]})}return xo.create(dp(t),r)}else{const r=dp(t);if(r!==null&&n)return{...t};const i=xo.create(r);return xo.assign(i,t)}}function WI(t,e=!1){return fw(t)||pu(t)||!Ol(t)||(j1(t)>1&&xo.defineProperties(t,{set:Cy,add:Cy,clear:Cy,delete:Cy}),xo.freeze(t),e&&ow(t,(n,r)=>{WI(r,!0)},!1)),t}function hye(){gl(2)}var Cy={[$g]:hye};function fw(t){return t===null||!VI(t)?!0:xo.isFrozen(t)}var x2="MapSet",UC="Patches",$5="ArrayMethods",YW={};function uh(t){const e=YW[t];return e||gl(0,t),e}var K5=t=>!!YW[t],Kg,$W=()=>Kg,pye=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:K5(x2)?uh(x2):void 0,arrayMethodsPlugin_:K5($5)?uh($5):void 0});function X5(t,e){e&&(t.patchPlugin_=uh(UC),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function zC(t){VC(t),t.drafts_.forEach(mye),t.drafts_=null}function VC(t){t===Kg&&(Kg=t.parent_)}var Q5=t=>Kg=pye(Kg,t);function mye(t){const e=t[As];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Z5(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[As].modified_&&(zC(e),gl(4)),Ol(t)&&(t=J5(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[As].base_,t,e)}else t=J5(e,n);return gye(e,t,!0),zC(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==GW?t:void 0}function J5(t,e){if(fw(e))return e;const n=e[As];if(!n)return y2(e,t.handledSet_,t);if(!dw(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);QW(n,t)}return n.copy_}function gye(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&WI(e,n)}function KW(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var dw=(t,e)=>t.scope_===e,xye=[];function XW(t,e,n,r){const i=Yc(t),a=t.type_;if(r!==void 0&&FC(i,r,a)===e){g2(i,r,n,a);return}if(!t.draftLocations_){const c=t.draftLocations_=new Map;ow(i,(d,u)=>{if(pu(u)){const p=c.get(u)||[];p.push(d),c.set(u,p)}})}const s=t.draftLocations_.get(e)??xye;for(const c of s)g2(i,c,n,a)}function yye(t,e,n){t.callbacks_.push(function(i){const a=e;if(!a||!dw(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const s=HI(a);XW(t,a.draft_??a,s,n),QW(a,i)})}function QW(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}KW(t)}}function vye(t,e,n){const{scope_:r}=t;if(pu(n)){const i=n[As];dw(i,r)&&i.callbacks_.push(function(){vv(t);const s=HI(i);XW(t,n,s,e)})}else Ol(n)&&t.callbacks_.push(function(){const a=Yc(t);t.type_===3?a.has(n)&&y2(n,r.handledSet_,r):FC(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&y2(FC(t.copy_,e,t.type_),r.handledSet_,r)})}function y2(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||pu(t)||e.has(t)||!Ol(t)||fw(t)||(e.add(t),ow(t,(r,i)=>{if(pu(i)){const a=i[As];if(dw(a,n)){const s=HI(a);g2(t,r,s,t.type_),KW(a)}}else Ol(i)&&y2(i,e,n)})),t}function bye(t,e){const n=lw(t),r={type_:n?1:0,scope_:e?e.scope_:$W(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=v2;n&&(i=[r],a=Xg);const{revoke:s,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=s,[c,r]}var v2={get(t,e){if(e===As)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=Yc(t);if(!Y5(i,e,t.type_))return wye(t,i,e);const a=i[e];if(t.finalized_||!Ol(a)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&dye(e))return a;if(a===RS(t.base_,e)){vv(t);const s=t.type_===1?+e:e,c=WC(t.scope_,a,t,s);return t.copy_[s]=c}return a},has(t,e){return e in Yc(t)},ownKeys(t){return Reflect.ownKeys(Yc(t))},set(t,e,n){const r=ZW(Yc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=RS(Yc(t),e),a=i?.[As];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(fye(n,i)&&(n!==void 0||Y5(t.base_,e,t.type_)))return!0;vv(t),HC(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),vye(t,e,n)),!0},deleteProperty(t,e){return vv(t),RS(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),HC(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Yc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[yv]:!0,[LC]:t.type_!==1||e!=="length",[m2]:r[m2],[$g]:n[e]}},defineProperty(){gl(11)},getPrototypeOf(t){return dp(t.base_)},setPrototypeOf(){gl(12)}},Xg={};for(let t in v2){let e=v2[t];Xg[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Xg.deleteProperty=function(t,e){return Xg.set.call(this,t,e,void 0)};Xg.set=function(t,e,n){return v2.set.call(this,t[0],e,n,t[0])};function RS(t,e){const n=t[As];return(n?Yc(n):t)[e]}function wye(t,e,n){const r=ZW(e,n);return r?$g in r?r[$g]:r.get?.call(t.draft_):void 0}function ZW(t,e){if(!(e in t))return;let n=dp(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=dp(n)}}function HC(t){t.modified_||(t.modified_=!0,t.parent_&&HC(t.parent_))}function vv(t){t.copy_||(t.assigned_=new Map,t.copy_=BC(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Eye=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(S0(n)&&!S0(r)){const s=r;r=n;const c=this;return function(u=s,...p){return c.produce(u,x=>r.call(this,x,...p))}}S0(r)||gl(6),i!==void 0&&!S0(i)&&gl(7);let a;if(Ol(n)){const s=Q5(this),c=WC(s,n,void 0);let d=!0;try{a=r(c),d=!1}finally{d?zC(s):VC(s)}return X5(s,i),Z5(a,s)}else if(!n||!VI(n)){if(a=r(n),a===void 0&&(a=n),a===GW&&(a=void 0),this.autoFreeze_&&WI(a,!0),i){const s=[],c=[];uh(UC).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:c}),i(s,c)}return a}else gl(1,n)},this.produceWithPatches=(n,r)=>{if(S0(n))return(c,...d)=>this.produceWithPatches(c,u=>n(u,...d));let i,a;return[this.produce(n,r,(c,d)=>{i=c,a=d}),i,a]},MS(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),MS(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),MS(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ol(e)||gl(8),pu(e)&&(e=_l(e));const n=Q5(this),r=WC(n,e,void 0);return r[As].isManual_=!0,VC(n),r}finishDraft(e,n){const r=e&&e[As];(!r||!r.isManual_)&&gl(9);const{scope_:i}=r;return X5(i,n),Z5(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=uh(UC).applyPatches_;return pu(e)?i(e,n):this.produce(e,a=>i(a,n))}};function WC(t,e,n,r){const[i,a]=cw(e)?uh(x2).proxyMap_(e,n):uw(e)?uh(x2).proxySet_(e,n):bye(e,n);return(n?.scope_??$W()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?yye(n,a,r):a.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:u}=d;a.modified_&&u&&u.generatePatches_(a,[],d)}),i}function _l(t){return pu(t)||gl(10,t),JW(t)}function JW(t){if(!Ol(t)||fw(t))return t;const e=t[As];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=BC(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=BC(t,!0);return ow(n,(i,a)=>{g2(n,i,JW(a))},r),e&&(e.finalized_=!1),n}var _ye=new Eye,eG=_ye.produce;function tG(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var Aye=tG(),Sye=tG,Tye=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?h2:h2.apply(null,arguments)};function Zo(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(vo(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>WW(r)&&r.type===t,n}var nG=class ig extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ig.prototype)}static get[Symbol.species](){return ig}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ig(...e[0].concat(this)):new ig(...e.concat(this))}};function ej(t){return Ol(t)?eG(t,()=>{}):t}function Iy(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Cye(t){return typeof t=="boolean"}var Iye=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new nG;return n&&(Cye(n)?s.push(Aye):s.push(Sye(n.extraArgument))),s},rG="RTK_autoBatch",Qr=()=>t=>({payload:t,meta:{[rG]:!0}}),tj=t=>e=>{setTimeout(e,t)},iG=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const c=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:tj(10):t.type==="callback"?t.queueNotification:tj(t.timeout),u=()=>{s=!1,a&&(a=!1,c.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const x=()=>i&&p(),w=r.subscribe(x);return c.add(p),()=>{w(),c.delete(p)}},dispatch(p){try{return i=!p?.meta?.[rG],a=!i,a&&(s||(s=!0,d(u))),r.dispatch(p)}finally{i=!0}}})},Nye=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new nG(t);return r&&i.push(iG(typeof r=="object"?r:void 0)),i};function Oye(t){const e=Iye(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(zI(n))c=HW(n);else throw new Error(vo(1));let d;typeof r=="function"?d=r(e):d=e();let u=h2;i&&(u=Tye({trace:!1,...typeof i=="object"&&i}));const p=cye(...d),x=Nye(p);let w=typeof s=="function"?s(x):x();const A=u(...w);return VW(c,a,A)}function aG(t){const e={},n=[];let r;const i={addCase(a,s){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(vo(28));if(c in e)throw new Error(vo(29));return e[c]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function Mye(t){return typeof t=="function"}function Rye(t,e){let[n,r,i]=aG(e),a;if(Mye(t))a=()=>ej(t());else{const c=ej(t);a=()=>c}function s(c=a(),d){let u=[n[d.type],...r.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return u.filter(p=>!!p).length===0&&(u=[i]),u.reduce((p,x)=>{if(x)if(pu(p)){const A=x(p,d);return A===void 0?p:A}else{if(Ol(p))return eG(p,w=>x(w,d));{const w=x(p,d);if(w===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return p},c)}return s.getInitialState=a,s}var kye="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Dye=(t=21)=>{let e="",n=t;for(;n--;)e+=kye[Math.random()*64|0];return e},Pye=Symbol.for("rtk-slice-createasyncthunk");function jye(t,e){return`${t}/${e}`}function Lye({creators:t}={}){const e=t?.asyncThunk?.[Pye];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(vo(11));const s=(typeof r.reducers=="function"?r.reducers(Bye()):r.reducers)||{},c=Object.keys(s),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(P,V){const K=typeof P=="string"?P:P.type;if(!K)throw new Error(vo(12));if(K in d.sliceCaseReducersByType)throw new Error(vo(13));return d.sliceCaseReducersByType[K]=V,u},addMatcher(P,V){return d.sliceMatchers.push({matcher:P,reducer:V}),u},exposeAction(P,V){return d.actionCreators[P]=V,u},exposeCaseReducer(P,V){return d.sliceCaseReducersByName[P]=V,u}};c.forEach(P=>{const V=s[P],K={reducerName:P,type:jye(i,P),createNotation:typeof r.reducers=="function"};zye(V)?Hye(K,V,u,e):Uye(K,V,u)});function p(){const[P={},V=[],K=void 0]=typeof r.extraReducers=="function"?aG(r.extraReducers):[r.extraReducers],Z={...P,...d.sliceCaseReducersByType};return Rye(r.initialState,F=>{for(let U in Z)F.addCase(U,Z[U]);for(let U of d.sliceMatchers)F.addMatcher(U.matcher,U.reducer);for(let U of V)F.addMatcher(U.matcher,U.reducer);K&&F.addDefaultCase(K)})}const x=P=>P,w=new Map,A=new WeakMap;let N;function S(P,V){return N||(N=p()),N(P,V)}function I(){return N||(N=p()),N.getInitialState()}function j(P,V=!1){function K(F){let U=F[P];return typeof U>"u"&&V&&(U=Iy(A,K,I)),U}function Z(F=x){const U=Iy(w,V,()=>new WeakMap);return Iy(U,F,()=>{const B={};for(const[J,H]of Object.entries(r.selectors??{}))B[J]=Fye(H,F,()=>Iy(A,F,I),V);return B})}return{reducerPath:P,getSelectors:Z,get selectors(){return Z(K)},selectSlice:K}}const D={name:i,reducer:S,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:I,...j(a),injectInto(P,{reducerPath:V,...K}={}){const Z=V??a;return P.inject({reducerPath:Z,reducer:S},K),{...D,...j(Z,!0)}}};return D}}function Fye(t,e,n,r){function i(a,...s){let c=e(a);return typeof c>"u"&&r&&(c=n()),t(c,...s)}return i.unwrapped=t,i}var Ws=Lye();function Bye(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Uye({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!Vye(r))throw new Error(vo(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?Zo(t,s):Zo(t))}function zye(t){return t._reducerDefinitionType==="asyncThunk"}function Vye(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Hye({type:t,reducerName:e},n,r,i){if(!i)throw new Error(vo(18));const{payloadCreator:a,fulfilled:s,pending:c,rejected:d,settled:u,options:p}=n,x=i(t,a,p);r.exposeAction(e,x),s&&r.addCase(x.fulfilled,s),c&&r.addCase(x.pending,c),d&&r.addCase(x.rejected,d),u&&r.addMatcher(x.settled,u),r.exposeCaseReducer(e,{fulfilled:s||Ny,pending:c||Ny,rejected:d||Ny,settled:u||Ny})}function Ny(){}var Wye="task",sG="listener",oG="completed",GI="cancelled",Gye=`task-${GI}`,qye=`task-${oG}`,GC=`${sG}-${GI}`,Yye=`${sG}-${oG}`,hw=class{constructor(t){this.code=t,this.message=`${Wye} ${GI} (reason: ${t})`}name="TaskAbortError";message},qI=(t,e)=>{if(typeof t!="function")throw new TypeError(vo(32))},b2=()=>{},lG=(t,e=b2)=>(t.catch(e),t),cG=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),qd=t=>{if(t.aborted)throw new hw(t.reason)};function uG(t,e){let n=b2;return new Promise((r,i)=>{const a=()=>i(new hw(t.reason));if(t.aborted){a();return}n=cG(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=b2})}var $ye=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof hw?"cancelled":"rejected",error:n}}finally{e?.()}},w2=t=>e=>lG(uG(t,e).then(n=>(qd(t),n))),fG=t=>{const e=w2(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:K0}=Object,nj={},pw="listenerMiddleware",Kye=(t,e)=>{const n=r=>cG(t,()=>r.abort(t.reason));return(r,i)=>{qI(r);const a=new AbortController;n(a);const s=$ye(async()=>{qd(t),qd(a.signal);const c=await r({pause:w2(a.signal),delay:fG(a.signal),signal:a.signal});return qd(a.signal),c},()=>a.abort(qye));return i?.autoJoin&&e.push(s.catch(b2)),{result:w2(t)(s),cancel(){a.abort(Gye)}}}},Xye=(t,e)=>{const n=async(r,i)=>{qd(e);let a=()=>{};const c=[new Promise((d,u)=>{let p=t({predicate:r,effect:(x,w)=>{w.unsubscribe(),d([x,w.getState(),w.getOriginalState()])}});a=()=>{p(),u()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await uG(e,Promise.race(c));return qd(e),d}finally{a()}};return(r,i)=>lG(n(r,i))},dG=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Zo(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(vo(21));return qI(a),{predicate:i,type:e,effect:a}},hG=K0(t=>{const{type:e,predicate:n,effect:r}=dG(t);return{id:Dye(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(vo(22))}}},{withTypes:()=>hG}),rj=(t,e)=>{const{type:n,effect:r,predicate:i}=dG(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},qC=t=>{t.pending.forEach(e=>{e.abort(GC)})},Qye=(t,e)=>()=>{for(const n of e.keys())qC(n);t.clear()},ij=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},pG=K0(Zo(`${pw}/add`),{withTypes:()=>pG}),Zye=Zo(`${pw}/removeAll`),mG=K0(Zo(`${pw}/remove`),{withTypes:()=>mG}),Jye=(...t)=>{console.error(`${pw}/error`,...t)},L1=(t={})=>{const e=new Map,n=new Map,r=A=>{const N=n.get(A)??0;n.set(A,N+1)},i=A=>{const N=n.get(A)??1;N===1?n.delete(A):n.set(A,N-1)},{extra:a,onError:s=Jye}=t;qI(s);const c=A=>(A.unsubscribe=()=>e.delete(A.id),e.set(A.id,A),N=>{A.unsubscribe(),N?.cancelActive&&qC(A)}),d=A=>{const N=rj(e,A)??hG(A);return c(N)};K0(d,{withTypes:()=>d});const u=A=>{const N=rj(e,A);return N&&(N.unsubscribe(),A.cancelActive&&qC(N)),!!N};K0(u,{withTypes:()=>u});const p=async(A,N,S,I)=>{const j=new AbortController,D=Xye(d,j.signal),P=[];try{A.pending.add(j),r(A),await Promise.resolve(A.effect(N,K0({},S,{getOriginalState:I,condition:(V,K)=>D(V,K).then(Boolean),take:D,delay:fG(j.signal),pause:w2(j.signal),extra:a,signal:j.signal,fork:Kye(j.signal,P),unsubscribe:A.unsubscribe,subscribe:()=>{e.set(A.id,A)},cancelActiveListeners:()=>{A.pending.forEach((V,K,Z)=>{V!==j&&(V.abort(GC),Z.delete(V))})},cancel:()=>{j.abort(GC),A.pending.delete(j)},throwIfCancelled:()=>{qd(j.signal)}})))}catch(V){V instanceof hw||ij(s,V,{raisedBy:"effect"})}finally{await Promise.all(P),j.abort(Yye),i(A),A.pending.delete(j)}},x=Qye(e,n);return{middleware:A=>N=>S=>{if(!WW(S))return N(S);if(pG.match(S))return d(S.payload);if(Zye.match(S)){x();return}if(mG.match(S))return u(S.payload);let I=A.getState();const j=()=>{if(I===nj)throw new Error(vo(23));return I};let D;try{if(D=N(S),e.size>0){const P=A.getState(),V=Array.from(e.values());for(const K of V){let Z=!1;try{Z=K.predicate(S,P,I)}catch(F){Z=!1,ij(s,F,{raisedBy:"predicate"})}Z&&p(K,S,A,j)}}}finally{I=nj}return D},startListening:d,stopListening:u,clearListeners:x}};function vo(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var eve={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},gG=Ws({name:"chartLayout",initialState:eve,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:tve,setLayout:nve,setChartSize:rve,setScale:ive}=gG.actions,ave=gG.reducer;function xG(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Sn(t){return Number.isFinite(t)}function pc(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function aj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aj(Object(n),!0).forEach(function(r){sve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sve(t,e,n){return(e=ove(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ove(t){var e=lve(t,"string");return typeof e=="symbol"?e:e+""}function lve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Er(t,e,n){return Si(t)||Si(e)?n:hc(e)?lh(t,e,n):typeof e=="function"?e(t):n}var cve=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:c}=e;if((c==="vertical"||c==="horizontal"&&s==="middle")&&a!=="center"&&Mt(t[a]))return D0(D0({},t),{},{[a]:t[a]+(r||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&s!=="middle"&&Mt(t[s]))return D0(D0({},t),{},{[s]:t[s]+(i||0)})}return t},xc=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",yG=(t,e,n,r)=>{if(r)return t.map(c=>c.coordinate);var i,a,s=t.map(c=>(c.coordinate===e&&(i=!0),c.coordinate===n&&(a=!0),c.coordinate));return i||s.push(e),a||s.push(n),s},vG=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:c,isCategorical:d,categoricalDomain:u,tickCount:p,ticks:x,niceTicks:w,axisType:A}=t;if(!s)return null;var N=c==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,S=i==="category"&&s.bandwidth?s.bandwidth()/N:0;if(S=A==="angleAxis"&&a&&a.length>=2?ma(a[0]-a[1])*2*S:S,x||w){var I=(x||w||[]).map((j,D)=>{var P=r?r.indexOf(j):j,V=s.map(P);return Sn(V)?{coordinate:V+S,value:j,offset:S,index:D}:null}).filter(Ls);return I}return d&&u?u.map((j,D)=>{var P=s.map(j);return Sn(P)?{coordinate:P+S,value:j,index:D,offset:S}:null}).filter(Ls):s.ticks&&p!=null?s.ticks(p).map((j,D)=>{var P=s.map(j);return Sn(P)?{coordinate:P+S,value:j,index:D,offset:S}:null}).filter(Ls):s.domain().map((j,D)=>{var P=s.map(j);return Sn(P)?{coordinate:P+S,value:r?r[j]:j,index:D,offset:S}:null}).filter(Ls)},uve=(t,e)=>{if(!e||e.length!==2||!Mt(e[0])||!Mt(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Mt(t[0])||t[0]<n)&&(i[0]=n),(!Mt(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},fve=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,c=0;c<n;++c){var d=t[c],u=d?.[i];if(u!=null){var p=u[1],x=u[0],w=Nl(p)?x:p;w>=0?(u[0]=a,a+=w,u[1]=a):(u[0]=s,s+=w,u[1]=s)}}}},dve=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var c=t[s],d=c?.[i];if(d!=null){var u=Nl(d[1])?d[0]:d[1];u>=0?(d[0]=a,a+=u,d[1]=a):(d[0]=0,d[1]=0)}}}},hve={sign:fve,expand:z1e,none:oh,silhouette:V1e,wiggle:H1e,positive:dve},pve=(t,e,n)=>{var r,i=(r=hve[n])!==null&&r!==void 0?r:oh,a=U1e().keys(e).value((c,d)=>Number(Er(c,d,0))).order(PC).offset(i),s=a(t);return s.forEach((c,d)=>{c.forEach((u,p)=>{var x=Er(t[p],e[d],0);Array.isArray(x)&&x.length===2&&Mt(x[0])&&Mt(x[1])&&(u[0]=x[0],u[1]=x[1])})}),s};function bG(t){return t==null?void 0:String(t)}function sj(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Si(i[e.dataKey])){var c=TW(n,"value",i[e.dataKey]);if(c)return c.coordinate+r/2}return n!=null&&n[a]?n[a].coordinate+r/2:null}var d=Er(i,Si(s)?e.dataKey:s),u=e.scale.map(d);return Mt(u)?u:null}var oj=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:s}=t;if(e.type==="category")return n[s]?n[s].coordinate+r:null;var c=Er(a,e.dataKey,e.scale.domain()[s]);if(Si(c))return null;var d=e.scale.map(c);return Mt(d)?d-i/2+r:null},mve=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},gve=t=>{var e=t.flat(2).filter(Mt);return[Math.min(...e),Math.max(...e)]},xve=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],yve=(t,e,n)=>{if(t!=null)return xve(Object.keys(t).reduce((r,i)=>{var a=t[i];if(!a)return r;var{stackedData:s}=a,c=s.reduce((d,u)=>{var p=xG(u,e,n),x=gve(p);return!Sn(x[0])||!Sn(x[1])?d:[Math.min(d[0],x[0]),Math.max(d[1],x[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},lj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hp=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=aw(e,p=>p.coordinate),a=1/0,s=1,c=i.length;s<c;s++){var d=i[s],u=i[s-1];a=Math.min((d?.coordinate||0)-(u?.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function uj(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return D0(D0({},e),{},{dataKey:n,payload:r,value:i,name:a})}function Fp(t,e){if(t)return String(t);if(typeof e=="string")return e}var vve=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},bve=(t,e)=>e==="centric"?t.angle:t.radius,Su=t=>t.layout.width,Tu=t=>t.layout.height,wve=t=>t.layout.scale,wG=t=>t.layout.margin,mw=Fe(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),gw=Fe(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),EG="data-recharts-item-index",_G="data-recharts-item-id",F1=60;function fj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fj(Object(n),!0).forEach(function(r){Eve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eve(t,e,n){return(e=_ve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ve(t){var e=Ave(t,"string");return typeof e=="symbol"?e:e+""}function Ave(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sve=t=>t.brush.height;function Tve(t){var e=gw(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:F1;return n+i}return n},0)}function Cve(t){var e=gw(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:F1;return n+i}return n},0)}function Ive(t){var e=mw(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Nve(t){var e=mw(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ra=Fe([Su,Tu,wG,Sve,Tve,Cve,Ive,Nve,zW,rye],(t,e,n,r,i,a,s,c,d,u)=>{var p={left:(n.left||0)+i,right:(n.right||0)+a},x={top:(n.top||0)+s,bottom:(n.bottom||0)+c},w=Oy(Oy({},x),p),A=w.bottom;w.bottom+=r,w=cve(w,d,u);var N=t-w.left-w.right,S=e-w.top-w.bottom;return Oy(Oy({brushBottom:A},w),{},{width:Math.max(N,0),height:Math.max(S,0)})}),Ove=Fe(ra,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),YI=Fe(Su,Tu,(t,e)=>({x:0,y:0,width:t,height:e})),Mve=R.createContext(null),os=()=>R.useContext(Mve)!=null,xw=t=>t.brush,yw=Fe([xw,ra,wG],(t,e,n)=>({height:t.height,x:Mt(t.x)?t.x:e.left,y:Mt(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Mt(t.width)?t.width:e.width})),kS={},DS={},PS={},dj;function Rve(){return dj||(dj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,c=null;const d=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),p=()=>{c!==null&&(n.apply(s,c),s=void 0,c=null)},x=()=>{u&&p(),S()};let w=null;const A=()=>{w!=null&&clearTimeout(w),w=setTimeout(()=>{w=null,x()},r)},N=()=>{w!==null&&(clearTimeout(w),w=null)},S=()=>{N(),s=void 0,c=null},I=()=>{p()},j=function(...D){if(i?.aborted)return;s=this,c=D;const P=w==null;A(),d&&P&&p()};return j.schedule=A,j.cancel=S,j.flush=I,i?.addEventListener("abort",S,{once:!0}),j}t.debounce=e})(PS)),PS}var hj;function kve(){return hj||(hj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rve();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:c=!0,maxWait:d}=a,u=Array(2);s&&(u[0]="leading"),c&&(u[1]="trailing");let p,x=null;const w=e.debounce(function(...S){p=r.apply(this,S),x=null},i,{edges:u}),A=function(...S){return d!=null&&(x===null&&(x=Date.now()),Date.now()-x>=d)?(p=r.apply(this,S),x=Date.now(),w.cancel(),w.schedule(),p):(w.apply(this,S),p)},N=()=>(w.flush(),p);return A.cancel=w.cancel,A.flush=N,A}t.debounce=n})(DS)),DS}var pj;function Dve(){return pj||(pj=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kve();function n(r,i=0,a={}){const{leading:s=!0,trailing:c=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:c})}t.throttle=n})(kS)),kS}var jS,mj;function Pve(){return mj||(mj=1,jS=Dve().throttle),jS}var jve=Pve();const Lve=_u(jve);var E2=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},Xl={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},AG=(t,e,n)=>{var{width:r=Xl.width,height:i=Xl.height,aspect:a,maxHeight:s}=n,c=ch(r)?t:Number(r),d=ch(i)?e:Number(i);return a&&a>0&&(c?d=c/a:d&&(c=d*a),s&&d!=null&&d>s&&(d=s)),{calculatedWidth:c,calculatedHeight:d}},Fve={width:0,height:0,overflow:"visible"},Bve={width:0,overflowX:"visible"},Uve={height:0,overflowY:"visible"},zve={},Vve=t=>{var{width:e,height:n}=t,r=ch(e),i=ch(n);return r&&i?Fve:r?Bve:i?Uve:zve};function Hve(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i=Xl.width,a=Xl.height):i===void 0?i=r&&r>0?void 0:Xl.width:a===void 0&&(a=r&&r>0?void 0:Xl.height),{width:i,height:a}}function YC(){return YC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YC.apply(null,arguments)}function gj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(n),!0).forEach(function(r){Wve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wve(t,e,n){return(e=Gve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gve(t){var e=qve(t,"string");return typeof e=="symbol"?e:e+""}function qve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SG=R.createContext(Xl.initialDimension);function Yve(t){return pc(t.width)&&pc(t.height)}function TG(t){var{children:e,width:n,height:r}=t,i=R.useMemo(()=>({width:n,height:r}),[n,r]);return Yve(i)?R.createElement(SG.Provider,{value:i},e):null}var $I=()=>R.useContext(SG),$ve=R.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=Xl.initialDimension,width:i,height:a,minWidth:s=Xl.minWidth,minHeight:c,maxHeight:d,children:u,debounce:p=Xl.debounce,id:x,className:w,onResize:A,style:N={}}=t,S=R.useRef(null),I=R.useRef();I.current=A,R.useImperativeHandle(e,()=>S.current);var[j,D]=R.useState({containerWidth:r.width,containerHeight:r.height}),P=R.useCallback((U,B)=>{D(J=>{var H=Math.round(U),G=Math.round(B);return J.containerWidth===H&&J.containerHeight===G?J:{containerWidth:H,containerHeight:G}})},[]);R.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return Ch;var U=G=>{var q,Ce=G[0];if(Ce!=null){var{width:re,height:ue}=Ce.contentRect;P(re,ue),(q=I.current)===null||q===void 0||q.call(I,re,ue)}};p>0&&(U=Lve(U,p,{trailing:!0,leading:!1}));var B=new ResizeObserver(U),{width:J,height:H}=S.current.getBoundingClientRect();return P(J,H),B.observe(S.current),()=>{B.disconnect()}},[P,p]);var{containerWidth:V,containerHeight:K}=j;E2(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:Z,calculatedHeight:F}=AG(V,K,{width:i,height:a,aspect:n,maxHeight:d});return E2(Z!=null&&Z>0||F!=null&&F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Z,F,i,a,s,c,n),R.createElement("div",{id:x?"".concat(x):void 0,className:tr("recharts-responsive-container",w),style:xj(xj({},N),{},{width:i,height:a,minWidth:s,minHeight:c,maxHeight:d}),ref:S},R.createElement("div",{style:Vve({width:i,height:a})},R.createElement(TG,{width:Z,height:F},u)))}),Qg=R.forwardRef((t,e)=>{var n=$I();if(pc(n.width)&&pc(n.height))return t.children;var{width:r,height:i}=Hve({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=AG(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Mt(a)&&Mt(s)?R.createElement(TG,{width:a,height:s},t.children):R.createElement($ve,YC({},t,{width:r,height:i,ref:e}))});function KI(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var vw=()=>{var t,e=os(),n=zt(Ove),r=zt(yw),i=(t=zt(xw))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Kve={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},CG=()=>{var t;return(t=zt(ra))!==null&&t!==void 0?t:Kve},IG=()=>zt(Su),NG=()=>zt(Tu),Gn=t=>t.layout.layoutType,Ih=()=>zt(Gn),XI=()=>{var t=Ih();if(t==="horizontal"||t==="vertical")return t},OG=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},Xve=()=>{var t=Ih();return t!==void 0},B1=t=>{var e=ti(),n=os(),{width:r,height:i}=t,a=$I(),s=r,c=i;return a&&(s=a.width>0?a.width:r,c=a.height>0?a.height:i),R.useEffect(()=>{!n&&pc(s)&&pc(c)&&e(rve({width:s,height:c}))},[e,n,s,c]),null},MG=Symbol.for("immer-nothing"),yj=Symbol.for("immer-draftable"),bo=Symbol.for("immer-state");function xl(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Zg=Object.getPrototypeOf;function pp(t){return!!t&&!!t[bo]}function fh(t){return t?RG(t)||Array.isArray(t)||!!t[yj]||!!t.constructor?.[yj]||U1(t)||ww(t):!1}var Qve=Object.prototype.constructor.toString(),vj=new WeakMap;function RG(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=vj.get(n);return r===void 0&&(r=Function.toString.call(n),vj.set(n,r)),r===Qve}function _2(t,e,n=!0){bw(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function bw(t){const e=t[bo];return e?e.type_:Array.isArray(t)?1:U1(t)?2:ww(t)?3:0}function $C(t,e){return bw(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function kG(t,e,n){const r=bw(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Zve(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function U1(t){return t instanceof Map}function ww(t){return t instanceof Set}function kd(t){return t.copy_||t.base_}function KC(t,e){if(U1(t))return new Map(t);if(ww(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=RG(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[bo];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],c=r[s];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[s]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[s]})}return Object.create(Zg(t),r)}else{const r=Zg(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function QI(t,e=!1){return Ew(t)||pp(t)||!fh(t)||(bw(t)>1&&Object.defineProperties(t,{set:My,add:My,clear:My,delete:My}),Object.freeze(t),e&&Object.values(t).forEach(n=>QI(n,!0))),t}function Jve(){xl(2)}var My={value:Jve};function Ew(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var e2e={};function dh(t){const e=e2e[t];return e||xl(0,t),e}var Jg;function DG(){return Jg}function t2e(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function bj(t,e){e&&(dh("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function XC(t){QC(t),t.drafts_.forEach(n2e),t.drafts_=null}function QC(t){t===Jg&&(Jg=t.parent_)}function wj(t){return Jg=t2e(Jg,t)}function n2e(t){const e=t[bo];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Ej(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[bo].modified_&&(XC(e),xl(4)),fh(t)&&(t=A2(e,t),e.parent_||S2(e,t)),e.patches_&&dh("Patches").generateReplacementPatches_(n[bo].base_,t,e.patches_,e.inversePatches_)):t=A2(e,n,[]),XC(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==MG?t:void 0}function A2(t,e,n){if(Ew(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[bo];if(!i)return _2(e,(a,s)=>_j(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return S2(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,c=!1;i.type_===3&&(s=new Set(a),a.clear(),c=!0),_2(s,(d,u)=>_j(t,i,a,d,u,n,c),r),S2(t,a,!1),n&&t.patches_&&dh("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function _j(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const c=Ew(i);if(!(c&&!s)){if(pp(i)){const d=a&&e&&e.type_!==3&&!$C(e.assigned_,r)?a.concat(r):void 0,u=A2(t,i,d);if(kG(n,r,u),pp(u))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(fh(i)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&c)return;A2(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(U1(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&S2(t,i)}}}function S2(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&QI(e,n)}function r2e(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:DG(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=ZI;n&&(i=[r],a=e1);const{revoke:s,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=s,c}var ZI={get(t,e){if(e===bo)return t;const n=kd(t);if(!$C(n,e))return i2e(t,n,e);const r=n[e];return t.finalized_||!fh(r)?r:r===LS(t.base_,e)?(FS(t),t.copy_[e]=JC(r,t)):r},has(t,e){return e in kd(t)},ownKeys(t){return Reflect.ownKeys(kd(t))},set(t,e,n){const r=PG(kd(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=LS(kd(t),e),a=i?.[bo];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Zve(n,i)&&(n!==void 0||$C(t.base_,e)))return!0;FS(t),ZC(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return LS(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,FS(t),ZC(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=kd(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){xl(11)},getPrototypeOf(t){return Zg(t.base_)},setPrototypeOf(){xl(12)}},e1={};_2(ZI,(t,e)=>{e1[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});e1.deleteProperty=function(t,e){return e1.set.call(this,t,e,void 0)};e1.set=function(t,e,n){return ZI.set.call(this,t[0],e,n,t[0])};function LS(t,e){const n=t[bo];return(n?kd(n):t)[e]}function i2e(t,e,n){const r=PG(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function PG(t,e){if(!(e in t))return;let n=Zg(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Zg(n)}}function ZC(t){t.modified_||(t.modified_=!0,t.parent_&&ZC(t.parent_))}function FS(t){t.copy_||(t.copy_=KC(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var a2e=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(d=a,...u){return s.produce(d,p=>n.call(this,p,...u))}}typeof n!="function"&&xl(6),r!==void 0&&typeof r!="function"&&xl(7);let i;if(fh(e)){const a=wj(this),s=JC(e,void 0);let c=!0;try{i=n(s),c=!1}finally{c?XC(a):QC(a)}return bj(a,r),Ej(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===MG&&(i=void 0),this.autoFreeze_&&QI(i,!0),r){const a=[],s=[];dh("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else xl(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...c)=>this.produceWithPatches(s,d=>e(d,...c));let r,i;return[this.produce(e,n,(s,c)=>{r=s,i=c}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){fh(t)||xl(8),pp(t)&&(t=s2e(t));const e=wj(this),n=JC(t,void 0);return n[bo].isManual_=!0,QC(e),n}finishDraft(t,e){const n=t&&t[bo];(!n||!n.isManual_)&&xl(9);const{scope_:r}=n;return bj(r,e),Ej(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=dh("Patches").applyPatches_;return pp(t)?r(t,e):this.produce(t,i=>r(i,e))}};function JC(t,e){const n=U1(t)?dh("MapSet").proxyMap_(t,e):ww(t)?dh("MapSet").proxySet_(t,e):r2e(t,e);return(e?e.scope_:DG()).drafts_.push(n),n}function s2e(t){return pp(t)||xl(10,t),jG(t)}function jG(t){if(!fh(t)||Ew(t))return t;const e=t[bo];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=KC(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=KC(t,!0);return _2(n,(i,a)=>{kG(n,i,jG(a))},r),e&&(e.finalized_=!1),n}var o2e=new a2e;o2e.produce;var l2e={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},LG=Ws({name:"legend",initialState:l2e,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Qr()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=_l(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Qr()},removeLegendPayload:{reducer(t,e){var n=_l(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Qr()}}}),{setLegendSize:q9e,setLegendSettings:Y9e,addLegendPayload:FG,replaceLegendPayload:BG,removeLegendPayload:UG}=LG.actions,c2e=LG.reducer;function e4(){return e4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e4.apply(null,arguments)}function Aj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(n),!0).forEach(function(r){u2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u2e(t,e,n){return(e=f2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f2e(t){var e=d2e(t,"string");return typeof e=="symbol"?e:e+""}function d2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h2e(t){return Array.isArray(t)&&hc(t[0])&&hc(t[1])?t.join(" ~ "):t}var h0={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},p2e=t=>{var{separator:e=h0.separator,contentStyle:n,itemStyle:r,labelStyle:i=h0.labelStyle,payload:a,formatter:s,itemSorter:c,wrapperClassName:d,labelClassName:u,label:p,labelFormatter:x,accessibilityLayer:w=h0.accessibilityLayer}=t,A=()=>{if(a&&a.length){var K={padding:0,margin:0},Z=(c?aw(a,c):a).map((F,U)=>{if(F.type==="none")return null;var B=F.formatter||s||h2e,{value:J,name:H}=F,G=J,q=H;if(B){var Ce=B(J,H,F,U,a);if(Array.isArray(Ce))[G,q]=Ce;else if(Ce!=null)G=Ce;else return null}var re=Bm(Bm({},h0.itemStyle),{},{color:F.color||h0.itemStyle.color},r);return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:re},hc(q)?R.createElement("span",{className:"recharts-tooltip-item-name"},q):null,hc(q)?R.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,R.createElement("span",{className:"recharts-tooltip-item-value"},G),R.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:K},Z)}return null},N=Bm(Bm({},h0.contentStyle),n),S=Bm({margin:0},i),I=!Si(p),j=I?p:"",D=tr("recharts-default-tooltip",d),P=tr("recharts-tooltip-label",u);I&&x&&a!==void 0&&a!==null&&(j=x(p,a));var V=w?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",e4({className:D,style:N},V),R.createElement("p",{className:P,style:S},R.isValidElement(j)?j:"".concat(j)),A())},Um="recharts-tooltip-wrapper",m2e={visibility:"hidden"};function g2e(t){var{coordinate:e,translateX:n,translateY:r}=t;return tr(Um,{["".concat(Um,"-right")]:Mt(n)&&e&&Mt(e.x)&&n>=e.x,["".concat(Um,"-left")]:Mt(n)&&e&&Mt(e.x)&&n<e.x,["".concat(Um,"-bottom")]:Mt(r)&&e&&Mt(e.y)&&r>=e.y,["".concat(Um,"-top")]:Mt(r)&&e&&Mt(e.y)&&r<e.y})}function Sj(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:a,reverseDirection:s,tooltipDimension:c,viewBox:d,viewBoxDimension:u}=t;if(a&&Mt(a[r]))return a[r];var p=n[r]-c-(i>0?i:0),x=n[r]+i;if(e[r])return s[r]?p:x;var w=d[r];if(w==null)return 0;if(s[r]){var A=p,N=w;return A<N?Math.max(x,w):Math.max(p,w)}if(u==null)return 0;var S=x+c,I=w+u;return S>I?Math.max(p,w):Math.max(x,w)}function x2e(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function y2e(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:a,reverseDirection:s,tooltipBox:c,useTranslate3d:d,viewBox:u}=t,p,x,w;return c.height>0&&c.width>0&&n?(x=Sj({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:a,reverseDirection:s,tooltipDimension:c.width,viewBox:u,viewBoxDimension:u.width}),w=Sj({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:a,reverseDirection:s,tooltipDimension:c.height,viewBox:u,viewBoxDimension:u.height}),p=x2e({translateX:x,translateY:w,useTranslate3d:d})):p=m2e,{cssProperties:p,cssClasses:g2e({translateX:x,translateY:w,coordinate:n})}}function Tj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ry(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tj(Object(n),!0).forEach(function(r){t4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t4(t,e,n){return(e=v2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v2e(t){var e=b2e(t,"string");return typeof e=="symbol"?e:e+""}function b2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class w2e extends R.PureComponent{constructor(){super(...arguments),t4(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),t4(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:c,isAnimationActive:d,offset:u,position:p,reverseDirection:x,useTranslate3d:w,viewBox:A,wrapperStyle:N,lastBoundingBox:S,innerRef:I,hasPortalFromProps:j}=this.props,D=typeof u=="number"?u:u.x,P=typeof u=="number"?u:u.y,{cssClasses:V,cssProperties:K}=y2e({allowEscapeViewBox:n,coordinate:s,offsetLeft:D,offsetTop:P,position:p,reverseDirection:x,tooltipBox:{height:S.height,width:S.width},useTranslate3d:w,viewBox:A}),Z=j?{}:Ry(Ry({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},K),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),F=Ry(Ry({},Z),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},N);return R.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:V,style:F,ref:I},a)}}var zG=()=>{var t;return(t=zt(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function n4(){return n4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n4.apply(null,arguments)}function Cj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ij(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cj(Object(n),!0).forEach(function(r){E2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E2e(t,e,n){return(e=_2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _2e(t){var e=A2e(t,"string");return typeof e=="symbol"?e:e+""}function A2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nj={curveBasisClosed:N1e,curveBasisOpen:O1e,curveBasis:I1e,curveBumpX:p1e,curveBumpY:m1e,curveLinearClosed:M1e,curveLinear:nw,curveMonotoneX:R1e,curveMonotoneY:k1e,curveNatural:D1e,curveStep:P1e,curveStepAfter:L1e,curveStepBefore:j1e},T2=t=>Sn(t.x)&&Sn(t.y),Oj=t=>t.base!=null&&T2(t.base)&&T2(t),zm=t=>t.x,Vm=t=>t.y,S2e=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(P1(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=Nj["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return Nj[n]||nw},Mj={connectNulls:!1,type:"linear"},T2e=t=>{var{type:e=Mj.type,points:n=[],baseLine:r,layout:i,connectNulls:a=Mj.connectNulls}=t,s=S2e(e,i),c=a?n.filter(T2):n;if(Array.isArray(r)){var d,u=n.map((N,S)=>Ij(Ij({},N),{},{base:r[S]}));i==="vertical"?d=Ay().y(Vm).x1(zm).x0(N=>N.base.x):d=Ay().x(zm).y1(Vm).y0(N=>N.base.y);var p=d.defined(Oj).curve(s),x=a?u.filter(Oj):u;return p(x)}var w;i==="vertical"&&Mt(r)?w=Ay().y(Vm).x1(zm).x0(r):Mt(r)?w=Ay().x(zm).y1(Vm).y0(r):w=hW().x(zm).y(Vm);var A=w.defined(T2).curve(s);return A(c)},X0=t=>{var{className:e,points:n,path:r,pathRef:i}=t,a=Ih();if((!n||!n.length)&&!r)return null;var s={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||a,connectNulls:t.connectNulls},c=n&&n.length?T2e(s):r;return R.createElement("path",n4({},zs(t),LI(t),{className:tr("recharts-curve",e),d:c===null?void 0:c,ref:i}))},C2e=["x","y","top","left","width","height","className"];function r4(){return r4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r4.apply(null,arguments)}function Rj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I2e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rj(Object(n),!0).forEach(function(r){N2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N2e(t,e,n){return(e=O2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O2e(t){var e=M2e(t,"string");return typeof e=="symbol"?e:e+""}function M2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R2e(t,e){if(t==null)return{};var n,r,i=k2e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function k2e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var D2e=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),P2e=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:c}=t,d=R2e(t,C2e),u=I2e({x:e,y:n,top:r,left:i,width:a,height:s},d);return!Mt(e)||!Mt(n)||!Mt(a)||!Mt(s)||!Mt(r)||!Mt(i)?null:R.createElement("path",r4({},_s(u),{className:tr("recharts-cross",c),d:D2e(e,n,a,s,r,i)}))};function j2e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kj(Object(n),!0).forEach(function(r){L2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L2e(t,e,n){return(e=F2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F2e(t){var e=B2e(t,"string");return typeof e=="symbol"?e:e+""}function B2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var U2e=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),VG=(t,e,n)=>t.map(r=>"".concat(U2e(r)," ").concat(e,"ms ").concat(n)).join(","),z2e=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),t1=(t,e)=>Object.keys(e).reduce((n,r)=>Dj(Dj({},n),{},{[r]:t(r,e[r])}),{});function Pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ta(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pj(Object(n),!0).forEach(function(r){V2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V2e(t,e,n){return(e=H2e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H2e(t){var e=W2e(t,"string");return typeof e=="symbol"?e:e+""}function W2e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C2=(t,e,n)=>t+(e-t)*n,i4=t=>{var{from:e,to:n}=t;return e!==n},HG=(t,e,n)=>{var r=t1((i,a)=>{if(i4(a)){var[s,c]=t(a.from,a.to,a.velocity);return ta(ta({},a),{},{from:s,velocity:c})}return a},e);return n<1?t1((i,a)=>i4(a)&&r[i]!=null?ta(ta({},a),{},{velocity:C2(a.velocity,r[i].velocity,n),from:C2(a.from,r[i].from,n)}):a,e):HG(t,r,n-1)};function G2e(t,e,n,r,i,a){var s,c=r.reduce((w,A)=>ta(ta({},w),{},{[A]:{from:t[A],velocity:0,to:e[A]}}),{}),d=()=>t1((w,A)=>A.from,c),u=()=>!Object.values(c).filter(i4).length,p=null,x=w=>{s||(s=w);var A=w-s,N=A/n.dt;c=HG(n,c,N),i(ta(ta(ta({},t),e),d())),s=w,u()||(p=a.setTimeout(x))};return()=>(p=a.setTimeout(x),()=>{var w;(w=p)===null||w===void 0||w()})}function q2e(t,e,n,r,i,a,s){var c=null,d=i.reduce((x,w)=>{var A=t[w],N=e[w];return A==null||N==null?x:ta(ta({},x),{},{[w]:[A,N]})},{}),u,p=x=>{u||(u=x);var w=(x-u)/r,A=t1((S,I)=>C2(...I,n(w)),d);if(a(ta(ta(ta({},t),e),A)),w<1)c=s.setTimeout(p);else{var N=t1((S,I)=>C2(...I,n(1)),d);a(ta(ta(ta({},t),e),N))}};return()=>(c=s.setTimeout(p),()=>{var x;(x=c)===null||x===void 0||x()})}const Y2e=(t,e,n,r,i,a)=>{var s=z2e(t,e);return n==null?()=>(i(ta(ta({},t),e)),()=>{}):n.isStepper===!0?G2e(t,e,n,s,i,a):q2e(t,e,n,r,s,i,a)};var I2=1e-4,WG=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],GG=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),jj=(t,e)=>n=>{var r=WG(t,e);return GG(r,n)},$2e=(t,e)=>n=>{var r=WG(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return GG(i,n)},K2e=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},X2e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=K2e(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},Q2e=(t,e,n,r)=>{var i=jj(t,n),a=jj(e,r),s=$2e(t,n),c=u=>u>1?1:u<0?0:u,d=u=>{for(var p=u>1?1:u,x=p,w=0;w<8;++w){var A=i(x)-p,N=s(x);if(Math.abs(A-p)<I2||N<I2)return a(x);x=c(x-A/N)}return a(x)};return d.isStepper=!1,d},Lj=function(){return Q2e(...X2e(...arguments))},Z2e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,c,d)=>{var u=-(s-c)*n,p=d*r,x=d+(u-p)*i/1e3,w=d*i/1e3+s;return Math.abs(w-c)<I2&&Math.abs(x)<I2?[c,0]:[w,x]};return a.isStepper=!0,a.dt=i,a},J2e=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Lj(t);case"spring":return Z2e();default:if(t.split("(")[0]==="cubic-bezier")return Lj(t)}return typeof t=="function"?t:null};function ebe(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var c=s,[d,...u]=c;if(typeof d=="number"){i=t.setTimeout(a.bind(null,u),d);return}a(d),i=t.setTimeout(a.bind(null,u));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class tbe{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function nbe(){return ebe(new tbe)}var rbe=R.createContext(nbe);function ibe(t,e){var n=R.useContext(rbe);return R.useMemo(()=>e??n(t),[t,e,n])}var abe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),z1={isSsr:abe()},sbe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Fj={t:0},BS={t:1};function V1(t){var e=va(t,sbe),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:c,onAnimationStart:d,children:u}=e,p=n==="auto"?!z1.isSsr:n,x=ibe(e.animationId,e.animationManager),[w,A]=R.useState(p?Fj:BS),N=R.useRef(null);return R.useEffect(()=>{p||A(BS)},[p]),R.useEffect(()=>{if(!p||!r)return Ch;var S=Y2e(Fj,BS,J2e(a),i,A,x.getTimeoutController()),I=()=>{N.current=S()};return x.start([d,s,I,i,c]),()=>{x.stop(),N.current&&N.current(),c()}},[p,r,i,a,s,d,c,x]),u(w.t)}function H1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=R.useRef(Yg(e)),r=R.useRef(t);return r.current!==t&&(n.current=Yg(e),r.current=t),n.current}var obe=["radius"],lbe=["radius"],Bj,Uj,zj,Vj,Hj,Wj,Gj,qj,Yj,$j;function Kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kj(Object(n),!0).forEach(function(r){cbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cbe(t,e,n){return(e=ube(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ube(t){var e=fbe(t,"string");return typeof e=="symbol"?e:e+""}function fbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N2(){return N2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N2.apply(null,arguments)}function Qj(t,e){if(t==null)return{};var n,r,i=dbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Vl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Zj=(t,e,n,r,i)=>{var a=Sf(n),s=Sf(r),c=Math.min(Math.abs(a)/2,Math.abs(s)/2),d=s>=0?1:-1,u=a>=0?1:-1,p=s>=0&&a>=0||s<0&&a<0?1:0,x;if(c>0&&Array.isArray(i)){for(var w=[0,0,0,0],A=0,N=4;A<N;A++){var S,I=(S=i[A])!==null&&S!==void 0?S:0;w[A]=I>c?c:I}x=wi(Bj||(Bj=Vl(["M",",",""])),t,e+d*w[0]),w[0]>0&&(x+=wi(Uj||(Uj=Vl(["A ",",",",0,0,",",",",",""])),w[0],w[0],p,t+u*w[0],e)),x+=wi(zj||(zj=Vl(["L ",",",""])),t+n-u*w[1],e),w[1]>0&&(x+=wi(Vj||(Vj=Vl(["A ",",",",0,0,",`,
        `,",",""])),w[1],w[1],p,t+n,e+d*w[1])),x+=wi(Hj||(Hj=Vl(["L ",",",""])),t+n,e+r-d*w[2]),w[2]>0&&(x+=wi(Wj||(Wj=Vl(["A ",",",",0,0,",`,
        `,",",""])),w[2],w[2],p,t+n-u*w[2],e+r)),x+=wi(Gj||(Gj=Vl(["L ",",",""])),t+u*w[3],e+r),w[3]>0&&(x+=wi(qj||(qj=Vl(["A ",",",",0,0,",`,
        `,",",""])),w[3],w[3],p,t,e+r-d*w[3])),x+="Z"}else if(c>0&&i===+i&&i>0){var j=Math.min(c,i);x=wi(Yj||(Yj=Vl(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+d*j,j,j,p,t+u*j,e,t+n-u*j,e,j,j,p,t+n,e+d*j,t+n,e+r-d*j,j,j,p,t+n-u*j,e+r,t+u*j,e+r,j,j,p,t,e+r-d*j)}else x=wi($j||($j=Vl(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return x},Jj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qG=t=>{var e=va(t,Jj),n=R.useRef(null),[r,i]=R.useState(-1);R.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var me=n.current.getTotalLength();me&&i(me)}catch{}},[]);var{x:a,y:s,width:c,height:d,radius:u,className:p}=e,{animationEasing:x,animationDuration:w,animationBegin:A,isAnimationActive:N,isUpdateAnimationActive:S}=e,I=R.useRef(c),j=R.useRef(d),D=R.useRef(a),P=R.useRef(s),V=R.useMemo(()=>({x:a,y:s,width:c,height:d,radius:u}),[a,s,c,d,u]),K=H1(V,"rectangle-");if(a!==+a||s!==+s||c!==+c||d!==+d||c===0||d===0)return null;var Z=tr("recharts-rectangle",p);if(!S){var F=_s(e),{radius:U}=F,B=Qj(F,obe);return R.createElement("path",N2({},B,{x:Sf(a),y:Sf(s),width:Sf(c),height:Sf(d),radius:typeof u=="number"?u:void 0,className:Z,d:Zj(a,s,c,d,u)}))}var J=I.current,H=j.current,G=D.current,q=P.current,Ce="0px ".concat(r===-1?1:r,"px"),re="".concat(r,"px 0px"),ue=VG(["strokeDasharray"],w,typeof x=="string"?x:Jj.animationEasing);return R.createElement(V1,{animationId:K,key:K,canBegin:r>0,duration:w,easing:x,isActive:S,begin:A},me=>{var Re=zr(J,c,me),Be=zr(H,d,me),be=zr(G,a,me),Q=zr(q,s,me);n.current&&(I.current=Re,j.current=Be,D.current=be,P.current=Q);var ee;N?me>0?ee={transition:ue,strokeDasharray:re}:ee={strokeDasharray:Ce}:ee={strokeDasharray:re};var oe=_s(e),{radius:se}=oe,fe=Qj(oe,lbe);return R.createElement("path",N2({},fe,{radius:typeof u=="number"?u:void 0,className:Z,d:Zj(be,Q,Re,Be,u),ref:n,style:Xj(Xj({},ee),e.style)}))})};function e9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e9(Object(n),!0).forEach(function(r){hbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hbe(t,e,n){return(e=pbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pbe(t){var e=mbe(t,"string");return typeof e=="symbol"?e:e+""}function mbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O2=Math.PI/180,gbe=t=>t*180/Math.PI,qi=(t,e,n,r)=>({x:t+Math.cos(-O2*r)*n,y:e+Math.sin(-O2*r)*n}),YG=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},xbe=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},ybe=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=xbe({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var c=(n-i)/s,d=Math.acos(c);return r>a&&(d=2*Math.PI-d),{radius:s,angle:gbe(d),angleInRadian:d}},vbe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},bbe=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},wbe=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=ybe({x:n,y:r},e),{innerRadius:s,outerRadius:c}=e;if(i<s||i>c||i===0)return null;var{startAngle:d,endAngle:u}=vbe(e),p=a,x;if(d<=u){for(;p>u;)p-=360;for(;p<d;)p+=360;x=p>=d&&p<=u}else{for(;p>d;)p-=360;for(;p<u;)p+=360;x=p>=u&&p<=d}return x?t9(t9({},e),{},{radius:i,angle:bbe(p,e)}):null};function $G(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=qi(e,n,r,i),c=qi(e,n,r,a);return{points:[s,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}var n9,r9,i9,a9,s9,o9,l9;function a4(){return a4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a4.apply(null,arguments)}function Ud(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Ebe=(t,e)=>{var n=ma(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},ky=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:c,cornerIsExternal:d}=t,u=c*(s?1:-1)+r,p=Math.asin(c/u)/O2,x=d?i:i+a*p,w=qi(e,n,u,x),A=qi(e,n,r,x),N=d?i-a*p:i,S=qi(e,n,u*Math.cos(p*O2),N);return{center:w,circleTangency:A,lineTangency:S,theta:p}},KG=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,c=Ebe(a,s),d=a+c,u=qi(e,n,i,a),p=qi(e,n,i,d),x=wi(n9||(n9=Ud(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(c)>180),+(a>d),p.x,p.y);if(r>0){var w=qi(e,n,r,a),A=qi(e,n,r,d);x+=wi(r9||(r9=Ud(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),A.x,A.y,r,r,+(Math.abs(c)>180),+(a<=d),w.x,w.y)}else x+=wi(i9||(i9=Ud(["L ",","," Z"])),e,n);return x},_be=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:c,startAngle:d,endAngle:u}=t,p=ma(u-d),{circleTangency:x,lineTangency:w,theta:A}=ky({cx:e,cy:n,radius:i,angle:d,sign:p,cornerRadius:a,cornerIsExternal:c}),{circleTangency:N,lineTangency:S,theta:I}=ky({cx:e,cy:n,radius:i,angle:u,sign:-p,cornerRadius:a,cornerIsExternal:c}),j=c?Math.abs(d-u):Math.abs(d-u)-A-I;if(j<0)return s?wi(a9||(a9=Ud(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),w.x,w.y,a,a,a*2,a,a,-a*2):KG({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:u});var D=wi(s9||(s9=Ud(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),w.x,w.y,a,a,+(p<0),x.x,x.y,i,i,+(j>180),+(p<0),N.x,N.y,a,a,+(p<0),S.x,S.y);if(r>0){var{circleTangency:P,lineTangency:V,theta:K}=ky({cx:e,cy:n,radius:r,angle:d,sign:p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:Z,lineTangency:F,theta:U}=ky({cx:e,cy:n,radius:r,angle:u,sign:-p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),B=c?Math.abs(d-u):Math.abs(d-u)-K-U;if(B<0&&a===0)return"".concat(D,"L").concat(e,",").concat(n,"Z");D+=wi(o9||(o9=Ud(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),F.x,F.y,a,a,+(p<0),Z.x,Z.y,r,r,+(B>180),+(p>0),P.x,P.y,a,a,+(p<0),V.x,V.y)}else D+=wi(l9||(l9=Ud(["L",",","Z"])),e,n);return D},Abe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},XG=t=>{var e=va(t,Abe),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:p,className:x}=e;if(a<i||u===p)return null;var w=tr("recharts-sector",x),A=a-i,N=rs(s,A,0,!0),S;return N>0&&Math.abs(u-p)<360?S=_be({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(N,A/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:p}):S=KG({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:p}),R.createElement("path",a4({},_s(e),{className:w,d:S}))};function Sbe(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(NW(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:c}=e,d=qi(r,i,a,c),u=qi(r,i,s,c);return[{x:d.x,y:d.y},{x:u.x,y:u.y}]}return $G(e)}}var US={},zS={},VS={},c9;function Tbe(){return c9||(c9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BW();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(VS)),VS}var u9;function Cbe(){return u9||(u9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tbe();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(zS)),zS}var f9;function Ibe(){return f9||(f9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UW(),n=Cbe();function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const c=Math.max(Math.ceil((a-i)/(s||1)),0),d=new Array(c);for(let u=0;u<c;u++)d[u]=i,i+=s;return d}t.range=r})(US)),US}var HS,d9;function Nbe(){return d9||(d9=1,HS=Ibe().range),HS}var Obe=Nbe();const QG=_u(Obe);function kf(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Mbe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function JI(t){let e,n,r;t.length!==2?(e=kf,n=(c,d)=>kf(t(c),d),r=(c,d)=>t(c)-d):(e=t===kf||t===Mbe?t:Rbe,n=t,r=t);function i(c,d,u=0,p=c.length){if(u<p){if(e(d,d)!==0)return p;do{const x=u+p>>>1;n(c[x],d)<0?u=x+1:p=x}while(u<p)}return u}function a(c,d,u=0,p=c.length){if(u<p){if(e(d,d)!==0)return p;do{const x=u+p>>>1;n(c[x],d)<=0?u=x+1:p=x}while(u<p)}return u}function s(c,d,u=0,p=c.length){const x=i(c,d,u,p-1);return x>u&&r(c[x-1],d)>-r(c[x],d)?x-1:x}return{left:i,center:s,right:a}}function Rbe(){return 0}function ZG(t){return t===null?NaN:+t}function*kbe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Dbe=JI(kf),W1=Dbe.right;JI(ZG).center;class h9 extends Map{constructor(e,n=Lbe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(p9(this,e))}has(e){return super.has(p9(this,e))}set(e,n){return super.set(Pbe(this,e),n)}delete(e){return super.delete(jbe(this,e))}}function p9({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Pbe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function jbe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Lbe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Fbe(t=kf){if(t===kf)return JG;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function JG(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Bbe=Math.sqrt(50),Ube=Math.sqrt(10),zbe=Math.sqrt(2);function M2(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Bbe?10:a>=Ube?5:a>=zbe?2:1;let c,d,u;return i<0?(u=Math.pow(10,-i)/s,c=Math.round(t*u),d=Math.round(e*u),c/u<t&&++c,d/u>e&&--d,u=-u):(u=Math.pow(10,i)*s,c=Math.round(t/u),d=Math.round(e/u),c*u<t&&++c,d*u>e&&--d),d<c&&.5<=n&&n<2?M2(t,e,n*2):[c,d,u]}function s4(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?M2(e,t,n):M2(t,e,n);if(!(a>=i))return[];const c=a-i+1,d=new Array(c);if(r)if(s<0)for(let u=0;u<c;++u)d[u]=(a-u)/-s;else for(let u=0;u<c;++u)d[u]=(a-u)*s;else if(s<0)for(let u=0;u<c;++u)d[u]=(i+u)/-s;else for(let u=0;u<c;++u)d[u]=(i+u)*s;return d}function o4(t,e,n){return e=+e,t=+t,n=+n,M2(t,e,n)[2]}function l4(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?o4(e,t,n):o4(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function m9(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function g9(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function eq(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?JG:Fbe(i);r>n;){if(r-n>600){const d=r-n+1,u=e-n+1,p=Math.log(d),x=.5*Math.exp(2*p/3),w=.5*Math.sqrt(p*x*(d-x)/d)*(u-d/2<0?-1:1),A=Math.max(n,Math.floor(e-u*x/d+w)),N=Math.min(r,Math.floor(e+(d-u)*x/d+w));eq(t,e,A,N,i)}const a=t[e];let s=n,c=r;for(Hm(t,n,e),i(t[r],a)>0&&Hm(t,n,r);s<c;){for(Hm(t,s,c),++s,--c;i(t[s],a)<0;)++s;for(;i(t[c],a)>0;)--c}i(t[n],a)===0?Hm(t,n,c):(++c,Hm(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function Hm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Vbe(t,e,n){if(t=Float64Array.from(kbe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return g9(t);if(e>=1)return m9(t);var r,i=(r-1)*e,a=Math.floor(i),s=m9(eq(t,a).subarray(0,a+1)),c=g9(t.subarray(a+1));return s+(c-s)*(i-a)}}function Hbe(t,e,n=ZG){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),c=+n(t[a+1],a+1,t);return s+(c-s)*(i-a)}}function Wbe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function tl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Cu(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const c4=Symbol("implicit");function eN(){var t=new h9,e=[],n=[],r=c4;function i(a){let s=t.get(a);if(s===void 0){if(r!==c4)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new h9;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return eN(e,n).unknown(r)},tl.apply(i,arguments),i}function tN(){var t=eN().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,c=!1,d=0,u=0,p=.5;delete t.unknown;function x(){var w=e().length,A=i<r,N=A?i:r,S=A?r:i;a=(S-N)/Math.max(1,w-d+u*2),c&&(a=Math.floor(a)),N+=(S-N-a*(w-d))*p,s=a*(1-d),c&&(N=Math.round(N),s=Math.round(s));var I=Wbe(w).map(function(j){return N+a*j});return n(A?I.reverse():I)}return t.domain=function(w){return arguments.length?(e(w),x()):e()},t.range=function(w){return arguments.length?([r,i]=w,r=+r,i=+i,x()):[r,i]},t.rangeRound=function(w){return[r,i]=w,r=+r,i=+i,c=!0,x()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(w){return arguments.length?(c=!!w,x()):c},t.padding=function(w){return arguments.length?(d=Math.min(1,u=+w),x()):d},t.paddingInner=function(w){return arguments.length?(d=Math.min(1,w),x()):d},t.paddingOuter=function(w){return arguments.length?(u=+w,x()):u},t.align=function(w){return arguments.length?(p=Math.max(0,Math.min(1,w)),x()):p},t.copy=function(){return tN(e(),[r,i]).round(c).paddingInner(d).paddingOuter(u).align(p)},tl.apply(x(),arguments)}function tq(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return tq(e())},t}function Gbe(){return tq(tN.apply(null,arguments).paddingInner(1))}function nN(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function nq(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function G1(){}var n1=.7,R2=1/n1,Q0="\\s*([+-]?\\d+)\\s*",r1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qbe=/^#([0-9a-f]{3,8})$/,Ybe=new RegExp(`^rgb\\(${Q0},${Q0},${Q0}\\)$`),$be=new RegExp(`^rgb\\(${sc},${sc},${sc}\\)$`),Kbe=new RegExp(`^rgba\\(${Q0},${Q0},${Q0},${r1}\\)$`),Xbe=new RegExp(`^rgba\\(${sc},${sc},${sc},${r1}\\)$`),Qbe=new RegExp(`^hsl\\(${r1},${sc},${sc}\\)$`),Zbe=new RegExp(`^hsla\\(${r1},${sc},${sc},${r1}\\)$`),x9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nN(G1,i1,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:y9,formatHex:y9,formatHex8:Jbe,formatHsl:ewe,formatRgb:v9,toString:v9});function y9(){return this.rgb().formatHex()}function Jbe(){return this.rgb().formatHex8()}function ewe(){return rq(this).formatHsl()}function v9(){return this.rgb().formatRgb()}function i1(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=qbe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?b9(e):n===3?new Fs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Dy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Dy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ybe.exec(t))?new Fs(e[1],e[2],e[3],1):(e=$be.exec(t))?new Fs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Kbe.exec(t))?Dy(e[1],e[2],e[3],e[4]):(e=Xbe.exec(t))?Dy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Qbe.exec(t))?_9(e[1],e[2]/100,e[3]/100,1):(e=Zbe.exec(t))?_9(e[1],e[2]/100,e[3]/100,e[4]):x9.hasOwnProperty(t)?b9(x9[t]):t==="transparent"?new Fs(NaN,NaN,NaN,0):null}function b9(t){return new Fs(t>>16&255,t>>8&255,t&255,1)}function Dy(t,e,n,r){return r<=0&&(t=e=n=NaN),new Fs(t,e,n,r)}function twe(t){return t instanceof G1||(t=i1(t)),t?(t=t.rgb(),new Fs(t.r,t.g,t.b,t.opacity)):new Fs}function u4(t,e,n,r){return arguments.length===1?twe(t):new Fs(t,e,n,r??1)}function Fs(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}nN(Fs,u4,nq(G1,{brighter(t){return t=t==null?R2:Math.pow(R2,t),new Fs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?n1:Math.pow(n1,t),new Fs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Fs(Yd(this.r),Yd(this.g),Yd(this.b),k2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:w9,formatHex:w9,formatHex8:nwe,formatRgb:E9,toString:E9}));function w9(){return`#${zd(this.r)}${zd(this.g)}${zd(this.b)}`}function nwe(){return`#${zd(this.r)}${zd(this.g)}${zd(this.b)}${zd((isNaN(this.opacity)?1:this.opacity)*255)}`}function E9(){const t=k2(this.opacity);return`${t===1?"rgb(":"rgba("}${Yd(this.r)}, ${Yd(this.g)}, ${Yd(this.b)}${t===1?")":`, ${t})`}`}function k2(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Yd(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function zd(t){return t=Yd(t),(t<16?"0":"")+t.toString(16)}function _9(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new yl(t,e,n,r)}function rq(t){if(t instanceof yl)return new yl(t.h,t.s,t.l,t.opacity);if(t instanceof G1||(t=i1(t)),!t)return new yl;if(t instanceof yl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,c=a-i,d=(a+i)/2;return c?(e===a?s=(n-r)/c+(n<r)*6:n===a?s=(r-e)/c+2:s=(e-n)/c+4,c/=d<.5?a+i:2-a-i,s*=60):c=d>0&&d<1?0:s,new yl(s,c,d,t.opacity)}function rwe(t,e,n,r){return arguments.length===1?rq(t):new yl(t,e,n,r??1)}function yl(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}nN(yl,rwe,nq(G1,{brighter(t){return t=t==null?R2:Math.pow(R2,t),new yl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?n1:Math.pow(n1,t),new yl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Fs(WS(t>=240?t-240:t+120,i,r),WS(t,i,r),WS(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new yl(A9(this.h),Py(this.s),Py(this.l),k2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=k2(this.opacity);return`${t===1?"hsl(":"hsla("}${A9(this.h)}, ${Py(this.s)*100}%, ${Py(this.l)*100}%${t===1?")":`, ${t})`}`}}));function A9(t){return t=(t||0)%360,t<0?t+360:t}function Py(t){return Math.max(0,Math.min(1,t||0))}function WS(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const rN=t=>()=>t;function iwe(t,e){return function(n){return t+n*e}}function awe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function swe(t){return(t=+t)==1?iq:function(e,n){return n-e?awe(e,n,t):rN(isNaN(e)?n:e)}}function iq(t,e){var n=e-t;return n?iwe(t,n):rN(isNaN(t)?e:t)}const S9=(function t(e){var n=swe(e);function r(i,a){var s=n((i=u4(i)).r,(a=u4(a)).r),c=n(i.g,a.g),d=n(i.b,a.b),u=iq(i.opacity,a.opacity);return function(p){return i.r=s(p),i.g=c(p),i.b=d(p),i.opacity=u(p),i+""}}return r.gamma=t,r})(1);function owe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function lwe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function cwe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Bp(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(c){for(s=0;s<r;++s)a[s]=i[s](c);return a}}function uwe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function D2(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function fwe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Bp(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var f4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,GS=new RegExp(f4.source,"g");function dwe(t){return function(){return t}}function hwe(t){return function(e){return t(e)+""}}function pwe(t,e){var n=f4.lastIndex=GS.lastIndex=0,r,i,a,s=-1,c=[],d=[];for(t=t+"",e=e+"";(r=f4.exec(t))&&(i=GS.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),c[s]?c[s]+=a:c[++s]=a),(r=r[0])===(i=i[0])?c[s]?c[s]+=i:c[++s]=i:(c[++s]=null,d.push({i:s,x:D2(r,i)})),n=GS.lastIndex;return n<e.length&&(a=e.slice(n),c[s]?c[s]+=a:c[++s]=a),c.length<2?d[0]?hwe(d[0].x):dwe(e):(e=d.length,function(u){for(var p=0,x;p<e;++p)c[(x=d[p]).i]=x.x(u);return c.join("")})}function Bp(t,e){var n=typeof e,r;return e==null||n==="boolean"?rN(e):(n==="number"?D2:n==="string"?(r=i1(e))?(e=r,S9):pwe:e instanceof i1?S9:e instanceof Date?uwe:lwe(e)?owe:Array.isArray(e)?cwe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?fwe:D2)(t,e)}function iN(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function mwe(t,e){e===void 0&&(e=t,t=Bp);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var c=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[c](s-c)}}function gwe(t){return function(){return t}}function P2(t){return+t}var T9=[0,1];function bs(t){return t}function d4(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:gwe(isNaN(e)?NaN:.5)}function xwe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function ywe(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=d4(i,r),a=n(s,a)):(r=d4(r,i),a=n(a,s)),function(c){return a(r(c))}}function vwe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=d4(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(c){var d=W1(t,c,1,r)-1;return a[d](i[d](c))}}function q1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _w(){var t=T9,e=T9,n=Bp,r,i,a,s=bs,c,d,u;function p(){var w=Math.min(t.length,e.length);return s!==bs&&(s=xwe(t[0],t[w-1])),c=w>2?vwe:ywe,d=u=null,x}function x(w){return w==null||isNaN(w=+w)?a:(d||(d=c(t.map(r),e,n)))(r(s(w)))}return x.invert=function(w){return s(i((u||(u=c(e,t.map(r),D2)))(w)))},x.domain=function(w){return arguments.length?(t=Array.from(w,P2),p()):t.slice()},x.range=function(w){return arguments.length?(e=Array.from(w),p()):e.slice()},x.rangeRound=function(w){return e=Array.from(w),n=iN,p()},x.clamp=function(w){return arguments.length?(s=w?!0:bs,p()):s!==bs},x.interpolate=function(w){return arguments.length?(n=w,p()):n},x.unknown=function(w){return arguments.length?(a=w,x):a},function(w,A){return r=w,i=A,p()}}function aN(){return _w()(bs,bs)}function bwe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function j2(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function mp(t){return t=j2(Math.abs(t)),t?t[1]:NaN}function wwe(t,e){return function(n,r){for(var i=n.length,a=[],s=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),a.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Ewe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var _we=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function a1(t){if(!(e=_we.exec(t)))throw new Error("invalid format: "+t);var e;return new sN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}a1.prototype=sN.prototype;function sN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}sN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Awe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var L2;function Swe(t,e){var n=j2(t,e);if(!n)return L2=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(L2=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+j2(t,Math.max(0,e+a-1))[0]}function C9(t,e){var n=j2(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const I9={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:bwe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>C9(t*100,e),r:C9,s:Swe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function N9(t){return t}var O9=Array.prototype.map,M9=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Twe(t){var e=t.grouping===void 0||t.thousands===void 0?N9:wwe(O9.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?N9:Ewe(O9.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function u(x,w){x=a1(x);var A=x.fill,N=x.align,S=x.sign,I=x.symbol,j=x.zero,D=x.width,P=x.comma,V=x.precision,K=x.trim,Z=x.type;Z==="n"?(P=!0,Z="g"):I9[Z]||(V===void 0&&(V=12),K=!0,Z="g"),(j||A==="0"&&N==="=")&&(j=!0,A="0",N="=");var F=(w&&w.prefix!==void 0?w.prefix:"")+(I==="$"?n:I==="#"&&/[boxX]/.test(Z)?"0"+Z.toLowerCase():""),U=(I==="$"?r:/[%p]/.test(Z)?s:"")+(w&&w.suffix!==void 0?w.suffix:""),B=I9[Z],J=/[defgprs%]/.test(Z);V=V===void 0?6:/[gprs]/.test(Z)?Math.max(1,Math.min(21,V)):Math.max(0,Math.min(20,V));function H(G){var q=F,Ce=U,re,ue,me;if(Z==="c")Ce=B(G)+Ce,G="";else{G=+G;var Re=G<0||1/G<0;if(G=isNaN(G)?d:B(Math.abs(G),V),K&&(G=Awe(G)),Re&&+G==0&&S!=="+"&&(Re=!1),q=(Re?S==="("?S:c:S==="-"||S==="("?"":S)+q,Ce=(Z==="s"&&!isNaN(G)&&L2!==void 0?M9[8+L2/3]:"")+Ce+(Re&&S==="("?")":""),J){for(re=-1,ue=G.length;++re<ue;)if(me=G.charCodeAt(re),48>me||me>57){Ce=(me===46?i+G.slice(re+1):G.slice(re))+Ce,G=G.slice(0,re);break}}}P&&!j&&(G=e(G,1/0));var Be=q.length+G.length+Ce.length,be=Be<D?new Array(D-Be+1).join(A):"";switch(P&&j&&(G=e(be+G,be.length?D-Ce.length:1/0),be=""),N){case"<":G=q+G+Ce+be;break;case"=":G=q+be+G+Ce;break;case"^":G=be.slice(0,Be=be.length>>1)+q+G+Ce+be.slice(Be);break;default:G=be+q+G+Ce;break}return a(G)}return H.toString=function(){return x+""},H}function p(x,w){var A=Math.max(-8,Math.min(8,Math.floor(mp(w)/3)))*3,N=Math.pow(10,-A),S=u((x=a1(x),x.type="f",x),{suffix:M9[8+A/3]});return function(I){return S(N*I)}}return{format:u,formatPrefix:p}}var jy,oN,aq;Cwe({thousands:",",grouping:[3],currency:["$",""]});function Cwe(t){return jy=Twe(t),oN=jy.format,aq=jy.formatPrefix,jy}function Iwe(t){return Math.max(0,-mp(Math.abs(t)))}function Nwe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mp(e)/3)))*3-mp(Math.abs(t)))}function Owe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,mp(e)-mp(t))+1}function sq(t,e,n,r){var i=l4(t,e,n),a;switch(r=a1(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Nwe(i,s))&&(r.precision=a),aq(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Owe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Iwe(i))&&(r.precision=a-(r.type==="%")*2);break}}return oN(r)}function rd(t){var e=t.domain;return t.ticks=function(n){var r=e();return s4(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return sq(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],c=r[a],d,u,p=10;for(c<s&&(u=s,s=c,c=u,u=i,i=a,a=u);p-- >0;){if(u=o4(s,c,n),u===d)return r[i]=s,r[a]=c,e(r);if(u>0)s=Math.floor(s/u)*u,c=Math.ceil(c/u)*u;else if(u<0)s=Math.ceil(s*u)/u,c=Math.floor(c*u)/u;else break;d=u}return t},t}function oq(){var t=aN();return t.copy=function(){return q1(t,oq())},tl.apply(t,arguments),rd(t)}function lq(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,P2),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return lq(t).unknown(e)},t=arguments.length?Array.from(t,P2):[0,1],rd(n)}function cq(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function R9(t){return Math.log(t)}function k9(t){return Math.exp(t)}function Mwe(t){return-Math.log(-t)}function Rwe(t){return-Math.exp(-t)}function kwe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Dwe(t){return t===10?kwe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Pwe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function D9(t){return(e,n)=>-t(-e,n)}function lN(t){const e=t(R9,k9),n=e.domain;let r=10,i,a;function s(){return i=Pwe(r),a=Dwe(r),n()[0]<0?(i=D9(i),a=D9(a),t(Mwe,Rwe)):t(R9,k9),e}return e.base=function(c){return arguments.length?(r=+c,s()):r},e.domain=function(c){return arguments.length?(n(c),s()):n()},e.ticks=c=>{const d=n();let u=d[0],p=d[d.length-1];const x=p<u;x&&([u,p]=[p,u]);let w=i(u),A=i(p),N,S;const I=c==null?10:+c;let j=[];if(!(r%1)&&A-w<I){if(w=Math.floor(w),A=Math.ceil(A),u>0){for(;w<=A;++w)for(N=1;N<r;++N)if(S=w<0?N/a(-w):N*a(w),!(S<u)){if(S>p)break;j.push(S)}}else for(;w<=A;++w)for(N=r-1;N>=1;--N)if(S=w>0?N/a(-w):N*a(w),!(S<u)){if(S>p)break;j.push(S)}j.length*2<I&&(j=s4(u,p,I))}else j=s4(w,A,Math.min(A-w,I)).map(a);return x?j.reverse():j},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=a1(d)).precision==null&&(d.trim=!0),d=oN(d)),c===1/0)return d;const u=Math.max(1,r*c/e.ticks().length);return p=>{let x=p/a(Math.round(i(p)));return x*r<r-.5&&(x*=r),x<=u?d(p):""}},e.nice=()=>n(cq(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),e}function uq(){const t=lN(_w()).domain([1,10]);return t.copy=()=>q1(t,uq()).base(t.base()),tl.apply(t,arguments),t}function P9(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function j9(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function cN(t){var e=1,n=t(P9(e),j9(e));return n.constant=function(r){return arguments.length?t(P9(e=+r),j9(e)):e},rd(n)}function fq(){var t=cN(_w());return t.copy=function(){return q1(t,fq()).constant(t.constant())},tl.apply(t,arguments)}function L9(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function jwe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Lwe(t){return t<0?-t*t:t*t}function uN(t){var e=t(bs,bs),n=1;function r(){return n===1?t(bs,bs):n===.5?t(jwe,Lwe):t(L9(n),L9(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},rd(e)}function fN(){var t=uN(_w());return t.copy=function(){return q1(t,fN()).exponent(t.exponent())},tl.apply(t,arguments),t}function Fwe(){return fN.apply(null,arguments).exponent(.5)}function F9(t){return Math.sign(t)*t*t}function Bwe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function dq(){var t=aN(),e=[0,1],n=!1,r;function i(a){var s=Bwe(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(F9(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,P2)).map(F9)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return dq(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},tl.apply(i,arguments),rd(i)}function hq(){var t=[],e=[],n=[],r;function i(){var s=0,c=Math.max(1,e.length);for(n=new Array(c-1);++s<c;)n[s-1]=Hbe(t,s/c);return a}function a(s){return s==null||isNaN(s=+s)?r:e[W1(n,s)]}return a.invertExtent=function(s){var c=e.indexOf(s);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let c of s)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(kf),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return hq().domain(t).range(e).unknown(r)},tl.apply(a,arguments)}function pq(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(d){return d!=null&&d<=d?i[W1(r,d,0,n)]:a}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return s}return s.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},s.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},s.invertExtent=function(d){var u=i.indexOf(d);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(d){return arguments.length&&(a=d),s},s.thresholds=function(){return r.slice()},s.copy=function(){return pq().domain([t,e]).range(i).unknown(a)},tl.apply(rd(s),arguments)}function mq(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[W1(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return mq().domain(t).range(e).unknown(n)},tl.apply(i,arguments)}const qS=new Date,YS=new Date;function ia(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),c=i.ceil(a);return a-s<c-a?s:c},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,c)=>{const d=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<s)||!(c>0))return d;let u;do d.push(u=new Date(+a)),e(a,c),t(a);while(u<a&&a<s);return d},i.filter=a=>ia(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,c)=>{if(s>=s)if(c<0)for(;++c<=0;)for(;e(s,-1),!a(s););else for(;--c>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(qS.setTime(+a),YS.setTime(+s),t(qS),t(YS),Math.floor(n(qS,YS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const F2=ia(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);F2.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ia(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):F2);F2.range;const Zc=1e3,qo=Zc*60,Jc=qo*60,mu=Jc*24,dN=mu*7,B9=mu*30,$S=mu*365,Vd=ia(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Zc)},(t,e)=>(e-t)/Zc,t=>t.getUTCSeconds());Vd.range;const hN=ia(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Zc)},(t,e)=>{t.setTime(+t+e*qo)},(t,e)=>(e-t)/qo,t=>t.getMinutes());hN.range;const pN=ia(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*qo)},(t,e)=>(e-t)/qo,t=>t.getUTCMinutes());pN.range;const mN=ia(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Zc-t.getMinutes()*qo)},(t,e)=>{t.setTime(+t+e*Jc)},(t,e)=>(e-t)/Jc,t=>t.getHours());mN.range;const gN=ia(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Jc)},(t,e)=>(e-t)/Jc,t=>t.getUTCHours());gN.range;const Y1=ia(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*qo)/mu,t=>t.getDate()-1);Y1.range;const Aw=ia(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/mu,t=>t.getUTCDate()-1);Aw.range;const gq=ia(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/mu,t=>Math.floor(t/mu));gq.range;function Nh(t){return ia(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*qo)/dN)}const Sw=Nh(0),B2=Nh(1),Uwe=Nh(2),zwe=Nh(3),gp=Nh(4),Vwe=Nh(5),Hwe=Nh(6);Sw.range;B2.range;Uwe.range;zwe.range;gp.range;Vwe.range;Hwe.range;function Oh(t){return ia(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/dN)}const Tw=Oh(0),U2=Oh(1),Wwe=Oh(2),Gwe=Oh(3),xp=Oh(4),qwe=Oh(5),Ywe=Oh(6);Tw.range;U2.range;Wwe.range;Gwe.range;xp.range;qwe.range;Ywe.range;const xN=ia(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());xN.range;const yN=ia(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());yN.range;const gu=ia(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());gu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ia(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});gu.range;const xu=ia(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());xu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ia(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});xu.range;function xq(t,e,n,r,i,a){const s=[[Vd,1,Zc],[Vd,5,5*Zc],[Vd,15,15*Zc],[Vd,30,30*Zc],[a,1,qo],[a,5,5*qo],[a,15,15*qo],[a,30,30*qo],[i,1,Jc],[i,3,3*Jc],[i,6,6*Jc],[i,12,12*Jc],[r,1,mu],[r,2,2*mu],[n,1,dN],[e,1,B9],[e,3,3*B9],[t,1,$S]];function c(u,p,x){const w=p<u;w&&([u,p]=[p,u]);const A=x&&typeof x.range=="function"?x:d(u,p,x),N=A?A.range(u,+p+1):[];return w?N.reverse():N}function d(u,p,x){const w=Math.abs(p-u)/x,A=JI(([,,I])=>I).right(s,w);if(A===s.length)return t.every(l4(u/$S,p/$S,x));if(A===0)return F2.every(Math.max(l4(u,p,x),1));const[N,S]=s[w/s[A-1][2]<s[A][2]/w?A-1:A];return N.every(S)}return[c,d]}const[$we,Kwe]=xq(xu,yN,Tw,gq,gN,pN),[Xwe,Qwe]=xq(gu,xN,Sw,Y1,mN,hN);function KS(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function XS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Zwe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,c=t.months,d=t.shortMonths,u=Gm(i),p=qm(i),x=Gm(a),w=qm(a),A=Gm(s),N=qm(s),S=Gm(c),I=qm(c),j=Gm(d),D=qm(d),P={a:me,A:Re,b:Be,B:be,c:null,d:G9,e:G9,f:wEe,g:MEe,G:kEe,H:yEe,I:vEe,j:bEe,L:yq,m:EEe,M:_Ee,p:Q,q:ee,Q:$9,s:K9,S:AEe,u:SEe,U:TEe,V:CEe,w:IEe,W:NEe,x:null,X:null,y:OEe,Y:REe,Z:DEe,"%":Y9},V={a:oe,A:se,b:fe,B:Ee,c:null,d:q9,e:q9,f:FEe,g:$Ee,G:XEe,H:PEe,I:jEe,j:LEe,L:bq,m:BEe,M:UEe,p:Ne,q:Ge,Q:$9,s:K9,S:zEe,u:VEe,U:HEe,V:WEe,w:GEe,W:qEe,x:null,X:null,y:YEe,Y:KEe,Z:QEe,"%":Y9},K={a:J,A:H,b:G,B:q,c:Ce,d:H9,e:H9,f:pEe,g:V9,G:z9,H:W9,I:W9,j:uEe,L:hEe,m:cEe,M:fEe,p:B,q:lEe,Q:gEe,s:xEe,S:dEe,u:rEe,U:iEe,V:aEe,w:nEe,W:sEe,x:re,X:ue,y:V9,Y:z9,Z:oEe,"%":mEe};P.x=Z(n,P),P.X=Z(r,P),P.c=Z(e,P),V.x=Z(n,V),V.X=Z(r,V),V.c=Z(e,V);function Z(_e,ze){return function(tt){var Me=[],gt=-1,nt=0,Ut=_e.length,Ct,st,It;for(tt instanceof Date||(tt=new Date(+tt));++gt<Ut;)_e.charCodeAt(gt)===37&&(Me.push(_e.slice(nt,gt)),(st=U9[Ct=_e.charAt(++gt)])!=null?Ct=_e.charAt(++gt):st=Ct==="e"?" ":"0",(It=ze[Ct])&&(Ct=It(tt,st)),Me.push(Ct),nt=gt+1);return Me.push(_e.slice(nt,gt)),Me.join("")}}function F(_e,ze){return function(tt){var Me=Wm(1900,void 0,1),gt=U(Me,_e,tt+="",0),nt,Ut;if(gt!=tt.length)return null;if("Q"in Me)return new Date(Me.Q);if("s"in Me)return new Date(Me.s*1e3+("L"in Me?Me.L:0));if(ze&&!("Z"in Me)&&(Me.Z=0),"p"in Me&&(Me.H=Me.H%12+Me.p*12),Me.m===void 0&&(Me.m="q"in Me?Me.q:0),"V"in Me){if(Me.V<1||Me.V>53)return null;"w"in Me||(Me.w=1),"Z"in Me?(nt=XS(Wm(Me.y,0,1)),Ut=nt.getUTCDay(),nt=Ut>4||Ut===0?U2.ceil(nt):U2(nt),nt=Aw.offset(nt,(Me.V-1)*7),Me.y=nt.getUTCFullYear(),Me.m=nt.getUTCMonth(),Me.d=nt.getUTCDate()+(Me.w+6)%7):(nt=KS(Wm(Me.y,0,1)),Ut=nt.getDay(),nt=Ut>4||Ut===0?B2.ceil(nt):B2(nt),nt=Y1.offset(nt,(Me.V-1)*7),Me.y=nt.getFullYear(),Me.m=nt.getMonth(),Me.d=nt.getDate()+(Me.w+6)%7)}else("W"in Me||"U"in Me)&&("w"in Me||(Me.w="u"in Me?Me.u%7:"W"in Me?1:0),Ut="Z"in Me?XS(Wm(Me.y,0,1)).getUTCDay():KS(Wm(Me.y,0,1)).getDay(),Me.m=0,Me.d="W"in Me?(Me.w+6)%7+Me.W*7-(Ut+5)%7:Me.w+Me.U*7-(Ut+6)%7);return"Z"in Me?(Me.H+=Me.Z/100|0,Me.M+=Me.Z%100,XS(Me)):KS(Me)}}function U(_e,ze,tt,Me){for(var gt=0,nt=ze.length,Ut=tt.length,Ct,st;gt<nt;){if(Me>=Ut)return-1;if(Ct=ze.charCodeAt(gt++),Ct===37){if(Ct=ze.charAt(gt++),st=K[Ct in U9?ze.charAt(gt++):Ct],!st||(Me=st(_e,tt,Me))<0)return-1}else if(Ct!=tt.charCodeAt(Me++))return-1}return Me}function B(_e,ze,tt){var Me=u.exec(ze.slice(tt));return Me?(_e.p=p.get(Me[0].toLowerCase()),tt+Me[0].length):-1}function J(_e,ze,tt){var Me=A.exec(ze.slice(tt));return Me?(_e.w=N.get(Me[0].toLowerCase()),tt+Me[0].length):-1}function H(_e,ze,tt){var Me=x.exec(ze.slice(tt));return Me?(_e.w=w.get(Me[0].toLowerCase()),tt+Me[0].length):-1}function G(_e,ze,tt){var Me=j.exec(ze.slice(tt));return Me?(_e.m=D.get(Me[0].toLowerCase()),tt+Me[0].length):-1}function q(_e,ze,tt){var Me=S.exec(ze.slice(tt));return Me?(_e.m=I.get(Me[0].toLowerCase()),tt+Me[0].length):-1}function Ce(_e,ze,tt){return U(_e,e,ze,tt)}function re(_e,ze,tt){return U(_e,n,ze,tt)}function ue(_e,ze,tt){return U(_e,r,ze,tt)}function me(_e){return s[_e.getDay()]}function Re(_e){return a[_e.getDay()]}function Be(_e){return d[_e.getMonth()]}function be(_e){return c[_e.getMonth()]}function Q(_e){return i[+(_e.getHours()>=12)]}function ee(_e){return 1+~~(_e.getMonth()/3)}function oe(_e){return s[_e.getUTCDay()]}function se(_e){return a[_e.getUTCDay()]}function fe(_e){return d[_e.getUTCMonth()]}function Ee(_e){return c[_e.getUTCMonth()]}function Ne(_e){return i[+(_e.getUTCHours()>=12)]}function Ge(_e){return 1+~~(_e.getUTCMonth()/3)}return{format:function(_e){var ze=Z(_e+="",P);return ze.toString=function(){return _e},ze},parse:function(_e){var ze=F(_e+="",!1);return ze.toString=function(){return _e},ze},utcFormat:function(_e){var ze=Z(_e+="",V);return ze.toString=function(){return _e},ze},utcParse:function(_e){var ze=F(_e+="",!0);return ze.toString=function(){return _e},ze}}}var U9={"-":"",_:" ",0:"0"},ba=/^\s*\d+/,Jwe=/^%/,eEe=/[\\^$*+?|[\]().{}]/g;function Xn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function tEe(t){return t.replace(eEe,"\\$&")}function Gm(t){return new RegExp("^(?:"+t.map(tEe).join("|")+")","i")}function qm(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function nEe(t,e,n){var r=ba.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function rEe(t,e,n){var r=ba.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function iEe(t,e,n){var r=ba.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function aEe(t,e,n){var r=ba.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function sEe(t,e,n){var r=ba.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function z9(t,e,n){var r=ba.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function V9(t,e,n){var r=ba.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function oEe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lEe(t,e,n){var r=ba.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function cEe(t,e,n){var r=ba.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function H9(t,e,n){var r=ba.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function uEe(t,e,n){var r=ba.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function W9(t,e,n){var r=ba.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function fEe(t,e,n){var r=ba.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function dEe(t,e,n){var r=ba.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function hEe(t,e,n){var r=ba.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function pEe(t,e,n){var r=ba.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function mEe(t,e,n){var r=Jwe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function gEe(t,e,n){var r=ba.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function xEe(t,e,n){var r=ba.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function G9(t,e){return Xn(t.getDate(),e,2)}function yEe(t,e){return Xn(t.getHours(),e,2)}function vEe(t,e){return Xn(t.getHours()%12||12,e,2)}function bEe(t,e){return Xn(1+Y1.count(gu(t),t),e,3)}function yq(t,e){return Xn(t.getMilliseconds(),e,3)}function wEe(t,e){return yq(t,e)+"000"}function EEe(t,e){return Xn(t.getMonth()+1,e,2)}function _Ee(t,e){return Xn(t.getMinutes(),e,2)}function AEe(t,e){return Xn(t.getSeconds(),e,2)}function SEe(t){var e=t.getDay();return e===0?7:e}function TEe(t,e){return Xn(Sw.count(gu(t)-1,t),e,2)}function vq(t){var e=t.getDay();return e>=4||e===0?gp(t):gp.ceil(t)}function CEe(t,e){return t=vq(t),Xn(gp.count(gu(t),t)+(gu(t).getDay()===4),e,2)}function IEe(t){return t.getDay()}function NEe(t,e){return Xn(B2.count(gu(t)-1,t),e,2)}function OEe(t,e){return Xn(t.getFullYear()%100,e,2)}function MEe(t,e){return t=vq(t),Xn(t.getFullYear()%100,e,2)}function REe(t,e){return Xn(t.getFullYear()%1e4,e,4)}function kEe(t,e){var n=t.getDay();return t=n>=4||n===0?gp(t):gp.ceil(t),Xn(t.getFullYear()%1e4,e,4)}function DEe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Xn(e/60|0,"0",2)+Xn(e%60,"0",2)}function q9(t,e){return Xn(t.getUTCDate(),e,2)}function PEe(t,e){return Xn(t.getUTCHours(),e,2)}function jEe(t,e){return Xn(t.getUTCHours()%12||12,e,2)}function LEe(t,e){return Xn(1+Aw.count(xu(t),t),e,3)}function bq(t,e){return Xn(t.getUTCMilliseconds(),e,3)}function FEe(t,e){return bq(t,e)+"000"}function BEe(t,e){return Xn(t.getUTCMonth()+1,e,2)}function UEe(t,e){return Xn(t.getUTCMinutes(),e,2)}function zEe(t,e){return Xn(t.getUTCSeconds(),e,2)}function VEe(t){var e=t.getUTCDay();return e===0?7:e}function HEe(t,e){return Xn(Tw.count(xu(t)-1,t),e,2)}function wq(t){var e=t.getUTCDay();return e>=4||e===0?xp(t):xp.ceil(t)}function WEe(t,e){return t=wq(t),Xn(xp.count(xu(t),t)+(xu(t).getUTCDay()===4),e,2)}function GEe(t){return t.getUTCDay()}function qEe(t,e){return Xn(U2.count(xu(t)-1,t),e,2)}function YEe(t,e){return Xn(t.getUTCFullYear()%100,e,2)}function $Ee(t,e){return t=wq(t),Xn(t.getUTCFullYear()%100,e,2)}function KEe(t,e){return Xn(t.getUTCFullYear()%1e4,e,4)}function XEe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?xp(t):xp.ceil(t),Xn(t.getUTCFullYear()%1e4,e,4)}function QEe(){return"+0000"}function Y9(){return"%"}function $9(t){return+t}function K9(t){return Math.floor(+t/1e3)}var p0,Eq,_q;ZEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ZEe(t){return p0=Zwe(t),Eq=p0.format,p0.parse,_q=p0.utcFormat,p0.utcParse,p0}function JEe(t){return new Date(t)}function e_e(t){return t instanceof Date?+t:+new Date(+t)}function vN(t,e,n,r,i,a,s,c,d,u){var p=aN(),x=p.invert,w=p.domain,A=u(".%L"),N=u(":%S"),S=u("%I:%M"),I=u("%I %p"),j=u("%a %d"),D=u("%b %d"),P=u("%B"),V=u("%Y");function K(Z){return(d(Z)<Z?A:c(Z)<Z?N:s(Z)<Z?S:a(Z)<Z?I:r(Z)<Z?i(Z)<Z?j:D:n(Z)<Z?P:V)(Z)}return p.invert=function(Z){return new Date(x(Z))},p.domain=function(Z){return arguments.length?w(Array.from(Z,e_e)):w().map(JEe)},p.ticks=function(Z){var F=w();return t(F[0],F[F.length-1],Z??10)},p.tickFormat=function(Z,F){return F==null?K:u(F)},p.nice=function(Z){var F=w();return(!Z||typeof Z.range!="function")&&(Z=e(F[0],F[F.length-1],Z??10)),Z?w(cq(F,Z)):p},p.copy=function(){return q1(p,vN(t,e,n,r,i,a,s,c,d,u))},p}function t_e(){return tl.apply(vN(Xwe,Qwe,gu,xN,Sw,Y1,mN,hN,Vd,Eq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function n_e(){return tl.apply(vN($we,Kwe,xu,yN,Tw,Aw,gN,pN,Vd,_q).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Cw(){var t=0,e=1,n,r,i,a,s=bs,c=!1,d;function u(x){return x==null||isNaN(x=+x)?d:s(i===0?.5:(x=(a(x)-n)*i,c?Math.max(0,Math.min(1,x)):x))}u.domain=function(x){return arguments.length?([t,e]=x,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(x){return arguments.length?(c=!!x,u):c},u.interpolator=function(x){return arguments.length?(s=x,u):s};function p(x){return function(w){var A,N;return arguments.length?([A,N]=w,s=x(A,N),u):[s(0),s(1)]}}return u.range=p(Bp),u.rangeRound=p(iN),u.unknown=function(x){return arguments.length?(d=x,u):d},function(x){return a=x,n=x(t),r=x(e),i=n===r?0:1/(r-n),u}}function id(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Aq(){var t=rd(Cw()(bs));return t.copy=function(){return id(t,Aq())},Cu.apply(t,arguments)}function Sq(){var t=lN(Cw()).domain([1,10]);return t.copy=function(){return id(t,Sq()).base(t.base())},Cu.apply(t,arguments)}function Tq(){var t=cN(Cw());return t.copy=function(){return id(t,Tq()).constant(t.constant())},Cu.apply(t,arguments)}function bN(){var t=uN(Cw());return t.copy=function(){return id(t,bN()).exponent(t.exponent())},Cu.apply(t,arguments)}function r_e(){return bN.apply(null,arguments).exponent(.5)}function Cq(){var t=[],e=bs;function n(r){if(r!=null&&!isNaN(r=+r))return e((W1(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(kf),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Vbe(t,a/r))},n.copy=function(){return Cq(e).domain(t)},Cu.apply(n,arguments)}function Iw(){var t=0,e=.5,n=1,r=1,i,a,s,c,d,u=bs,p,x=!1,w;function A(S){return isNaN(S=+S)?w:(S=.5+((S=+p(S))-a)*(r*S<r*a?c:d),u(x?Math.max(0,Math.min(1,S)):S))}A.domain=function(S){return arguments.length?([t,e,n]=S,i=p(t=+t),a=p(e=+e),s=p(n=+n),c=i===a?0:.5/(a-i),d=a===s?0:.5/(s-a),r=a<i?-1:1,A):[t,e,n]},A.clamp=function(S){return arguments.length?(x=!!S,A):x},A.interpolator=function(S){return arguments.length?(u=S,A):u};function N(S){return function(I){var j,D,P;return arguments.length?([j,D,P]=I,u=mwe(S,[j,D,P]),A):[u(0),u(.5),u(1)]}}return A.range=N(Bp),A.rangeRound=N(iN),A.unknown=function(S){return arguments.length?(w=S,A):w},function(S){return p=S,i=S(t),a=S(e),s=S(n),c=i===a?0:.5/(a-i),d=a===s?0:.5/(s-a),r=a<i?-1:1,A}}function Iq(){var t=rd(Iw()(bs));return t.copy=function(){return id(t,Iq())},Cu.apply(t,arguments)}function Nq(){var t=lN(Iw()).domain([.1,1,10]);return t.copy=function(){return id(t,Nq()).base(t.base())},Cu.apply(t,arguments)}function Oq(){var t=cN(Iw());return t.copy=function(){return id(t,Oq()).constant(t.constant())},Cu.apply(t,arguments)}function wN(){var t=uN(Iw());return t.copy=function(){return id(t,wN()).exponent(t.exponent())},Cu.apply(t,arguments)}function i_e(){return wN.apply(null,arguments).exponent(.5)}const ag=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:tN,scaleDiverging:Iq,scaleDivergingLog:Nq,scaleDivergingPow:wN,scaleDivergingSqrt:i_e,scaleDivergingSymlog:Oq,scaleIdentity:lq,scaleImplicit:c4,scaleLinear:oq,scaleLog:uq,scaleOrdinal:eN,scalePoint:Gbe,scalePow:fN,scaleQuantile:hq,scaleQuantize:pq,scaleRadial:dq,scaleSequential:Aq,scaleSequentialLog:Sq,scaleSequentialPow:bN,scaleSequentialQuantile:Cq,scaleSequentialSqrt:r_e,scaleSequentialSymlog:Tq,scaleSqrt:Fwe,scaleSymlog:fq,scaleThreshold:mq,scaleTime:t_e,scaleUtc:n_e,tickFormat:sq},Symbol.toStringTag,{value:"Module"}));var Iu=t=>t.chartData,Nw=Fe([Iu],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Mq=(t,e,n,r)=>r?Nw(t):Iu(t),Rq=(t,e,n)=>n?Nw(t):Iu(t);function yu(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Sn(e)&&Sn(n))return!0}return!1}function X9(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function kq(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Sn(n))i=n;else if(typeof n=="function")return;if(Sn(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(yu(s))return s}}function a_e(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(yu(r))return X9(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,c;if(i==="auto")e!=null&&(s=Math.min(...e));else if(Mt(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e?.[0]))}catch{}else if(typeof i=="string"&&lj.test(i)){var d=lj.exec(i);if(d==null||d[1]==null||e==null)s=void 0;else{var u=+d[1];s=e[0]-u}}else s=e?.[0];if(a==="auto")e!=null&&(c=Math.max(...e));else if(Mt(a))c=a;else if(typeof a=="function")try{e!=null&&(c=a(e?.[1]))}catch{}else if(typeof a=="string"&&cj.test(a)){var p=cj.exec(a);if(p==null||p[1]==null||e==null)c=void 0;else{var x=+p[1];c=e[1]+x}}else c=e?.[1];var w=[s,c];if(yu(w))return e==null?w:X9(w,e,n)}}}var Up=1e9,s_e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_N,Jr=!0,Jo="[DecimalError] ",$d=Jo+"Invalid argument: ",EN=Jo+"Exponent out of range: ",zp=Math.floor,Dd=Math.pow,o_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mo,ha=1e7,Ur=7,Dq=9007199254740991,z2=zp(Dq/Ur),jt={};jt.absoluteValue=jt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};jt.comparedTo=jt.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};jt.decimalPlaces=jt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ur;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};jt.dividedBy=jt.div=function(t){return nu(this,new this.constructor(t))};jt.dividedToIntegerBy=jt.idiv=function(t){var e=this,n=e.constructor;return Ir(nu(e,new n(t),0,1),n.precision)};jt.equals=jt.eq=function(t){return!this.cmp(t)};jt.exponent=function(){return $i(this)};jt.greaterThan=jt.gt=function(t){return this.cmp(t)>0};jt.greaterThanOrEqualTo=jt.gte=function(t){return this.cmp(t)>=0};jt.isInteger=jt.isint=function(){return this.e>this.d.length-2};jt.isNegative=jt.isneg=function(){return this.s<0};jt.isPositive=jt.ispos=function(){return this.s>0};jt.isZero=function(){return this.s===0};jt.lessThan=jt.lt=function(t){return this.cmp(t)<0};jt.lessThanOrEqualTo=jt.lte=function(t){return this.cmp(t)<1};jt.logarithm=jt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(mo))throw Error(Jo+"NaN");if(n.s<1)throw Error(Jo+(n.s?"NaN":"-Infinity"));return n.eq(mo)?new r(0):(Jr=!1,e=nu(s1(n,a),s1(t,a),a),Jr=!0,Ir(e,i))};jt.minus=jt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Lq(e,t):Pq(e,(t.s=-t.s,t))};jt.modulo=jt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Jo+"NaN");return n.s?(Jr=!1,e=nu(n,t,0,1).times(t),Jr=!0,n.minus(e)):Ir(new r(n),i)};jt.naturalExponential=jt.exp=function(){return jq(this)};jt.naturalLogarithm=jt.ln=function(){return s1(this)};jt.negated=jt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};jt.plus=jt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Pq(e,t):Lq(e,(t.s=-t.s,t))};jt.precision=jt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error($d+t);if(e=$i(i)+1,r=i.d.length-1,n=r*Ur+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};jt.squareRoot=jt.sqrt=function(){var t,e,n,r,i,a,s,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Jo+"NaN")}for(t=$i(c),Jr=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=Ql(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=zp((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=s=n+3;;)if(a=r,r=a.plus(nu(c,a,s+2)).times(.5),Ql(a.d).slice(0,s)===(e=Ql(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Ir(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(e!="9999")break;s+=4}return Jr=!0,Ir(r,n)};jt.times=jt.mul=function(t){var e,n,r,i,a,s,c,d,u,p=this,x=p.constructor,w=p.d,A=(t=new x(t)).d;if(!p.s||!t.s)return new x(0);for(t.s*=p.s,n=p.e+t.e,d=w.length,u=A.length,d<u&&(a=w,w=A,A=a,s=d,d=u,u=s),a=[],s=d+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=d+r;i>r;)c=a[i]+A[r]*w[i-r-1]+e,a[i--]=c%ha|0,e=c/ha|0;a[i]=(a[i]+e)%ha|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Jr?Ir(t,x.precision):t};jt.toDecimalPlaces=jt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(mc(t,0,Up),e===void 0?e=r.rounding:mc(e,0,8),Ir(n,t+$i(n)+1,e))};jt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=hh(r,!0):(mc(t,0,Up),e===void 0?e=i.rounding:mc(e,0,8),r=Ir(new i(r),t+1,e),n=hh(r,!0,t+1)),n};jt.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?hh(i):(mc(t,0,Up),e===void 0?e=a.rounding:mc(e,0,8),r=Ir(new a(i),t+$i(i)+1,e),n=hh(r.abs(),!1,t+$i(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};jt.toInteger=jt.toint=function(){var t=this,e=t.constructor;return Ir(new e(t),$i(t)+1,e.rounding)};jt.toNumber=function(){return+this};jt.toPower=jt.pow=function(t){var e,n,r,i,a,s,c=this,d=c.constructor,u=12,p=+(t=new d(t));if(!t.s)return new d(mo);if(c=new d(c),!c.s){if(t.s<1)throw Error(Jo+"Infinity");return c}if(c.eq(mo))return c;if(r=d.precision,t.eq(mo))return Ir(c,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=c.s,s){if((n=p<0?-p:p)<=Dq){for(i=new d(mo),e=Math.ceil(r/Ur+4),Jr=!1;n%2&&(i=i.times(c),Z9(i.d,e)),n=zp(n/2),n!==0;)c=c.times(c),Z9(c.d,e);return Jr=!0,t.s<0?new d(mo).div(i):Ir(i,r)}}else if(a<0)throw Error(Jo+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Jr=!1,i=t.times(s1(c,r+u)),Jr=!0,i=jq(i),i.s=a,i};jt.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=$i(i),r=hh(i,n<=a.toExpNeg||n>=a.toExpPos)):(mc(t,1,Up),e===void 0?e=a.rounding:mc(e,0,8),i=Ir(new a(i),t,e),n=$i(i),r=hh(i,t<=n||n<=a.toExpNeg,t)),r};jt.toSignificantDigits=jt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(mc(t,1,Up),e===void 0?e=r.rounding:mc(e,0,8)),Ir(new r(n),t,e)};jt.toString=jt.valueOf=jt.val=jt.toJSON=jt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=$i(t),n=t.constructor;return hh(t,e<=n.toExpNeg||e>=n.toExpPos)};function Pq(t,e){var n,r,i,a,s,c,d,u,p=t.constructor,x=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Jr?Ir(e,x):e;if(d=t.d,u=e.d,s=t.e,i=e.e,d=d.slice(),a=s-i,a){for(a<0?(r=d,a=-a,c=u.length):(r=u,i=s,c=d.length),s=Math.ceil(x/Ur),c=s>c?s+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=d.length,a=u.length,c-a<0&&(a=c,r=u,u=d,d=r),n=0;a;)n=(d[--a]=d[a]+u[a]+n)/ha|0,d[a]%=ha;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,Jr?Ir(e,x):e}function mc(t,e,n){if(t!==~~t||t<e||t>n)throw Error($d+t)}function Ql(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=Ur-r.length,n&&(a+=pf(n)),a+=r;s=t[e],r=s+"",n=Ur-r.length,n&&(a+=pf(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var nu=(function(){function t(r,i){var a,s=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+s,r[c]=a%ha|0,s=a/ha|0;return s&&r.unshift(s),r}function e(r,i,a,s){var c,d;if(a!=s)d=a>s?1:-1;else for(c=d=0;c<a;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*ha+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var c,d,u,p,x,w,A,N,S,I,j,D,P,V,K,Z,F,U,B=r.constructor,J=r.s==i.s?1:-1,H=r.d,G=i.d;if(!r.s)return new B(r);if(!i.s)throw Error(Jo+"Division by zero");for(d=r.e-i.e,F=G.length,K=H.length,A=new B(J),N=A.d=[],u=0;G[u]==(H[u]||0);)++u;if(G[u]>(H[u]||0)&&--d,a==null?D=a=B.precision:s?D=a+($i(r)-$i(i))+1:D=a,D<0)return new B(0);if(D=D/Ur+2|0,u=0,F==1)for(p=0,G=G[0],D++;(u<K||p)&&D--;u++)P=p*ha+(H[u]||0),N[u]=P/G|0,p=P%G|0;else{for(p=ha/(G[0]+1)|0,p>1&&(G=t(G,p),H=t(H,p),F=G.length,K=H.length),V=F,S=H.slice(0,F),I=S.length;I<F;)S[I++]=0;U=G.slice(),U.unshift(0),Z=G[0],G[1]>=ha/2&&++Z;do p=0,c=e(G,S,F,I),c<0?(j=S[0],F!=I&&(j=j*ha+(S[1]||0)),p=j/Z|0,p>1?(p>=ha&&(p=ha-1),x=t(G,p),w=x.length,I=S.length,c=e(x,S,w,I),c==1&&(p--,n(x,F<w?U:G,w))):(p==0&&(c=p=1),x=G.slice()),w=x.length,w<I&&x.unshift(0),n(S,x,I),c==-1&&(I=S.length,c=e(G,S,F,I),c<1&&(p++,n(S,F<I?U:G,I))),I=S.length):c===0&&(p++,S=[0]),N[u++]=p,c&&S[0]?S[I++]=H[V]||0:(S=[H[V]],I=1);while((V++<K||S[0]!==void 0)&&D--)}return N[0]||N.shift(),A.e=d,Ir(A,s?a+$i(A)+1:a)}})();function jq(t,e){var n,r,i,a,s,c,d=0,u=0,p=t.constructor,x=p.precision;if($i(t)>16)throw Error(EN+$i(t));if(!t.s)return new p(mo);for(Jr=!1,c=x,s=new p(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Dd(2,u))/Math.LN10*2+5|0,c+=r,n=i=a=new p(mo),p.precision=c;;){if(i=Ir(i.times(t),c),n=n.times(++d),s=a.plus(nu(i,n,c)),Ql(s.d).slice(0,c)===Ql(a.d).slice(0,c)){for(;u--;)a=Ir(a.times(a),c);return p.precision=x,e==null?(Jr=!0,Ir(a,x)):a}a=s}}function $i(t){for(var e=t.e*Ur,n=t.d[0];n>=10;n/=10)e++;return e}function QS(t,e,n){if(e>t.LN10.sd())throw Jr=!0,n&&(t.precision=n),Error(Jo+"LN10 precision limit exceeded");return Ir(new t(t.LN10),e)}function pf(t){for(var e="";t--;)e+="0";return e}function s1(t,e){var n,r,i,a,s,c,d,u,p,x=1,w=10,A=t,N=A.d,S=A.constructor,I=S.precision;if(A.s<1)throw Error(Jo+(A.s?"NaN":"-Infinity"));if(A.eq(mo))return new S(0);if(e==null?(Jr=!1,u=I):u=e,A.eq(10))return e==null&&(Jr=!0),QS(S,u);if(u+=w,S.precision=u,n=Ql(N),r=n.charAt(0),a=$i(A),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)A=A.times(t),n=Ql(A.d),r=n.charAt(0),x++;a=$i(A),r>1?(A=new S("0."+n),a++):A=new S(r+"."+n.slice(1))}else return d=QS(S,u+2,I).times(a+""),A=s1(new S(r+"."+n.slice(1)),u-w).plus(d),S.precision=I,e==null?(Jr=!0,Ir(A,I)):A;for(c=s=A=nu(A.minus(mo),A.plus(mo),u),p=Ir(A.times(A),u),i=3;;){if(s=Ir(s.times(p),u),d=c.plus(nu(s,new S(i),u)),Ql(d.d).slice(0,u)===Ql(c.d).slice(0,u))return c=c.times(2),a!==0&&(c=c.plus(QS(S,u+2,I).times(a+""))),c=nu(c,new S(x),u),S.precision=I,e==null?(Jr=!0,Ir(c,I)):c;c=d,i+=2}}function Q9(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=zp(n/Ur),t.d=[],r=(n+1)%Ur,n<0&&(r+=Ur),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ur;r<i;)t.d.push(+e.slice(r,r+=Ur));e=e.slice(r),r=Ur-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Jr&&(t.e>z2||t.e<-z2))throw Error(EN+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ir(t,e,n){var r,i,a,s,c,d,u,p,x=t.d;for(s=1,a=x[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=Ur,i=e,u=x[p=0];else{if(p=Math.ceil((r+1)/Ur),a=x.length,p>=a)return t;for(u=a=x[p],s=1;a>=10;a/=10)s++;r%=Ur,i=r-Ur+s}if(n!==void 0&&(a=Dd(10,s-i-1),c=u/a%10|0,d=e<0||x[p+1]!==void 0||u%a,d=n<4?(c||d)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?u/Dd(10,s-i):0:x[p-1])%10&1||n==(t.s<0?8:7))),e<1||!x[0])return d?(a=$i(t),x.length=1,e=e-a-1,x[0]=Dd(10,(Ur-e%Ur)%Ur),t.e=zp(-e/Ur)||0):(x.length=1,x[0]=t.e=t.s=0),t;if(r==0?(x.length=p,a=1,p--):(x.length=p+1,a=Dd(10,Ur-r),x[p]=i>0?(u/Dd(10,s-i)%Dd(10,i)|0)*a:0),d)for(;;)if(p==0){(x[0]+=a)==ha&&(x[0]=1,++t.e);break}else{if(x[p]+=a,x[p]!=ha)break;x[p--]=0,a=1}for(r=x.length;x[--r]===0;)x.pop();if(Jr&&(t.e>z2||t.e<-z2))throw Error(EN+$i(t));return t}function Lq(t,e){var n,r,i,a,s,c,d,u,p,x,w=t.constructor,A=w.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new w(t),Jr?Ir(e,A):e;if(d=t.d,x=e.d,r=e.e,u=t.e,d=d.slice(),s=u-r,s){for(p=s<0,p?(n=d,s=-s,c=x.length):(n=x,r=u,c=d.length),i=Math.max(Math.ceil(A/Ur),c)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=x.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(d[i]!=x[i]){p=d[i]<x[i];break}s=0}for(p&&(n=d,d=x,x=n,e.s=-e.s),c=d.length,i=x.length-c;i>0;--i)d[c++]=0;for(i=x.length;i>s;){if(d[--i]<x[i]){for(a=i;a&&d[--a]===0;)d[a]=ha-1;--d[a],d[i]+=ha}d[i]-=x[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,Jr?Ir(e,A):e):new w(0)}function hh(t,e,n){var r,i=$i(t),a=Ql(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+pf(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+pf(-i-1)+a,n&&(r=n-s)>0&&(a+=pf(r))):i>=s?(a+=pf(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+pf(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=pf(r))),t.s<0?"-"+a:a}function Z9(t,e){if(t.length>e)return t.length=e,!0}function Fq(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error($d+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return Q9(s,a.toString())}else if(typeof a!="string")throw Error($d+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,o_e.test(a))Q9(s,a);else throw Error($d+a)}if(i.prototype=jt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Fq,i.config=i.set=l_e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function l_e(t){if(!t||typeof t!="object")throw Error(Jo+"Object expected");var e,n,r,i=["precision",1,Up,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(zp(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error($d+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error($d+n+": "+r);return this}var _N=Fq(s_e);mo=new _N(1);const hr=_N;function Bq(t){var e;return t===0?e=1:e=Math.floor(new hr(t).abs().log(10).toNumber())+1,e}function Uq(t,e,n){for(var r=new hr(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var zq=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},Vq=(t,e,n)=>{if(t.lte(0))return new hr(0);var r=Bq(t.toNumber()),i=new hr(10).pow(r),a=t.div(i),s=r!==1?.05:.1,c=new hr(Math.ceil(a.div(s).toNumber())).add(n).mul(s),d=c.mul(i);return e?new hr(d.toNumber()):new hr(Math.ceil(d.toNumber()))},c_e=(t,e,n)=>{var r=new hr(1),i=new hr(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new hr(10).pow(Bq(t)-1),i=new hr(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new hr(Math.floor(t)))}else t===0?i=new hr(Math.floor((e-1)/2)):n||(i=new hr(Math.floor(t)));for(var s=Math.floor((e-1)/2),c=[],d=0;d<e;d++)c.push(i.add(new hr(d-s).mul(r)).toNumber());return c},Hq=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new hr(0),tickMin:new hr(0),tickMax:new hr(0)};var s=Vq(new hr(n).sub(e).div(r-1),i,a),c;e<=0&&n>=0?c=new hr(0):(c=new hr(e).add(n).div(2),c=c.sub(new hr(c).mod(s)));var d=Math.ceil(c.sub(e).div(s).toNumber()),u=Math.ceil(new hr(n).sub(c).div(s).toNumber()),p=d+u+1;return p>r?Hq(e,n,r,i,a+1):(p<r&&(u=n>0?u+(r-p):u,d=n>0?d:d+(r-p)),{step:s,tickMin:c.sub(new hr(d).mul(s)),tickMax:c.add(new hr(u).mul(s))})},u_e=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[c,d]=zq([n,r]);if(c===-1/0||d===1/0){var u=d===1/0?[c,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),d];return n>r?u.reverse():u}if(c===d)return c_e(c,i,a);var{step:p,tickMin:x,tickMax:w}=Hq(c,d,s,a,0),A=Uq(x,w.add(new hr(.1).mul(p)),p);return n>r?A.reverse():A},f_e=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,c]=zq([r,i]);if(s===-1/0||c===1/0)return[r,i];if(s===c)return[s];var d=Math.max(n,2),u=Vq(new hr(c).sub(s).div(d-1),a,0),p=[...Uq(new hr(s),new hr(c),u),c];return a===!1&&(p=p.map(x=>Math.round(x))),r>i?p.reverse():p},Wq=t=>t.rootProps.maxBarSize,d_e=t=>t.rootProps.barGap,Gq=t=>t.rootProps.barCategoryGap,h_e=t=>t.rootProps.barSize,$1=t=>t.rootProps.stackOffset,qq=t=>t.rootProps.reverseStackOrder,AN=t=>t.options.chartName,SN=t=>t.rootProps.syncId,Yq=t=>t.rootProps.syncMethod,TN=t=>t.options.eventEmitter,p_e=t=>t.rootProps.baseValue,Yi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Id={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Hl={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Ow=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function Mw(t,e,n){if(n!=="auto")return n;if(t!=null)return xc(t,e)?"category":"number"}function J9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J9(Object(n),!0).forEach(function(r){m_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m_e(t,e,n){return(e=g_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g_e(t){var e=x_e(t,"string");return typeof e=="symbol"?e:e+""}function x_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eL={allowDataOverflow:Id.allowDataOverflow,allowDecimals:Id.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Id.angleAxisId,includeHidden:!1,name:void 0,reversed:Id.reversed,scale:Id.scale,tick:Id.tick,tickCount:void 0,ticks:void 0,type:Id.type,unit:void 0},tL={allowDataOverflow:Hl.allowDataOverflow,allowDecimals:Hl.allowDecimals,allowDuplicatedCategory:Hl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Hl.radiusAxisId,includeHidden:Hl.includeHidden,name:void 0,reversed:Hl.reversed,scale:Hl.scale,tick:Hl.tick,tickCount:Hl.tickCount,ticks:void 0,type:Hl.type,unit:void 0},y_e=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},CN=Fe([y_e,OG],(t,e)=>{var n;if(t!=null)return t;var r=(n=Mw(e,"angleAxis",eL.type))!==null&&n!==void 0?n:"category";return V2(V2({},eL),{},{type:r})}),v_e=(t,e)=>t.polarAxis.radiusAxis[e],IN=Fe([v_e,OG],(t,e)=>{var n;if(t!=null)return t;var r=(n=Mw(e,"radiusAxis",tL.type))!==null&&n!==void 0?n:"category";return V2(V2({},tL),{},{type:r})}),Rw=t=>t.polarOptions,NN=Fe([Su,Tu,ra],YG),$q=Fe([Rw,NN],(t,e)=>{if(t!=null)return rs(t.innerRadius,e,0)}),Kq=Fe([Rw,NN],(t,e)=>{if(t!=null)return rs(t.outerRadius,e,e*.8)}),b_e=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},Xq=Fe([Rw],b_e);Fe([CN,Xq],Ow);var Qq=Fe([NN,$q,Kq],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});Fe([IN,Qq],Ow);var Zq=Fe([Gn,Rw,$q,Kq,Su,Tu],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:c,startAngle:d,endAngle:u}=e;return{cx:rs(s,i,i/2),cy:rs(c,a,a/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:u,clockWise:!1}}}),ui=(t,e)=>e,K1=(t,e,n)=>n;function kw(t){return t?.id}function Jq(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(c=>{var d,u=(d=c.data)!==null&&d!==void 0?d:r;if(!(u==null||u.length===0)){var p=kw(c);u.forEach((x,w)=>{var A=a==null||i?w:String(Er(x,a,null)),N=Er(x,c.dataKey,0),S;s.has(A)?S=s.get(A):S={},Object.assign(S,{[p]:N}),s.set(A,S)})}}),Array.from(s.values())}function Dw(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Pw=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function jw(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function w_e(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var wa=t=>{var e=Gn(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Vp=t=>t.tooltip.settings.axisId;function E_e(t){if(t in ag)return ag[t]();var e="scale".concat(P1(t));if(e in ag)return ag[e]()}function nL(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(a){function s(){return a.apply(this,arguments)}return s.toString=function(){return a.toString()},s})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var s=i[0],c=i[1];return s<=c?a>=s&&a<=c:a>=c&&a<=s},bandwidth:n?()=>n.call(t):void 0,ticks:e?a=>e.call(t,a):void 0,map:(a,s)=>{var c=t(a);if(c!=null){if(t.bandwidth&&s!==null&&s!==void 0&&s.position){var d=t.bandwidth();switch(s.position){case"middle":c+=d/2;break;case"end":c+=d;break}}return c}}}}function rL(t,e,n){if(typeof t=="function")return nL(t.copy().domain(e).range(n));if(t!=null){var r=E_e(t);if(r!=null)return r.domain(e).range(n),nL(r)}}var eY=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!yu(e)){for(var n,r,i=0;i<e.length;i++){var a=e[i];Sn(a)&&((n===void 0||a<n)&&(n=a),(r===void 0||a>r)&&(r=a))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function iL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iL(Object(n),!0).forEach(function(r){__e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function __e(t,e,n){return(e=A_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A_e(t){var e=S_e(t,"string");return typeof e=="symbol"?e:e+""}function S_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var h4=[0,"auto"],ua={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},tY=(t,e)=>t.cartesianAxis.xAxis[e],Nu=(t,e)=>{var n=tY(t,e);return n??ua},fa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:h4,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:F1},nY=(t,e)=>t.cartesianAxis.yAxis[e],Ou=(t,e)=>{var n=nY(t,e);return n??fa},T_e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ON=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??T_e},Ti=(t,e,n)=>{switch(e){case"xAxis":return Nu(t,n);case"yAxis":return Ou(t,n);case"zAxis":return ON(t,n);case"angleAxis":return CN(t,n);case"radiusAxis":return IN(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},C_e=(t,e,n)=>{switch(e){case"xAxis":return Nu(t,n);case"yAxis":return Ou(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Hp=(t,e,n)=>{switch(e){case"xAxis":return Nu(t,n);case"yAxis":return Ou(t,n);case"angleAxis":return CN(t,n);case"radiusAxis":return IN(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},rY=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function MN(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Lw=t=>t.graphicalItems.cartesianItems,I_e=Fe([ui,K1],MN),RN=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),X1=Fe([Lw,Ti,I_e],RN,{memoizeOptions:{resultEqualityCheck:jw}}),iY=Fe([X1],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Dw)),aY=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),N_e=Fe([X1],aY),kN=t=>t.map(e=>e.data).filter(Boolean).flat(1),O_e=Fe([X1],kN,{memoizeOptions:{resultEqualityCheck:jw}}),DN=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},PN=Fe([O_e,Mq],DN),jN=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Er(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Er(i,r)}))):t.map(r=>({value:r})),Fw=Fe([PN,Ti,X1],jN);function sY(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function bv(t){if(hc(t)||t instanceof Date){var e=Number(t);if(Sn(e))return e}}function aL(t){if(Array.isArray(t)){var e=[bv(t[0]),bv(t[1])];return yu(e)?e:void 0}var n=bv(t);if(n!=null)return[n,n]}function vu(t){return t.map(bv).filter(Ls)}function M_e(t,e,n){return!n||typeof e!="number"||Nl(e)?[]:n.length?vu(n.flatMap(r=>{var i=Er(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Sn(a)||!Sn(s)))return[e-a,e+s]})):[]}var aa=t=>{var e=wa(t),n=Vp(t);return Hp(t,e,n)},Q1=Fe([aa],t=>t?.dataKey),R_e=Fe([iY,Mq,aa],Jq),oY=(t,e,n,r)=>{var i={},a=e.reduce((s,c)=>{if(c.stackId==null)return s;var d=s[c.stackId];return d==null&&(d=[]),d.push(c),s[c.stackId]=d,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[c,d]=s,u=r?[...d].reverse():d,p=u.map(kw);return[c,{stackedData:pve(t,p,n),graphicalItems:u}]}))},W2=Fe([R_e,iY,$1,qq],oY),lY=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=yve(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},k_e=Fe([Ti],t=>t.allowDataOverflow),LN=t=>{var e;if(t==null||!("domain"in t))return h4;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=vu(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:h4},FN=Fe([Ti],LN),BN=Fe([FN,k_e],kq),D_e=Fe([W2,Iu,ui,BN],lY,{memoizeOptions:{resultEqualityCheck:Pw}}),Bw=t=>t.errorBars,P_e=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>sY(n,r)),G2=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),c=Math.max(...a);return[s,c]}},UN=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(c=>{n.forEach(d=>{var u,p,x=(u=r[d.id])===null||u===void 0?void 0:u.filter(j=>sY(i,j)),w=Er(c,(p=e.dataKey)!==null&&p!==void 0?p:d.dataKey),A=M_e(c,w,x);if(A.length>=2){var N=Math.min(...A),S=Math.max(...A);(a==null||N<a)&&(a=N),(s==null||S>s)&&(s=S)}var I=aL(w);I!=null&&(a=a==null?I[0]:Math.min(a,I[0]),s=s==null?I[1]:Math.max(s,I[1]))})}),e?.dataKey!=null&&t.forEach(c=>{var d=aL(Er(c,e.dataKey));d!=null&&(a=a==null?d[0]:Math.min(a,d[0]),s=s==null?d[1]:Math.max(s,d[1]))}),Sn(a)&&Sn(s))return[a,s]},j_e=Fe([PN,Ti,N_e,Bw,ui],UN,{memoizeOptions:{resultEqualityCheck:Pw}});function L_e(t){var{value:e}=t;if(hc(e)||e instanceof Date)return e}var F_e=(t,e,n)=>{var r=t.map(L_e).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&SW(r))?QG(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},cY=t=>t.referenceElements.dots,Wp=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),B_e=Fe([cY,ui,K1],Wp),uY=t=>t.referenceElements.areas,U_e=Fe([uY,ui,K1],Wp),fY=t=>t.referenceElements.lines,z_e=Fe([fY,ui,K1],Wp),dY=(t,e)=>{if(t!=null){var n=vu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},V_e=Fe(B_e,ui,dY),hY=(t,e)=>{if(t!=null){var n=vu(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},H_e=Fe([U_e,ui],hY);function W_e(t){var e;if(t.x!=null)return vu([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:vu(n)}function G_e(t){var e;if(t.y!=null)return vu([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:vu(n)}var pY=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?W_e(r):G_e(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},q_e=Fe([z_e,ui],pY),Y_e=Fe(V_e,q_e,H_e,(t,e,n)=>G2(t,n,e)),zN=(t,e,n,r,i,a,s,c)=>{if(n!=null)return n;var d=s==="vertical"&&c==="xAxis"||s==="horizontal"&&c==="yAxis",u=d?G2(r,a,i):G2(a,i);return a_e(e,u,t.allowDataOverflow)},$_e=Fe([Ti,FN,BN,D_e,j_e,Y_e,Gn,ui],zN,{memoizeOptions:{resultEqualityCheck:Pw}}),K_e=[0,1],VN=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:c,type:d}=t,u=xc(e,a);if(u&&c==null){var p;return QG(0,(p=n?.length)!==null&&p!==void 0?p:0)}return d==="category"?F_e(r,t,u):i==="expand"?K_e:s}},HN=Fe([Ti,Gn,PN,Fw,$1,ui,$_e],VN);function X_e(t){return t in ag}var mY=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var a="scale".concat(P1(r));return X_e(a)?a:"point"}}},ad=Fe([Ti,rY,AN],mY);function WN(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?rL(t.scale,n,r):rL(e,n,r)}var GN=(t,e,n)=>{var r=LN(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&yu(t))return u_e(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&yu(t))return f_e(t,e.tickCount,e.allowDecimals)}},qN=Fe([HN,Hp,ad],GN),YN=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&yu(e)&&Array.isArray(n)&&n.length>0){var i,a,s=e[0],c=(i=n[0])!==null&&i!==void 0?i:0,d=e[1],u=(a=n[n.length-1])!==null&&a!==void 0?a:0;return[Math.min(s,c),Math.max(d,u)]}return e},Q_e=Fe([Ti,HN,qN,ui],YN),Z_e=Fe(Fw,Ti,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(vu(t.map(x=>x.value))).sort((x,w)=>x-w),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var c=0;c<r.length-1;c++){var d=r[c],u=r[c+1];if(!(d==null||u==null)){var p=u-d;n=Math.min(n,p)}}return n/s}}),gY=Fe(Z_e,Gn,Gq,ra,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Sn(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=rs(n,t*a),c=t*a/2;return c-s-(c-s)/a*s}return 0}),J_e=(t,e,n)=>{var r=Nu(t,e);return r==null||typeof r.padding!="string"?0:gY(t,"xAxis",e,n,r.padding)},eAe=(t,e,n)=>{var r=Ou(t,e);return r==null||typeof r.padding!="string"?0:gY(t,"yAxis",e,n,r.padding)},tAe=Fe(Nu,J_e,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),nAe=Fe(Ou,eAe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),rAe=Fe([ra,tAe,yw,xw,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),iAe=Fe([ra,Gn,nAe,yw,xw,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Z1=(t,e,n,r)=>{var i;switch(e){case"xAxis":return rAe(t,n,r);case"yAxis":return iAe(t,n,r);case"zAxis":return(i=ON(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Xq(t);case"radiusAxis":return Qq(t,n);default:return}},xY=Fe([Ti,Z1],Ow),aAe=Fe([ad,Q_e],eY),Uw=Fe([Ti,ad,aAe,xY],WN);Fe([X1,Bw,ui],P_e);function yY(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var zw=(t,e)=>e,Vw=(t,e,n)=>n,sAe=Fe(mw,zw,Vw,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(yY)),oAe=Fe(gw,zw,Vw,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(yY)),vY=(t,e)=>({width:t.width,height:e.height}),lAe=(t,e)=>{var n=typeof e.width=="number"?e.width:F1;return{width:n,height:t.height}},bY=Fe(ra,Nu,vY),cAe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},uAe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},fAe=Fe(Tu,ra,sAe,zw,Vw,(t,e,n,r,i)=>{var a={},s;return n.forEach(c=>{var d=vY(e,c);s==null&&(s=cAe(e,r,t));var u=r==="top"&&!i||r==="bottom"&&i;a[c.id]=s-Number(u)*d.height,s+=(u?-1:1)*d.height}),a}),dAe=Fe(Su,ra,oAe,zw,Vw,(t,e,n,r,i)=>{var a={},s;return n.forEach(c=>{var d=lAe(e,c);s==null&&(s=uAe(e,r,t));var u=r==="left"&&!i||r==="right"&&i;a[c.id]=s-Number(u)*d.width,s+=(u?-1:1)*d.width}),a}),hAe=(t,e)=>{var n=Nu(t,e);if(n!=null)return fAe(t,n.orientation,n.mirror)},pAe=Fe([ra,Nu,hAe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),mAe=(t,e)=>{var n=Ou(t,e);if(n!=null)return dAe(t,n.orientation,n.mirror)},gAe=Fe([ra,Ou,mAe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),wY=Fe(ra,Ou,(t,e)=>{var n=typeof e.width=="number"?e.width:F1;return{width:n,height:t.height}}),sL=(t,e,n)=>{switch(e){case"xAxis":return bY(t,n).width;case"yAxis":return wY(t,n).height;default:return}},EY=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,c=xc(t,r),d=e.map(u=>u.value);if(s&&c&&a==="category"&&i&&SW(d))return d}},$N=Fe([Gn,Fw,Ti,ui],EY),_Y=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=xc(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(c=>c.value)}},KN=Fe([Gn,Fw,Hp,ui],_Y),oL=Fe([Gn,C_e,ad,Uw,$N,KN,Z1,qN,ui],(t,e,n,r,i,a,s,c,d)=>{if(e!=null){var u=xc(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:c,range:s,realScaleType:n,scale:r}}}),xAe=(t,e,n,r,i,a,s,c,d)=>{if(!(e==null||r==null)){var u=xc(t,d),{type:p,ticks:x,tickCount:w}=e,A=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,N=p==="category"&&r.bandwidth?r.bandwidth()/A:0;N=d==="angleAxis"&&a!=null&&a.length>=2?ma(a[0]-a[1])*2*N:N;var S=x||i;return S?S.map((I,j)=>{var D=s?s.indexOf(I):I,P=r.map(D);return Sn(P)?{index:j,coordinate:P+N,value:I,offset:N}:null}).filter(Ls):u&&c?c.map((I,j)=>{var D=r.map(I);return Sn(D)?{coordinate:D+N,value:I,index:j,offset:N}:null}).filter(Ls):r.ticks?r.ticks(w).map((I,j)=>{var D=r.map(I);return Sn(D)?{coordinate:D+N,value:I,index:j,offset:N}:null}).filter(Ls):r.domain().map((I,j)=>{var D=r.map(I);return Sn(D)?{coordinate:D+N,value:s?s[I]:I,index:j,offset:N}:null}).filter(Ls)}},AY=Fe([Gn,Hp,ad,Uw,qN,Z1,$N,KN,ui],xAe),yAe=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=xc(t,s),{tickCount:d}=e,u=0;return u=s==="angleAxis"&&r?.length>=2?ma(r[0]-r[1])*2*u:u,c&&a?a.map((p,x)=>{var w=n.map(p);return Sn(w)?{coordinate:w+u,value:p,index:x,offset:u}:null}).filter(Ls):n.ticks?n.ticks(d).map((p,x)=>{var w=n.map(p);return Sn(w)?{coordinate:w+u,value:p,index:x,offset:u}:null}).filter(Ls):n.domain().map((p,x)=>{var w=n.map(p);return Sn(w)?{coordinate:w+u,value:i?i[p]:p,index:x,offset:u}:null}).filter(Ls)}},Gf=Fe([Gn,Hp,Uw,Z1,$N,KN,ui],yAe),qf=Fe(Ti,Uw,(t,e)=>{if(!(t==null||e==null))return H2(H2({},t),{},{scale:e})}),vAe=Fe([Ti,ad,HN,xY],WN);Fe((t,e,n)=>ON(t,n),vAe,(t,e)=>{if(!(t==null||e==null))return H2(H2({},t),{},{scale:e})});var bAe=Fe([Gn,mw,gw],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),SY=t=>t.options.defaultTooltipEventType,TY=t=>t.options.validateTooltipEventTypes;function CY(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function XN(t,e){var n=SY(t),r=TY(t);return CY(e,n,r)}function wAe(t){return zt(e=>XN(e,t))}var IY=(t,e)=>{var n,r=Number(e);if(!(Nl(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},EAe=t=>t.tooltip.settings,bf={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},_Ae={itemInteraction:{click:bf,hover:bf},axisInteraction:{click:bf,hover:bf},keyboardInteraction:bf,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},NY=Ws({name:"tooltip",initialState:_Ae,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Qr()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=_l(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Qr()},removeTooltipEntrySettings:{reducer(t,e){var n=_l(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Qr()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:AAe,replaceTooltipEntrySettings:SAe,removeTooltipEntrySettings:TAe,setTooltipSettingsState:CAe,setActiveMouseOverItemIndex:OY,mouseLeaveItem:IAe,mouseLeaveChart:MY,setActiveClickItemIndex:NAe,setMouseOverAxisIndex:RY,setMouseClickAxisIndex:OAe,setSyncInteraction:p4,setKeyboardInteraction:m4}=NY.actions,MAe=NY.reducer;function lL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ly(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lL(Object(n),!0).forEach(function(r){RAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RAe(t,e,n){return(e=kAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kAe(t){var e=DAe(t,"string");return typeof e=="symbol"?e:e+""}function DAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PAe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function jAe(t){return t.index!=null}var kY=(t,e,n,r)=>{if(e==null)return bf;var i=PAe(t,e,n);if(i==null)return bf;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(jAe(i)){if(a)return Ly(Ly({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Ly(Ly({},bf),{},{coordinate:i.coordinate})};function LAe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function FAe(t,e){var n=LAe(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function BAe(t,e,n){if(n==null||e==null)return!0;var r=Er(t,e);return r==null||!yu(n)?!0:FAe(r,n)}var QN=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var a=Number(i);if(!Sn(a))return i;var s=0,c=1/0;e.length>0&&(c=e.length-1);var d=Math.max(s,Math.min(a,c)),u=e[d];return u==null||BAe(u,n,r)?String(d):null},DY=(t,e,n,r,i,a,s)=>{if(a!=null){var c=s[0],d=c?.getPosition(a);if(d!=null)return d;var u=i?.[Number(a)];if(u)return n==="horizontal"?{x:u.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:u.coordinate}}},PY=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(s=>{var c;return((c=s.settings)===null||c===void 0?void 0:c.graphicalItemId)===i})},jY=t=>t.options.tooltipPayloadSearcher,Gp=t=>t.tooltip;function cL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cL(Object(n),!0).forEach(function(r){UAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UAe(t,e,n){return(e=zAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zAe(t){var e=VAe(t,"string");return typeof e=="symbol"?e:e+""}function VAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HAe(t,e){return t??e}var LY=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:c,computedData:d,dataStartIndex:u,dataEndIndex:p}=n,x=[];return t.reduce((w,A)=>{var N,{dataDefinedOnItem:S,settings:I}=A,j=HAe(S,c),D=Array.isArray(j)?xG(j,u,p):j,P=(N=I?.dataKey)!==null&&N!==void 0?N:r,V=I?.nameKey,K;if(r&&Array.isArray(D)&&!Array.isArray(D[0])&&s==="axis"?K=TW(D,r,i):K=a(D,e,d,V),Array.isArray(K))K.forEach(F=>{var U=uL(uL({},I),{},{name:F.name,unit:F.unit,color:void 0,fill:void 0});w.push(uj({tooltipEntrySettings:U,dataKey:F.dataKey,payload:F.payload,value:Er(F.payload,F.dataKey),name:F.name}))});else{var Z;w.push(uj({tooltipEntrySettings:I,dataKey:P,payload:K,value:Er(K,P),name:(Z=Er(K,V))!==null&&Z!==void 0?Z:I?.name}))}return w},x)}},ZN=Fe([aa,rY,AN],mY),WAe=Fe([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),GAe=Fe([wa,Vp],MN),qp=Fe([WAe,aa,GAe],RN,{memoizeOptions:{resultEqualityCheck:jw}}),qAe=Fe([qp],t=>t.filter(Dw)),YAe=Fe([qp],kN,{memoizeOptions:{resultEqualityCheck:jw}}),Yp=Fe([YAe,Iu],DN),$Ae=Fe([qAe,Iu,aa],Jq),JN=Fe([Yp,aa,qp],jN),FY=Fe([aa],LN),KAe=Fe([aa],t=>t.allowDataOverflow),BY=Fe([FY,KAe],kq),XAe=Fe([qp],t=>t.filter(Dw)),QAe=Fe([$Ae,XAe,$1,qq],oY),ZAe=Fe([QAe,Iu,wa,BY],lY),JAe=Fe([qp],aY),eSe=Fe([Yp,aa,JAe,Bw,wa],UN,{memoizeOptions:{resultEqualityCheck:Pw}}),tSe=Fe([cY,wa,Vp],Wp),nSe=Fe([tSe,wa],dY),rSe=Fe([uY,wa,Vp],Wp),iSe=Fe([rSe,wa],hY),aSe=Fe([fY,wa,Vp],Wp),sSe=Fe([aSe,wa],pY),oSe=Fe([nSe,sSe,iSe],G2),lSe=Fe([aa,FY,BY,ZAe,eSe,oSe,Gn,wa],zN),J1=Fe([aa,Gn,Yp,JN,$1,wa,lSe],VN),cSe=Fe([J1,aa,ZN],GN),uSe=Fe([aa,J1,cSe,wa],YN),UY=t=>{var e=wa(t),n=Vp(t),r=!1;return Z1(t,e,n,r)},zY=Fe([aa,UY],Ow),VY=Fe([aa,ZN,uSe,zY],WN),fSe=Fe([Gn,JN,aa,wa],EY),dSe=Fe([Gn,JN,aa,wa],_Y),hSe=(t,e,n,r,i,a,s,c)=>{if(e){var{type:d}=e,u=xc(t,c);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,x=d==="category"&&r.bandwidth?r.bandwidth()/p:0;return x=c==="angleAxis"&&i!=null&&i?.length>=2?ma(i[0]-i[1])*2*x:x,u&&s?s.map((w,A)=>{var N=r.map(w);return Sn(N)?{coordinate:N+x,value:w,index:A,offset:x}:null}).filter(Ls):r.domain().map((w,A)=>{var N=r.map(w);return Sn(N)?{coordinate:N+x,value:a?a[w]:w,index:A,offset:x}:null}).filter(Ls)}}},Mu=Fe([Gn,aa,ZN,VY,UY,fSe,dSe,wa],hSe),eO=Fe([SY,TY,EAe],(t,e,n)=>CY(n.shared,t,e)),HY=t=>t.tooltip.settings.trigger,tO=t=>t.tooltip.settings.defaultIndex,ex=Fe([Gp,eO,HY,tO],kY),Yf=Fe([ex,Yp,Q1,J1],QN),WY=Fe([Mu,Yf],IY),nO=Fe([ex],t=>{if(t)return t.dataKey}),pSe=Fe([ex],t=>{if(t)return t.graphicalItemId}),GY=Fe([Gp,eO,HY,tO],PY),mSe=Fe([Su,Tu,Gn,ra,Mu,tO,GY],DY),gSe=Fe([ex,mSe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),xSe=Fe([ex],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),ySe=Fe([GY,Yf,Iu,Q1,WY,jY,eO],LY),vSe=Fe([ySe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function fL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fL(Object(n),!0).forEach(function(r){bSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bSe(t,e,n){return(e=wSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wSe(t){var e=ESe(t,"string");return typeof e=="symbol"?e:e+""}function ESe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Se=()=>zt(aa),ASe=()=>{var t=_Se(),e=zt(Mu),n=zt(VY);return hp(!t||!n?void 0:dL(dL({},t),{},{scale:n}),e)};function hL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hL(Object(n),!0).forEach(function(r){SSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SSe(t,e,n){return(e=TSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TSe(t){var e=CSe(t,"string");return typeof e=="symbol"?e:e+""}function CSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ISe=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},NSe=(t,e,n,r)=>{var i=e.find(u=>u&&u.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return m0(m0(m0({},r),qi(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var c=i.coordinate,{angle:d}=r;return m0(m0(m0({},r),qi(r.cx,r.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function OSe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var qY=(t,e,n,r,i)=>{var a,s=(a=e?.length)!==null&&a!==void 0?a:0;if(s<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<s;c++){var d,u,p,x,w,A=c>0?(d=n[c-1])===null||d===void 0?void 0:d.coordinate:(u=n[s-1])===null||u===void 0?void 0:u.coordinate,N=(p=n[c])===null||p===void 0?void 0:p.coordinate,S=c>=s-1?(x=n[0])===null||x===void 0?void 0:x.coordinate:(w=n[c+1])===null||w===void 0?void 0:w.coordinate,I=void 0;if(!(A==null||N==null||S==null))if(ma(N-A)!==ma(S-N)){var j=[];if(ma(S-N)===ma(i[1]-i[0])){I=S;var D=N+i[1]-i[0];j[0]=Math.min(D,(D+A)/2),j[1]=Math.max(D,(D+A)/2)}else{I=A;var P=S+i[1]-i[0];j[0]=Math.min(N,(P+N)/2),j[1]=Math.max(N,(P+N)/2)}var V=[Math.min(N,(I+N)/2),Math.max(N,(I+N)/2)];if(t>V[0]&&t<=V[1]||t>=j[0]&&t<=j[1]){var K;return(K=n[c])===null||K===void 0?void 0:K.index}}else{var Z=Math.min(A,S),F=Math.max(A,S);if(t>(Z+N)/2&&t<=(F+N)/2){var U;return(U=n[c])===null||U===void 0?void 0:U.index}}}else if(e)for(var B=0;B<s;B++){var J=e[B];if(J!=null){var H=e[B+1],G=e[B-1];if(B===0&&H!=null&&t<=(J.coordinate+H.coordinate)/2||B===s-1&&G!=null&&t>(J.coordinate+G.coordinate)/2||B>0&&B<s-1&&G!=null&&H!=null&&t>(J.coordinate+G.coordinate)/2&&t<=(J.coordinate+H.coordinate)/2)return J.index}}return-1},YY=()=>zt(AN),rO=(t,e)=>e,$Y=(t,e,n)=>n,iO=(t,e,n,r)=>r,MSe=Fe(Mu,t=>aw(t,e=>e.coordinate)),aO=Fe([Gp,rO,$Y,iO],kY),sO=Fe([aO,Yp,Q1,J1],QN),RSe=(t,e,n)=>{if(e!=null){var r=Gp(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},KY=Fe([Gp,rO,$Y,iO],PY),q2=Fe([Su,Tu,Gn,ra,Mu,iO,KY],DY),kSe=Fe([aO,q2],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),XY=Fe([Mu,sO],IY),DSe=Fe([KY,sO,Iu,Q1,XY,jY,rO],LY),PSe=Fe([aO,sO],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),jSe=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&OSe(t,s)){var c=vve(t,e),d=qY(c,a,i,n,r),u=ISe(e,i,d,t);return{activeIndex:String(d),activeCoordinate:u}}},LSe=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var c=wbe(t,n);if(c){var d=bve(c,e),u=qY(d,s,a,r,i),p=NSe(e,a,u,c);return{activeIndex:String(u),activeCoordinate:p}}}},FSe=(t,e,n,r,i,a,s,c)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?jSe(t,e,r,i,a,s,c):LSe(t,e,n,r,i,a,s)},BSe=Fe(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),USe=Fe(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Yi)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:w_e}});function pL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pL(Object(n),!0).forEach(function(r){zSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zSe(t,e,n){return(e=VSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VSe(t){var e=HSe(t,"string");return typeof e=="symbol"?e:e+""}function HSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WSe={},GSe={zIndexMap:Object.values(Yi).reduce((t,e)=>mL(mL({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),WSe)},qSe=new Set(Object.values(Yi));function YSe(t){return qSe.has(t)}var QY=Ws({name:"zIndex",initialState:GSe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Qr()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!YSe(n)&&delete t.zIndexMap[n])},prepare:Qr()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Qr()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Qr()}}}),{registerZIndexPortal:$Se,unregisterZIndexPortal:KSe,registerZIndexPortalElement:XSe,unregisterZIndexPortalElement:QSe}=QY.actions,ZSe=QY.reducer;function Gs(t){var{zIndex:e,children:n}=t,r=Xve(),i=r&&e!==void 0&&e!==0,a=os(),s=ti();R.useLayoutEffect(()=>i?(s($Se({zIndex:e})),()=>{s(KSe({zIndex:e}))}):Ch,[s,e,i]);var c=zt(d=>BSe(d,e,a));return i?c?KF.createPortal(n,c):null:n}function g4(){return g4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g4.apply(null,arguments)}function gL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(n),!0).forEach(function(r){JSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JSe(t,e,n){return(e=eTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eTe(t){var e=tTe(t,"string");return typeof e=="symbol"?e:e+""}function tTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nTe(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return R.isValidElement(e)?R.cloneElement(e,r):R.createElement(n,r)}function rTe(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:c,cursor:d,tooltipEventType:u,chartName:p}=t,x=n,w=r,A=i;if(!d||!x||p!=="ScatterChart"&&u!=="axis")return null;var N,S,I;if(p==="ScatterChart")N=x,S=P2e,I=Yi.cursorLine;else if(p==="BarChart")N=j2e(c,x,a,s),S=qG,I=Yi.cursorRectangle;else if(c==="radial"&&NW(x)){var{cx:j,cy:D,radius:P,startAngle:V,endAngle:K}=$G(x);N={cx:j,cy:D,startAngle:V,endAngle:K,innerRadius:P,outerRadius:P},S=XG,I=Yi.cursorLine}else N={points:Sbe(c,x,a)},S=X0,I=Yi.cursorLine;var Z=typeof d=="object"&&"className"in d?d.className:void 0,F=Fy(Fy(Fy(Fy({stroke:"#ccc",pointerEvents:"none"},a),N),sh(d)),{},{payload:w,payloadIndex:A,className:tr("recharts-tooltip-cursor",Z)});return R.createElement(Gs,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:I},R.createElement(nTe,{cursor:d,cursorComp:S,cursorProps:F}))}function iTe(t){var e=ASe(),n=CG(),r=Ih(),i=YY();return e==null||n==null||r==null||i==null?null:R.createElement(rTe,g4({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var ZY=R.createContext(null),aTe=()=>R.useContext(ZY),ZS={exports:{}},xL;function sTe(){return xL||(xL=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,u,p){this.fn=d,this.context=u,this.once=p||!1}function a(d,u,p,x,w){if(typeof p!="function")throw new TypeError("The listener must be a function");var A=new i(p,x||d,w),N=n?n+u:u;return d._events[N]?d._events[N].fn?d._events[N]=[d._events[N],A]:d._events[N].push(A):(d._events[N]=A,d._eventsCount++),d}function s(d,u){--d._eventsCount===0?d._events=new r:delete d._events[u]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],p,x;if(this._eventsCount===0)return u;for(x in p=this._events)e.call(p,x)&&u.push(n?x.slice(1):x);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(p)):u},c.prototype.listeners=function(u){var p=n?n+u:u,x=this._events[p];if(!x)return[];if(x.fn)return[x.fn];for(var w=0,A=x.length,N=new Array(A);w<A;w++)N[w]=x[w].fn;return N},c.prototype.listenerCount=function(u){var p=n?n+u:u,x=this._events[p];return x?x.fn?1:x.length:0},c.prototype.emit=function(u,p,x,w,A,N){var S=n?n+u:u;if(!this._events[S])return!1;var I=this._events[S],j=arguments.length,D,P;if(I.fn){switch(I.once&&this.removeListener(u,I.fn,void 0,!0),j){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,p),!0;case 3:return I.fn.call(I.context,p,x),!0;case 4:return I.fn.call(I.context,p,x,w),!0;case 5:return I.fn.call(I.context,p,x,w,A),!0;case 6:return I.fn.call(I.context,p,x,w,A,N),!0}for(P=1,D=new Array(j-1);P<j;P++)D[P-1]=arguments[P];I.fn.apply(I.context,D)}else{var V=I.length,K;for(P=0;P<V;P++)switch(I[P].once&&this.removeListener(u,I[P].fn,void 0,!0),j){case 1:I[P].fn.call(I[P].context);break;case 2:I[P].fn.call(I[P].context,p);break;case 3:I[P].fn.call(I[P].context,p,x);break;case 4:I[P].fn.call(I[P].context,p,x,w);break;default:if(!D)for(K=1,D=new Array(j-1);K<j;K++)D[K-1]=arguments[K];I[P].fn.apply(I[P].context,D)}}return!0},c.prototype.on=function(u,p,x){return a(this,u,p,x,!1)},c.prototype.once=function(u,p,x){return a(this,u,p,x,!0)},c.prototype.removeListener=function(u,p,x,w){var A=n?n+u:u;if(!this._events[A])return this;if(!p)return s(this,A),this;var N=this._events[A];if(N.fn)N.fn===p&&(!w||N.once)&&(!x||N.context===x)&&s(this,A);else{for(var S=0,I=[],j=N.length;S<j;S++)(N[S].fn!==p||w&&!N[S].once||x&&N[S].context!==x)&&I.push(N[S]);I.length?this._events[A]=I.length===1?I[0]:I:s(this,A)}return this},c.prototype.removeAllListeners=function(u){var p;return u?(p=n?n+u:u,this._events[p]&&s(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(ZS)),ZS.exports}var oTe=sTe();const lTe=_u(oTe);var o1=new lTe,x4="recharts.syncEvent.tooltip",yL="recharts.syncEvent.brush",oO=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!Nl(n))return t[n]}},cTe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},JY=Ws({name:"options",initialState:cTe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),uTe=JY.reducer,{createEventEmitter:fTe}=JY.actions;function dTe(t){return t.tooltip.syncInteraction}var hTe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},e$=Ws({name:"chartData",initialState:hTe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:vL,setDataStartEndIndexes:pTe,setComputedData:$9e}=e$.actions,mTe=e$.reducer,gTe=["x","y"];function bL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bL(Object(n),!0).forEach(function(r){xTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xTe(t,e,n){return(e=yTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yTe(t){var e=vTe(t,"string");return typeof e=="symbol"?e:e+""}function vTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bTe(t,e){if(t==null)return{};var n,r,i=wTe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wTe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ETe(){var t=zt(SN),e=zt(TN),n=ti(),r=zt(Yq),i=zt(Mu),a=Ih(),s=vw(),c=zt(d=>d.rootProps.className);R.useEffect(()=>{if(t==null)return Ch;var d=(u,p,x)=>{if(e!==x&&t===u){if(r==="index"){var w;if(s&&p!==null&&p!==void 0&&(w=p.payload)!==null&&w!==void 0&&w.coordinate&&p.payload.sourceViewBox){var A=p.payload.coordinate,{x:N,y:S}=A,I=bTe(A,gTe),{x:j,y:D,width:P,height:V}=p.payload.sourceViewBox,K=g0(g0({},I),{},{x:s.x+(P?(N-j)/P:0)*s.width,y:s.y+(V?(S-D)/V:0)*s.height});n(g0(g0({},p),{},{payload:g0(g0({},p.payload),{},{coordinate:K})}))}else n(p);return}if(i!=null){var Z;if(typeof r=="function"){var F={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},U=r(i,F);Z=i[U]}else r==="value"&&(Z=i.find(ue=>String(ue.value)===p.payload.label));var{coordinate:B}=p.payload;if(Z==null||p.payload.active===!1||B==null||s==null){n(p4({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:J,y:H}=B,G=Math.min(J,s.x+s.width),q=Math.min(H,s.y+s.height),Ce={x:a==="horizontal"?Z.coordinate:G,y:a==="horizontal"?q:Z.coordinate},re=p4({active:p.payload.active,coordinate:Ce,dataKey:p.payload.dataKey,index:String(Z.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(re)}}};return o1.on(x4,d),()=>{o1.off(x4,d)}},[c,n,e,t,r,i,a,s])}function _Te(){var t=zt(SN),e=zt(TN),n=ti();R.useEffect(()=>{if(t==null)return Ch;var r=(i,a,s)=>{e!==s&&t===i&&n(pTe(a))};return o1.on(yL,r),()=>{o1.off(yL,r)}},[n,e,t])}function ATe(){var t=ti();R.useEffect(()=>{t(fTe())},[t]),ETe(),_Te()}function STe(t,e,n,r,i,a){var s=zt(A=>RSe(A,t,e)),c=zt(TN),d=zt(SN),u=zt(Yq),p=zt(dTe),x=p?.active,w=vw();R.useEffect(()=>{if(!x&&d!=null&&c!=null){var A=p4({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:w,graphicalItemId:void 0});o1.emit(x4,d,A,c)}},[x,n,s,i,r,c,d,u,a,w])}function wL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(n),!0).forEach(function(r){TTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TTe(t,e,n){return(e=CTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CTe(t){var e=ITe(t,"string");return typeof e=="symbol"?e:e+""}function ITe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NTe(t){return t.dataKey}function OTe(t,e){return R.isValidElement(t)?R.cloneElement(t,e):typeof t=="function"?R.createElement(t,e):R.createElement(p2e,e)}var _L=[],MTe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function l1(t){var e,n,r=va(t,MTe),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:c,content:d,filterNull:u,isAnimationActive:p,offset:x,payloadUniqBy:w,position:A,reverseDirection:N,useTranslate3d:S,wrapperStyle:I,cursor:j,shared:D,trigger:P,defaultIndex:V,portal:K,axisId:Z}=r,F=ti(),U=typeof V=="number"?String(V):V;R.useEffect(()=>{F(CAe({shared:D,trigger:P,axisId:Z,active:i,defaultIndex:U}))},[F,D,P,Z,i,U]);var B=vw(),J=zG(),H=wAe(D),{activeIndex:G,isActive:q}=(e=zt(Ne=>PSe(Ne,H,P,U)))!==null&&e!==void 0?e:{},Ce=zt(Ne=>DSe(Ne,H,P,U)),re=zt(Ne=>XY(Ne,H,P,U)),ue=zt(Ne=>kSe(Ne,H,P,U)),me=Ce,Re=aTe(),Be=(n=i??q)!==null&&n!==void 0?n:!1,[be,Q]=aye([me,Be]),ee=H==="axis"?re:void 0;STe(H,P,ue,ee,G,Be);var oe=K??Re;if(oe==null||B==null||H==null)return null;var se=me??_L;Be||(se=_L),u&&se.length&&(se=Mxe(se.filter(Ne=>Ne.value!=null&&(Ne.hide!==!0||r.includeHidden)),w,NTe));var fe=se.length>0,Ee=R.createElement(w2e,{allowEscapeViewBox:a,animationDuration:s,animationEasing:c,isAnimationActive:p,active:Be,coordinate:ue,hasPayload:fe,offset:x,position:A,reverseDirection:N,useTranslate3d:S,viewBox:B,wrapperStyle:I,lastBoundingBox:be,innerRef:Q,hasPortalFromProps:!!K},OTe(d,EL(EL({},r),{},{payload:se,label:ee,active:Be,activeIndex:G,coordinate:ue,accessibilityLayer:J})));return R.createElement(R.Fragment,null,KF.createPortal(Ee,oe),Be&&R.createElement(iTe,{cursor:j,tooltipEventType:H,coordinate:ue,payload:se,index:G}))}var tx=t=>null;tx.displayName="Cell";function RTe(t,e,n){return(e=kTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kTe(t){var e=DTe(t,"string");return typeof e=="symbol"?e:e+""}function DTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class PTe{constructor(e){RTe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function AL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jTe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(n),!0).forEach(function(r){LTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LTe(t,e,n){return(e=FTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FTe(t){var e=BTe(t,"string");return typeof e=="symbol"?e:e+""}function BTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UTe={cacheSize:2e3,enableCache:!0},t$=jTe({},UTe),SL=new PTe(t$.cacheSize),zTe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},TL="recharts_measurement_span";function VTe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(c)}var CL=(t,e)=>{try{var n=document.getElementById(TL);n||(n=document.createElement("span"),n.setAttribute("id",TL),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,zTe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},bg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||z1.isSsr)return{width:0,height:0};if(!t$.enableCache)return CL(e,n);var r=VTe(e,n),i=SL.get(r);if(i)return i;var a=CL(e,n);return SL.set(r,a),a},n$;function HTe(t,e,n){return(e=WTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WTe(t){var e=GTe(t,"string");return typeof e=="symbol"?e:e+""}function GTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qTe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,YTe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$Te={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},KTe=["cm","mm","pt","pc","in","Q","px"];function XTe(t){return KTe.includes(t)}var P0="NaN";function QTe(t,e){return t*$Te[e]}class ka{static parse(e){var n,[,r,i]=(n=YTe.exec(e))!==null&&n!==void 0?n:[];return r==null?ka.NaN:new ka(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Nl(e)&&(this.unit=""),n!==""&&!qTe.test(n)&&(this.num=NaN,this.unit=""),XTe(n)&&(this.num=QTe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ka(NaN,""):new ka(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ka(NaN,""):new ka(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ka(NaN,""):new ka(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ka(NaN,""):new ka(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Nl(this.num)}}n$=ka;HTe(ka,"NaN",new n$(NaN,""));function r$(t){if(t==null||t.includes(P0))return P0;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=IL.exec(e))!==null&&n!==void 0?n:[],s=ka.parse(r??""),c=ka.parse(a??""),d=i==="*"?s.multiply(c):s.divide(c);if(d.isNaN())return P0;e=e.replace(IL,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,p,x,w]=(u=NL.exec(e))!==null&&u!==void 0?u:[],A=ka.parse(p??""),N=ka.parse(w??""),S=x==="+"?A.add(N):A.subtract(N);if(S.isNaN())return P0;e=e.replace(NL,S.toString())}return e}var OL=/\(([^()]*)\)/;function ZTe(t){for(var e=t,n;(n=OL.exec(e))!=null;){var[,r]=n;e=e.replace(OL,r$(r))}return e}function JTe(t){var e=t.replace(/\s+/g,"");return e=ZTe(e),e=r$(e),e}function eCe(t){try{return JTe(t)}catch{return P0}}function JS(t){var e=eCe(t.slice(5,-1));return e===P0?"":e}var tCe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],nCe=["dx","dy","angle","className","breakAll"];function y4(){return y4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y4.apply(null,arguments)}function ML(t,e){if(t==null)return{};var n,r,i=rCe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rCe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var i$=/[ \f\n\r\t\v\u2028\u2029]+/,a$=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Si(e)||(n?i=e.toString().split(""):i=e.toString().split(i$));var a=i.map(c=>({word:c,width:bg(c,r).width})),s=n?0:bg("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function iCe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var s$=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:c}=a,d=i[i.length-1];if(d&&c!=null&&(e==null||r||d.width+c+n<Number(e)))d.words.push(s),d.width+=c+n;else{var u={words:[s],width:c};i.push(u)}return i},[]),o$=t=>t.reduce((e,n)=>e.width>n.width?e:n),aCe="",RL=(t,e,n,r,i,a,s,c)=>{var d=t.slice(0,e),u=a$({breakAll:n,style:r,children:d+aCe});if(!u)return[!1,[]];var p=s$(u.wordsWithComputedWidth,a,s,c),x=p.length>i||o$(p).width>Number(a);return[x,p]},sCe=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:c,breakAll:d}=t,u=Mt(a),p=String(s),x=s$(e,r,n,i);if(!u||i)return x;var w=x.length>a||o$(x).width>Number(r);if(!w)return x;for(var A=0,N=p.length-1,S=0,I;A<=N&&S<=p.length-1;){var j=Math.floor((A+N)/2),D=j-1,[P,V]=RL(p,D,d,c,a,r,n,i),[K]=RL(p,j,d,c,a,r,n,i);if(!P&&!K&&(A=j+1),P&&K&&(N=j-1),!P&&K){I=V;break}S++}return I||x},kL=t=>{var e=Si(t)?[]:t.toString().split(i$);return[{words:e,width:void 0}]},oCe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!z1.isSsr){var c,d,u=a$({breakAll:a,children:r,style:i});if(u){var{wordsWithComputedWidth:p,spaceWidth:x}=u;c=p,d=x}else return kL(r);return sCe({breakAll:a,children:r,maxLines:s,style:i},c,d,e,!!n)}return kL(r)},l$="#808080",lCe={angle:0,breakAll:!1,capHeight:"0.71em",fill:l$,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Hw=R.forwardRef((t,e)=>{var n=va(t,lCe),{x:r,y:i,lineHeight:a,capHeight:s,fill:c,scaleToFit:d,textAnchor:u,verticalAnchor:p}=n,x=ML(n,tCe),w=R.useMemo(()=>oCe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width}),[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),{dx:A,dy:N,angle:S,className:I,breakAll:j}=x,D=ML(x,nCe);if(!hc(r)||!hc(i)||w.length===0)return null;var P=Number(r)+(Mt(A)?A:0),V=Number(i)+(Mt(N)?N:0);if(!Sn(P)||!Sn(V))return null;var K;switch(p){case"start":K=JS("calc(".concat(s,")"));break;case"middle":K=JS("calc(".concat((w.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:K=JS("calc(".concat(w.length-1," * -").concat(a,")"));break}var Z=[],F=w[0];if(d&&F!=null){var U=F.width,{width:B}=x;Z.push("scale(".concat(Mt(B)&&Mt(U)?B/U:1,")"))}return S&&Z.push("rotate(".concat(S,", ").concat(P,", ").concat(V,")")),Z.length&&(D.transform=Z.join(" ")),R.createElement("text",y4({},_s(D),{ref:e,x:P,y:V,className:tr("recharts-text",I),textAnchor:u,fill:c.includes("url")?l$:c}),w.map((J,H)=>{var G=J.words.join(j?"":" ");return R.createElement("tspan",{x:P,dy:H===0?K:a,key:"".concat(G,"-").concat(H)},G)}))});Hw.displayName="Text";function DL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DL(Object(n),!0).forEach(function(r){cCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cCe(t,e,n){return(e=uCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uCe(t){var e=fCe(t,"string");return typeof e=="symbol"?e:e+""}function fCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dCe=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:a,y:s,height:c,upperWidth:d,lowerWidth:u}=KI(e),p=a,x=a+(d-u)/2,w=(p+x)/2,A=(d+u)/2,N=p+d/2,S=c>=0?1:-1,I=S*r,j=S>0?"end":"start",D=S>0?"start":"end",P=d>=0?1:-1,V=P*r,K=P>0?"end":"start",Z=P>0?"start":"end",F=i;if(n==="top"){var U={x:p+d/2,y:s-I,horizontalAnchor:"middle",verticalAnchor:j};return F&&(U.height=Math.max(s-F.y,0),U.width=d),U}if(n==="bottom"){var B={x:x+u/2,y:s+c+I,horizontalAnchor:"middle",verticalAnchor:D};return F&&(B.height=Math.max(F.y+F.height-(s+c),0),B.width=u),B}if(n==="left"){var J={x:w-V,y:s+c/2,horizontalAnchor:K,verticalAnchor:"middle"};return F&&(J.width=Math.max(J.x-F.x,0),J.height=c),J}if(n==="right"){var H={x:w+A+V,y:s+c/2,horizontalAnchor:Z,verticalAnchor:"middle"};return F&&(H.width=Math.max(F.x+F.width-H.x,0),H.height=c),H}var G=F?{width:A,height:c}:{};return n==="insideLeft"?Wl({x:w+V,y:s+c/2,horizontalAnchor:Z,verticalAnchor:"middle"},G):n==="insideRight"?Wl({x:w+A-V,y:s+c/2,horizontalAnchor:K,verticalAnchor:"middle"},G):n==="insideTop"?Wl({x:p+d/2,y:s+I,horizontalAnchor:"middle",verticalAnchor:D},G):n==="insideBottom"?Wl({x:x+u/2,y:s+c-I,horizontalAnchor:"middle",verticalAnchor:j},G):n==="insideTopLeft"?Wl({x:p+V,y:s+I,horizontalAnchor:Z,verticalAnchor:D},G):n==="insideTopRight"?Wl({x:p+d-V,y:s+I,horizontalAnchor:K,verticalAnchor:D},G):n==="insideBottomLeft"?Wl({x:x+V,y:s+c-I,horizontalAnchor:Z,verticalAnchor:j},G):n==="insideBottomRight"?Wl({x:x+u-V,y:s+c-I,horizontalAnchor:K,verticalAnchor:j},G):n&&typeof n=="object"&&(Mt(n.x)||ch(n.x))&&(Mt(n.y)||ch(n.y))?Wl({x:a+rs(n.x,A),y:s+rs(n.y,c),horizontalAnchor:"end",verticalAnchor:"end"},G):Wl({x:N,y:s+c/2,horizontalAnchor:"middle",verticalAnchor:"middle"},G)},hCe=["labelRef"],pCe=["content"];function PL(t,e){if(t==null)return{};var n,r,i=mCe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mCe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(n),!0).forEach(function(r){gCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gCe(t,e,n){return(e=xCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xCe(t){var e=yCe(t,"string");return typeof e=="symbol"?e:e+""}function yCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $c(){return $c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$c.apply(null,arguments)}var c$=R.createContext(null),vCe=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:c}=t,d=R.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return R.createElement(c$.Provider,{value:d},c)},u$=()=>{var t=R.useContext(c$),e=vw();return t||(e?KI(e):void 0)},bCe=R.createContext(null),wCe=()=>{var t=R.useContext(bCe),e=zt(Zq);return t||e},ECe=t=>{var{value:e,formatter:n}=t,r=Si(t.children)?e:t.children;return typeof n=="function"?n(r):r},lO=t=>t!=null&&typeof t=="function",_Ce=(t,e)=>{var n=ma(e-t),r=Math.min(Math.abs(e-t),360);return n*r},ACe=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:c,cy:d,innerRadius:u,outerRadius:p,startAngle:x,endAngle:w,clockWise:A}=i,N=(u+p)/2,S=_Ce(x,w),I=S>=0?1:-1,j,D;switch(e){case"insideStart":j=x+I*a,D=A;break;case"insideEnd":j=w-I*a,D=!A;break;case"end":j=w+I*a,D=A;break;default:throw new Error("Unsupported position ".concat(e))}D=S<=0?D:!D;var P=qi(c,d,N,j),V=qi(c,d,N,j+(D?1:-1)*359),K="M".concat(P.x,",").concat(P.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(D?0:1,`,
    `).concat(V.x,",").concat(V.y),Z=Si(t.id)?Yg("recharts-radial-line-"):t.id;return R.createElement("text",$c({},r,{dominantBaseline:"central",className:tr("recharts-radial-bar-label",s)}),R.createElement("defs",null,R.createElement("path",{id:Z,d:K})),R.createElement("textPath",{xlinkHref:"#".concat(Z)},n))},SCe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:c,endAngle:d}=t,u=(c+d)/2;if(n==="outside"){var{x:p,y:x}=qi(r,i,s+e,u);return{x:p,y:x,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var w=(a+s)/2,{x:A,y:N}=qi(r,i,w,u);return{x:A,y:N,textAnchor:"middle",verticalAnchor:"middle"}},wv=t=>t!=null&&"cx"in t&&Mt(t.cx),TCe={angle:0,offset:5,zIndex:Yi.label,position:"middle",textBreakAll:!1};function CCe(t){if(!wv(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function mf(t){var e=va(t,TCe),{viewBox:n,parentViewBox:r,position:i,value:a,children:s,content:c,className:d="",textBreakAll:u,labelRef:p}=e,x=wCe(),w=u$(),A=i==="center"?w:x??w,N,S,I;n==null?N=A:wv(n)?N=n:N=KI(n);var j=CCe(N);if(!N||Si(a)&&Si(s)&&!R.isValidElement(c)&&typeof c!="function")return null;var D=sg(sg({},e),{},{viewBox:N});if(R.isValidElement(c)){var{labelRef:P}=D,V=PL(D,hCe);return R.cloneElement(c,V)}if(typeof c=="function"){var{content:K}=D,Z=PL(D,pCe);if(S=R.createElement(c,Z),R.isValidElement(S))return S}else S=ECe(e);var F=_s(e);if(wv(N)){if(i==="insideStart"||i==="insideEnd"||i==="end")return ACe(e,i,S,F,N);I=SCe(N,e.offset,e.position)}else{if(!j)return null;var U=dCe({viewBox:j,position:i,offset:e.offset,parentViewBox:wv(r)?void 0:r});I=sg(sg({x:U.x,y:U.y,textAnchor:U.horizontalAnchor,verticalAnchor:U.verticalAnchor},U.width!==void 0?{width:U.width}:{}),U.height!==void 0?{height:U.height}:{})}return R.createElement(Gs,{zIndex:e.zIndex},R.createElement(Hw,$c({ref:p,className:tr("recharts-label",d)},F,I,{textAnchor:iCe(F.textAnchor)?F.textAnchor:I.textAnchor,breakAll:u}),S))}mf.displayName="Label";var ICe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?R.createElement(mf,$c({key:"label-implicit"},r)):hc(t)?R.createElement(mf,$c({key:"label-implicit",value:t},r)):R.isValidElement(t)?t.type===mf?R.cloneElement(t,sg({key:"label-implicit"},r)):R.createElement(mf,$c({key:"label-implicit",content:t},r)):lO(t)?R.createElement(mf,$c({key:"label-implicit",content:t},r)):t&&typeof t=="object"?R.createElement(mf,$c({},t,{key:"label-implicit"},r)):null};function NCe(t){var{label:e,labelRef:n}=t,r=u$();return ICe(e,r,n)||null}var eT={},tT={},LL;function OCe(){return LL||(LL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(tT)),tT}var nT={},FL;function MCe(){return FL||(FL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(nT)),nT}var BL;function RCe(){return BL||(BL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OCe(),n=MCe(),r=FI();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(eT)),eT}var rT,UL;function kCe(){return UL||(UL=1,rT=RCe().last),rT}var DCe=kCe();const PCe=_u(DCe);var jCe=["valueAccessor"],LCe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Y2(){return Y2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y2.apply(null,arguments)}function zL(t,e){if(t==null)return{};var n,r,i=FCe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function FCe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var BCe=t=>Array.isArray(t.value)?PCe(t.value):t.value,f$=R.createContext(void 0),d$=f$.Provider,h$=R.createContext(void 0),UCe=h$.Provider;function zCe(){return R.useContext(f$)}function VCe(){return R.useContext(h$)}function Ev(t){var{valueAccessor:e=BCe}=t,n=zL(t,jCe),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:c}=n,d=zL(n,LCe),u=zCe(),p=VCe(),x=u||p;return!x||!x.length?null:R.createElement(Gs,{zIndex:c??Yi.label},R.createElement(Di,{className:"recharts-label-list"},x.map((w,A)=>{var N,S=Si(r)?e(w,A):Er(w.payload,r),I=Si(a)?{}:{id:"".concat(a,"-").concat(A)};return R.createElement(mf,Y2({key:"label-".concat(A)},_s(w),d,I,{fill:(N=n.fill)!==null&&N!==void 0?N:w.fill,parentViewBox:w.parentViewBox,value:S,textBreakAll:s,viewBox:w.viewBox,index:A,zIndex:0}))})))}Ev.displayName="LabelList";function cO(t){var{label:e}=t;return e?e===!0?R.createElement(Ev,{key:"labelList-implicit"}):R.isValidElement(e)||lO(e)?R.createElement(Ev,{key:"labelList-implicit",content:e}):typeof e=="object"?R.createElement(Ev,Y2({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function v4(){return v4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v4.apply(null,arguments)}var p$=t=>{var{cx:e,cy:n,r,className:i}=t,a=tr("recharts-dot",i);return Mt(e)&&Mt(n)&&Mt(r)?R.createElement("circle",v4({},zs(t),LI(t),{className:a,cx:e,cy:n,r})):null},m$=t=>t.graphicalItems.polarItems,HCe=Fe([ui,K1],MN),Ww=Fe([m$,Ti,HCe],RN),WCe=Fe([Ww],kN),Gw=Fe([WCe,Nw],DN),GCe=Fe([Gw,Ti,Ww],jN);Fe([Gw,Ti,Ww],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var a,s=Er(r,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:Er(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var VL=()=>{},qCe=Fe([Gw,Ti,Ww,Bw,ui],UN),YCe=Fe([Ti,FN,BN,VL,qCe,VL,Gn,ui],zN),g$=Fe([Ti,Gn,Gw,GCe,$1,ui,YCe],VN),$Ce=Fe([g$,Hp,ad],GN),KCe=Fe([Ti,g$,$Ce,ui],YN);Fe([ad,KCe],eY);var XCe={radiusAxis:{},angleAxis:{}},x$=Ws({name:"polarAxis",initialState:XCe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:K9e,removeRadiusAxis:X9e,addAngleAxis:Q9e,removeAngleAxis:Z9e}=x$.actions,QCe=x$.reducer;function y$(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}function HL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(n),!0).forEach(function(r){ZCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZCe(t,e,n){return(e=JCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JCe(t){var e=e4e(t,"string");return typeof e=="symbol"?e:e+""}function e4e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t4e=(t,e)=>e,uO=Fe([m$,t4e],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),n4e=[],fO=(t,e,n)=>n?.length===0?n4e:n,v$=Fe([Nw,uO,fO],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>WL(WL({},e.presentationProps),a.props))),i!=null)return i}}),r4e=Fe([v$,uO,fO],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var a,s=Er(r,e.nameKey,e.name),c;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?c=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?c=r.fill:c=e.fill,{value:Fp(s,e.dataKey),color:c,payload:r,type:e.legendType}})}),i4e=Fe([v$,uO,fO,ra],(t,e,n,r)=>{if(!(e==null||t==null))return a3e({offset:r,pieSettings:e,displayedData:t,cells:n})}),iT={exports:{}},vr={};var GL;function a4e(){if(GL)return vr;GL=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.for("react.view_transition"),A=Symbol.for("react.client.reference");function N(S){if(typeof S=="object"&&S!==null){var I=S.$$typeof;switch(I){case t:switch(S=S.type,S){case n:case i:case r:case d:case u:case w:return S;default:switch(S=S&&S.$$typeof,S){case s:case c:case x:case p:return S;case a:return S;default:return I}}case e:return I}}}return vr.ContextConsumer=a,vr.ContextProvider=s,vr.Element=t,vr.ForwardRef=c,vr.Fragment=n,vr.Lazy=x,vr.Memo=p,vr.Portal=e,vr.Profiler=i,vr.StrictMode=r,vr.Suspense=d,vr.SuspenseList=u,vr.isContextConsumer=function(S){return N(S)===a},vr.isContextProvider=function(S){return N(S)===s},vr.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},vr.isForwardRef=function(S){return N(S)===c},vr.isFragment=function(S){return N(S)===n},vr.isLazy=function(S){return N(S)===x},vr.isMemo=function(S){return N(S)===p},vr.isPortal=function(S){return N(S)===e},vr.isProfiler=function(S){return N(S)===i},vr.isStrictMode=function(S){return N(S)===r},vr.isSuspense=function(S){return N(S)===d},vr.isSuspenseList=function(S){return N(S)===u},vr.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===d||S===u||typeof S=="object"&&S!==null&&(S.$$typeof===x||S.$$typeof===p||S.$$typeof===s||S.$$typeof===a||S.$$typeof===c||S.$$typeof===A||S.getModuleId!==void 0)},vr.typeOf=N,vr}var qL;function s4e(){return qL||(qL=1,iT.exports=a4e()),iT.exports}var o4e=s4e(),YL=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",$L=null,aT=null,b$=t=>{if(t===$L&&Array.isArray(aT))return aT;var e=[];return R.Children.forEach(t,n=>{Si(n)||(o4e.isFragment(n)?e=e.concat(b$(n.props.children)):e.push(n))}),aT=e,$L=t,e};function dO(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>YL(i)):r=[YL(e)],b$(t).forEach(i=>{var a=lh(i,"type.displayName")||lh(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var w$=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,sT={},KL;function l4e(){return KL||(KL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(sT)),sT}var oT,XL;function c4e(){return XL||(XL=1,oT=l4e().isPlainObject),oT}var u4e=c4e();const f4e=_u(u4e);var QL,ZL,JL,e7,t7;function n7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n7(Object(n),!0).forEach(function(r){d4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d4e(t,e,n){return(e=h4e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h4e(t){var e=p4e(t,"string");return typeof e=="symbol"?e:e+""}function p4e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $2(){return $2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$2.apply(null,arguments)}function Ym(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var i7=(t,e,n,r,i)=>{var a=n-r,s;return s=wi(QL||(QL=Ym(["M ",",",""])),t,e),s+=wi(ZL||(ZL=Ym(["L ",",",""])),t+n,e),s+=wi(JL||(JL=Ym(["L ",",",""])),t+n-a/2,e+i),s+=wi(e7||(e7=Ym(["L ",",",""])),t+n-a/2-r,e+i),s+=wi(t7||(t7=Ym(["L ",","," Z"])),t,e),s},m4e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},g4e=t=>{var e=va(t,m4e),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:c}=e,{animationEasing:d,animationDuration:u,animationBegin:p,isUpdateAnimationActive:x}=e,w=R.useRef(null),[A,N]=R.useState(-1),S=R.useRef(i),I=R.useRef(a),j=R.useRef(s),D=R.useRef(n),P=R.useRef(r),V=H1(t,"trapezoid-");if(R.useEffect(()=>{if(w.current&&w.current.getTotalLength)try{var Ce=w.current.getTotalLength();Ce&&N(Ce)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var K=tr("recharts-trapezoid",c);if(!x)return R.createElement("g",null,R.createElement("path",$2({},_s(e),{className:K,d:i7(n,r,i,a,s)})));var Z=S.current,F=I.current,U=j.current,B=D.current,J=P.current,H="0px ".concat(A===-1?1:A,"px"),G="".concat(A,"px 0px"),q=VG(["strokeDasharray"],u,d);return R.createElement(V1,{animationId:V,key:V,canBegin:A>0,duration:u,easing:d,isActive:x,begin:p},Ce=>{var re=zr(Z,i,Ce),ue=zr(F,a,Ce),me=zr(U,s,Ce),Re=zr(B,n,Ce),Be=zr(J,r,Ce);w.current&&(S.current=re,I.current=ue,j.current=me,D.current=Re,P.current=Be);var be=Ce>0?{transition:q,strokeDasharray:G}:{strokeDasharray:H};return R.createElement("path",$2({},_s(e),{className:K,d:i7(Re,Be,re,ue,me),ref:w,style:r7(r7({},be),e.style)}))})},x4e=["option","shapeType","activeClassName"];function y4e(t,e){if(t==null)return{};var n,r,i=v4e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function v4e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function a7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a7(Object(n),!0).forEach(function(r){b4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b4e(t,e,n){return(e=w4e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w4e(t){var e=E4e(t,"string");return typeof e=="symbol"?e:e+""}function E4e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _4e(t,e){return K2(K2({},e),t)}function A4e(t,e){return t==="symbols"}function s7(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return R.createElement(qG,n);case"trapezoid":return R.createElement(g4e,n);case"sector":return R.createElement(XG,n);case"symbols":if(A4e(e))return R.createElement(IW,n);break;case"curve":return R.createElement(X0,n);default:return null}}function S4e(t){return R.isValidElement(t)?t.props:t}function E$(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=y4e(t,x4e),a;if(R.isValidElement(e))a=R.cloneElement(e,K2(K2({},i),S4e(e)));else if(typeof e=="function")a=e(i,i.index);else if(f4e(e)&&typeof e!="boolean"){var s=_4e(e,i);a=R.createElement(s7,{shapeType:n,elementProps:s})}else{var c=i;a=R.createElement(s7,{shapeType:n,elementProps:c})}return i.isActive?R.createElement(Di,{className:r},a):a}var hO=(t,e,n)=>{var r=ti();return(i,a)=>s=>{t?.(i,a,s),r(OY({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},pO=t=>{var e=ti();return(n,r)=>i=>{t?.(n,r,i),e(IAe())}},mO=(t,e,n)=>{var r=ti();return(i,a)=>s=>{t?.(i,a,s),r(NAe({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function gO(t){var{tooltipEntrySettings:e}=t,n=ti(),r=os(),i=R.useRef(null);return R.useLayoutEffect(()=>{r||(i.current===null?n(AAe(e)):i.current!==e&&n(SAe({prev:i.current,next:e})),i.current=e)},[e,n,r]),R.useLayoutEffect(()=>()=>{i.current&&(n(TAe(i.current)),i.current=null)},[n]),null}function _$(t){var{legendPayload:e}=t,n=ti(),r=os(),i=R.useRef(null);return R.useLayoutEffect(()=>{r||(i.current===null?n(FG(e)):i.current!==e&&n(BG({prev:i.current,next:e})),i.current=e)},[n,r,e]),R.useLayoutEffect(()=>()=>{i.current&&(n(UG(i.current)),i.current=null)},[n]),null}function T4e(t){var{legendPayload:e}=t,n=ti(),r=zt(Gn),i=R.useRef(null);return R.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(FG(e)):i.current!==e&&n(BG({prev:i.current,next:e})),i.current=e)},[n,r,e]),R.useLayoutEffect(()=>()=>{i.current&&(n(UG(i.current)),i.current=null)},[n]),null}var lT,C4e=()=>{var[t]=R.useState(()=>Yg("uid-"));return t},I4e=(lT=CZ.useId)!==null&&lT!==void 0?lT:C4e;function N4e(t,e){var n=I4e();return e||(t?"".concat(t,"-").concat(n):n)}var O4e=R.createContext(void 0),xO=t=>{var{id:e,type:n,children:r}=t,i=N4e("recharts-".concat(n),e);return R.createElement(O4e.Provider,{value:i},r(i))},M4e={cartesianItems:[],polarItems:[]},A$=Ws({name:"graphicalItems",initialState:M4e,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Qr()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=_l(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Qr()},removeCartesianGraphicalItem:{reducer(t,e){var n=_l(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Qr()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Qr()},removePolarGraphicalItem:{reducer(t,e){var n=_l(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Qr()}}}),{addCartesianGraphicalItem:R4e,replaceCartesianGraphicalItem:k4e,removeCartesianGraphicalItem:D4e,addPolarGraphicalItem:P4e,removePolarGraphicalItem:j4e}=A$.actions,L4e=A$.reducer,F4e=t=>{var e=ti(),n=R.useRef(null);return R.useLayoutEffect(()=>{n.current===null?e(R4e(t)):n.current!==t&&e(k4e({prev:n.current,next:t})),n.current=t},[e,t]),R.useLayoutEffect(()=>()=>{n.current&&(e(D4e(n.current)),n.current=null)},[e]),null},S$=R.memo(F4e);function B4e(t){var e=ti();return R.useLayoutEffect(()=>(e(P4e(t)),()=>{e(j4e(t))}),[e,t]),null}var U4e=["key"],z4e=["onMouseEnter","onClick","onMouseLeave"],V4e=["id"],H4e=["id"];function o7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o7(Object(n),!0).forEach(function(r){W4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W4e(t,e,n){return(e=G4e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G4e(t){var e=q4e(t,"string");return typeof e=="symbol"?e:e+""}function q4e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $f(){return $f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$f.apply(null,arguments)}function qw(t,e){if(t==null)return{};var n,r,i=Y4e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Y4e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $4e(t){var e=R.useMemo(()=>dO(t.children,tx),[t.children]),n=zt(r=>r4e(r,t.id,e));return n==null?null:R.createElement(T4e,{legendPayload:n})}var K4e=R.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:c,hide:d,tooltipType:u,id:p}=t,x={dataDefinedOnItem:r.map(w=>w.tooltipPayload),getPosition:w=>{var A;return(A=r[Number(w)])===null||A===void 0?void 0:A.tooltipPosition},settings:{stroke:i,strokeWidth:a,fill:s,dataKey:e,nameKey:n,name:Fp(c,e),hide:d,type:u,color:s,unit:"",graphicalItemId:p}};return R.createElement(gO,{tooltipEntrySettings:x})}),X4e=(t,e)=>t>e?"start":t<e?"end":"middle",Q4e=(t,e,n)=>rs(typeof e=="function"?e(t):e,n,n*.8),Z4e=(t,e,n)=>{var{top:r,left:i,width:a,height:s}=e,c=YG(a,s),d=i+rs(t.cx,a,a/2),u=r+rs(t.cy,s,s/2),p=rs(t.innerRadius,c,0),x=Q4e(n,t.outerRadius,c),w=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:d,cy:u,innerRadius:p,outerRadius:x,maxRadius:w}},J4e=(t,e)=>{var n=ma(e-t),r=Math.min(Math.abs(e-t),360);return n*r},e3e=(t,e)=>{if(R.isValidElement(t))return R.cloneElement(t,e);if(typeof t=="function")return t(e);var n=tr("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=qw(e,U4e);return R.createElement(X0,$f({},i,{type:"linear",className:n}))},t3e=(t,e,n)=>{if(R.isValidElement(t))return R.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),R.isValidElement(r)))return r;var i=tr("recharts-pie-label-text",y$(t));return R.createElement(Hw,$f({},e,{alignmentBaseline:"middle",className:i}),r)};function n3e(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!e)return null;var c=zs(n),d=sh(i),u=sh(a),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,x=e.map((w,A)=>{var N=(w.startAngle+w.endAngle)/2,S=qi(w.cx,w.cy,w.outerRadius+p,N),I=Ei(Ei(Ei(Ei({},c),w),{},{stroke:"none"},d),{},{index:A,textAnchor:X4e(S.x,w.cx)},S),j=Ei(Ei(Ei(Ei({},c),w),{},{fill:"none",stroke:w.fill},u),{},{index:A,points:[qi(w.cx,w.cy,w.outerRadius,N),S],key:"line"});return R.createElement(Gs,{zIndex:Yi.label,key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(A)},R.createElement(Di,null,a&&e3e(a,j),t3e(i,I,Er(w,s))))});return R.createElement(Di,{className:"recharts-pie-labels"},x)}function r3e(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?R.createElement(cO,{label:i}):R.createElement(n3e,{sectors:e,props:n,showLabels:r})}function i3e(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:s}=t,c=zt(Yf),d=zt(nO),u=zt(pSe),{onMouseEnter:p,onClick:x,onMouseLeave:w}=i,A=qw(i,z4e),N=hO(p,i.dataKey,s),S=pO(w),I=mO(x,i.dataKey,s);return e==null||e.length===0?null:R.createElement(R.Fragment,null,e.map((j,D)=>{if(j?.startAngle===0&&j?.endAngle===0&&e.length!==1)return null;var P=u==null||u===s,V=String(D)===c&&(d==null||i.dataKey===d)&&P,K=c?r:null,Z=n&&V?n:K,F=Ei(Ei({},j),{},{stroke:j.stroke,tabIndex:-1,[EG]:D,[_G]:s});return R.createElement(Di,$f({key:"sector-".concat(j?.startAngle,"-").concat(j?.endAngle,"-").concat(j.midAngle,"-").concat(D),tabIndex:-1,className:"recharts-pie-sector"},iw(A,j,D),{onMouseEnter:N(j,D),onMouseLeave:S(j,D),onClick:I(j,D)}),R.createElement(E$,$f({option:a??Z,index:D,shapeType:"sector",isActive:V},F)))}))}function a3e(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:a}=t,{cornerRadius:s,startAngle:c,endAngle:d,dataKey:u,nameKey:p,tooltipType:x}=n,w=Math.abs(n.minAngle),A=J4e(c,d),N=Math.abs(A),S=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,I=r.filter(Z=>Er(Z,u,0)!==0).length,j=(N>=360?I:I-1)*S,D=N-I*w-j,P=r.reduce((Z,F)=>{var U=Er(F,u,0);return Z+(Mt(U)?U:0)},0),V;if(P>0){var K;V=r.map((Z,F)=>{var U=Er(Z,u,0),B=Er(Z,p,F),J=Z4e(n,a,Z),H=(Mt(U)?U:0)/P,G,q=Ei(Ei({},Z),i&&i[F]&&i[F].props);F?G=K.endAngle+ma(A)*S*(U!==0?1:0):G=c;var Ce=G+ma(A)*((U!==0?w:0)+H*D),re=(G+Ce)/2,ue=(J.innerRadius+J.outerRadius)/2,me=[{name:B,value:U,payload:q,dataKey:u,type:x,graphicalItemId:n.id}],Re=qi(J.cx,J.cy,ue,re);return K=Ei(Ei(Ei(Ei({},n.presentationProps),{},{percent:H,cornerRadius:typeof s=="string"?parseFloat(s):s,name:B,tooltipPayload:me,midAngle:re,middleRadius:ue,tooltipPosition:Re},q),J),{},{value:U,dataKey:u,startAngle:G,endAngle:Ce,payload:q,paddingAngle:ma(A)*S}),K})}return V}function s3e(t){var{showLabels:e,sectors:n,children:r}=t,i=R.useMemo(()=>!e||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,e]);return R.createElement(UCe,{value:e?i:void 0},r)}function o3e(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:c,animationEasing:d,activeShape:u,inactiveShape:p,onAnimationStart:x,onAnimationEnd:w}=e,A=H1(e,"recharts-pie-"),N=n.current,[S,I]=R.useState(!1),j=R.useCallback(()=>{typeof w=="function"&&w(),I(!1)},[w]),D=R.useCallback(()=>{typeof x=="function"&&x(),I(!0)},[x]);return R.createElement(s3e,{showLabels:!S,sectors:i},R.createElement(V1,{animationId:A,begin:s,duration:c,isActive:a,easing:d,onAnimationStart:D,onAnimationEnd:j,key:A},P=>{var V,K=[],Z=i&&i[0],F=(V=Z?.startAngle)!==null&&V!==void 0?V:0;return i?.forEach((U,B)=>{var J=N&&N[B],H=B>0?lh(U,"paddingAngle",0):0;if(J){var G=zr(J.endAngle-J.startAngle,U.endAngle-U.startAngle,P),q=Ei(Ei({},U),{},{startAngle:F+H,endAngle:F+G+H});K.push(q),F=q.endAngle}else{var{endAngle:Ce,startAngle:re}=U,ue=zr(0,Ce-re,P),me=Ei(Ei({},U),{},{startAngle:F+H,endAngle:F+ue+H});K.push(me),F=me.endAngle}}),n.current=K,R.createElement(Di,null,R.createElement(i3e,{sectors:K,activeShape:u,inactiveShape:p,allOtherPieProps:e,shape:e.shape,id:r}))}),R.createElement(r3e,{showLabels:!S,sectors:i,props:e}),e.children)}var l3e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Yi.area};function c3e(t){var{id:e}=t,n=qw(t,V4e),{hide:r,className:i,rootTabIndex:a}=t,s=R.useMemo(()=>dO(t.children,tx),[t.children]),c=zt(p=>i4e(p,e,s)),d=R.useRef(null),u=tr("recharts-pie",i);return r||c==null?(d.current=null,R.createElement(Di,{tabIndex:a,className:u})):R.createElement(Gs,{zIndex:t.zIndex},R.createElement(K4e,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:c,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),R.createElement(Di,{tabIndex:a,className:u},R.createElement(o3e,{props:Ei(Ei({},n),{},{sectors:c}),previousSectorsRef:d,id:e})))}function T$(t){var e=va(t,l3e),{id:n}=e,r=qw(e,H4e),i=zs(r);return R.createElement(xO,{id:n,type:"pie"},a=>R.createElement(R.Fragment,null,R.createElement(B4e,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),R.createElement($4e,$f({},r,{id:a})),R.createElement(c3e,$f({},r,{id:a}))))}T$.displayName="Pie";var u3e=["points"];function l7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l7(Object(n),!0).forEach(function(r){f3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f3e(t,e,n){return(e=d3e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d3e(t){var e=h3e(t,"string");return typeof e=="symbol"?e:e+""}function h3e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function X2(){return X2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X2.apply(null,arguments)}function p3e(t,e){if(t==null)return{};var n,r,i=m3e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function m3e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function g3e(t){var{option:e,dotProps:n,className:r}=t;if(R.isValidElement(e))return R.cloneElement(e,n);if(typeof e=="function")return e(n);var i=tr(r,typeof e!="boolean"?e.className:""),a=n??{},{points:s}=a,c=p3e(a,u3e);return R.createElement(p$,X2({},c,{className:i}))}function x3e(t,e){return t==null?!1:e?!0:t.length===1}function y3e(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:c,clipPathId:d,zIndex:u=Yi.scatter}=t;if(!x3e(e,n))return null;var p=w$(n),x=r1e(n),w=e.map((N,S)=>{var I,j,D=cT(cT(cT({r:3},s),x),{},{index:S,cx:(I=N.x)!==null&&I!==void 0?I:void 0,cy:(j=N.y)!==null&&j!==void 0?j:void 0,dataKey:a,value:N.value,payload:N.payload,points:e});return R.createElement(g3e,{key:"dot-".concat(S),option:n,dotProps:D,className:i})}),A={};return c&&d!=null&&(A.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(d,")")),R.createElement(Gs,{zIndex:u},R.createElement(Di,X2({className:r},A),w))}function c7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c7(Object(n),!0).forEach(function(r){v3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v3e(t,e,n){return(e=b3e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b3e(t){var e=w3e(t,"string");return typeof e=="symbol"?e:e+""}function w3e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C$=0,E3e={xAxis:{},yAxis:{},zAxis:{}},I$=Ws({name:"cartesianAxis",initialState:E3e,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Qr()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Qr()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Qr()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Qr()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Qr()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Qr()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Qr()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Qr()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Qr()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a,s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-((a=s[0])!==null&&a!==void 0?a:0))<=1)return;var c=[...s,r].slice(-3);t.yAxis[n]=u7(u7({},i),{},{width:r,widthHistory:c})}}}}),{addXAxis:_3e,replaceXAxis:A3e,removeXAxis:S3e,addYAxis:T3e,replaceYAxis:C3e,removeYAxis:I3e,addZAxis:J9e,replaceZAxis:eLe,removeZAxis:tLe,updateYAxisWidth:N3e}=I$.actions,O3e=I$.reducer,M3e=Fe([ra],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),R3e=Fe([M3e,Su,Tu],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),yO=()=>zt(R3e),k3e=()=>zt(vSe);function f7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f7(Object(n),!0).forEach(function(r){D3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D3e(t,e,n){return(e=P3e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P3e(t){var e=j3e(t,"string");return typeof e=="symbol"?e:e+""}function j3e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L3e=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=t;if(i===!1||e.x==null||e.y==null)return null;var c={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},d=uT(uT(uT({},c),sh(i)),LI(i)),u;return R.isValidElement(i)?u=R.cloneElement(i,d):typeof i=="function"?u=i(d):u=R.createElement(p$,d),R.createElement(Di,{className:"recharts-active-dot",clipPath:s},u)};function d7(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=Yi.activeDot}=t,c=zt(Yf),d=k3e();if(e==null||d==null)return null;var u=e.find(p=>d.includes(p.payload));return Si(u)?null:R.createElement(Gs,{zIndex:s},R.createElement(L3e,{point:u,childIndex:Number(c),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var h7=(t,e,n)=>{var r=n??t;if(!Si(r))return rs(r,e,0)},F3e=(t,e,n)=>{var r={},i=t.filter(Dw),a=t.filter(u=>u.stackId==null),s=i.reduce((u,p)=>{var x=u[p.stackId];return x==null&&(x=[]),x.push(p),u[p.stackId]=x,u},r),c=Object.entries(s).map(u=>{var p,[x,w]=u,A=w.map(S=>S.dataKey),N=h7(e,n,(p=w[0])===null||p===void 0?void 0:p.barSize);return{stackId:x,dataKeys:A,barSize:N}}),d=a.map(u=>{var p=[u.dataKey].filter(w=>w!=null),x=h7(e,n,u.barSize);return{stackId:void 0,dataKeys:p,barSize:x}});return[...c,...d]};function p7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function By(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p7(Object(n),!0).forEach(function(r){B3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B3e(t,e,n){return(e=U3e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U3e(t){var e=z3e(t,"string");return typeof e=="symbol"?e:e+""}function z3e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V3e(t,e,n,r,i){var a,s=r.length;if(!(s<1)){var c=rs(t,n,0,!0),d,u=[];if(Sn((a=r[0])===null||a===void 0?void 0:a.barSize)){var p=!1,x=n/s,w=r.reduce((D,P)=>D+(P.barSize||0),0);w+=(s-1)*c,w>=n&&(w-=(s-1)*c,c=0),w>=n&&x>0&&(p=!0,x*=.9,w=s*x);var A=(n-w)/2>>0,N={offset:A-c,size:0};d=r.reduce((D,P)=>{var V,K={stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:N.offset+N.size+c,size:p?x:(V=P.barSize)!==null&&V!==void 0?V:0}},Z=[...D,K];return N=K.position,Z},u)}else{var S=rs(e,n,0,!0);n-2*S-(s-1)*c<=0&&(c=0);var I=(n-2*S-(s-1)*c)/s;I>1&&(I>>=0);var j=Sn(i)?Math.min(I,i):I;d=r.reduce((D,P,V)=>[...D,{stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:S+(I+c)*V+(I-j)/2,size:j}}],u)}return d}}var H3e=(t,e,n,r,i,a,s)=>{var c=Si(s)?e:s,d=V3e(n,r,i!==a?i:a,t,c);return i!==a&&d!=null&&(d=d.map(u=>By(By({},u),{},{position:By(By({},u.position),{},{offset:u.position.offset-i/2})}))),d},W3e=(t,e)=>{var n=kw(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===n)}}}},G3e=(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}};function q3e(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Sn(t.zIndex)?t.zIndex:e}var N$=t=>{var{chartData:e}=t,n=ti(),r=os();return R.useEffect(()=>r?()=>{}:(n(vL(e)),()=>{n(vL(void 0))}),[e,n,r]),null},m7={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},O$=Ws({name:"brush",initialState:m7,reducers:{setBrushSettings(t,e){return e.payload==null?m7:e.payload}}}),{setBrushSettings:nLe}=O$.actions,Y3e=O$.reducer;function $3e(t){return(t%180+180)%180}var K3e=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=$3e(i),s=a*Math.PI/180,c=Math.atan(r/n),d=s>c&&s<Math.PI-c?r/Math.sin(s):n/Math.cos(s);return Math.abs(d)},X3e={dots:[],areas:[],lines:[]},M$=Ws({name:"referenceElements",initialState:X3e,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=_l(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=_l(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=_l(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:rLe,removeDot:iLe,addArea:aLe,removeArea:sLe,addLine:oLe,removeLine:lLe}=M$.actions,Q3e=M$.reducer,Z3e=R.createContext(void 0),J3e=t=>{var{children:e}=t,[n]=R.useState("".concat(Yg("recharts"),"-clip")),r=yO();if(r==null)return null;var{x:i,y:a,width:s,height:c}=r;return R.createElement(Z3e.Provider,{value:n},R.createElement("defs",null,R.createElement("clipPath",{id:n},R.createElement("rect",{x:i,y:a,height:c,width:s}))),e)};function R$(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function eIe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return K3e(r,n)}function tIe(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:c}=t;return e===1?{start:r?i:a,end:r?i+s:a+c}:{start:r?i+s:a+c,end:r?i:a}}function c1(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function nIe(t,e){return R$(t,e+1)}function rIe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:c}=e,d=0,u=1,p=s,x=function(){var N=r?.[d];if(N===void 0)return{v:R$(r,u)};var S=d,I,j=()=>(I===void 0&&(I=n(N,S)),I),D=N.coordinate,P=d===0||c1(t,D,j,p,c);P||(d=0,p=s,u+=1),P&&(p=D+t*(j()/2+i),d+=u)},w;u<=a.length;)if(w=x(),w)return w.v;return[]}function iIe(t,e,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:c,end:d}=e,u=1;u<=s;u++){for(var p=(s-1)%u,x=c,w=!0,A=function(){var V=r[S];if(V==null)return 0;var K=S,Z,F=()=>(Z===void 0&&(Z=n(V,K)),Z),U=V.coordinate,B=S===p||c1(t,U,F,x,d);if(!B)return w=!1,1;B&&(x=U+t*(F()/2+i))},N,S=p;S<s&&(N=A(),!(N!==0&&N===1));S+=u);if(w){for(var I=[],j=p;j<s;j+=u){var D=r[j];D!=null&&I.push(D)}return I}}return[]}function g7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g7(Object(n),!0).forEach(function(r){aIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aIe(t,e,n){return(e=sIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sIe(t){var e=oIe(t,"string");return typeof e=="symbol"?e:e+""}function oIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lIe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:c}=e,{end:d}=e,u=function(w){var A=a[w];if(A==null)return 1;var N=A,S,I=()=>(S===void 0&&(S=n(A,w)),S);if(w===s-1){var j=t*(N.coordinate+t*I()/2-d);a[w]=N=Qa(Qa({},N),{},{tickCoord:j>0?N.coordinate-j*t:N.coordinate})}else a[w]=N=Qa(Qa({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var D=c1(t,N.tickCoord,I,c,d);D&&(d=N.tickCoord-t*(I()/2+i),a[w]=Qa(Qa({},N),{},{isShow:!0}))}},p=s-1;p>=0;p--)u(p);return a}function cIe(t,e,n,r,i,a){var s=(r||[]).slice(),c=s.length,{start:d,end:u}=e;if(a){var p=r[c-1];if(p!=null){var x=n(p,c-1),w=t*(p.coordinate+t*x/2-u);if(s[c-1]=p=Qa(Qa({},p),{},{tickCoord:w>0?p.coordinate-w*t:p.coordinate}),p.tickCoord!=null){var A=c1(t,p.tickCoord,()=>x,d,u);A&&(u=p.tickCoord-t*(x/2+i),s[c-1]=Qa(Qa({},p),{},{isShow:!0}))}}}for(var N=a?c-1:c,S=function(D){var P=s[D];if(P==null)return 1;var V=P,K,Z=()=>(K===void 0&&(K=n(P,D)),K);if(D===0){var F=t*(V.coordinate-t*Z()/2-d);s[D]=V=Qa(Qa({},V),{},{tickCoord:F<0?V.coordinate-F*t:V.coordinate})}else s[D]=V=Qa(Qa({},V),{},{tickCoord:V.coordinate});if(V.tickCoord!=null){var U=c1(t,V.tickCoord,Z,d,u);U&&(d=V.tickCoord+t*(Z()/2+i),s[D]=Qa(Qa({},V),{},{isShow:!0}))}},I=0;I<N;I++)S(I);return s}function vO(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:c,interval:d,tickFormatter:u,unit:p,angle:x}=t;if(!i||!i.length||!r)return[];if(Mt(d)||z1.isSsr){var w;return(w=nIe(i,Mt(d)?d:0))!==null&&w!==void 0?w:[]}var A=[],N=c==="top"||c==="bottom"?"width":"height",S=p&&N==="width"?bg(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},I=(K,Z)=>{var F=typeof u=="function"?u(K.value,Z):K.value;return N==="width"?eIe(bg(F,{fontSize:e,letterSpacing:n}),S,x):bg(F,{fontSize:e,letterSpacing:n})[N]},j=i[0],D=i[1],P=i.length>=2&&j!=null&&D!=null?ma(D.coordinate-j.coordinate):1,V=tIe(a,P,N);return d==="equidistantPreserveStart"?rIe(P,V,I,i,s):d==="equidistantPreserveEnd"?iIe(P,V,I,i,s):(d==="preserveStart"||d==="preserveStartEnd"?A=cIe(P,V,I,i,s,d==="preserveStartEnd"):A=lIe(P,V,I,i,s),A.filter(K=>K.isShow))}var uIe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(p=>{if(p){var x=p.getBoundingClientRect();x.width>s&&(s=x.width)}});var c=n?n.getBoundingClientRect().width:0,d=i+a,u=s+d+c+(n?r:0);return Math.round(u)}return 0},fIe=["axisLine","width","height","className","hide","ticks","axisType"];function dIe(t,e){if(t==null)return{};var n,r,i=hIe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hIe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ph(){return ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ph.apply(null,arguments)}function x7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x7(Object(n),!0).forEach(function(r){pIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pIe(t,e,n){return(e=mIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mIe(t){var e=gIe(t,"string");return typeof e=="symbol"?e:e+""}function gIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ru={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Yi.axis};function xIe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:c,otherSvgProps:d}=t;if(!c)return null;var u=vi(vi(vi({},d),zs(c)),{},{fill:"none"});if(a==="top"||a==="bottom"){var p=+(a==="top"&&!s||a==="bottom"&&s);u=vi(vi({},u),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var x=+(a==="left"&&!s||a==="right"&&s);u=vi(vi({},u),{},{x1:e+x*r,y1:n,x2:e+x*r,y2:n+i})}return R.createElement("line",ph({},u,{className:tr("recharts-cartesian-axis-line",lh(c,"className"))}))}function yIe(t,e,n,r,i,a,s,c,d){var u,p,x,w,A,N,S=c?-1:1,I=t.tickSize||s,j=Mt(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":u=p=t.coordinate,w=n+ +!c*i,x=w-S*I,N=x-S*d,A=j;break;case"left":x=w=t.coordinate,p=e+ +!c*r,u=p-S*I,A=u-S*d,N=j;break;case"right":x=w=t.coordinate,p=e+ +c*r,u=p+S*I,A=u+S*d,N=j;break;default:u=p=t.coordinate,w=n+ +c*i,x=w+S*I,N=x+S*d,A=j;break}return{line:{x1:u,y1:x,x2:p,y2:w},tick:{x:A,y:N}}}function vIe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function bIe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function wIe(t){var{option:e,tickProps:n,value:r}=t,i,a=tr(n.className,"recharts-cartesian-axis-tick-value");if(R.isValidElement(e))i=R.cloneElement(e,vi(vi({},n),{},{className:a}));else if(typeof e=="function")i=e(vi(vi({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=tr(s,y$(e))),i=R.createElement(Hw,ph({},n,{className:s}),r)}return i}var EIe=R.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:c,padding:d,tickTextProps:u,orientation:p,mirror:x,x:w,y:A,width:N,height:S,tickSize:I,tickMargin:j,fontSize:D,letterSpacing:P,getTicksConfig:V,events:K,axisType:Z}=t,F=vO(vi(vi({},V),{},{ticks:n}),D,P),U=vIe(p,x),B=bIe(p,x),J=zs(V),H=sh(r),G={};typeof i=="object"&&(G=i);var q=vi(vi({},J),{},{fill:"none"},G),Ce=F.map(me=>vi({entry:me},yIe(me,w,A,N,S,p,I,x,j))),re=Ce.map(me=>{var{entry:Re,line:Be}=me;return R.createElement(Di,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Re.value,"-").concat(Re.coordinate,"-").concat(Re.tickCoord)},i&&R.createElement("line",ph({},q,Be,{className:tr("recharts-cartesian-axis-tick-line",lh(i,"className"))})))}),ue=Ce.map((me,Re)=>{var Be,be,{entry:Q,tick:ee}=me,oe=vi(vi(vi(vi({verticalAnchor:B},J),{},{textAnchor:U,stroke:"none",fill:a},ee),{},{index:Re,payload:Q,visibleTicksCount:F.length,tickFormatter:s,padding:d},u),{},{angle:(Be=(be=u?.angle)!==null&&be!==void 0?be:J.angle)!==null&&Be!==void 0?Be:0}),se=vi(vi({},oe),H);return R.createElement(Di,ph({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},iw(K,Q,Re)),r&&R.createElement(wIe,{option:r,tickProps:se,value:"".concat(typeof s=="function"?s(Q.value,Re):Q.value).concat(c||"")}))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(Z,"-ticks")},ue.length>0&&R.createElement(Gs,{zIndex:Yi.label},R.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(Z,"-tick-labels"),ref:e},ue)),re.length>0&&R.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(Z,"-tick-lines")},re))}),_Ie=R.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:c,axisType:d}=t,u=dIe(t,fIe),[p,x]=R.useState(""),[w,A]=R.useState(""),N=R.useRef(null);R.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var I;return uIe({ticks:N.current,label:(I=t.labelRef)===null||I===void 0?void 0:I.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var S=R.useCallback(I=>{if(I){var j=I.getElementsByClassName("recharts-cartesian-axis-tick-value");N.current=j;var D=j[0];if(D){var P=window.getComputedStyle(D),V=P.fontSize,K=P.letterSpacing;(V!==p||K!==w)&&(x(V),A(K))}}},[p,w]);return s||r!=null&&r<=0||i!=null&&i<=0?null:R.createElement(Gs,{zIndex:t.zIndex},R.createElement(Di,{className:tr("recharts-cartesian-axis",a)},R.createElement(xIe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:zs(t)}),R.createElement(EIe,{ref:S,axisType:d,events:u,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:w,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:c,unit:t.unit,width:t.width,x:t.x,y:t.y}),R.createElement(vCe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},R.createElement(NCe,{label:t.label,labelRef:t.labelRef}),t.children)))}),bO=R.forwardRef((t,e)=>{var n=va(t,ru);return R.createElement(_Ie,ph({},n,{ref:e}))});bO.displayName="CartesianAxis";var AIe=["x1","y1","x2","y2","key"],SIe=["offset"],TIe=["xAxisId","yAxisId"],CIe=["xAxisId","yAxisId"];function y7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function es(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y7(Object(n),!0).forEach(function(r){IIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IIe(t,e,n){return(e=NIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NIe(t){var e=OIe(t,"string");return typeof e=="symbol"?e:e+""}function OIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hd.apply(null,arguments)}function Q2(t,e){if(t==null)return{};var n,r,i=MIe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function MIe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var RIe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:c}=t;return R.createElement("rect",{x:r,y:i,ry:c,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function k$(t){var{option:e,lineItemProps:n}=t,r;if(R.isValidElement(e))r=R.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:s,x2:c,y2:d,key:u}=n,p=Q2(n,AIe),x=(i=zs(p))!==null&&i!==void 0?i:{},{offset:w}=x,A=Q2(x,SIe);r=R.createElement("line",Hd({},A,{x1:a,y1:s,x2:c,y2:d,fill:"none",key:u}))}return r}function kIe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,c=Q2(t,TIe),d=i.map((u,p)=>{var x=es(es({},c),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(p),index:p});return R.createElement(k$,{key:"line-".concat(p),option:r,lineItemProps:x})});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function DIe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,c=Q2(t,CIe),d=i.map((u,p)=>{var x=es(es({},c),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(p),index:p});return R.createElement(k$,{option:r,lineItemProps:x,key:"line-".concat(p)})});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function PIe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:c,horizontal:d=!0}=t;if(!d||!e||!e.length||c==null)return null;var u=c.map(x=>Math.round(x+i-i)).sort((x,w)=>x-w);i!==u[0]&&u.unshift(0);var p=u.map((x,w)=>{var A=u[w+1],N=A==null,S=N?i+s-x:A-x;if(S<=0)return null;var I=w%e.length;return R.createElement("rect",{key:"react-".concat(w),y:x,x:r,height:S,width:a,stroke:"none",fill:e[I],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function jIe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:c,verticalPoints:d}=t;if(!e||!n||!n.length)return null;var u=d.map(x=>Math.round(x+i-i)).sort((x,w)=>x-w);i!==u[0]&&u.unshift(0);var p=u.map((x,w)=>{var A=u[w+1],N=A==null,S=N?i+s-x:A-x;if(S<=0)return null;var I=w%n.length;return R.createElement("rect",{key:"react-".concat(w),x,y:a,width:S,height:c,stroke:"none",fill:n[I],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var LIe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return yG(vO(es(es(es({},ru),n),{},{ticks:vG(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},FIe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return yG(vO(es(es(es({},ru),n),{},{ticks:vG(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},BIe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Yi.grid};function Yw(t){var e=IG(),n=NG(),r=CG(),i=es(es({},va(t,BIe)),{},{x:Mt(t.x)?t.x:r.left,y:Mt(t.y)?t.y:r.top,width:Mt(t.width)?t.width:r.width,height:Mt(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:s,x:c,y:d,width:u,height:p,syncWithTicks:x,horizontalValues:w,verticalValues:A}=i,N=os(),S=zt(B=>oL(B,"xAxis",a,N)),I=zt(B=>oL(B,"yAxis",s,N));if(!pc(u)||!pc(p)||!Mt(c)||!Mt(d))return null;var j=i.verticalCoordinatesGenerator||LIe,D=i.horizontalCoordinatesGenerator||FIe,{horizontalPoints:P,verticalPoints:V}=i;if((!P||!P.length)&&typeof D=="function"){var K=w&&w.length,Z=D({yAxis:I?es(es({},I),{},{ticks:K?w:I.ticks}):void 0,width:e??u,height:n??p,offset:r},K?!0:x);E2(Array.isArray(Z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof Z,"]")),Array.isArray(Z)&&(P=Z)}if((!V||!V.length)&&typeof j=="function"){var F=A&&A.length,U=j({xAxis:S?es(es({},S),{},{ticks:F?A:S.ticks}):void 0,width:e??u,height:n??p,offset:r},F?!0:x);E2(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(V=U)}return R.createElement(Gs,{zIndex:i.zIndex},R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(RIe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),R.createElement(PIe,Hd({},i,{horizontalPoints:P})),R.createElement(jIe,Hd({},i,{verticalPoints:V})),R.createElement(kIe,Hd({},i,{offset:r,horizontalPoints:P,xAxis:S,yAxis:I})),R.createElement(DIe,Hd({},i,{offset:r,verticalPoints:V,xAxis:S,yAxis:I}))))}Yw.displayName="CartesianGrid";var UIe={},D$=Ws({name:"errorBars",initialState:UIe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:cLe,replaceErrorBar:uLe,removeErrorBar:fLe}=D$.actions,zIe=D$.reducer,VIe=["children"];function HIe(t,e){if(t==null)return{};var n,r,i=WIe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WIe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var GIe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},qIe=R.createContext(GIe);function YIe(t){var{children:e}=t,n=HIe(t,VIe);return R.createElement(qIe.Provider,{value:n},e)}function wO(t,e){var n,r,i=zt(u=>Nu(u,t)),a=zt(u=>Ou(u,e)),s=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:ua.allowDataOverflow,c=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:fa.allowDataOverflow,d=s||c;return{needClip:d,needClipX:s,needClipY:c}}function P$(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=yO(),{needClipX:a,needClipY:s,needClip:c}=wO(e,n);if(!c||!i)return null;var{x:d,y:u,width:p,height:x}=i;return R.createElement("clipPath",{id:"clipPath-".concat(r)},R.createElement("rect",{x:a?d:d-p/2,y:s?u:u-x/2,width:a?p:p*2,height:s?x:x*2}))}function $Ie(t){var e=sh(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),c=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(c)||c<0)&&(c=r),{r:s,strokeWidth:c}}return{r:n,strokeWidth:r}}var fT={exports:{}},dT={};var v7;function KIe(){if(v7)return dT;v7=1;var t=bp();function e(d,u){return d===u&&(d!==0||1/d===1/u)||d!==d&&u!==u}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,c=t.useDebugValue;return dT.useSyncExternalStoreWithSelector=function(d,u,p,x,w){var A=i(null);if(A.current===null){var N={hasValue:!1,value:null};A.current=N}else N=A.current;A=s(function(){function I(K){if(!j){if(j=!0,D=K,K=x(K),w!==void 0&&N.hasValue){var Z=N.value;if(w(Z,K))return P=Z}return P=K}if(Z=P,n(D,K))return Z;var F=x(K);return w!==void 0&&w(Z,F)?(D=K,Z):(D=K,P=F)}var j=!1,D,P,V=p===void 0?null:p;return[function(){return I(u())},V===null?void 0:function(){return I(V())}]},[u,p,x,w]);var S=r(d,A[0],A[1]);return a(function(){N.hasValue=!0,N.value=S},[S]),c(S),S},dT}var b7;function XIe(){return b7||(b7=1,fT.exports=KIe()),fT.exports}XIe();function QIe(t){t()}function ZIe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){QIe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var w7={notify(){},get:()=>[]};function JIe(t,e){let n,r=w7,i=0,a=!1;function s(S){p();const I=r.subscribe(S);let j=!1;return()=>{j||(j=!0,I(),x())}}function c(){r.notify()}function d(){N.onStateChange&&N.onStateChange()}function u(){return a}function p(){i++,n||(n=t.subscribe(d),r=ZIe())}function x(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=w7)}function w(){a||(a=!0,p())}function A(){a&&(a=!1,x())}const N={addNestedSub:s,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:u,trySubscribe:w,tryUnsubscribe:A,getListeners:()=>r};return N}var eNe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tNe=eNe(),nNe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",rNe=nNe(),iNe=()=>tNe||rNe?R.useLayoutEffect:R.useEffect,aNe=iNe();function E7(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function sNe(t,e){if(E7(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!E7(t[n[i]],e[n[i]]))return!1;return!0}var oNe=Symbol.for("react-redux-context"),lNe=typeof globalThis<"u"?globalThis:{};function cNe(){if(!R.createContext)return{};const t=lNe[oNe]??=new Map;let e=t.get(R.createContext);return e||(e=R.createContext(null),t.set(R.createContext,e)),e}var uNe=cNe();function fNe(t){const{children:e,context:n,serverState:r,store:i}=t,a=R.useMemo(()=>{const d=JIe(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),s=R.useMemo(()=>i.getState(),[i]);aNe(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),s!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,s]);const c=n||uNe;return R.createElement(c.Provider,{value:a},e)}var dNe=fNe,hNe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function pNe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function $w(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(hNe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!sNe(t[r],e[r]))return!1}else if(!pNe(t[r],e[r]))return!1;return!0}function yc(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:C$}function vc(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:C$}var j$=(t,e,n)=>qf(t,"xAxis",yc(t,e),n),L$=(t,e,n)=>Gf(t,"xAxis",yc(t,e),n),F$=(t,e,n)=>qf(t,"yAxis",vc(t,e),n),B$=(t,e,n)=>Gf(t,"yAxis",vc(t,e),n),mNe=Fe([Gn,j$,F$,L$,B$],(t,e,n,r,i)=>xc(t,"xAxis")?hp(e,r,!1):hp(n,i,!1)),gNe=(t,e)=>e,U$=Fe([Lw,gNe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),z$=t=>{var e=Gn(t),n=xc(e,"xAxis");return n?"yAxis":"xAxis"},xNe=(t,e)=>{var n=z$(t);return n==="yAxis"?vc(t,e):yc(t,e)},yNe=(t,e,n)=>W2(t,z$(t),xNe(t,e),n),vNe=Fe([U$,yNe],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=kw(t);if(!(r==null||i==null)){var a=(n=e[r])===null||n===void 0?void 0:n.stackedData,s=a?.find(c=>c.key===i);if(s!=null)return s.map(c=>[c[0],c[1]])}}}),bNe=Fe([Gn,j$,F$,L$,B$,vNe,Rq,mNe,U$,p_e],(t,e,n,r,i,a,s,c,d,u)=>{var{chartData:p,dataStartIndex:x,dataEndIndex:w}=s;if(!(d==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||c==null)){var{data:A}=d,N;if(A&&A.length>0?N=A:N=p?.slice(x,w+1),N!=null)return BNe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:x,areaSettings:d,stackedData:a,displayedData:N,chartBaseValue:u,bandSize:c})}}),wNe=["id"],ENe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Kd(){return Kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kd.apply(null,arguments)}function V$(t,e){if(t==null)return{};var n,r,i=_Ne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _Ne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_7(Object(n),!0).forEach(function(r){ANe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ANe(t,e,n){return(e=SNe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SNe(t){var e=TNe(t,"string");return typeof e=="symbol"?e:e+""}function TNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z2(t,e){return t&&t!=="none"?t:e}var CNe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:Z2(r,i),value:Fp(n,e),payload:t}]},INe=R.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:c,unit:d,tooltipType:u,id:p}=t,x={dataDefinedOnItem:n,getPosition:Ch,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Fp(s,e),hide:c,type:u,color:Z2(r,a),unit:d,graphicalItemId:p}};return R.createElement(gO,{tooltipEntrySettings:x})});function NNe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:a,dataKey:s}=r,c=zs(r);return R.createElement(y3e,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:c,needClip:i,clipPathId:e})}function ONe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(a=>{var s,c,d={x:(s=a.x)!==null&&s!==void 0?s:0,y:(c=a.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return j0(j0({},d),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return R.createElement(d$,{value:e?i:void 0},n)}function A7(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:a}=t,{layout:s,type:c,stroke:d,connectNulls:u,isRange:p}=a,{id:x}=a,w=V$(a,wNe),A=zs(w),N=_s(w);return R.createElement(R.Fragment,null,e?.length>1&&R.createElement(Di,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},R.createElement(X0,Kd({},N,{id:x,points:e,connectNulls:u,type:c,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),d!=="none"&&R.createElement(X0,Kd({},A,{className:"recharts-area-curve",layout:s,type:c,connectNulls:u,fill:"none",points:e})),d!=="none"&&p&&R.createElement(X0,Kd({},A,{className:"recharts-area-curve",layout:s,type:c,connectNulls:u,fill:"none",points:n}))),R.createElement(NNe,{points:e,props:w,clipPathId:i}))}function MNe(t){var e,n,{alpha:r,baseLine:i,points:a,strokeWidth:s}=t,c=(e=a[0])===null||e===void 0?void 0:e.y,d=(n=a[a.length-1])===null||n===void 0?void 0:n.y;if(!Sn(c)||!Sn(d))return null;var u=r*Math.abs(c-d),p=Math.max(...a.map(x=>x.x||0));return Mt(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(x=>x.x||0),p)),Mt(p)?R.createElement("rect",{x:0,y:c<d?c:c-u,width:p+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}function RNe(t){var e,n,{alpha:r,baseLine:i,points:a,strokeWidth:s}=t,c=(e=a[0])===null||e===void 0?void 0:e.x,d=(n=a[a.length-1])===null||n===void 0?void 0:n.x;if(!Sn(c)||!Sn(d))return null;var u=r*Math.abs(c-d),p=Math.max(...a.map(x=>x.y||0));return Mt(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(x=>x.y||0),p)),Mt(p)?R.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(p+(s?parseInt("".concat(s),10):1))}):null}function kNe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:a}=t;return n==="vertical"?R.createElement(MNe,{alpha:e,points:r,baseLine:i,strokeWidth:a}):R.createElement(RNe,{alpha:e,points:r,baseLine:i,strokeWidth:a})}function DNe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=t,{points:s,baseLine:c,isAnimationActive:d,animationBegin:u,animationDuration:p,animationEasing:x,onAnimationStart:w,onAnimationEnd:A}=r,N=R.useMemo(()=>({points:s,baseLine:c}),[s,c]),S=H1(N,"recharts-area-"),I=XI(),[j,D]=R.useState(!1),P=!j,V=R.useCallback(()=>{typeof A=="function"&&A(),D(!1)},[A]),K=R.useCallback(()=>{typeof w=="function"&&w(),D(!0)},[w]);if(I==null)return null;var Z=i.current,F=a.current;return R.createElement(ONe,{showLabels:P,points:s},r.children,R.createElement(V1,{animationId:S,begin:u,duration:p,isActive:d,easing:x,onAnimationEnd:V,onAnimationStart:K,key:S},U=>{if(Z){var B=Z.length/s.length,J=U===1?s:s.map((G,q)=>{var Ce=Math.floor(q*B);if(Z[Ce]){var re=Z[Ce];return j0(j0({},G),{},{x:zr(re.x,G.x,U),y:zr(re.y,G.y,U)})}return G}),H;return Mt(c)?H=zr(F,c,U):Si(c)||Nl(c)?H=zr(F,0,U):H=c.map((G,q)=>{var Ce=Math.floor(q*B);if(Array.isArray(F)&&F[Ce]){var re=F[Ce];return j0(j0({},G),{},{x:zr(re.x,G.x,U),y:zr(re.y,G.y,U)})}return G}),U>0&&(i.current=J,a.current=H),R.createElement(A7,{points:J,baseLine:H,needClip:e,clipPathId:n,props:r})}return U>0&&(i.current=s,a.current=c),R.createElement(Di,null,d&&R.createElement("defs",null,R.createElement("clipPath",{id:"animationClipPath-".concat(n)},R.createElement(kNe,{alpha:U,points:s,baseLine:c,layout:I,strokeWidth:r.strokeWidth}))),R.createElement(Di,{clipPath:"url(#animationClipPath-".concat(n,")")},R.createElement(A7,{points:s,baseLine:c,needClip:e,clipPathId:n,props:r})))}),R.createElement(cO,{label:r.label}))}function PNe(t){var{needClip:e,clipPathId:n,props:r}=t,i=R.useRef(null),a=R.useRef();return R.createElement(DNe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class jNe extends R.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:a,left:s,needClip:c,xAxisId:d,yAxisId:u,width:p,height:x,id:w,baseLine:A,zIndex:N}=this.props;if(e)return null;var S=tr("recharts-area",i),I=w,{r:j,strokeWidth:D}=$Ie(n),P=w$(n),V=j*2+D,K=c?"url(#clipPath-".concat(P?"":"dots-").concat(I,")"):void 0;return R.createElement(Gs,{zIndex:N},R.createElement(Di,{className:S},c&&R.createElement("defs",null,R.createElement(P$,{clipPathId:I,xAxisId:d,yAxisId:u}),!P&&R.createElement("clipPath",{id:"clipPath-dots-".concat(I)},R.createElement("rect",{x:s-V/2,y:a-V/2,width:p+V,height:x+V}))),R.createElement(PNe,{needClip:c,clipPathId:I,props:this.props})),R.createElement(d7,{points:r,mainColor:Z2(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:K}),this.props.isRange&&Array.isArray(A)&&R.createElement(d7,{points:A,mainColor:Z2(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:K}))}}var H$={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Yi.area};function LNe(t){var e,n=va(t,H$),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:c,dot:d,fill:u,fillOpacity:p,hide:x,isAnimationActive:w,legendType:A,stroke:N,xAxisId:S,yAxisId:I}=n,j=V$(n,ENe),D=Ih(),P=YY(),{needClip:V}=wO(S,I),K=os(),{points:Z,isRange:F,baseLine:U}=(e=zt(Ce=>bNe(Ce,t.id,K)))!==null&&e!==void 0?e:{},B=yO();if(D!=="horizontal"&&D!=="vertical"||B==null||P!=="AreaChart"&&P!=="ComposedChart")return null;var{height:J,width:H,x:G,y:q}=B;return!Z||!Z.length?null:R.createElement(jNe,Kd({},j,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:U,connectNulls:c,dot:d,fill:u,fillOpacity:p,height:J,hide:x,layout:D,isAnimationActive:w==="auto"?!z1.isSsr:w,isRange:F,legendType:A,needClip:V,points:Z,stroke:N,width:H,left:G,top:q,xAxisId:S,yAxisId:I}))}var FNe=(t,e,n,r,i)=>{var a=n??e;if(Mt(a))return a;var s=t==="horizontal"?i:r,c=s.scale.domain();if(s.type==="number"){var d=Math.max(c[0],c[1]),u=Math.min(c[0],c[1]);return a==="dataMin"?u:a==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return a==="dataMin"?c[0]:a==="dataMax"?c[1]:c[0]};function BNe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:s,xAxis:c,yAxis:d,displayedData:u,dataStartIndex:p,xAxisTicks:x,yAxisTicks:w,bandSize:A}=t,N=i&&i.length,S=FNe(a,s,n,c,d),I=a==="horizontal",j=!1,D=u.map((V,K)=>{var Z,F,U,B;if(N)B=i[p+K];else{var J=Er(V,r);Array.isArray(J)?(B=J,j=!0):B=[S,J]}var H=(Z=(F=B)===null||F===void 0?void 0:F[1])!==null&&Z!==void 0?Z:null,G=H==null||N&&!e&&Er(V,r)==null;if(I){var q;return{x:sj({axis:c,ticks:x,bandSize:A,entry:V,index:K}),y:G?null:(q=d.scale.map(H))!==null&&q!==void 0?q:null,value:B,payload:V}}return{x:G?null:(U=c.scale.map(H))!==null&&U!==void 0?U:null,y:sj({axis:d,ticks:w,bandSize:A,entry:V,index:K}),value:B,payload:V}}),P;return N||j?P=D.map(V=>{var K,Z=Array.isArray(V.value)?V.value[0]:null;if(I){var F;return{x:V.x,y:Z!=null&&V.y!=null&&(F=d.scale.map(Z))!==null&&F!==void 0?F:null,payload:V.payload}}return{x:Z!=null&&(K=c.scale.map(Z))!==null&&K!==void 0?K:null,y:V.y,payload:V.payload}}):P=I?d.scale.map(S):c.scale.map(S),{points:D,baseLine:P??0,isRange:j}}function UNe(t){var e=va(t,H$),n=os();return R.createElement(xO,{id:e.id,type:"area"},r=>R.createElement(R.Fragment,null,R.createElement(_$,{legendPayload:CNe(e)}),R.createElement(INe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),R.createElement(S$,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:bG(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),R.createElement(LNe,Kd({},e,{id:r}))))}var yp=R.memo(UNe,$w);yp.displayName="Area";var zNe="Invariant failed";function VNe(t,e){throw new Error(zNe)}function b4(){return b4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b4.apply(null,arguments)}function J2(t){return R.createElement(E$,b4({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var HNe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Mt(e))return e;var a=Mt(r)||Si(r);return a?e(r,i):(a||VNe(),n)}},WNe=(t,e,n)=>n,GNe=(t,e)=>e,nx=Fe([Lw,GNe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),qNe=Fe([nx],t=>t?.maxBarSize),YNe=(t,e,n,r)=>r,$Ne=Fe([Gn,Lw,yc,vc,WNe],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),KNe=(t,e,n)=>{var r=Gn(t),i=yc(t,e),a=vc(t,e);if(!(i==null||a==null))return r==="horizontal"?W2(t,"yAxis",a,n):W2(t,"xAxis",i,n)},XNe=(t,e)=>{var n=Gn(t),r=yc(t,e),i=vc(t,e);if(!(r==null||i==null))return n==="horizontal"?sL(t,"xAxis",r):sL(t,"yAxis",i)},QNe=Fe([$Ne,h_e,XNe],F3e),ZNe=(t,e,n)=>{var r,i,a=nx(t,e);if(a==null)return 0;var s=yc(t,e),c=vc(t,e);if(s==null||c==null)return 0;var d=Gn(t),u=Wq(t),{maxBarSize:p}=a,x=Si(p)?u:p,w,A;return d==="horizontal"?(w=qf(t,"xAxis",s,n),A=Gf(t,"xAxis",s,n)):(w=qf(t,"yAxis",c,n),A=Gf(t,"yAxis",c,n)),(r=(i=hp(w,A,!0))!==null&&i!==void 0?i:x)!==null&&r!==void 0?r:0},W$=(t,e,n)=>{var r=Gn(t),i=yc(t,e),a=vc(t,e);if(!(i==null||a==null)){var s,c;return r==="horizontal"?(s=qf(t,"xAxis",i,n),c=Gf(t,"xAxis",i,n)):(s=qf(t,"yAxis",a,n),c=Gf(t,"yAxis",a,n)),hp(s,c)}},JNe=Fe([QNe,Wq,d_e,Gq,ZNe,W$,qNe],H3e),eOe=(t,e,n)=>{var r=yc(t,e);if(r!=null)return qf(t,"xAxis",r,n)},tOe=(t,e,n)=>{var r=vc(t,e);if(r!=null)return qf(t,"yAxis",r,n)},nOe=(t,e,n)=>{var r=yc(t,e);if(r!=null)return Gf(t,"xAxis",r,n)},rOe=(t,e,n)=>{var r=vc(t,e);if(r!=null)return Gf(t,"yAxis",r,n)},iOe=Fe([JNe,nx],G3e),aOe=Fe([KNe,nx],W3e),sOe=Fe([ra,YI,eOe,tOe,nOe,rOe,iOe,Gn,Rq,W$,aOe,nx,YNe],(t,e,n,r,i,a,s,c,d,u,p,x,w)=>{var{chartData:A,dataStartIndex:N,dataEndIndex:S}=d;if(!(x==null||s==null||e==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||i==null||a==null||u==null)){var{data:I}=x,j;if(I!=null&&I.length>0?j=I:j=A?.slice(N,S+1),j!=null)return DOe({layout:c,barSettings:x,pos:s,parentViewBox:e,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:p,displayedData:j,offset:t,cells:w,dataStartIndex:N})}}),oOe=["index"];function w4(){return w4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w4.apply(null,arguments)}function lOe(t,e){if(t==null)return{};var n,r,i=cOe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var G$=R.createContext(void 0),uOe=t=>{var e=R.useContext(G$);if(e!=null)return e.stackId;if(t!=null)return bG(t)},fOe=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),dOe=t=>{var e=R.useContext(G$);if(e!=null){var{stackId:n}=e;return"url(#".concat(fOe(n,t),")")}},q$=t=>{var{index:e}=t,n=lOe(t,oOe),r=dOe(e);return R.createElement(Di,w4({className:"recharts-bar-stack-layer",clipPath:r},n))},hOe=["onMouseEnter","onMouseLeave","onClick"],pOe=["value","background","tooltipPosition"],mOe=["id"],gOe=["onMouseEnter","onClick","onMouseLeave"];function bu(){return bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bu.apply(null,arguments)}function S7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S7(Object(n),!0).forEach(function(r){xOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xOe(t,e,n){return(e=yOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yOe(t){var e=vOe(t,"string");return typeof e=="symbol"?e:e+""}function vOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eb(t,e){if(t==null)return{};var n,r,i=bOe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wOe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:Fp(n,e),payload:t}]},EOe=R.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:c,tooltipType:d,id:u}=t,p={dataDefinedOnItem:void 0,getPosition:Ch,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Fp(a,e),hide:s,type:d,color:i,unit:c,graphicalItemId:u}};return R.createElement(gO,{tooltipEntrySettings:p})});function _Oe(t){var e=zt(Yf),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:s,onMouseLeave:c,onClick:d}=a,u=eb(a,hOe),p=hO(s,r,a.id),x=pO(c),w=mO(d,r,a.id);if(!i||n==null)return null;var A=sh(i);return R.createElement(Gs,{zIndex:q3e(i,Yi.barBackground)},n.map((N,S)=>{var{value:I,background:j,tooltipPosition:D}=N,P=eb(N,pOe);if(!j)return null;var V=p(N,S),K=x(N,S),Z=w(N,S),F=gs(gs(gs(gs(gs({option:i,isActive:String(S)===e},P),{},{fill:"#eee"},j),A),iw(u,N,S)),{},{onMouseEnter:V,onMouseLeave:K,onClick:Z,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return R.createElement(J2,bu({key:"background-bar-".concat(S)},F))}))}function AOe(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return gs(gs({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return R.createElement(d$,{value:e?i:void 0},n)}function SOe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:a,dataKey:s}=t,c=zt(Yf),d=zt(nO),u=n&&String(a)===c&&(d==null||s===d),p=u?n:e;return u?R.createElement(Gs,{zIndex:Yi.activeBar},R.createElement(q$,{index:a},R.createElement(J2,bu({},r,{name:String(r.name)},i,{isActive:u,option:p,index:a,dataKey:s})))):R.createElement(J2,bu({},r,{name:String(r.name)},i,{isActive:u,option:p,index:a,dataKey:s}))}function TOe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:a}=t;return R.createElement(J2,bu({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:a}))}function COe(t){var e,{data:n,props:r}=t,i=(e=zs(r))!==null&&e!==void 0?e:{},{id:a}=i,s=eb(i,mOe),{shape:c,dataKey:d,activeBar:u}=r,{onMouseEnter:p,onClick:x,onMouseLeave:w}=r,A=eb(r,gOe),N=hO(p,d,a),S=pO(w),I=mO(x,d,a);return n?R.createElement(R.Fragment,null,n.map((j,D)=>R.createElement(q$,bu({index:D,key:"rectangle-".concat(j?.x,"-").concat(j?.y,"-").concat(j?.value,"-").concat(D),className:"recharts-bar-rectangle"},iw(A,j,D),{onMouseEnter:N(j,D),onMouseLeave:S(j,D),onClick:I(j,D)}),u?R.createElement(SOe,{shape:c,activeBar:u,baseProps:s,entry:j,index:D,dataKey:d}):R.createElement(TOe,{shape:c,baseProps:s,entry:j,index:D,dataKey:d})))):null}function IOe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:c,animationEasing:d,onAnimationEnd:u,onAnimationStart:p}=e,x=n.current,w=H1(e,"recharts-bar-"),[A,N]=R.useState(!1),S=!A,I=R.useCallback(()=>{typeof u=="function"&&u(),N(!1)},[u]),j=R.useCallback(()=>{typeof p=="function"&&p(),N(!0)},[p]);return R.createElement(AOe,{showLabels:S,rects:r},R.createElement(V1,{animationId:w,begin:s,duration:c,isActive:a,easing:d,onAnimationEnd:I,onAnimationStart:j,key:w},D=>{var P=D===1?r:r?.map((V,K)=>{var Z=x&&x[K];if(Z)return gs(gs({},V),{},{x:zr(Z.x,V.x,D),y:zr(Z.y,V.y,D),width:zr(Z.width,V.width,D),height:zr(Z.height,V.height,D)});if(i==="horizontal"){var F=zr(0,V.height,D),U=zr(V.stackedBarStart,V.y,D);return gs(gs({},V),{},{y:U,height:F})}var B=zr(0,V.width,D),J=zr(V.stackedBarStart,V.x,D);return gs(gs({},V),{},{width:B,x:J})});return D>0&&(n.current=P??null),P==null?null:R.createElement(Di,null,R.createElement(COe,{props:e,data:P}))}),R.createElement(cO,{label:e.label}),e.children)}function NOe(t){var e=R.useRef(null);return R.createElement(IOe,{previousRectanglesRef:e,props:t})}var Y$=0,OOe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Er(t,e)}};class MOe extends R.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:s,needClip:c,background:d,id:u}=this.props;if(e||n==null)return null;var p=tr("recharts-bar",i),x=u;return R.createElement(Di,{className:p,id:u},c&&R.createElement("defs",null,R.createElement(P$,{clipPathId:x,xAxisId:a,yAxisId:s})),R.createElement(Di,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(x,")"):void 0},R.createElement(_Oe,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),R.createElement(NOe,this.props)))}}var ROe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Y$,xAxisId:0,yAxisId:0,zIndex:Yi.bar};function kOe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:c,animationDuration:d,animationEasing:u,isAnimationActive:p}=t,{needClip:x}=wO(e,n),w=Ih(),A=os(),N=dO(t.children,tx),S=zt(D=>sOe(D,t.id,A,N));if(w!=="vertical"&&w!=="horizontal")return null;var I,j=S?.[0];return j==null||j.height==null||j.width==null?I=0:I=w==="vertical"?j.height/2:j.width/2,R.createElement(YIe,{xAxisId:e,yAxisId:n,data:S,dataPointFormatter:OOe,errorBarOffset:I},R.createElement(MOe,bu({},t,{layout:w,needClip:x,data:S,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:c,animationDuration:d,animationEasing:u,isAnimationActive:p})))}function DOe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:c,xAxisTicks:d,yAxisTicks:u,stackedData:p,displayedData:x,offset:w,cells:A,parentViewBox:N,dataStartIndex:S}=t,I=e==="horizontal"?c:s,j=p?I.scale.domain():null,D=mve({numericAxis:I}),P=I.scale.map(D);return x.map((V,K)=>{var Z,F,U,B,J,H;if(p){var G=p[K+S];if(G==null)return null;Z=uve(G,j)}else Z=Er(V,n),Array.isArray(Z)||(Z=[D,Z]);var q=HNe(r,Y$)(Z[1],K);if(e==="horizontal"){var Ce,re=c.scale.map(Z[0]),ue=c.scale.map(Z[1]);if(re==null||ue==null)return null;F=oj({axis:s,ticks:d,bandSize:a,offset:i.offset,entry:V,index:K}),U=(Ce=ue??re)!==null&&Ce!==void 0?Ce:void 0,B=i.size;var me=re-ue;if(J=Nl(me)?0:me,H={x:F,y:w.top,width:B,height:w.height},Math.abs(q)>0&&Math.abs(J)<Math.abs(q)){var Re=ma(J||q)*(Math.abs(q)-Math.abs(J));U-=Re,J+=Re}}else{var Be=s.scale.map(Z[0]),be=s.scale.map(Z[1]);if(Be==null||be==null)return null;if(F=Be,U=oj({axis:c,ticks:u,bandSize:a,offset:i.offset,entry:V,index:K}),B=be-Be,J=i.size,H={x:w.left,y:U,width:w.width,height:J},Math.abs(q)>0&&Math.abs(B)<Math.abs(q)){var Q=ma(B||q)*(Math.abs(q)-Math.abs(B));B+=Q}}if(F==null||U==null||B==null||J==null)return null;var ee=gs(gs({},V),{},{stackedBarStart:P,x:F,y:U,width:B,height:J,value:p?Z:Z[1],payload:V,background:H,tooltipPosition:{x:F+B/2,y:U+J/2},parentViewBox:N},A&&A[K]&&A[K].props);return ee}).filter(Boolean)}function POe(t){var e=va(t,ROe),n=uOe(e.stackId),r=os();return R.createElement(xO,{id:e.id,type:"bar"},i=>R.createElement(R.Fragment,null,R.createElement(_$,{legendPayload:wOe(e)}),R.createElement(EOe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),R.createElement(S$,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),R.createElement(Gs,{zIndex:e.zIndex},R.createElement(kOe,bu({},e,{id:i})))))}var $$=R.memo(POe,$w);$$.displayName="Bar";var jOe=["domain","range"],LOe=["domain","range"];function T7(t,e){if(t==null)return{};var n,r,i=FOe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function FOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function C7(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function K$(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=T7(t,jOe),{domain:a,range:s}=e,c=T7(e,LOe);return!C7(n,a)||!C7(r,s)?!1:$w(i,c)}var BOe=["type"],UOe=["dangerouslySetInnerHTML","ticks","scale"],zOe=["id","scale"];function E4(){return E4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E4.apply(null,arguments)}function I7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I7(Object(n),!0).forEach(function(r){VOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VOe(t,e,n){return(e=HOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HOe(t){var e=WOe(t,"string");return typeof e=="symbol"?e:e+""}function WOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _4(t,e){if(t==null)return{};var n,r,i=GOe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function GOe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qOe(t){var e=ti(),n=R.useRef(null),r=XI(),{type:i}=t,a=_4(t,BOe),s=Mw(r,"xAxis",i),c=R.useMemo(()=>{if(s!=null)return N7(N7({},a),{},{type:s})},[a,s]);return R.useLayoutEffect(()=>{c!=null&&(n.current===null?e(_3e(c)):n.current!==c&&e(A3e({prev:n.current,next:c})),n.current=c)},[c,e]),R.useLayoutEffect(()=>()=>{n.current&&(e(S3e(n.current)),n.current=null)},[e]),null}var YOe=t=>{var{xAxisId:e,className:n}=t,r=zt(YI),i=os(),a="xAxis",s=zt(j=>AY(j,a,e,i)),c=zt(j=>bY(j,e)),d=zt(j=>pAe(j,e)),u=zt(j=>tY(j,e));if(c==null||d==null||u==null)return null;var{dangerouslySetInnerHTML:p,ticks:x,scale:w}=t,A=_4(t,UOe),{id:N,scale:S}=u,I=_4(u,zOe);return R.createElement(bO,E4({},A,I,{x:d.x,y:d.y,width:c.width,height:c.height,className:tr("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},$Oe={allowDataOverflow:ua.allowDataOverflow,allowDecimals:ua.allowDecimals,allowDuplicatedCategory:ua.allowDuplicatedCategory,angle:ua.angle,axisLine:ru.axisLine,height:ua.height,hide:!1,includeHidden:ua.includeHidden,interval:ua.interval,label:!1,minTickGap:ua.minTickGap,mirror:ua.mirror,orientation:ua.orientation,padding:ua.padding,reversed:ua.reversed,scale:ua.scale,tick:ua.tick,tickCount:ua.tickCount,tickLine:ru.tickLine,tickSize:ru.tickSize,type:ua.type,xAxisId:0},KOe=t=>{var e=va(t,$Oe);return R.createElement(R.Fragment,null,R.createElement(qOe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),R.createElement(YOe,e))},u1=R.memo(KOe,K$);u1.displayName="XAxis";var XOe=["type"],QOe=["dangerouslySetInnerHTML","ticks","scale"],ZOe=["id","scale"];function A4(){return A4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A4.apply(null,arguments)}function O7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O7(Object(n),!0).forEach(function(r){JOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JOe(t,e,n){return(e=eMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eMe(t){var e=tMe(t,"string");return typeof e=="symbol"?e:e+""}function tMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S4(t,e){if(t==null)return{};var n,r,i=nMe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rMe(t){var e=ti(),n=R.useRef(null),r=XI(),{type:i}=t,a=S4(t,XOe),s=Mw(r,"yAxis",i),c=R.useMemo(()=>{if(s!=null)return M7(M7({},a),{},{type:s})},[s,a]);return R.useLayoutEffect(()=>{c!=null&&(n.current===null?e(T3e(c)):n.current!==c&&e(C3e({prev:n.current,next:c})),n.current=c)},[c,e]),R.useLayoutEffect(()=>()=>{n.current&&(e(I3e(n.current)),n.current=null)},[e]),null}function iMe(t){var{yAxisId:e,className:n,width:r,label:i}=t,a=R.useRef(null),s=R.useRef(null),c=zt(YI),d=os(),u=ti(),p="yAxis",x=zt(Z=>wY(Z,e)),w=zt(Z=>gAe(Z,e)),A=zt(Z=>AY(Z,p,e,d)),N=zt(Z=>nY(Z,e));if(R.useLayoutEffect(()=>{if(!(r!=="auto"||!x||lO(i)||R.isValidElement(i)||N==null)){var Z=a.current;if(Z){var F=Z.getCalculatedWidth();Math.round(x.width)!==Math.round(F)&&u(N3e({id:e,width:F}))}}},[A,x,u,i,e,r,N]),x==null||w==null||N==null)return null;var{dangerouslySetInnerHTML:S,ticks:I,scale:j}=t,D=S4(t,QOe),{id:P,scale:V}=N,K=S4(N,ZOe);return R.createElement(bO,A4({},D,K,{ref:a,labelRef:s,x:w.x,y:w.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:x.width,height:x.height,className:tr("recharts-".concat(p," ").concat(p),n),viewBox:c,ticks:A,axisType:p}))}var aMe={allowDataOverflow:fa.allowDataOverflow,allowDecimals:fa.allowDecimals,allowDuplicatedCategory:fa.allowDuplicatedCategory,angle:fa.angle,axisLine:ru.axisLine,hide:!1,includeHidden:fa.includeHidden,interval:fa.interval,label:!1,minTickGap:fa.minTickGap,mirror:fa.mirror,orientation:fa.orientation,padding:fa.padding,reversed:fa.reversed,scale:fa.scale,tick:fa.tick,tickCount:fa.tickCount,tickLine:ru.tickLine,tickSize:ru.tickSize,type:fa.type,width:fa.width,yAxisId:0},sMe=t=>{var e=va(t,aMe);return R.createElement(R.Fragment,null,R.createElement(rMe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),R.createElement(iMe,e))},f1=R.memo(sMe,K$);f1.displayName="YAxis";var oMe=(t,e)=>e,EO=Fe([oMe,Gn,Zq,wa,zY,Mu,MSe,ra],FSe),_O=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},X$=Zo("mouseClick"),Q$=L1();Q$.startListening({actionCreator:X$,effect:(t,e)=>{var n=t.payload,r=EO(e.getState(),_O(n));r?.activeIndex!=null&&e.dispatch(OAe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var T4=Zo("mouseMove"),Z$=L1(),Uy=null;Z$.startListening({actionCreator:T4,effect:(t,e)=>{var n=t.payload;Uy!==null&&cancelAnimationFrame(Uy);var r=_O(n);Uy=requestAnimationFrame(()=>{var i=e.getState(),a=XN(i,i.tooltip.settings.shared);if(a==="axis"){var s=EO(i,r);s?.activeIndex!=null?e.dispatch(RY({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(MY())}Uy=null})}});function lMe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var R7={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},J$=Ws({name:"rootProps",initialState:R7,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:R7.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),cMe=J$.reducer,{updateOptions:uMe}=J$.actions,fMe=null,dMe={updatePolarOptions:(t,e)=>e.payload},eK=Ws({name:"polarOptions",initialState:fMe,reducers:dMe}),{updatePolarOptions:hMe}=eK.actions,pMe=eK.reducer,tK=Zo("keyDown"),nK=Zo("focus"),AO=L1();AO.startListening({actionCreator:tK,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=QN(i,Yp(n),Q1(n),J1(n)),c=s==null?-1:Number(s);if(!(!Number.isFinite(c)||c<0)){var d=Mu(n);if(a==="Enter"){var u=q2(n,"axis","hover",String(i.index));e.dispatch(m4({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var p=bAe(n),x=p==="left-to-right"?1:-1,w=a==="ArrowRight"?1:-1,A=c+w*x;if(!(d==null||A>=d.length||A<0)){var N=q2(n,"axis","hover",String(A));e.dispatch(m4({active:!0,activeIndex:A.toString(),activeCoordinate:N}))}}}}}});AO.startListening({actionCreator:nK,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=q2(n,"axis","hover",String(a));e.dispatch(m4({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Uo=Zo("externalEvent"),rK=L1(),hT=new Map;rK.startListening({actionCreator:Uo,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=hT.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var c=e.getState(),d={activeCoordinate:gSe(c),activeDataKey:nO(c),activeIndex:Yf(c),activeLabel:WY(c),activeTooltipIndex:Yf(c),isTooltipActive:xSe(c)};n(d,r)}finally{hT.delete(i)}});hT.set(i,s)}}});var mMe=Fe([Gp],t=>t.tooltipItemPayloads),gMe=Fe([mMe,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(a=>a.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),iK=Zo("touchMove"),aK=L1();aK.startListening({actionCreator:iK,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=XN(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=EO(r,_O({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));s?.activeIndex!=null&&e.dispatch(RY({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var c,d=n.touches[0];if(document.elementFromPoint==null||d==null)return;var u=document.elementFromPoint(d.clientX,d.clientY);if(!u||!u.getAttribute)return;var p=u.getAttribute(EG),x=(c=u.getAttribute(_G))!==null&&c!==void 0?c:void 0,w=qp(r).find(S=>S.id===x);if(p==null||w==null||x==null)return;var{dataKey:A}=w,N=gMe(r,p,x);e.dispatch(OY({activeDataKey:A,activeIndex:p,activeCoordinate:N,activeGraphicalItemId:x}))}}}});var xMe=HW({brush:Y3e,cartesianAxis:O3e,chartData:mTe,errorBars:zIe,graphicalItems:L4e,layout:ave,legend:c2e,options:uTe,polarAxis:QCe,polarOptions:pMe,referenceElements:Q3e,rootProps:cMe,tooltip:MAe,zIndex:ZSe}),yMe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Oye({reducer:xMe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([Q$.middleware,Z$.middleware,AO.middleware,rK.middleware,aK.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(iG({type:"raf"}))},devTools:{serialize:{replacer:lMe},name:"recharts-".concat(n)}})};function sK(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=os(),a=R.useRef(null);if(i)return n;a.current==null&&(a.current=yMe(e,r));var s=UI;return R.createElement(dNe,{context:s,store:a.current},n)}function vMe(t){var{layout:e,margin:n}=t,r=ti(),i=os();return R.useEffect(()=>{i||(r(nve(e)),r(tve(n)))},[r,i,e,n]),null}var oK=R.memo(vMe,$w);function lK(t){var e=ti();return R.useEffect(()=>{e(uMe(t))},[e,t]),null}function k7(t){var{zIndex:e,isPanorama:n}=t,r=R.useRef(null),i=ti();return R.useLayoutEffect(()=>(r.current&&i(XSe({zIndex:e,element:r.current,isPanorama:n})),()=>{i(QSe({zIndex:e,isPanorama:n}))}),[i,e,n]),R.createElement("g",{tabIndex:-1,ref:r})}function D7(t){var{children:e,isPanorama:n}=t,r=zt(USe);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return R.createElement(R.Fragment,null,i.map(s=>R.createElement(k7,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>R.createElement(k7,{key:s,zIndex:s,isPanorama:n})))}var bMe=["children"];function wMe(t,e){if(t==null)return{};var n,r,i=EMe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function EMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tb(){return tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tb.apply(null,arguments)}var _Me={width:"100%",height:"100%",display:"block"},AMe=R.forwardRef((t,e)=>{var n=IG(),r=NG(),i=zG();if(!pc(n)||!pc(r))return null;var{children:a,otherAttributes:s,title:c,desc:d}=t,u,p;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?p=s.role:p=i?"application":void 0),R.createElement(oW,tb({},s,{title:c,desc:d,role:p,tabIndex:u,width:n,height:r,style:_Me,ref:e}),a)}),SMe=t=>{var{children:e}=t,n=zt(yw);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return R.createElement(oW,{width:r,height:i,x:s,y:a},e)},P7=R.forwardRef((t,e)=>{var{children:n}=t,r=wMe(t,bMe),i=os();return i?R.createElement(SMe,null,R.createElement(D7,{isPanorama:!0},n)):R.createElement(AMe,tb({ref:e},r),R.createElement(D7,{isPanorama:!1},n))});function TMe(){var t=ti(),[e,n]=R.useState(null),r=zt(wve);return R.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Sn(a)&&a!==r&&t(ive(a))}},[e,t,r]),n}function j7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CMe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j7(Object(n),!0).forEach(function(r){IMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IMe(t,e,n){return(e=NMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NMe(t){var e=OMe(t,"string");return typeof e=="symbol"?e:e+""}function OMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Df(){return Df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Df.apply(null,arguments)}var MMe=()=>(ATe(),null);function nb(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var RMe=R.forwardRef((t,e)=>{var n,r,i=R.useRef(null),[a,s]=R.useState({containerWidth:nb((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:nb((r=t.style)===null||r===void 0?void 0:r.height)}),c=R.useCallback((u,p)=>{s(x=>{var w=Math.round(u),A=Math.round(p);return x.containerWidth===w&&x.containerHeight===A?x:{containerWidth:w,containerHeight:A}})},[]),d=R.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:p,height:x}=u.getBoundingClientRect();c(p,x);var w=N=>{var S=N[0];if(S!=null){var{width:I,height:j}=S.contentRect;c(I,j)}},A=new ResizeObserver(w);A.observe(u),i.current=A}},[e,c]);return R.useEffect(()=>()=>{var u=i.current;u?.disconnect()},[c]),R.createElement(R.Fragment,null,R.createElement(B1,{width:a.containerWidth,height:a.containerHeight}),R.createElement("div",Df({ref:d},t)))}),kMe=R.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=R.useState({containerWidth:nb(n),containerHeight:nb(r)}),s=R.useCallback((d,u)=>{a(p=>{var x=Math.round(d),w=Math.round(u);return p.containerWidth===x&&p.containerHeight===w?p:{containerWidth:x,containerHeight:w}})},[]),c=R.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:u,height:p}=d.getBoundingClientRect();s(u,p)}},[e,s]);return R.createElement(R.Fragment,null,R.createElement(B1,{width:i.containerWidth,height:i.containerHeight}),R.createElement("div",Df({ref:c},t)))}),DMe=R.forwardRef((t,e)=>{var{width:n,height:r}=t;return R.createElement(R.Fragment,null,R.createElement(B1,{width:n,height:r}),R.createElement("div",Df({ref:e},t)))}),PMe=R.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?R.createElement(kMe,Df({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?R.createElement(DMe,Df({},t,{width:n,height:r,ref:e})):R.createElement(R.Fragment,null,R.createElement(B1,{width:n,height:r}),R.createElement("div",Df({ref:e},t)))});function jMe(t){return t?RMe:PMe}var LMe=R.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:c,onMouseDown:d,onMouseEnter:u,onMouseLeave:p,onMouseMove:x,onMouseUp:w,onTouchEnd:A,onTouchMove:N,onTouchStart:S,style:I,width:j,responsive:D,dispatchTouchEvents:P=!0}=t,V=R.useRef(null),K=ti(),[Z,F]=R.useState(null),[U,B]=R.useState(null),J=TMe(),H=$I(),G=H?.width>0?H.width:j,q=H?.height>0?H.height:i,Ce=R.useCallback(_e=>{J(_e),typeof e=="function"&&e(_e),F(_e),B(_e),_e!=null&&(V.current=_e)},[J,e,F,B]),re=R.useCallback(_e=>{K(X$(_e)),K(Uo({handler:a,reactEvent:_e}))},[K,a]),ue=R.useCallback(_e=>{K(T4(_e)),K(Uo({handler:u,reactEvent:_e}))},[K,u]),me=R.useCallback(_e=>{K(MY()),K(Uo({handler:p,reactEvent:_e}))},[K,p]),Re=R.useCallback(_e=>{K(T4(_e)),K(Uo({handler:x,reactEvent:_e}))},[K,x]),Be=R.useCallback(()=>{K(nK())},[K]),be=R.useCallback(_e=>{K(tK(_e.key))},[K]),Q=R.useCallback(_e=>{K(Uo({handler:s,reactEvent:_e}))},[K,s]),ee=R.useCallback(_e=>{K(Uo({handler:c,reactEvent:_e}))},[K,c]),oe=R.useCallback(_e=>{K(Uo({handler:d,reactEvent:_e}))},[K,d]),se=R.useCallback(_e=>{K(Uo({handler:w,reactEvent:_e}))},[K,w]),fe=R.useCallback(_e=>{K(Uo({handler:S,reactEvent:_e}))},[K,S]),Ee=R.useCallback(_e=>{P&&K(iK(_e)),K(Uo({handler:N,reactEvent:_e}))},[K,P,N]),Ne=R.useCallback(_e=>{K(Uo({handler:A,reactEvent:_e}))},[K,A]),Ge=jMe(D);return R.createElement(ZY.Provider,{value:Z},R.createElement(u1e.Provider,{value:U},R.createElement(Ge,{width:G??I?.width,height:q??I?.height,className:tr("recharts-wrapper",r),style:CMe({position:"relative",cursor:"default",width:G,height:q},I),onClick:re,onContextMenu:Q,onDoubleClick:ee,onFocus:Be,onKeyDown:be,onMouseDown:oe,onMouseEnter:ue,onMouseLeave:me,onMouseMove:Re,onMouseUp:se,onTouchEnd:Ne,onTouchMove:Ee,onTouchStart:fe,ref:Ce},R.createElement(MMe,null),n)))}),FMe=["width","height","responsive","children","className","style","compact","title","desc"];function BMe(t,e){if(t==null)return{};var n,r,i=UMe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function UMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cK=R.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:c,compact:d,title:u,desc:p}=t,x=BMe(t,FMe),w=zs(x);return d?R.createElement(R.Fragment,null,R.createElement(B1,{width:n,height:r}),R.createElement(P7,{otherAttributes:w,title:u,desc:p},a)):R.createElement(LMe,{className:s,style:c,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},R.createElement(P7,{otherAttributes:w,title:u,desc:p,ref:e},R.createElement(J3e,null,a)))});function C4(){return C4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C4.apply(null,arguments)}var zMe={top:5,right:5,bottom:5,left:5},VMe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:zMe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},uK=R.forwardRef(function(e,n){var r,i=va(e.categoricalChartProps,VMe),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:u}=e,p={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return R.createElement(sK,{preloadedState:{options:p},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:a},R.createElement(N$,{chartData:u.data}),R.createElement(oK,{layout:i.layout,margin:i.margin}),R.createElement(lK,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),R.createElement(cK,C4({},i,{ref:n})))}),HMe=["axis","item"],WMe=R.forwardRef((t,e)=>R.createElement(uK,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:HMe,tooltipPayloadSearcher:oO,categoricalChartProps:t,ref:e}));function GMe(t){var e=ti();return R.useEffect(()=>{e(hMe(t))},[e,t]),null}var qMe=["layout"];function I4(){return I4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I4.apply(null,arguments)}function YMe(t,e){if(t==null)return{};var n,r,i=$Me(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $Me(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var KMe={top:5,right:5,bottom:5,left:5},fK={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:KMe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},XMe=R.forwardRef(function(e,n){var r,i=va(e.categoricalChartProps,fK),{layout:a}=i,s=YMe(i,qMe),{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:p}=e,x={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:p,eventEmitter:void 0};return R.createElement(sK,{preloadedState:{options:x},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:c},R.createElement(N$,{chartData:i.data}),R.createElement(oK,{layout:a,margin:i.margin}),R.createElement(lK,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),R.createElement(GMe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),R.createElement(cK,I4({},s,{ref:n})))});function L7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L7(Object(n),!0).forEach(function(r){QMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QMe(t,e,n){return(e=ZMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZMe(t){var e=JMe(t,"string");return typeof e=="symbol"?e:e+""}function JMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e8e=["item"],t8e=F7(F7({},fK),{},{layout:"centric",startAngle:0,endAngle:360}),n8e=R.forwardRef((t,e)=>{var n=va(t,t8e);return R.createElement(XMe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:e8e,tooltipPayloadSearcher:oO,categoricalChartProps:n,ref:e})}),r8e=["axis"],SO=R.forwardRef((t,e)=>R.createElement(uK,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:r8e,tooltipPayloadSearcher:oO,categoricalChartProps:t,ref:e}));const zy=({title:t,value:e,icon:n,color:r,subtitle:i,trend:a,delay:s=0})=>y.jsx(xn.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:s*.1},whileHover:{y:-4,boxShadow:"0 12px 24px rgba(0,0,0,0.08)"},className:"glass card stat-card",children:y.jsxs("div",{className:"stat-content",children:[y.jsx("div",{className:`stat-icon ${r}`,children:n}),y.jsxs("div",{className:"stat-details",children:[y.jsx("span",{className:"stat-label",children:t}),y.jsx("h3",{className:"stat-number",children:e}),i&&y.jsxs("span",{className:`stat-subtitle ${a==="up"?"trend-up":a==="down"?"trend-down":""}`,children:[a==="up"&&y.jsx(dce,{size:12}),a==="down"&&y.jsx(oce,{size:12}),i]})]})]})}),i8e=()=>{const[t,e]=R.useState({studentCount:0,totalRevenue:0,paidRevenue:0,unpaidRevenue:0,invoiceCount:0,thisMonthClasses:0,lastMonthClasses:0,recentInvoices:[],unpaidInvoices:[],topStudents:[],monthlyRevenue:[],collectionRate:0}),[n,r]=R.useState(!0);R.useEffect(()=>{i()},[]);const i=async()=>{r(!0);try{const x=(await Zr(wr(Gt,"students"))).docs.map(re=>({id:re.id,...re.data()})),A=(await Zr(kp(wr(Gt,"invoices"),Hb("createdAt","desc")))).docs.map(re=>({id:re.id,...re.data()})),N=A.filter(re=>re.status==="Paid"),S=A.filter(re=>re.status!=="Paid"),I=A.reduce((re,ue)=>re+(ue.totalAmount||0),0),j=N.reduce((re,ue)=>re+(ue.totalAmount||0),0),D=S.reduce((re,ue)=>re+(ue.totalAmount||0),0),P=I>0?Math.round(j/I*100):0,V=[];for(let re=5;re>=0;re--){const ue=dc(new Date,re),me=Tt(ue,"MM"),Re=Tt(ue,"yyyy"),Be=A.filter(ee=>ee.month===me&&ee.year===Re),be=Be.reduce((ee,oe)=>ee+(oe.totalAmount||0),0),Q=Be.filter(ee=>ee.status==="Paid").reduce((ee,oe)=>ee+(oe.totalAmount||0),0);V.push({month:Tt(ue,"MMM"),revenue:be,paid:Q,invoices:Be.length})}const K=new Date,Z=String(K.getMonth()+1).padStart(2,"0"),F=String(K.getFullYear()),U=String(K.getMonth()===0?12:K.getMonth()).padStart(2,"0"),B=K.getMonth()===0?String(K.getFullYear()-1):F,J=await Zr(wr(Gt,"monthly_attendance"));let H=0,G=0;const q={};J.forEach(re=>{const ue=re.data();ue.month===Z&&ue.year===F&&(H+=ue.classCount||0),ue.month===U&&ue.year===B&&(G+=ue.classCount||0),q[ue.studentId]||(q[ue.studentId]=0),q[ue.studentId]+=ue.classCount||0});const Ce=Object.entries(q).map(([re,ue])=>{const me=x.find(Re=>Re.id===re);return me?{id:re,name:me.name||"Unknown",photo:me.photo,course:me.course,count:ue}:null}).filter(Boolean).sort((re,ue)=>ue.count-re.count).slice(0,5);e({studentCount:x.length,totalRevenue:I,paidRevenue:j,unpaidRevenue:D,invoiceCount:A.length,thisMonthClasses:H,lastMonthClasses:G,recentInvoices:A.slice(0,5),unpaidInvoices:S.slice(0,5),topStudents:Ce,monthlyRevenue:V,collectionRate:P})}catch(p){console.error("Dashboard Error:",p)}finally{r(!1)}},a=p=>{const x=p.studentSnapshot?.phone?.replace(/\D/g,""),w=`Hi! This is a reminder from Makerworks Lab.

Invoice: #${p.id.slice(-8).toUpperCase()}
Amount Due: ${p.totalAmount?.toLocaleString()}

Please complete the payment at your earliest convenience. Thank you!`;window.open(`https://wa.me/91${x}?text=${encodeURIComponent(w)}`,"_blank")},s=()=>{const p=new Date().getHours();return p<12?{text:"Good Morning",emoji:""}:p<17?{text:"Good Afternoon",emoji:""}:{text:"Good Evening",emoji:""}},c=t.thisMonthClasses>=t.lastMonthClasses?"up":"down",d=t.thisMonthClasses-t.lastMonthClasses,u=s();return y.jsxs("div",{className:"dashboard",children:[y.jsxs("div",{className:"dash-header",children:[y.jsxs("div",{children:[y.jsxs(xn.h2,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},children:[u.emoji," ",u.text]}),y.jsx("p",{children:"Here's what's happening with your academy today"})]}),y.jsxs("div",{className:"dash-header-actions",children:[y.jsxs(qc,{to:"/invoices",className:"btn-primary quick-action-btn",children:[y.jsx(du,{size:18}),y.jsx("span",{className:"desk-text",children:"New Invoice"})]}),y.jsx("button",{className:"sync-btn",onClick:i,title:"Refresh data",children:y.jsx(td,{size:18,className:n?"animate-spin":""})})]})]}),n?y.jsxs("div",{className:"loader-full",children:[y.jsx(ns,{className:"animate-spin",size:48,style:{color:"#2563eb"}}),y.jsx("p",{children:"Loading dashboard..."})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"stats-grid",children:[y.jsx(zy,{title:"Total Students",value:t.studentCount,icon:y.jsx(cp,{size:22}),color:"indigo",delay:0}),y.jsx(zy,{title:"Total Revenue",value:`${t.totalRevenue.toLocaleString()}`,icon:y.jsx(Kb,{size:22}),color:"emerald",subtitle:`${t.collectionRate}% collected`,trend:"up",delay:1}),y.jsx(zy,{title:"Pending Payments",value:`${t.unpaidRevenue.toLocaleString()}`,icon:y.jsx(Dp,{size:22}),color:"amber",subtitle:`${t.unpaidInvoices.length} invoices`,delay:2}),y.jsx(zy,{title:"This Month Classes",value:t.thisMonthClasses,icon:y.jsx(Bs,{size:22}),color:"sky",subtitle:`${d>=0?"+":""}${d} vs last month`,trend:c,delay:3})]}),y.jsxs("div",{className:"charts-row",children:[y.jsxs(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"glass card chart-card",children:[y.jsxs("div",{className:"chart-header",children:[y.jsxs("div",{children:[y.jsx("h4",{children:" Revenue Trend"}),y.jsx("span",{className:"chart-period",children:"Last 6 months"})]}),y.jsxs("div",{className:"chart-legend",children:[y.jsxs("span",{className:"legend-item",children:[y.jsx("span",{className:"legend-dot revenue"})," Total"]}),y.jsxs("span",{className:"legend-item",children:[y.jsx("span",{className:"legend-dot paid"})," Paid"]})]})]}),y.jsx("div",{className:"chart-body",children:y.jsx(Qg,{width:"100%",height:220,children:y.jsxs(SO,{data:t.monthlyRevenue,children:[y.jsxs("defs",{children:[y.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[y.jsx("stop",{offset:"5%",stopColor:"#2563eb",stopOpacity:.2}),y.jsx("stop",{offset:"95%",stopColor:"#2563eb",stopOpacity:0})]}),y.jsxs("linearGradient",{id:"colorPaid",x1:"0",y1:"0",x2:"0",y2:"1",children:[y.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.2}),y.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})]}),y.jsx(Yw,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),y.jsx(u1,{dataKey:"month",tick:{fontSize:12,fill:"var(--text-muted)"},stroke:"var(--border-color)"}),y.jsx(f1,{tick:{fontSize:12,fill:"var(--text-muted)"},stroke:"var(--border-color)",tickFormatter:p=>`${p/1e3}k`}),y.jsx(l1,{formatter:(p,x)=>[`${p.toLocaleString()}`,x==="revenue"?"Total":"Paid"],contentStyle:{borderRadius:12,border:"none",boxShadow:"0 4px 20px rgba(0,0,0,0.12)",background:"var(--bg-card)",color:"var(--text-main)"}}),y.jsx(yp,{type:"monotone",dataKey:"revenue",stroke:"#2563eb",fillOpacity:1,fill:"url(#colorRevenue)",strokeWidth:2.5}),y.jsx(yp,{type:"monotone",dataKey:"paid",stroke:"#10b981",fillOpacity:1,fill:"url(#colorPaid)",strokeWidth:2,strokeDasharray:"5 5"})]})})})]}),y.jsxs(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"glass card top-students-card",children:[y.jsxs("div",{className:"card-header",children:[y.jsx("h4",{children:" Top Students"}),y.jsx("span",{className:"card-subtitle",children:"By attendance"})]}),y.jsx("div",{className:"top-list",children:t.topStudents.length>0?t.topStudents.map((p,x)=>y.jsxs(xn.div,{className:"top-item",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.3+x*.08},children:[y.jsx("div",{className:`rank-badge rank-${x+1}`,children:x+1}),y.jsx("div",{className:"student-avatar",children:p.photo?y.jsx("img",{src:p.photo,alt:p.name}):y.jsx("span",{children:p.name?.[0]})}),y.jsxs("div",{className:"student-info",children:[y.jsx("strong",{children:p.name}),y.jsxs("span",{children:[p.count," classes",p.course?`  ${p.course}`:""]})]}),x===0&&y.jsx(sV,{size:18,className:"trophy-icon"})]},p.id)):y.jsx("p",{className:"empty-msg",children:"No attendance data yet"})})]})]}),y.jsxs("div",{className:"bottom-row",children:[y.jsxs(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"glass card reminders-card",children:[y.jsxs("div",{className:"card-header",children:[y.jsx("h4",{children:" Payment Reminders"}),y.jsxs(qc,{to:"/invoices",className:"view-all-link",children:["View All ",y.jsx(Qz,{size:14})]})]}),y.jsx("div",{className:"reminders-list",children:t.unpaidInvoices.length>0?t.unpaidInvoices.map((p,x)=>y.jsxs(xn.div,{className:"reminder-item",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4+x*.05},children:[y.jsxs("div",{className:"reminder-info",children:[y.jsx("div",{className:"reminder-avatar",children:p.studentSnapshot?.name?.[0]}),y.jsxs("div",{children:[y.jsx("strong",{children:p.studentSnapshot?.name}),y.jsxs("span",{children:["",p.totalAmount?.toLocaleString(),"  #",p.id.slice(-6).toUpperCase()]})]})]}),y.jsxs("button",{className:"whatsapp-btn",onClick:()=>a(p),title:"Send WhatsApp Reminder",children:[y.jsx(G3,{size:14}),"Remind"]})]},p.id)):y.jsxs("div",{className:"all-paid",children:[y.jsx("span",{className:"all-paid-icon",children:""}),y.jsx("p",{children:"All payments collected!"}),y.jsx("span",{className:"all-paid-sub",children:"Great job keeping up with invoices"})]})})]}),y.jsxs(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"glass card actions-card",children:[y.jsx("h4",{children:" Quick Actions"}),y.jsxs("div",{className:"actions-grid",children:[y.jsxs(qc,{to:"/students",className:"action-tile indigo",children:[y.jsx("div",{className:"action-icon-circle indigo",children:y.jsx(du,{size:20})}),y.jsx("span",{children:"Add Student"})]}),y.jsxs(qc,{to:"/attendance",className:"action-tile sky",children:[y.jsx("div",{className:"action-icon-circle sky",children:y.jsx(Bs,{size:20})}),y.jsx("span",{children:"Log Attendance"})]}),y.jsxs(qc,{to:"/invoices",className:"action-tile emerald",children:[y.jsx("div",{className:"action-icon-circle emerald",children:y.jsx(tC,{size:20})}),y.jsx("span",{children:"Generate Bill"})]}),y.jsxs(qc,{to:"/analytics",className:"action-tile violet",children:[y.jsx("div",{className:"action-icon-circle violet",children:y.jsx(ah,{size:20})}),y.jsx("span",{children:"View Reports"})]})]}),y.jsxs("div",{className:"collection-rate-section",children:[y.jsxs("div",{className:"collection-header",children:[y.jsx(rC,{size:16}),y.jsx("span",{children:"Collection Rate"}),y.jsxs("strong",{children:[t.collectionRate,"%"]})]}),y.jsx("div",{className:"collection-bar-bg",children:y.jsx(xn.div,{className:"collection-bar-fill",initial:{width:0},animate:{width:`${t.collectionRate}%`},transition:{delay:.8,duration:.8,ease:"easeOut"}})})]})]})]})]}),y.jsx("style",{jsx:"true",children:`
        .dashboard { max-width: 1200px; margin: 0 auto; }

        .dash-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-end;
          margin-bottom: 28px;
          flex-wrap: wrap;
          gap: 16px;
        }

        .dash-header h2 { margin: 0; font-size: 1.65rem; font-weight: 700; }
        .dash-header p { margin: 6px 0 0; color: var(--text-muted); font-size: 0.9rem; }

        .dash-header-actions {
          display: flex;
          gap: 10px;
          align-items: center;
        }

        .quick-action-btn {
          padding: 10px 20px;
          font-size: 0.9rem;
        }

        .sync-btn {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 10px 14px;
          background: var(--bg-card);
          border: 1px solid var(--border-color);
          border-radius: 10px;
          font-weight: 600;
          color: var(--text-muted);
          transition: all 0.2s;
        }

        .sync-btn:hover { color: var(--primary); border-color: var(--primary); }

        .loader-full {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 400px;
          gap: 16px;
          color: var(--text-muted);
        }

        .stats-grid {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 18px;
          margin-bottom: 22px;
        }

        .stat-card { padding: 22px; background: var(--bg-card); transition: all 0.25s ease; }
        .stat-content { display: flex; align-items: flex-start; gap: 14px; }

        .stat-icon {
          width: 48px;
          height: 48px;
          border-radius: 14px;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
        }

        .stat-icon.indigo { background: rgba(37, 99, 235, 0.1); color: var(--primary); }
        .stat-icon.emerald { background: rgba(16, 185, 129, 0.1); color: #10b981; }
        .stat-icon.amber { background: rgba(245, 158, 11, 0.1); color: #f59e0b; }
        .stat-icon.sky { background: rgba(14, 165, 233, 0.1); color: #0ea5e9; }
        .stat-icon.violet { background: rgba(139, 92, 246, 0.1); color: #8b5cf6; }

        .stat-label { font-size: 0.82rem; color: var(--text-muted); font-weight: 600; text-transform: uppercase; letter-spacing: 0.02em; }
        .stat-number { font-size: 1.65rem; font-weight: 800; margin: 4px 0 2px; }
        .stat-subtitle { 
          font-size: 0.75rem; font-weight: 600; display: inline-flex; align-items: center; gap: 3px;
          color: var(--text-muted);
        }
        .stat-subtitle.trend-up { color: var(--success); }
        .stat-subtitle.trend-down { color: var(--danger); }

        .charts-row {
          display: grid;
          grid-template-columns: 1.8fr 1fr;
          gap: 22px;
          margin-bottom: 22px;
        }

        .chart-card { padding: 24px; background: var(--bg-card); }
        .chart-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 18px;
        }
        .chart-header h4 { margin: 0; font-size: 1.05rem; }
        .chart-period { font-size: 0.78rem; color: var(--text-muted); }

        .chart-legend {
          display: flex;
          gap: 14px;
        }

        .legend-item {
          display: flex;
          align-items: center;
          gap: 5px;
          font-size: 0.75rem;
          color: var(--text-muted);
          font-weight: 600;
        }

        .legend-dot {
          width: 8px;
          height: 8px;
          border-radius: 50%;
        }

        .legend-dot.revenue { background: #2563eb; }
        .legend-dot.paid { background: #10b981; }

        .top-students-card { padding: 24px; background: var(--bg-card); }
        .card-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 18px;
        }
        .card-header h4 { margin: 0; font-size: 1.05rem; }
        .card-subtitle { font-size: 0.78rem; color: var(--text-muted); }

        .top-list { display: flex; flex-direction: column; gap: 10px; }

        .top-item {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 10px 12px;
          background: var(--bg-secondary);
          border-radius: 12px;
          transition: all 0.2s;
        }

        .top-item:hover {
          background: var(--bg-hover);
          transform: translateX(3px);
        }

        .rank-badge {
          width: 26px;
          height: 26px;
          border-radius: 8px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 800;
          font-size: 0.72rem;
          flex-shrink: 0;
        }

        .rank-1 { background: linear-gradient(135deg, #fbbf24, #f59e0b); color: white; }
        .rank-2 { background: linear-gradient(135deg, #94a3b8, #64748b); color: white; }
        .rank-3 { background: linear-gradient(135deg, #d97706, #b45309); color: white; }
        .rank-4, .rank-5 { background: rgba(37, 99, 235, 0.1); color: var(--primary); }

        .student-avatar {
          width: 36px;
          height: 36px;
          border-radius: 10px;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 700;
          overflow: hidden;
          flex-shrink: 0;
        }

        .student-avatar img { width: 100%; height: 100%; object-fit: cover; }

        .student-info { flex: 1; min-width: 0; }
        .student-info strong { display: block; font-size: 0.88rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .student-info span { font-size: 0.72rem; color: var(--text-muted); }

        .trophy-icon { color: #f59e0b; flex-shrink: 0; }

        .bottom-row {
          display: grid;
          grid-template-columns: 1.4fr 1fr;
          gap: 22px;
        }

        .reminders-card, .actions-card { padding: 24px; background: var(--bg-card); }

        .view-all-link {
          font-size: 0.82rem;
          color: var(--primary);
          font-weight: 600;
          display: inline-flex;
          align-items: center;
          gap: 4px;
          transition: gap 0.2s;
        }

        .view-all-link:hover { gap: 8px; }

        .reminders-list { display: flex; flex-direction: column; gap: 10px; }

        .reminder-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 12px;
          background: rgba(245, 158, 11, 0.06);
          border: 1px solid rgba(245, 158, 11, 0.15);
          border-radius: 12px;
          transition: all 0.2s;
        }

        .reminder-item:hover {
          border-color: rgba(245, 158, 11, 0.3);
          transform: translateX(2px);
        }

        .reminder-info { display: flex; align-items: center; gap: 10px; min-width: 0; }

        .reminder-avatar {
          width: 36px;
          height: 36px;
          border-radius: 10px;
          background: #f59e0b;
          color: white;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 700;
          flex-shrink: 0;
        }

        .reminder-info strong { display: block; font-size: 0.88rem; }
        .reminder-info span { font-size: 0.72rem; color: var(--text-muted); }

        .whatsapp-btn {
          display: flex;
          align-items: center;
          gap: 6px;
          padding: 8px 14px;
          background: #25D366;
          color: white;
          border-radius: 10px;
          font-weight: 700;
          font-size: 0.78rem;
          flex-shrink: 0;
          transition: all 0.2s;
        }

        .whatsapp-btn:hover { background: #1da851; transform: translateY(-1px); }

        .all-paid {
          text-align: center;
          padding: 30px;
          color: var(--success);
        }

        .all-paid-icon { font-size: 2.2rem; display: block; margin-bottom: 10px; }
        .all-paid-sub { font-size: 0.8rem; color: var(--text-muted); display: block; margin-top: 4px; }

        .actions-card h4 { margin: 0 0 18px; font-size: 1.05rem; }

        .actions-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 10px;
          margin-bottom: 20px;
        }

        .action-tile {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 10px;
          padding: 20px 12px;
          border-radius: 14px;
          font-weight: 700;
          font-size: 0.82rem;
          transition: all 0.2s;
        }

        .action-icon-circle {
          width: 44px;
          height: 44px;
          border-radius: 14px;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: transform 0.2s;
        }

        .action-tile:hover .action-icon-circle {
          transform: scale(1.1);
        }

        .action-tile.indigo { background: rgba(37, 99, 235, 0.06); color: var(--primary); }
        .action-tile.sky { background: rgba(14, 165, 233, 0.06); color: #0ea5e9; }
        .action-tile.emerald { background: rgba(16, 185, 129, 0.06); color: #10b981; }
        .action-tile.violet { background: rgba(139, 92, 246, 0.06); color: #8b5cf6; }

        .action-icon-circle.indigo { background: rgba(37, 99, 235, 0.12); }
        .action-icon-circle.sky { background: rgba(14, 165, 233, 0.12); }
        .action-icon-circle.emerald { background: rgba(16, 185, 129, 0.12); }
        .action-icon-circle.violet { background: rgba(139, 92, 246, 0.12); }

        .action-tile:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(0,0,0,0.06); }

        /* Collection Rate */
        .collection-rate-section {
          padding: 16px;
          background: var(--bg-secondary);
          border-radius: 12px;
        }

        .collection-header {
          display: flex;
          align-items: center;
          gap: 8px;
          margin-bottom: 10px;
          font-size: 0.82rem;
          color: var(--text-muted);
          font-weight: 600;
        }

        .collection-header strong {
          margin-left: auto;
          color: var(--primary);
          font-size: 1rem;
        }

        .collection-header svg {
          color: var(--primary);
        }

        .collection-bar-bg {
          width: 100%;
          height: 6px;
          border-radius: 6px;
          background: var(--border-color);
          overflow: hidden;
        }

        .collection-bar-fill {
          height: 100%;
          border-radius: 6px;
          background: linear-gradient(90deg, var(--primary), var(--accent-purple));
        }

        .empty-msg { text-align: center; color: var(--text-muted); padding: 20px; }

        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        @media (max-width: 1024px) {
          .stats-grid { grid-template-columns: repeat(2, 1fr); }
          .charts-row, .bottom-row { grid-template-columns: 1fr; }
        }

        @media (max-width: 640px) {
          .stats-grid { grid-template-columns: 1fr; }
          .dash-header h2 { font-size: 1.3rem; }
          .desk-text { display: none; }
          .quick-action-btn { padding: 10px 14px; }
        }
      `})]})};function a8e(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let N4=1;class s8e{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,a=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:N4++,s=this.toasts.find(d=>d.id===a),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),s?this.toasts=this.toasts.map(d=>d.id===a?(this.publish({...d,...e,id:a,title:r}),{...d,...e,id:a,dismissible:c,title:r}):d):this.addToast({title:r,...i,dismissible:c,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,s;const c=i.then(async u=>{if(s=["resolve",u],Br.isValidElement(u))a=!1,this.create({id:r,type:"default",message:u});else if(l8e(u)&&!u.ok){a=!1;const x=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,w=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,N=typeof x=="object"&&!Br.isValidElement(x)?x:{message:x};this.create({id:r,type:"error",description:w,...N})}else if(u instanceof Error){a=!1;const x=typeof n.error=="function"?await n.error(u):n.error,w=typeof n.description=="function"?await n.description(u):n.description,N=typeof x=="object"&&!Br.isValidElement(x)?x:{message:x};this.create({id:r,type:"error",description:w,...N})}else if(n.success!==void 0){a=!1;const x=typeof n.success=="function"?await n.success(u):n.success,w=typeof n.description=="function"?await n.description(u):n.description,N=typeof x=="object"&&!Br.isValidElement(x)?x:{message:x};this.create({id:r,type:"success",description:w,...N})}}).catch(async u=>{if(s=["reject",u],n.error!==void 0){a=!1;const p=typeof n.error=="function"?await n.error(u):n.error,x=typeof n.description=="function"?await n.description(u):n.description,A=typeof p=="object"&&!Br.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:x,...A})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((u,p)=>c.then(()=>s[0]==="reject"?p(s[1]):u(s[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,n)=>{const r=n?.id||N4++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Vo=new s8e,o8e=(t,e)=>{const n=e?.id||N4++;return Vo.addToast({title:t,...e,id:n}),n},l8e=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",c8e=o8e,u8e=()=>Vo.toasts,f8e=()=>Vo.getActiveToasts();Object.assign(c8e,{success:Vo.success,info:Vo.info,warning:Vo.warning,error:Vo.error,custom:Vo.custom,message:Vo.message,promise:Vo.promise,dismiss:Vo.dismiss,loading:Vo.loading},{getHistory:u8e,getToasts:f8e});a8e("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const dK=R.createContext(),Kw=()=>{const t=R.useContext(dK);if(!t)throw new Error("useToast must be used within a ToastProvider");return t};let d8e=0;const h8e=({children:t})=>{const[e,n]=R.useState([]),r=R.useCallback((c,d="info",u=4e3)=>{const p=++d8e;return n(x=>[...x,{id:p,message:c,type:d}]),u>0&&setTimeout(()=>{n(x=>x.filter(w=>w.id!==p))},u),p},[]),i=R.useCallback(c=>{n(d=>d.filter(u=>u.id!==c))},[]),a={success:c=>r(c,"success"),error:c=>r(c,"error"),warning:c=>r(c,"warning"),info:c=>r(c,"info")},s={success:y.jsx(qv,{size:20}),error:y.jsx(tV,{size:20}),warning:y.jsx(Yv,{size:20}),info:y.jsx(uue,{size:20})};return y.jsxs(dK.Provider,{value:a,children:[t,y.jsx("div",{className:"toast-container",children:y.jsx(Ba,{children:e.map(c=>y.jsxs(xn.div,{initial:{opacity:0,x:50,scale:.9},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:50,scale:.9},className:`toast toast-${c.type}`,children:[y.jsx("div",{className:"toast-icon",children:s[c.type]}),y.jsx("span",{className:"toast-message",children:c.message}),y.jsx("button",{className:"toast-close",onClick:()=>i(c.id),children:y.jsx(uc,{size:16})})]},c.id))})}),y.jsx("style",{jsx:"true",children:`
        .toast-container {
          position: fixed;
          top: 20px;
          right: 20px;
          display: flex;
          flex-direction: column;
          gap: 10px;
          z-index: 9999;
          max-width: 380px;
        }

        .toast {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 14px 18px;
          background: var(--bg-card);
          border-radius: 12px;
          box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
          border: 1px solid var(--border-color);
        }

        .toast-icon {
          flex-shrink: 0;
        }

        .toast-success .toast-icon { color: #10b981; }
        .toast-error .toast-icon { color: #ef4444; }
        .toast-warning .toast-icon { color: #f59e0b; }
        .toast-info .toast-icon { color: #3b82f6; }

        .toast-message {
          flex: 1;
          font-size: 0.9rem;
          font-weight: 500;
          color: var(--text-main);
        }

        .toast-close {
          flex-shrink: 0;
          width: 28px;
          height: 28px;
          border-radius: 8px;
          background: var(--bg-secondary);
          color: var(--text-muted);
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          transition: all 0.15s;
        }

        .toast-close:hover {
          background: var(--border-color);
        }

        .toast-success { border-left: 4px solid #10b981; }
        .toast-error { border-left: 4px solid #ef4444; }
        .toast-warning { border-left: 4px solid #f59e0b; }
        .toast-info { border-left: 4px solid #3b82f6; }
      `})]})},B7=[{id:0,name:"Sunday",short:"Sun"},{id:1,name:"Monday",short:"Mon"},{id:2,name:"Tuesday",short:"Tue"},{id:3,name:"Wednesday",short:"Wed"},{id:4,name:"Thursday",short:"Thu"},{id:5,name:"Friday",short:"Fri"},{id:6,name:"Saturday",short:"Sat"}],p8e=["08:00 AM","09:00 AM","10:00 AM","11:00 AM","12:00 PM","01:00 PM","02:00 PM","03:00 PM","04:00 PM","05:00 PM","06:00 PM","07:00 PM","08:00 PM"],m8e=({isOpen:t,onClose:e,studentId:n,studentName:r})=>{const i=Kw(),[a,s]=R.useState([]),[c,d]=R.useState(!0),[u,p]=R.useState(!1),[x,w]=R.useState({weekday:6,time:"10:00 AM",topic:""});R.useEffect(()=>{t&&n&&A()},[t,n]);const A=async()=>{d(!0);try{const D=er(Gt,"schedules",n),P=await xs(D);P.exists()?s(P.data().recurring||[]):s([])}catch(D){console.error(D)}finally{d(!1)}},N=async D=>{try{return await _f(er(Gt,"schedules",n),{studentId:n,studentName:r,recurring:D,updatedAt:new Date().toISOString()}),s(D),!0}catch(P){return console.error(P),!1}},S=async()=>{if(a.some(V=>V.weekday===x.weekday&&V.time===x.time)){i.warning("This time slot already exists!");return}p(!0);const D=[...a,{...x,id:Date.now()}];await N(D)?(i.success("Schedule added!"),w({weekday:6,time:"10:00 AM",topic:""})):i.error("Failed to add schedule"),p(!1)},I=async D=>{const P=a.filter(K=>K.id!==D);await N(P)&&i.success("Schedule removed")},j=async()=>{if(a.length===0){i.warning("No schedules to apply");return}p(!0);try{const D=new Date,P=Tt(D,"MM"),V=Tt(D,"yyyy"),K=`${n}_${P}_${V}`,Z=await xs(er(Gt,"monthly_attendance",K)),F=Z.exists()?Z.data():{sessions:[],classCount:0},U=fp(D),B=[];for(let H=0;H<4;H++)for(const G of a){const q=NC(U,H*7+G.weekday);if(Tt(q,"MM")!==P)continue;const Ce=Tt(q,"yyyy-MM-dd");F.sessions?.some(re=>re.date===Ce)||B.push({date:Ce,time:G.time,topic:G.topic||"Regular Class",status:"scheduled"})}if(B.length===0){i.info("No new sessions to add"),p(!1);return}const J=[...F.sessions||[],...B];await _f(er(Gt,"monthly_attendance",K),{studentId:n,month:P,year:V,sessions:J,classCount:J.filter(H=>H.status!=="cancelled").length,updatedAt:new Date().toISOString()}),i.success(`Added ${B.length} scheduled classes!`)}catch(D){console.error(D),i.error("Failed to apply schedule")}finally{p(!1)}};return t?y.jsxs(Ba,{children:[y.jsx("div",{className:"schedule-overlay",onClick:e,children:y.jsxs(xn.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95},className:"schedule-modal",onClick:D=>D.stopPropagation(),children:[y.jsxs("div",{className:"schedule-header",children:[y.jsxs("div",{className:"schedule-title",children:[y.jsx(Bs,{size:24}),y.jsxs("div",{children:[y.jsx("h3",{children:"Recurring Schedule"}),y.jsx("p",{children:r})]})]}),y.jsx("button",{className:"close-btn",onClick:e,children:y.jsx(uc,{size:20})})]}),y.jsx("div",{className:"schedule-body",children:c?y.jsxs("div",{className:"loading-box",children:[y.jsx(ns,{className:"animate-spin",size:32}),y.jsx("p",{children:"Loading schedules..."})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"current-schedules",children:[y.jsx("h4",{children:"Current Schedule"}),a.length>0?y.jsx("div",{className:"schedule-list",children:a.map(D=>y.jsxs("div",{className:"schedule-item",children:[y.jsxs("div",{className:"schedule-info",children:[y.jsx("span",{className:"weekday-badge",children:B7.find(P=>P.id===D.weekday)?.name}),y.jsxs("span",{className:"time-badge",children:[y.jsx(Dp,{size:14}),D.time]}),D.topic&&y.jsx("span",{className:"topic",children:D.topic})]}),y.jsx("button",{className:"remove-btn",onClick:()=>I(D.id),children:y.jsx(cc,{size:16})})]},D.id))}):y.jsx("p",{className:"empty-msg",children:"No recurring schedule set"})]}),y.jsxs("div",{className:"add-schedule",children:[y.jsx("h4",{children:"Add Class Day"}),y.jsxs("div",{className:"add-form",children:[y.jsx("div",{className:"weekday-selector",children:B7.map(D=>y.jsx("button",{className:`day-btn ${x.weekday===D.id?"active":""}`,onClick:()=>w({...x,weekday:D.id}),children:D.short},D.id))}),y.jsxs("div",{className:"form-row",children:[y.jsx("select",{className:"input-field",value:x.time,onChange:D=>w({...x,time:D.target.value}),children:p8e.map(D=>y.jsx("option",{value:D,children:D},D))}),y.jsx("input",{type:"text",className:"input-field",placeholder:"Topic (optional)",value:x.topic,onChange:D=>w({...x,topic:D.target.value})})]}),y.jsxs("button",{className:"add-btn",onClick:S,disabled:u,children:[u?y.jsx(ns,{className:"animate-spin",size:18}):y.jsx(du,{size:18}),"Add Schedule"]})]})]}),a.length>0&&y.jsxs("div",{className:"apply-section",children:[y.jsxs("button",{className:"apply-btn",onClick:j,disabled:u,children:[u?y.jsx(ns,{className:"animate-spin",size:18}):y.jsx(td,{size:18}),"Apply Schedule to This Month"]}),y.jsx("p",{className:"apply-hint",children:"This will add scheduled classes to this month's attendance"})]})]})})]})}),y.jsx("style",{jsx:"true",children:`
        .schedule-overlay {
          position: fixed;
          inset: 0;
          background: rgba(15, 23, 42, 0.7);
          backdrop-filter: blur(8px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 9999;
          padding: 20px;
        }

        .schedule-modal {
          width: 100%;
          max-width: 500px;
          max-height: 90vh;
          background: var(--bg-card);
          border-radius: 20px;
          overflow: hidden;
          box-shadow: 0 25px 60px rgba(0, 0, 0, 0.3);
        }

        .schedule-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 20px 24px;
          border-bottom: 1px solid var(--border-color);
        }

        .schedule-title {
          display: flex;
          align-items: center;
          gap: 12px;
          color: var(--primary);
        }

        .schedule-title h3 { margin: 0; font-size: 1.1rem; color: var(--text-main); }
        .schedule-title p { margin: 4px 0 0; font-size: 0.85rem; color: var(--text-muted); }

        .close-btn {
          width: 36px;
          height: 36px;
          border-radius: 10px;
          background: var(--bg-secondary);
          color: var(--text-muted);
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .schedule-body {
          padding: 24px;
          max-height: 65vh;
          overflow-y: auto;
        }

        .loading-box {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 12px;
          padding: 40px;
          color: var(--text-muted);
        }

        .current-schedules { margin-bottom: 25px; }
        .current-schedules h4 { margin: 0 0 15px; font-size: 0.95rem; }

        .schedule-list { display: flex; flex-direction: column; gap: 10px; }

        .schedule-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 12px 16px;
          background: var(--bg-secondary);
          border-radius: 10px;
        }

        .schedule-info { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; }

        .weekday-badge {
          background: var(--primary);
          color: white;
          padding: 4px 12px;
          border-radius: 6px;
          font-weight: 600;
          font-size: 0.8rem;
        }

        .time-badge {
          display: flex;
          align-items: center;
          gap: 4px;
          color: var(--text-muted);
          font-size: 0.85rem;
        }

        .topic {
          font-size: 0.8rem;
          color: var(--text-muted);
          font-style: italic;
        }

        .remove-btn {
          width: 32px;
          height: 32px;
          display: flex;
          align-items: center;
          justify-content: center;
          background: none;
          color: var(--text-muted);
          border-radius: 8px;
        }

        .remove-btn:hover { background: rgba(239, 68, 68, 0.1); color: #ef4444; }

        .empty-msg {
          text-align: center;
          color: var(--text-muted);
          padding: 20px;
          background: var(--bg-secondary);
          border-radius: 10px;
        }

        .add-schedule {
          background: var(--bg-secondary);
          padding: 20px;
          border-radius: 12px;
        }

        .add-schedule h4 { margin: 0 0 15px; font-size: 0.95rem; }

        .weekday-selector {
          display: flex;
          gap: 6px;
          margin-bottom: 15px;
        }

        .day-btn {
          flex: 1;
          padding: 10px 8px;
          background: var(--bg-card);
          border: 1px solid var(--border-color);
          border-radius: 8px;
          font-size: 0.8rem;
          font-weight: 600;
          color: var(--text-muted);
        }

        .day-btn.active {
          background: var(--primary);
          color: white;
          border-color: var(--primary);
        }

        .form-row {
          display: flex;
          gap: 10px;
          margin-bottom: 15px;
        }

        .form-row .input-field { flex: 1; }

        .add-btn {
          width: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          padding: 12px;
          background: var(--primary);
          color: white;
          border-radius: 10px;
          font-weight: 600;
        }

        .apply-section {
          margin-top: 20px;
          text-align: center;
        }

        .apply-btn {
          width: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          padding: 14px;
          background: linear-gradient(135deg, #10b981 0%, #059669 100%);
          color: white;
          border-radius: 10px;
          font-weight: 600;
        }

        .apply-hint {
          margin-top: 10px;
          font-size: 0.8rem;
          color: var(--text-muted);
        }

        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
      `})]}):null},Zt=({w:t,h:e,r:n="8px",className:r="",style:i={}})=>y.jsx("div",{className:`sk ${r}`,style:{width:t||"100%",height:e||"20px",borderRadius:n,...i}}),og=({color:t="#3b82f6",delay:e=0})=>y.jsxs("div",{className:"skc stat-skc",style:{animationDelay:`${e}s`},children:[y.jsx("div",{className:"sk-stat-icon",style:{background:`${t}15`,borderColor:`${t}20`},children:y.jsx("div",{className:"sk-icon-pulse",style:{background:`${t}30`}})}),y.jsxs("div",{className:"sk-stat-text",children:[y.jsx(Zt,{w:"70px",h:"12px"}),y.jsx(Zt,{w:"100px",h:"26px",className:"sk-bold"}),y.jsx(Zt,{w:"50px",h:"11px"})]})]}),Vy=()=>y.jsxs("div",{className:"skc student-skc",children:[y.jsx("div",{className:"sk-avatar-circle"}),y.jsxs("div",{className:"sk-col",style:{gap:"8px"},children:[y.jsx(Zt,{w:"140px",h:"18px"}),y.jsx(Zt,{w:"100px",h:"14px"}),y.jsx(Zt,{w:"80px",h:"20px",r:"10px"})]})]}),O4=({color:t="#3b82f6"})=>y.jsxs("div",{className:"skc chart-skc",children:[y.jsxs("div",{className:"sk-row-between",style:{marginBottom:"24px"},children:[y.jsx(Zt,{w:"130px",h:"18px"}),y.jsx(Zt,{w:"80px",h:"14px"})]}),y.jsx("div",{className:"sk-chart-area",children:[45,72,58,88,42,65,80,55].map((e,n)=>y.jsxs("div",{className:"sk-bar-col",style:{animationDelay:`${n*.08}s`},children:[y.jsx("div",{className:"sk-bar",style:{height:`${e}%`,background:`linear-gradient(to top, ${t}25, ${t}08)`}}),y.jsx(Zt,{w:"20px",h:"8px",style:{marginTop:"6px"}})]},n))})]}),hK=()=>y.jsxs("div",{className:"sk-table-wrap",children:[y.jsx("div",{className:"sk-table-head",children:["#","Student","Period","Qty","Amount","Status","Actions"].map((t,e)=>y.jsx(Zt,{w:["50px","120px","80px","40px","70px","60px","90px"][e],h:"10px"},e))}),[0,1,2,3,4].map(t=>y.jsxs("div",{className:"sk-table-row",style:{animationDelay:`${t*.1}s`},children:[y.jsx("div",{className:"sk-cell",children:y.jsx(Zt,{w:"68px",h:"22px",r:"6px",className:"sk-code"})}),y.jsxs("div",{className:"sk-cell sk-col",style:{gap:"6px"},children:[y.jsx(Zt,{w:`${100+t*10}px`,h:"15px"}),y.jsx(Zt,{w:"55px",h:"16px",r:"10px",className:"sk-tag"})]}),y.jsx("div",{className:"sk-cell",children:y.jsx(Zt,{w:"85px",h:"14px"})}),y.jsx("div",{className:"sk-cell",children:y.jsx(Zt,{w:"28px",h:"20px",r:"6px",className:"sk-num"})}),y.jsx("div",{className:"sk-cell",children:y.jsx(Zt,{w:"72px",h:"18px",className:"sk-bold"})}),y.jsx("div",{className:"sk-cell",children:y.jsx(Zt,{w:"60px",h:"24px",r:"20px",className:"sk-badge"})}),y.jsxs("div",{className:"sk-cell sk-actions",children:[y.jsx(Zt,{w:"30px",h:"30px",r:"8px"}),y.jsx(Zt,{w:"30px",h:"30px",r:"8px"}),y.jsx(Zt,{w:"30px",h:"30px",r:"8px"})]})]},t))]}),g8e=()=>y.jsxs("div",{className:"sk-attendance",children:[y.jsx(Mh,{}),[0,1,2,3,4].map(t=>y.jsxs("div",{className:"sk-att-row",style:{animationDelay:`${t*.1}s`},children:[y.jsxs("div",{className:"sk-att-left",children:[y.jsx("div",{className:"sk-avatar-sm",style:{background:`hsl(${t*60}, 60%, 92%)`},children:y.jsx("div",{className:"sk-avatar-letter",style:{color:`hsl(${t*60}, 50%, 55%)`},children:["A","S","R","M","K"][t]})}),y.jsxs("div",{className:"sk-col",style:{gap:"5px"},children:[y.jsx(Zt,{w:`${110+t*12}px`,h:"15px"}),y.jsx(Zt,{w:"80px",h:"18px",r:"10px",className:"sk-tag"})]})]}),y.jsxs("div",{className:"sk-att-controls",children:[y.jsx("div",{className:"sk-btn-ghost",children:y.jsx(Zt,{w:"60px",h:"14px"})}),y.jsx("div",{className:"sk-btn-ghost",children:y.jsx(Zt,{w:"60px",h:"14px"})})]}),y.jsxs("div",{className:"sk-att-right",children:[y.jsxs("div",{className:"sk-count-box",children:[y.jsx(Zt,{w:"28px",h:"24px",className:"sk-num"}),y.jsx(Zt,{w:"42px",h:"9px"})]}),y.jsxs("div",{className:"sk-col",style:{alignItems:"flex-end"},children:[y.jsx(Zt,{w:"10px",h:"10px"}),y.jsx(Zt,{w:"65px",h:"16px",className:"sk-bold"})]}),y.jsx(Zt,{w:"30px",h:"30px",r:"8px"})]})]},t))]}),x8e=()=>y.jsxs("div",{className:"sk-analytics",children:[y.jsx(Mh,{}),y.jsxs("div",{className:"sk-stats-grid four",children:[y.jsx(og,{color:"#3b82f6",delay:0}),y.jsx(og,{color:"#10b981",delay:.08}),y.jsx(og,{color:"#f59e0b",delay:.16}),y.jsx(og,{color:"#ef4444",delay:.24})]}),y.jsxs("div",{className:"sk-two-col",children:[y.jsx(O4,{color:"#3b82f6"}),y.jsxs("div",{className:"skc",style:{minHeight:"280px"},children:[y.jsx(Zt,{w:"130px",h:"18px",style:{marginBottom:"20px"}}),y.jsx("div",{className:"sk-donut-wrap",children:y.jsx("div",{className:"sk-donut",children:y.jsx("div",{className:"sk-donut-hole"})})}),y.jsx("div",{className:"sk-legend",children:["#3b82f6","#10b981","#f59e0b"].map((t,e)=>y.jsxs("div",{className:"sk-legend-item",children:[y.jsx("div",{className:"sk-legend-dot",style:{background:`${t}40`}}),y.jsx(Zt,{w:"70px",h:"12px"})]},e))})]})]}),y.jsxs("div",{className:"sk-two-col",children:[y.jsxs("div",{className:"skc",style:{minHeight:"280px"},children:[y.jsx(Zt,{w:"140px",h:"18px",style:{marginBottom:"16px"}}),y.jsxs("div",{className:"sk-cal-grid",children:[["S","M","T","W","T","F","S"].map((t,e)=>y.jsx("div",{className:"sk-cal-head",children:t},e)),[...Array(28)].map((t,e)=>y.jsx("div",{className:`sk-cal-cell ${[3,7,10,14,17,21,24].includes(e)?"active":""}`},e))]})]}),y.jsxs("div",{className:"skc",style:{minHeight:"280px"},children:[y.jsx(Zt,{w:"140px",h:"18px",style:{marginBottom:"16px"}}),[0,1,2,3].map(t=>y.jsxs("div",{className:"sk-leaderboard-item",style:{animationDelay:`${t*.1}s`},children:[y.jsx("div",{className:"sk-rank",style:{background:t===0?"#fbbf2420":"var(--bg-secondary)"},children:y.jsx("span",{style:{color:t===0?"#f59e0b":"var(--text-muted)",fontWeight:800,fontSize:"0.75rem"},children:t+1})}),y.jsx("div",{className:"sk-avatar-xs",style:{background:`hsl(${t*80+200}, 55%, 90%)`}}),y.jsxs("div",{className:"sk-col",style:{gap:"4px",flex:1},children:[y.jsx(Zt,{w:`${90+t*10}px`,h:"13px"}),y.jsx(Zt,{w:"55px",h:"10px"})]}),y.jsx(Zt,{w:"30px",h:"20px",r:"6px",className:"sk-num"})]},t))]})]})]}),y8e=()=>y.jsxs("div",{className:"sk-insights",children:[y.jsx(Mh,{}),y.jsx("div",{className:"sk-stats-grid six",children:["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4"].map((t,e)=>y.jsx(og,{color:t,delay:e*.06},e))}),y.jsxs("div",{className:"sk-two-col",children:[y.jsx(O4,{color:"#10b981"}),y.jsx(O4,{color:"#8b5cf6"})]}),y.jsxs("div",{className:"sk-two-col",children:[y.jsxs("div",{className:"skc",style:{minHeight:"260px"},children:[y.jsx(Zt,{w:"140px",h:"18px",style:{marginBottom:"16px"}}),[0,1,2].map(t=>y.jsxs("div",{className:"sk-risk-row",style:{animationDelay:`${t*.12}s`},children:[y.jsx("div",{className:"sk-risk-indicator",style:{background:["#fef3c7","#fee2e2","#dcfce7"][t]}}),y.jsxs("div",{className:"sk-col",style:{flex:1,gap:"4px"},children:[y.jsx(Zt,{w:`${90+t*15}px`,h:"14px"}),y.jsx(Zt,{w:"130px",h:"11px"})]}),y.jsx(Zt,{w:"70px",h:"28px",r:"8px"})]},t))]}),y.jsxs("div",{className:"skc sk-ai-panel",style:{minHeight:"260px"},children:[y.jsxs("div",{className:"sk-ai-badge",children:[y.jsx("div",{className:"sk-ai-icon",children:""}),y.jsx(Zt,{w:"90px",h:"14px"})]}),y.jsxs("div",{className:"sk-ai-body",children:[y.jsx(Zt,{w:"180px",h:"13px"}),y.jsx(Zt,{w:"150px",h:"13px"}),y.jsx(Zt,{w:"200px",h:"13px"})]})]})]})]}),v8e=()=>y.jsxs("div",{className:"sk-settings",children:[y.jsx(Mh,{}),y.jsx("div",{className:"sk-tabs",children:["Business","Pricing","Theme","Backup"].map((t,e)=>y.jsxs("div",{className:`sk-tab ${e===0?"active":""}`,children:[y.jsx(Zt,{w:"14px",h:"14px",r:"4px"}),y.jsx("span",{className:"sk-tab-text",children:t})]},e))}),y.jsxs("div",{className:"skc sk-form-card",children:[[0,1,2,3].map(t=>y.jsxs("div",{className:"sk-field",style:{animationDelay:`${t*.08}s`},children:[y.jsx(Zt,{w:["90px","70px","100px","80px"][t],h:"11px"}),y.jsx(Zt,{h:"42px",r:"10px",className:"sk-input"})]},t)),y.jsxs("div",{className:"sk-row",style:{gap:"16px"},children:[y.jsxs("div",{className:"sk-field",style:{flex:1},children:[y.jsx(Zt,{w:"60px",h:"11px"}),y.jsx(Zt,{h:"42px",r:"10px",className:"sk-input"})]}),y.jsxs("div",{className:"sk-field",style:{flex:1},children:[y.jsx(Zt,{w:"75px",h:"11px"}),y.jsx(Zt,{h:"42px",r:"10px",className:"sk-input"})]})]}),y.jsx("div",{className:"sk-row",style:{justifyContent:"flex-end",marginTop:"8px"},children:y.jsx(Zt,{w:"120px",h:"42px",r:"10px",className:"sk-btn-primary"})})]})]}),Mh=()=>y.jsx("style",{jsx:"true",children:`
    /* Utility */
    .sk-row-between { display: flex; justify-content: space-between; align-items: center; }
    .sk-col { display: flex; flex-direction: column; }
    .sk-row { display: flex; align-items: center; }
    .sk-bold { opacity: 0.7; }
    .sk-input { background: var(--bg-secondary); border: 1px solid var(--border-color); }

    /* Stat Card */
    .stat-skc { display: flex; align-items: flex-start; gap: 15px; }
    .sk-stat-icon {
        width: 50px; height: 50px; min-width: 50px; border-radius: 14px;
        display: flex; align-items: center; justify-content: center;
        border: 1px solid transparent;
    }
    .sk-icon-pulse {
        width: 24px; height: 24px; border-radius: 8px;
        animation: skPulse 2s ease-in-out infinite;
    }
    .sk-stat-text { display: flex; flex-direction: column; gap: 8px; }

    /* Table Skeleton */
    .sk-table-wrap { padding: 0; }
    .sk-table-head {
        display: grid; grid-template-columns: 70px 1.5fr 100px 50px 80px 70px 110px;
        gap: 12px; padding: 14px 20px;
        border-bottom: 2px solid var(--border-color);
    }
    .sk-table-row {
        display: grid; grid-template-columns: 70px 1.5fr 100px 50px 80px 70px 110px;
        gap: 12px; padding: 16px 20px;
        border-bottom: 1px solid var(--border-color);
        animation: skRowSlide 0.4s ease-out both;
    }
    .sk-cell { display: flex; align-items: center; }
    .sk-cell.sk-actions { gap: 5px; justify-content: flex-end; }

    /* Attendance */
    .sk-attendance { display: flex; flex-direction: column; }
    .sk-att-row {
        display: flex; justify-content: space-between; align-items: center;
        padding: 18px 24px; border-bottom: 1px solid var(--border-color);
        animation: skRowSlide 0.4s ease-out both;
    }
    .sk-att-left { display: flex; align-items: center; gap: 14px; }
    .sk-avatar-sm {
        width: 44px; height: 44px; min-width: 44px; border-radius: 12px;
        display: flex; align-items: center; justify-content: center;
    }
    .sk-avatar-letter {
        font-weight: 800; font-size: 1rem; opacity: 0.5;
        animation: skPulse 2s ease-in-out infinite;
    }
    .sk-avatar-circle {
        width: 56px; height: 56px; border-radius: 50%;
        background: linear-gradient(135deg, rgba(99,102,241,0.15), rgba(139,92,246,0.15));
        animation: skPulse 2s ease-in-out infinite;
    }
    .sk-avatar-xs { width: 32px; height: 32px; min-width: 32px; border-radius: 10px; }
    .sk-att-controls { display: flex; gap: 8px; }
    .sk-btn-ghost {
        padding: 8px 14px; border-radius: 8px;
        border: 1px dashed var(--border-color);
        display: flex; align-items: center; justify-content: center;
    }
    .sk-att-right { display: flex; align-items: center; gap: 18px; }
    .sk-count-box { display: flex; flex-direction: column; align-items: center; gap: 3px; }

    /* Chart */
    .chart-skc { min-height: 280px; }
    .sk-chart-area {
        height: 190px; display: flex; align-items: flex-end;
        justify-content: space-between; gap: 8px; padding: 0 6px;
    }
    .sk-bar-col {
        flex: 1; display: flex; flex-direction: column; align-items: center;
        animation: skBarGrow 0.6s ease-out both;
    }
    .sk-bar { width: 100%; border-radius: 6px 6px 2px 2px; min-width: 20px; }

    /* Donut */
    .sk-donut-wrap { display: flex; justify-content: center; padding: 10px 0; }
    .sk-donut {
        width: 140px; height: 140px; border-radius: 50%;
        background: conic-gradient(
            rgba(99,102,241,0.2) 0deg 130deg,
            rgba(16,185,129,0.2) 130deg 230deg,
            rgba(245,158,11,0.2) 230deg 360deg
        );
        display: flex; align-items: center; justify-content: center;
        animation: skDonutSpin 12s linear infinite;
    }
    .sk-donut-hole {
        width: 80px; height: 80px; border-radius: 50%;
        background: var(--bg-card);
    }
    .sk-legend { display: flex; flex-direction: column; gap: 8px; align-items: center; padding-top: 16px; }
    .sk-legend-item { display: flex; align-items: center; gap: 8px; }
    .sk-legend-dot { width: 10px; height: 10px; border-radius: 3px; }

    /* Calendar */
    .sk-cal-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 4px; }
    .sk-cal-head {
        text-align: center; font-size: 0.65rem; font-weight: 700;
        color: var(--text-muted); opacity: 0.5; padding: 4px;
    }
    .sk-cal-cell {
        aspect-ratio: 1; border-radius: 8px;
        background: var(--bg-secondary);
    }
    .sk-cal-cell.active {
        background: rgba(59, 130, 246, 0.15);
        animation: skPulse 2.5s ease-in-out infinite;
    }

    /* Leaderboard */
    .sk-leaderboard-item {
        display: flex; align-items: center; gap: 10px;
        padding: 10px; border-radius: 10px;
        background: var(--bg-secondary); margin-bottom: 8px;
        animation: skRowSlide 0.4s ease-out both;
    }
    .sk-rank {
        width: 28px; height: 28px; border-radius: 8px;
        display: flex; align-items: center; justify-content: center;
    }

    /* Risk rows */
    .sk-risk-row {
        display: flex; align-items: center; gap: 12px;
        padding: 14px; border-radius: 12px;
        background: var(--bg-secondary); margin-bottom: 10px;
        animation: skRowSlide 0.4s ease-out both;
    }
    .sk-risk-indicator { width: 4px; height: 36px; border-radius: 4px; }

    /* AI Panel */
    .sk-ai-panel { position: relative; overflow: hidden; }
    .sk-ai-badge { display: flex; align-items: center; gap: 10px; margin-bottom: 24px; }
    .sk-ai-icon {
        width: 36px; height: 36px; border-radius: 10px;
        background: linear-gradient(135deg, rgba(139,92,246,0.15), rgba(99,102,241,0.15));
        display: flex; align-items: center; justify-content: center;
        font-size: 1.1rem; animation: skPulse 2s ease-in-out infinite;
    }
    .sk-ai-body { display: flex; flex-direction: column; gap: 10px; padding-left: 6px; }

    /* Settings */
    .sk-settings { max-width: 900px; }
    .sk-tabs { display: flex; gap: 8px; margin-bottom: 20px; }
    .sk-tab {
        display: flex; align-items: center; gap: 7px;
        padding: 10px 18px; border-radius: 10px;
        background: var(--bg-secondary); border: 1px solid var(--border-color);
    }
    .sk-tab.active {
        background: linear-gradient(135deg, rgba(79,70,229,0.08), rgba(79,70,229,0.15));
        border-color: rgba(79,70,229,0.3);
    }
    .sk-tab-text { font-size: 0.8rem; font-weight: 600; color: var(--text-muted); }
    .sk-tab.active .sk-tab-text { color: var(--primary); }
    .sk-form-card { margin-top: 0; }
    .sk-field {
        display: flex; flex-direction: column; gap: 8px;
        margin-bottom: 18px; animation: skFadeSlide 0.4s ease-out both;
    }

    /* Grid */
    .sk-stats-grid { display: grid; gap: 16px; margin-bottom: 24px; }
    .sk-stats-grid.four { grid-template-columns: repeat(4, 1fr); }
    .sk-stats-grid.six { grid-template-columns: repeat(3, 1fr); }
    .sk-two-col { display: grid; grid-template-columns: 1.5fr 1fr; gap: 20px; margin-bottom: 24px; }

    /* Page */
    .sk-page, .sk-analytics, .sk-insights, .sk-settings { padding: 10px 0; }

    /* Student */
    .student-skc { display: flex; gap: 15px; }

    @media (max-width: 1024px) {
        .sk-stats-grid.four { grid-template-columns: repeat(2, 1fr); }
        .sk-stats-grid.six { grid-template-columns: repeat(2, 1fr); }
        .sk-two-col { grid-template-columns: 1fr; }
        .sk-table-head, .sk-table-row { display: none; }
        .sk-tabs { flex-wrap: wrap; }
    }

    @media (max-width: 640px) {
        .sk-stats-grid.four, .sk-stats-grid.six { grid-template-columns: 1fr; }
        .sk-att-row { flex-direction: column; gap: 12px; align-items: flex-start; }
        .sk-att-controls { display: none; }
        .sk-att-right { width: 100%; justify-content: space-between; }
    }
    `}),b8e=({student:t,onClose:e})=>{const[n,r]=R.useState([]),[i,a]=R.useState(!0);R.useEffect(()=>{t&&s()},[t]);const s=async()=>{a(!0);try{const c=kp(wr(Gt,"monthly_attendance"),ZT("studentId","==",t.id)),d=await Zr(c);let u=[];d.forEach(p=>{const x=p.data();x.sessions&&Array.isArray(x.sessions)&&(u=[...u,...x.sessions])}),u.sort((p,x)=>new Date(x.date)-new Date(p.date)),r(u)}catch(c){console.error("Error fetching history:",c)}finally{a(!1)}};return t?y.jsxs(Ba,{children:[y.jsx(xn.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:y.jsxs(xn.div,{className:"modal-content glass profile-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:[y.jsx("button",{className:"close-btn",onClick:e,children:y.jsx(uc,{size:20})}),y.jsxs("div",{className:"profile-header",children:[y.jsx("div",{className:"profile-avatar",children:t.name[0]}),y.jsxs("div",{className:"profile-info",children:[y.jsx("h2",{children:t.name}),y.jsx("span",{className:`course-badge ${t.course?.toLowerCase()||"beginner"}`,children:t.course||"Beginner"})]})]}),y.jsxs("div",{className:"profile-stats",children:[y.jsxs("div",{className:"p-stat",children:[y.jsx("label",{children:"Total Classes"}),y.jsx("span",{children:n.length})]}),y.jsxs("div",{className:"p-stat",children:[y.jsx("label",{children:"First Class"}),y.jsx("span",{children:n.length>0?Tt(new Date(n[n.length-1].date),"dd MMM yyyy"):"-"})]}),y.jsxs("div",{className:"p-stat",children:[y.jsx("label",{children:"Latest Class"}),y.jsx("span",{children:n.length>0?Tt(new Date(n[0].date),"dd MMM yyyy"):"-"})]})]}),y.jsxs("div",{className:"timeline-section scroller",children:[y.jsxs("h3",{children:[y.jsx(Dp,{size:18})," Learning Journey"]}),i?y.jsx("p",{className:"loading-text",children:"Loading history..."}):n.length>0?y.jsx("div",{className:"timeline",children:n.map((c,d)=>y.jsxs("div",{className:"timeline-item",children:[y.jsx("div",{className:"t-line"}),y.jsx("div",{className:"t-dot"}),y.jsxs("div",{className:"t-content",children:[y.jsx("span",{className:"t-date",children:Tt(new Date(c.date),"EEE, dd MMM yyyy")}),y.jsx("h4",{className:"t-topic",children:c.topic||"Class Session"}),y.jsx("div",{className:"t-meta",children:y.jsxs("span",{children:[y.jsx(nC,{size:12})," ",c.location||"MAKER WORKS"]})})]})]},d))}):y.jsxs("div",{className:"empty-history",children:[y.jsx(H3,{size:40}),y.jsx("p",{children:"No classes recorded yet."})]})]})]})}),y.jsx("style",{jsx:"true",children:`
                .modal-overlay {
                    position: fixed;
                    top: 0; left: 0; right: 0; bottom: 0;
                    background: rgba(0,0,0,0.4);
                    backdrop-filter: blur(4px);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    z-index: 1000;
                    padding: 20px;
                }

                .profile-modal {
                    background: white;
                    width: 100%;
                    max-width: 500px;
                    max-height: 85vh;
                    border-radius: 20px;
                    display: flex;
                    flex-direction: column;
                    overflow: hidden;
                    position: relative;
                }

                .close-btn {
                    position: absolute;
                    top: 15px;
                    right: 15px;
                    z-index: 10;
                    width: 32px; height: 32px;
                    border-radius: 50%;
                    background: #f1f5f9;
                    border: none;
                    display: flex; align-items: center; justify-content: center;
                    cursor: pointer;
                }

                .profile-header {
                    padding: 30px 24px 20px;
                    display: flex;
                    align-items: center;
                    gap: 15px;
                    border-bottom: 1px solid var(--border-color);
                }

                .profile-avatar {
                    width: 64px; height: 64px;
                    border-radius: 16px;
                    background: var(--primary);
                    color: white;
                    font-size: 1.8rem;
                    font-weight: 700;
                    display: flex; align-items: center; justify-content: center;
                }

                .profile-info h2 { margin: 0 0 5px; font-size: 1.4rem; font-weight: 800; }
                
                .course-badge {
                    padding: 4px 10px;
                    border-radius: 12px;
                    font-size: 0.75rem;
                    font-weight: 700;
                    text-transform: uppercase;
                    display: inline-block;
                }
                .course-badge.beginner { background: #dcfce7; color: #15803d; }
                .course-badge.intermediate { background: #fef3c7; color: #92400e; }
                .course-badge.advanced { background: #fee2e2; color: #991b1b; }

                .profile-stats {
                    display: grid;
                    grid-template-columns: 1fr 1fr 1fr;
                    padding: 15px 24px;
                    background: #f8fafc;
                    border-bottom: 1px solid var(--border-color);
                }

                .p-stat { text-align: center; }
                .p-stat label { display: block; font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; font-weight: 600; margin-bottom: 4px; }
                .p-stat span { font-size: 1rem; font-weight: 700; color: var(--text-main); }

                .timeline-section {
                    padding: 24px;
                    overflow-y: auto;
                    flex: 1;
                }

                .timeline-section h3 {
                    font-size: 0.95rem; font-weight: 700; color: var(--text-muted);
                    display: flex; align-items: center; gap: 8px;
                    margin: 0 0 20px;
                }

                .timeline {
                    display: flex;
                    flex-direction: column;
                    gap: 0;
                }

                .timeline-item {
                    display: flex;
                    gap: 15px;
                    position: relative;
                    padding-bottom: 25px;
                }
                
                .timeline-item:last-child { padding-bottom: 0; }

                .t-line {
                    position: absolute;
                    left: 7px;
                    top: 20px;
                    bottom: 0;
                    width: 2px;
                    background: #e2e8f0;
                }
                
                .timeline-item:last-child .t-line { display: none; }

                .t-dot {
                    width: 16px; height: 16px;
                    border-radius: 50%;
                    background: white;
                    border: 3px solid var(--primary);
                    flex-shrink: 0;
                    margin-top: 4px;
                    z-index: 2;
                }

                .t-content { flex: 1; }

                .t-date { font-size: 0.75rem; color: var(--text-muted); font-weight: 600; }
                
                .t-topic { 
                    margin: 4px 0; 
                    font-size: 1rem; 
                    font-weight: 600; 
                    color: var(--text-main); 
                }

                .t-meta { display: flex; align-items: center; gap: 10px; font-size: 0.8rem; color: var(--text-muted); }
                
                .empty-history {
                    display: flex; flex-direction: column; align-items: center; justify-content: center;
                    color: var(--text-muted); gap: 10px; padding: 40px 0;
                }

                .loading-text { text-align: center; color: var(--text-muted); margin-top: 20px; }
            `})]}):null},w8e=()=>{const[t,e]=R.useState([]),[n,r]=R.useState({}),[i,a]=R.useState(!1),[s,c]=R.useState(null),[d,u]=R.useState(""),[p,x]=R.useState(!0),[w,A]=R.useState(!1),[N,S]=R.useState(null),[I,j]=R.useState(null),[D,P]=R.useState({name:"",parentName:"",email:"",phone:"",course:"",photo:"",address:""});R.useEffect(()=>{(async()=>{x(!0);try{const G=await xs(er(Gt,"settings","business"));if(G.exists()&&G.data().pricing){const Ce=G.data().pricing;r(Ce),Object.keys(Ce).length>0&&P(re=>({...re,course:Object.keys(Ce)[0]}))}const q=await Zr(wr(Gt,"students"));e(q.docs.map(Ce=>({id:Ce.id,...Ce.data()})))}catch(G){console.error(G)}finally{x(!1)}})()},[]);const V=async()=>{try{const H=await Zr(wr(Gt,"students"));e(H.docs.map(G=>({id:G.id,...G.data()})))}catch(H){console.error(H)}},K=async H=>{H.preventDefault(),A(!0);try{const G={...D,feePerClass:n[D.course]||0};s?await JT(er(Gt,"students",s.id),G):await Gb(wr(Gt,"students"),G),await V(),U()}catch(G){console.error(G)}finally{A(!1)}},Z=async H=>{if(window.confirm("Delete this student?"))try{await Wb(er(Gt,"students",H)),await V()}catch(G){console.error(G)}},F=(H=null)=>{if(c(H),H)P(H);else{const G=Object.keys(n)[0]||"";P({name:"",parentName:"",email:"",phone:"",course:G,photo:"",address:""})}a(!0)},U=()=>{a(!1),c(null)},B=H=>{const G=H.target.files[0];if(G){if(G.size>5e5){alert("Image too large. Please use an image under 500KB.");return}const q=new FileReader;q.onloadend=()=>{P({...D,photo:q.result})},q.readAsDataURL(G)}},J=t.filter(H=>H.name?.toLowerCase().includes(d.toLowerCase())||H.parentName?.toLowerCase().includes(d.toLowerCase()));return y.jsxs("div",{className:"students-page",children:[y.jsxs("div",{className:"page-header glass card",children:[y.jsxs("div",{className:"title-group",children:[y.jsx("h3",{children:"Students"}),y.jsxs("p",{children:[t.length," enrolled students"]})]}),y.jsxs("div",{className:"header-actions",children:[y.jsxs("div",{className:"search-box",children:[y.jsx(mg,{size:18}),y.jsx("input",{type:"text",placeholder:"Search students...",value:d,onChange:H=>u(H.target.value)})]}),y.jsx("button",{className:"sync-btn",onClick:V,children:y.jsx(td,{size:18,className:p?"animate-spin":""})}),y.jsxs("button",{className:"btn-primary",onClick:()=>F(),children:[y.jsx(du,{size:18})," Add Student"]})]})]}),y.jsx("div",{className:"students-grid",children:p?y.jsxs(y.Fragment,{children:[y.jsx(Mh,{}),y.jsx(Vy,{}),y.jsx(Vy,{}),y.jsx(Vy,{}),y.jsx(Vy,{})]}):J.length>0?J.map(H=>y.jsxs(xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5},className:"glass card student-card",children:[y.jsxs("div",{className:"card-actions",children:[y.jsx("button",{onClick:()=>j(H),className:"view-btn",title:"View Profile",children:y.jsx(lp,{size:14})}),y.jsx("button",{onClick:()=>S(H),className:"schedule-btn",title:"Recurring Schedule",children:y.jsx(Bs,{size:14})}),y.jsx("button",{onClick:()=>F(H),className:"edit-btn",title:"Edit",children:y.jsx(Cue,{size:14})}),y.jsx("button",{onClick:()=>Z(H.id),className:"delete-btn",title:"Delete",children:y.jsx(cc,{size:14})})]}),y.jsx("div",{className:"student-photo",onClick:()=>j(H),style:{cursor:"pointer"},children:H.photo?y.jsx("img",{src:H.photo,alt:H.name}):y.jsx("span",{children:H.name?.[0]})}),y.jsx("h4",{onClick:()=>j(H),style:{cursor:"pointer"},children:H.name}),y.jsxs("div",{className:"badge-group",children:[y.jsxs("span",{className:`course-badge ${H.course?.toLowerCase()}`,children:[y.jsx(nue,{size:12}),H.course||"Beginner"]}),y.jsxs("span",{className:"fee-badge",children:["",n[H.course]||0,"/class"]})]}),y.jsxs("div",{className:"student-details",children:[y.jsxs("p",{children:[y.jsx(iC,{size:14})," ",H.parentName]}),y.jsxs("p",{children:[y.jsx(G3,{size:14})," ",H.phone]}),y.jsxs("p",{children:[y.jsx(W3,{size:14})," ",H.email]})]}),y.jsx("button",{className:"whatsapp-quick",onClick:()=>{const G=H.phone?.replace(/\D/g,"");window.open(`https://wa.me/91${G}`,"_blank")},children:" WhatsApp"})]},H.id)):y.jsxs("div",{className:"empty-state",children:[y.jsx(iC,{size:48}),y.jsx("h4",{children:"No Students Found"}),y.jsx("p",{children:d?"No matching students":"Add your first student"}),!d&&y.jsxs("button",{className:"btn-primary",onClick:()=>F(),children:[y.jsx(du,{size:18})," Add Student"]})]})}),y.jsx(Ba,{children:i&&y.jsx("div",{className:"modal-overlay",children:y.jsxs(xn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"glass modal-card",children:[y.jsxs("div",{className:"modal-header",children:[y.jsx("h3",{children:s?"Edit Student":"Add New Student"}),y.jsx("button",{className:"close-btn",onClick:U,children:y.jsx(uc,{size:20})})]}),y.jsxs("form",{onSubmit:K,className:"student-form",children:[y.jsxs("div",{className:"photo-upload-section",children:[y.jsx("div",{className:"photo-preview",children:D.photo?y.jsx("img",{src:D.photo,alt:"Student"}):y.jsx(Zz,{size:32})}),y.jsxs("label",{className:"upload-btn",children:[y.jsx(oV,{size:16}),D.photo?"Change Photo":"Upload Photo",y.jsx("input",{type:"file",accept:"image/*",onChange:B,style:{display:"none"}})]}),D.photo&&y.jsx("button",{type:"button",className:"remove-photo",onClick:()=>P({...D,photo:""}),children:"Remove"})]}),y.jsxs("div",{className:"form-grid",children:[y.jsxs("div",{className:"f-group",children:[y.jsx("label",{children:"Student Name *"}),y.jsx("input",{type:"text",value:D.name,onChange:H=>P({...D,name:H.target.value}),required:!0,placeholder:"Enter student name"})]}),y.jsxs("div",{className:"f-group",children:[y.jsx("label",{children:"Parent Name *"}),y.jsx("input",{type:"text",value:D.parentName,onChange:H=>P({...D,parentName:H.target.value}),required:!0,placeholder:"Enter parent name"})]}),y.jsxs("div",{className:"f-group",children:[y.jsx("label",{children:"Phone *"}),y.jsx("input",{type:"tel",value:D.phone,onChange:H=>P({...D,phone:H.target.value}),required:!0,placeholder:"10-digit number"})]}),y.jsxs("div",{className:"f-group",children:[y.jsx("label",{children:"Email *"}),y.jsx("input",{type:"email",value:D.email,onChange:H=>P({...D,email:H.target.value}),required:!0,placeholder:"email@example.com"})]})]}),y.jsxs("div",{className:"f-group full-width",children:[y.jsx("label",{children:"Address"}),y.jsx("textarea",{value:D.address||"",onChange:H=>P({...D,address:H.target.value}),placeholder:"Enter full address",rows:2,style:{resize:"vertical"}})]}),y.jsxs("div",{className:"f-group full-width",children:[y.jsx("label",{children:"Course Level *"}),y.jsx("div",{className:"course-selector",children:Object.entries(n).map(([H,G])=>y.jsxs("button",{type:"button",className:`course-option ${D.course===H?"active":""}`,onClick:()=>P({...D,course:H}),children:[y.jsx("span",{className:"level-name",children:H}),y.jsxs("span",{className:"level-price",children:["",G,"/class"]})]},H))})]}),y.jsxs("div",{className:"modal-footer",children:[y.jsx("button",{type:"button",className:"cancel-btn",onClick:U,children:"Cancel"}),y.jsxs("button",{type:"submit",className:"btn-primary",disabled:w,children:[w?y.jsx(ns,{className:"animate-spin",size:18}):y.jsx(q3,{size:18}),y.jsx("span",{children:w?"Saving...":"Save Student"})]})]})]})]})})}),y.jsx(m8e,{isOpen:!!N,onClose:()=>S(null),studentId:N?.id,studentName:N?.name}),y.jsx(b8e,{student:I,onClose:()=>j(null)}),y.jsx("style",{jsx:"true",children:`
                .view-btn {
                    width: 32px;
                    height: 32px;
                    border-radius: 8px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    color: var(--text-main);
                    background: var(--bg-secondary);
                    transition: all 0.2s;
                }
                .view-btn:hover { background: var(--bg-hover); color: var(--primary); }

        .students-page { max-width: 1200px; margin: 0 auto; }

        .page-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 16px 24px;
          margin-bottom: 24px;
          background: var(--bg-card);
        }

        .title-group h3 { margin: 0; font-size: 1.25rem; font-weight: 700; }
        .title-group p { margin: 4px 0 0; font-size: 0.85rem; color: var(--text-muted); }

        .header-actions { display: flex; gap: 12px; align-items: center; }

        .search-box {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 10px 16px;
          background: var(--bg-secondary);
          border-radius: 10px;
          color: var(--text-muted);
        }

        .search-box input {
          border: none;
          background: none;
          outline: none;
          font-size: 0.9rem;
          width: 200px;
        }

        .sync-btn { padding: 10px; border-radius: 10px; background: #f1f5f9; color: var(--text-muted); }

        .students-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
          gap: 20px;
        }

        .loader-box {
          grid-column: 1 / -1;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 300px;
          gap: 16px;
          color: var(--text-muted);
        }

        .empty-state {
          grid-column: 1 / -1;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 300px;
          gap: 12px;
          color: var(--text-muted);
        }

        .empty-state h4 { margin: 0; color: var(--text-main); }

        .student-card {
          padding: 24px;
          background: var(--bg-card);
          text-align: center;
          position: relative;
        }

        .card-actions {
          position: absolute;
          top: 12px;
          right: 12px;
          display: flex;
          gap: 6px;
        }

        .edit-btn, .delete-btn, .schedule-btn {
          width: 28px;
          height: 28px;
          border-radius: 6px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .schedule-btn { background: #fdf4ff; color: #a855f7; }
        .edit-btn { background: #f0f4ff; color: var(--primary); }
        .delete-btn { background: #fef2f2; color: var(--danger); }

        .student-photo {
          width: 80px;
          height: 80px;
          margin: 0 auto 16px;
          border-radius: 50%;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 2rem;
          font-weight: 700;
          overflow: hidden;
        }

        .student-photo img { width: 100%; height: 100%; object-fit: cover; }

        .student-card h4 { margin: 0 0 10px; font-size: 1.1rem; }

        .badge-group { display: flex; justify-content: center; gap: 8px; margin-bottom: 15px; flex-wrap: wrap; }

        .course-badge {
          display: flex;
          align-items: center;
          gap: 4px;
          font-size: 0.7rem;
          font-weight: 700;
          padding: 4px 10px;
          border-radius: 20px;
        }

        .course-badge.beginner { background: #ecfdf5; color: #10b981; }
        .course-badge.intermediate { background: #fef3c7; color: #f59e0b; }
        .course-badge.advanced { background: #fef2f2; color: #ef4444; }

        .fee-badge {
          font-size: 0.7rem;
          font-weight: 700;
          padding: 4px 10px;
          border-radius: 20px;
          background: #f0f4ff;
          color: var(--primary);
        }

        .student-details {
          text-align: left;
          padding: 15px;
          background: #f8fafc;
          border-radius: 10px;
          margin-bottom: 15px;
        }

        .student-details p {
          display: flex;
          align-items: center;
          gap: 8px;
          margin: 8px 0;
          font-size: 0.85rem;
          color: var(--text-muted);
        }

        .whatsapp-quick {
          width: 100%;
          padding: 10px;
          background: #dcfce7;
          color: #15803d;
          border-radius: 10px;
          font-weight: 700;
          font-size: 0.85rem;
        }

        .whatsapp-quick:hover { background: #25D366; color: white; }

        /* Modal */
        .modal-overlay {
          position: fixed;
          top: 0; left: 0; right: 0; bottom: 0;
          background: rgba(15, 23, 42, 0.5);
          backdrop-filter: blur(8px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }

        .modal-card {
          width: 100%;
          max-width: 550px;
          padding: 30px;
          background: white;
          max-height: 90vh;
          overflow-y: auto;
        }

        .modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 25px;
        }

        .modal-header h3 { margin: 0; font-size: 1.2rem; font-weight: 700; }
        .close-btn { background: none; color: var(--text-muted); }

        /* Photo Upload */
        .photo-upload-section {
          display: flex;
          align-items: center;
          gap: 20px;
          margin-bottom: 25px;
          padding: 20px;
          background: #f8fafc;
          border-radius: 12px;
        }

        .photo-preview {
          width: 80px;
          height: 80px;
          border-radius: 50%;
          background: #f0f4ff;
          color: var(--primary);
          display: flex;
          align-items: center;
          justify-content: center;
          overflow: hidden;
          flex-shrink: 0;
        }

        .photo-preview img { width: 100%; height: 100%; object-fit: cover; }

        .upload-btn {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 10px 18px;
          background: var(--primary);
          color: white;
          border-radius: 8px;
          font-weight: 700;
          font-size: 0.85rem;
          cursor: pointer;
        }

        .remove-photo {
          padding: 8px 14px;
          background: none;
          color: var(--danger);
          font-weight: 600;
          font-size: 0.85rem;
        }

        .form-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
          margin-bottom: 20px;
        }

        .f-group label {
          display: block;
          font-size: 0.85rem;
          font-weight: 600;
          color: var(--text-muted);
          margin-bottom: 8px;
        }

        .f-group input {
          width: 100%;
          padding: 12px 14px;
          border: 1px solid var(--border-color);
          border-radius: 10px;
          font-size: 0.95rem;
        }

        .f-group.full-width { grid-column: span 2; }

        .course-selector { display: flex; gap: 10px; }

        .course-option {
          flex: 1;
          padding: 15px;
          border: 2px solid var(--border-color);
          border-radius: 12px;
          background: white;
          text-align: center;
          transition: all 0.2s;
        }

        .course-option:hover { border-color: var(--primary); }

        .course-option.active {
          border-color: var(--primary);
          background: #f0f4ff;
        }

        .level-name { display: block; font-weight: 700; margin-bottom: 4px; }
        .level-price { font-size: 0.8rem; color: var(--text-muted); }
        .course-option.active .level-price { color: var(--primary); }

        .modal-footer {
          display: flex;
          justify-content: flex-end;
          gap: 15px;
          margin-top: 25px;
          padding-top: 20px;
          border-top: 1px solid var(--border-color);
        }

        .cancel-btn { background: none; color: var(--text-muted); font-weight: 600; padding: 10px 20px; }

        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        @media (max-width: 600px) {
          .form-grid { grid-template-columns: 1fr; }
          .f-group.full-width { grid-column: span 1; }
          .course-selector { flex-direction: column; }
        }
      `})]})},E8e={Beginner:999,Intermediate:1499,Advanced:1499},$m="MAKER WORKS",U7=["Micro Bit Intro","Micro Bit","Arduino Intro","Arduino","Sensors","Motors","LEDs & Display","Coding","Robotics","Project Work","3D Printing","Electronics"],_8e=()=>{const[t,e]=R.useState(new Date),[n,r]=R.useState([]),[i,a]=R.useState({}),[s,c]=R.useState(!0),[d,u]=R.useState(!1),[p,x]=R.useState(null),[w,A]=R.useState(null),[N,S]=R.useState(null),[I,j]=R.useState(null),[D,P]=R.useState({date:Tt(new Date,"yyyy-MM-dd"),location:$m,topic:""}),V=Tt(t,"MM"),K=Tt(t,"yyyy"),Z=Tt(t,"MMMM yyyy"),F=Tt(new Date,"yyyy-MM-dd");R.useEffect(()=>{U()},[t]);const U=async()=>{c(!0);try{const Re=(await Zr(wr(Gt,"students"))).docs.map(Q=>({id:Q.id,...Q.data()}));r(Re);const Be=await Zr(kp(wr(Gt,"monthly_attendance"),ZT("month","==",V),ZT("year","==",K))),be={};Be.forEach(Q=>{const ee=Q.data();be[ee.studentId]={sessions:ee.sessions||[],classCount:ee.classCount||0}}),a(be)}catch(me){console.error(me)}finally{c(!1)}},B=(me,Re)=>{J(me,{date:F,location:$m,topic:Re}),j(null)},J=(me,Re)=>{a(Be=>{const Q=[...(Be[me]||{sessions:[]}).sessions,Re].sort((ee,oe)=>new Date(ee.date)-new Date(oe.date));return{...Be,[me]:{sessions:Q,classCount:Q.length}}}),S(null),P({date:Tt(new Date,"yyyy-MM-dd"),location:$m,topic:""})},H=(me,Re)=>{a(Be=>{const Q=(Be[me]||{sessions:[]}).sessions.filter((ee,oe)=>oe!==Re);return{...Be,[me]:{sessions:Q,classCount:Q.length}}})},G=async()=>{u(!0),x(null);try{const me=n.map(Re=>{const Be=i[Re.id]||{sessions:[],classCount:0},be=`${Re.id}_${V}_${K}`;return _f(er(Gt,"monthly_attendance",be),{studentId:Re.id,month:V,year:K,sessions:Be.sessions,classCount:Be.classCount,updatedAt:new Date().toISOString()})});await Promise.all(me),x({type:"success",message:"Saved!"}),setTimeout(()=>x(null),3e3)}catch(me){console.error(me),x({type:"error",message:"Failed to save."})}finally{u(!1)}},q=me=>{A(w===me?null:me)},Ce=(me,Re)=>{S(me),j(null),P({date:Tt(new Date,"yyyy-MM-dd"),location:$m,topic:Re||""})},re=me=>{if(!D.topic.trim()){alert("Please enter what was taught");return}J(me,{...D})},ue=me=>{j(I===me?null:me),S(null)};return y.jsxs("div",{className:"attendance-simple",children:[y.jsxs("div",{className:"att-header glass card",children:[y.jsxs("div",{className:"month-switcher",children:[y.jsx("button",{onClick:()=>e(dc(t,1)),className:"nav-btn",children:""}),y.jsxs("div",{className:"month-display",children:[y.jsx(Bs,{size:18,className:"text-primary"}),y.jsx("span",{children:Z})]}),y.jsx("button",{onClick:()=>e(II(t,1)),className:"nav-btn",children:""})]}),y.jsxs("div",{className:"header-right",children:[y.jsx(Ba,{children:p&&y.jsxs(xn.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0},className:`status-chip ${p.type}`,children:[p.type==="success"?y.jsx(kce,{size:16}):y.jsx(tV,{size:16}),y.jsx("span",{children:p.message})]})}),y.jsx("button",{className:"sync-btn",onClick:U,children:y.jsx(td,{size:18,className:s?"animate-spin":""})}),y.jsxs("button",{className:"btn-primary",onClick:G,disabled:d||s,children:[d?y.jsx(ns,{className:"animate-spin",size:18}):y.jsx(q3,{size:18}),y.jsx("span",{children:d?"Saving...":"Save All"})]})]})]}),y.jsx("div",{className:"instructions",children:y.jsxs("p",{children:[" ",y.jsx("strong",{children:"+ Quick"})," = Pick topic from list | ",y.jsx("strong",{children:"+ Details"})," = Custom date, place & topic"]})}),y.jsx("div",{className:"glass card student-list-card",children:s?y.jsx(g8e,{}):n.length>0?y.jsx("div",{className:"student-rows",children:n.map(me=>{const Re=i[me.id]||{sessions:[],classCount:0},Be=E8e[me.course]||999,be=Re.classCount*Be,Q=w===me.id,ee=N===me.id,oe=I===me.id;return y.jsxs("div",{className:"student-block",children:[y.jsxs("div",{className:"student-row",children:[y.jsxs("div",{className:"st-info",children:[y.jsx("div",{className:"st-avatar",children:me.name?.[0]||"?"}),y.jsxs("div",{className:"st-details",children:[y.jsx("h4",{children:me.name}),y.jsxs("span",{className:`course-tag ${me.course?.toLowerCase()}`,children:[me.course||"Beginner","  ",Be,"/class"]})]})]}),y.jsxs("div",{className:"class-controls",children:[y.jsxs("button",{className:"add-quick-btn",onClick:()=>ue(me.id),children:[y.jsx(t6,{size:16})," Quick"]}),y.jsxs("button",{className:"add-details-btn",onClick:()=>Ce(me.id,me.course),children:[y.jsx(bce,{size:16})," Details"]}),y.jsxs("div",{className:"class-count-display",children:[y.jsx("span",{className:"count-num",children:Re.classCount}),y.jsx("span",{className:"count-label",children:"classes"})]})]}),y.jsxs("div",{className:"total-section",children:[y.jsx("label",{children:"Monthly"}),y.jsxs("p",{className:"total-amount",children:["",be.toLocaleString()]})]}),y.jsx("button",{className:"expand-btn",onClick:()=>q(me.id),children:Q?y.jsx(Nce,{size:18}):y.jsx(Sce,{size:18})})]}),y.jsx(Ba,{children:oe&&y.jsxs(xn.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"quick-pick-section",children:[y.jsxs("div",{className:"quick-pick-header",children:[y.jsx(t6,{size:14}),y.jsxs("span",{children:["Quick Add for Today (",Tt(new Date,"dd MMM"),") - Pick Topic:"]})]}),y.jsx("div",{className:"topic-grid",children:U7.map(se=>y.jsx("button",{className:"topic-btn",onClick:()=>B(me.id,se),children:se},se))}),y.jsx("div",{className:"quick-pick-footer",children:y.jsx("button",{className:"cancel-quick",onClick:()=>j(null),children:"Cancel"})})]})}),y.jsx(Ba,{children:ee&&y.jsxs(xn.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"add-session-form",children:[y.jsxs("div",{className:"form-grid",children:[y.jsxs("div",{className:"form-field",children:[y.jsxs("label",{children:[y.jsx(Bs,{size:14})," Date"]}),y.jsx("input",{type:"date",value:D.date,onChange:se=>P({...D,date:se.target.value})})]}),y.jsxs("div",{className:"form-field",children:[y.jsxs("label",{children:[y.jsx(nC,{size:14})," Location"]}),y.jsx("input",{type:"text",value:D.location,onChange:se=>P({...D,location:se.target.value}),placeholder:"e.g. MAKER WORKS"})]}),y.jsxs("div",{className:"form-field wide",children:[y.jsxs("label",{children:[y.jsx(H3,{size:14})," What was taught?"]}),y.jsx("input",{type:"text",value:D.topic,onChange:se=>P({...D,topic:se.target.value}),placeholder:"e.g. Micro Bit Introduction"})]})]}),y.jsxs("div",{className:"preset-row",children:[y.jsx("span",{children:"Quick pick:"}),U7.slice(0,6).map(se=>y.jsx("button",{className:"preset-chip",onClick:()=>P({...D,topic:se}),children:se},se))]}),y.jsxs("div",{className:"form-actions",children:[y.jsxs("button",{className:"save-session-btn",onClick:()=>re(me.id),children:[y.jsx(du,{size:16})," Add This Class"]}),y.jsx("button",{className:"cancel-btn",onClick:()=>S(null),children:"Cancel"})]})]})}),y.jsx(Ba,{children:Q&&y.jsxs(xn.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"sessions-section",children:[y.jsxs("div",{className:"sessions-header",children:[y.jsx(Dp,{size:14}),y.jsxs("span",{children:["Class History (",Re.sessions.length,")"]})]}),Re.sessions.length>0?y.jsx("div",{className:"sessions-list",children:Re.sessions.map((se,fe)=>y.jsxs("div",{className:"session-card",children:[y.jsxs("div",{className:"session-main",children:[y.jsx("div",{className:"session-topic",children:se.topic||"Class"}),y.jsxs("div",{className:"session-meta",children:[y.jsxs("span",{className:"meta-item",children:[y.jsx(Bs,{size:12}),Tt(new Date(se.date),"dd MMM yyyy (EEE)")]}),y.jsxs("span",{className:"meta-item",children:[y.jsx(nC,{size:12}),se.location||$m]})]})]}),y.jsx("button",{className:"remove-session",onClick:()=>H(me.id,fe),children:y.jsx(cc,{size:14})})]},fe))}):y.jsx("p",{className:"no-sessions",children:"No classes recorded yet"})]})})]},me.id)})}):y.jsx("div",{className:"empty-box",children:y.jsx("p",{children:"No students found. Add students first!"})})}),y.jsx("style",{jsx:"true",children:`
        .attendance-simple { max-width: 1000px; margin: 0 auto; }

        .att-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 16px 24px;
          margin-bottom: 20px;
          background: var(--bg-card);
        }

        .month-switcher {
          display: flex;
          align-items: center;
          gap: 15px;
          background: var(--bg-secondary);
          padding: 8px 15px;
          border-radius: 12px;
        }

        .nav-btn {
          width: 32px;
          height: 32px;
          border-radius: 8px;
          background: var(--bg-card);
          border: 1px solid var(--border-color);
          font-size: 0.8rem;
          color: var(--text-main);
        }

        .nav-btn:hover { background: var(--primary); color: white; }

        .month-display {
          display: flex;
          align-items: center;
          gap: 8px;
          font-weight: 700;
          min-width: 160px;
          justify-content: center;
        }

        .header-right { display: flex; align-items: center; gap: 15px; }

        .status-chip {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 8px 14px;
          border-radius: 8px;
          font-size: 0.85rem;
          font-weight: 600;
        }

        .status-chip.success { background: #ecfdf5; color: var(--success); }
        .status-chip.error { background: #fef2f2; color: var(--danger); }

        .sync-btn { padding: 10px; border-radius: 10px; background: #f1f5f9; color: var(--text-muted); }

        .instructions {
          background: #f0f9ff;
          border: 1px solid #bae6fd;
          padding: 12px 20px;
          border-radius: 12px;
          margin-bottom: 20px;
        }

        .instructions p { margin: 0; color: #0284c7; font-size: 0.9rem; }

        .student-list-card { padding: 0; background: var(--bg-card); }

        .loader-box, .empty-box {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 300px;
          color: var(--text-muted);
          gap: 16px;
        }

        .student-block { border-bottom: 1px solid var(--border-color); }
        .student-block:last-child { border-bottom: none; }

        .student-row {
          display: grid;
          grid-template-columns: 1fr auto auto 40px;
          align-items: center;
          gap: 20px;
          padding: 20px 24px;
        }

        .student-row:hover { background: #fafafa; }

        .st-info { display: flex; align-items: center; gap: 15px; }

        .st-avatar {
          width: 44px;
          height: 44px;
          background: var(--primary-light);
          color: var(--primary);
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 12px;
          font-weight: 700;
          font-size: 1.1rem;
        }

        .st-details h4 { margin: 0 0 4px; font-size: 1rem; font-weight: 700; }

        .course-tag { font-size: 0.75rem; font-weight: 700; padding: 2px 8px; border-radius: 4px; }
        .course-tag.beginner { background: #dcfce7; color: #15803d; }
        .course-tag.intermediate { background: #fef3c7; color: #92400e; }
        .course-tag.advanced { background: #fee2e2; color: #991b1b; }

        .class-controls { display: flex; align-items: center; gap: 10px; }

        .add-quick-btn, .add-details-btn {
          display: flex;
          align-items: center;
          gap: 5px;
          padding: 8px 12px;
          border-radius: 8px;
          font-weight: 700;
          font-size: 0.8rem;
          border: 1px solid;
        }

        .add-quick-btn { background: #fef3c7; color: #92400e; border-color: #fcd34d; }
        .add-quick-btn:hover { background: #f59e0b; color: white; }

        .add-details-btn { background: #faf5ff; color: #7c3aed; border-color: #c4b5fd; }
        .add-details-btn:hover { background: #7c3aed; color: white; }

        .class-count-display {
          text-align: center;
          background: #f8fafc;
          padding: 8px 16px;
          border-radius: 10px;
          min-width: 70px;
        }

        .count-num { display: block; font-size: 1.4rem; font-weight: 800; color: var(--primary); }
        .count-label { font-size: 0.65rem; color: var(--text-muted); text-transform: uppercase; }

        .total-section { text-align: right; min-width: 90px; }
        .total-section label { font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; }
        .total-amount { margin: 0; font-size: 1.1rem; font-weight: 800; color: var(--success); }

        .expand-btn {
          width: 36px;
          height: 36px;
          border-radius: 8px;
          background: #f8fafc;
          color: var(--text-muted);
          display: flex;
          align-items: center;
          justify-content: center;
          border: 1px solid var(--border-color);
        }

        /* Quick Topic Picker */
        .quick-pick-section {
          background: #fffbeb;
          border-top: 1px solid #fcd34d;
          padding: 20px 24px;
          overflow: hidden;
        }

        .quick-pick-header {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 0.85rem;
          font-weight: 700;
          color: #92400e;
          margin-bottom: 15px;
        }

        .topic-grid {
          display: flex;
          flex-wrap: wrap;
          gap: 10px;
        }

        .topic-btn {
          padding: 10px 18px;
          background: white;
          border: 2px solid #fcd34d;
          border-radius: 10px;
          font-weight: 700;
          font-size: 0.85rem;
          color: #92400e;
          transition: all 0.15s;
        }

        .topic-btn:hover {
          background: #f59e0b;
          border-color: #f59e0b;
          color: white;
          transform: scale(1.02);
        }

        .quick-pick-footer {
          margin-top: 15px;
          padding-top: 15px;
          border-top: 1px dashed #fcd34d;
        }

        .cancel-quick {
          padding: 8px 16px;
          background: none;
          color: #92400e;
          font-weight: 600;
        }

        /* Add Session Form */
        .add-session-form {
          background: #faf5ff;
          border-top: 1px solid #c4b5fd;
          padding: 20px 24px;
          overflow: hidden;
        }

        .form-grid {
          display: grid;
          grid-template-columns: 150px 200px 1fr;
          gap: 15px;
          margin-bottom: 15px;
        }

        .form-field label {
          display: flex;
          align-items: center;
          gap: 6px;
          font-size: 0.75rem;
          font-weight: 700;
          color: #6b21a8;
          margin-bottom: 6px;
        }

        .form-field input {
          width: 100%;
          padding: 10px 12px;
          border: 1px solid var(--border-color);
          border-radius: 8px;
          font-size: 0.9rem;
          background: var(--bg-card);
          color: var(--text-main);
        }

        .form-field.wide { grid-column: span 1; }

        .preset-row {
          display: flex;
          align-items: center;
          gap: 8px;
          margin-bottom: 15px;
          flex-wrap: wrap;
        }

        .preset-row span { font-size: 0.8rem; color: #6b21a8; font-weight: 600; }

        .preset-chip {
          padding: 5px 12px;
          background: white;
          border: 1px solid #c4b5fd;
          border-radius: 6px;
          font-size: 0.75rem;
          color: #7c3aed;
          font-weight: 600;
        }

        .preset-chip:hover { background: #7c3aed; color: white; }

        .form-actions { display: flex; gap: 10px; }

        .save-session-btn {
          display: flex;
          align-items: center;
          gap: 6px;
          padding: 10px 20px;
          background: #7c3aed;
          color: white;
          border-radius: 8px;
          font-weight: 700;
          font-size: 0.85rem;
        }

        .cancel-btn { padding: 10px 16px; background: none; color: #64748b; font-weight: 600; }

        /* Sessions List */
        .sessions-section {
          padding: 0 24px 20px;
          overflow: hidden;
        }

        .sessions-header {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 0.8rem;
          font-weight: 700;
          color: var(--text-muted);
          margin-bottom: 12px;
          padding-left: 60px;
        }

        .sessions-list {
          display: flex;
          flex-direction: column;
          gap: 10px;
          padding-left: 60px;
        }

        .session-card {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 12px 15px;
          background: #f8fafc;
          border: 1px solid var(--border-color);
          border-radius: 10px;
        }

        .session-topic { font-weight: 700; font-size: 0.95rem; color: var(--text-main); margin-bottom: 4px; }

        .session-meta { display: flex; gap: 15px; }

        .meta-item {
          display: flex;
          align-items: center;
          gap: 5px;
          font-size: 0.8rem;
          color: var(--text-muted);
        }

        .remove-session {
          width: 32px;
          height: 32px;
          border-radius: 8px;
          background: none;
          color: #94a3b8;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .remove-session:hover { color: var(--danger); background: #fef2f2; }

        .no-sessions { padding-left: 60px; color: var(--text-muted); font-size: 0.85rem; }

        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        @media (max-width: 900px) {
          .student-row { grid-template-columns: 1fr; gap: 15px; }
          .form-grid { grid-template-columns: 1fr 1fr; }
          .form-field.wide { grid-column: span 2; }
          .class-controls { flex-wrap: wrap; }
          .sessions-header, .sessions-list, .no-sessions { padding-left: 0; }
        }
      `})]})};var rb={};rb.version="0.18.5";var pK=1252,A8e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],mK=function(t){A8e.indexOf(t)!=-1&&(pK=t)};function S8e(){mK(1252)}var d1=function(t){mK(t)};function T8e(){d1(1200),S8e()}var Hy=function(e){return String.fromCharCode(e)},z7=function(e){return String.fromCharCode(e)},ib,Tf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function h1(t){for(var e="",n=0,r=0,i=0,a=0,s=0,c=0,d=0,u=0;u<t.length;)n=t.charCodeAt(u++),a=n>>2,r=t.charCodeAt(u++),s=(n&3)<<4|r>>4,i=t.charCodeAt(u++),c=(r&15)<<2|i>>6,d=i&63,isNaN(r)?c=d=64:isNaN(i)&&(d=64),e+=Tf.charAt(a)+Tf.charAt(s)+Tf.charAt(c)+Tf.charAt(d);return e}function wu(t){var e="",n=0,r=0,i=0,a=0,s=0,c=0,d=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)a=Tf.indexOf(t.charAt(u++)),s=Tf.indexOf(t.charAt(u++)),n=a<<2|s>>4,e+=String.fromCharCode(n),c=Tf.indexOf(t.charAt(u++)),r=(s&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(r)),d=Tf.indexOf(t.charAt(u++)),i=(c&3)<<6|d,d!==64&&(e+=String.fromCharCode(i));return e}var Jn=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Ru=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function mh(t){return Jn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function V7(t){return Jn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var vl=function(e){return Jn?Ru(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function Xw(t){if(typeof ArrayBuffer>"u")return vl(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function rx(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function C8e(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var La=Jn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ru(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function I8e(t){for(var e=[],n=0,r=t.length+250,i=mh(t.length+255),a=0;a<t.length;++a){var s=t.charCodeAt(a);if(s<128)i[n++]=s;else if(s<2048)i[n++]=192|s>>6&31,i[n++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var c=t.charCodeAt(++a)&1023;i[n++]=240|s>>8&7,i[n++]=128|s>>2&63,i[n++]=128|c>>6&15|(s&3)<<4,i[n++]=128|c&63}else i[n++]=224|s>>12&15,i[n++]=128|s>>6&63,i[n++]=128|s&63;n>r&&(e.push(i.slice(0,n)),n=0,i=mh(65535),r=65530)}return e.push(i.slice(0,n)),La(e)}var wg=/\u0000/g,Wy=/[\u0001-\u0006]/g;function Z0(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function wl(t,e){var n=""+t;return n.length>=e?n:_i("0",e-n.length)+n}function TO(t,e){var n=""+t;return n.length>=e?n:_i(" ",e-n.length)+n}function ab(t,e){var n=""+t;return n.length>=e?n:n+_i(" ",e-n.length)}function N8e(t,e){var n=""+Math.round(t);return n.length>=e?n:_i("0",e-n.length)+n}function O8e(t,e){var n=""+t;return n.length>=e?n:_i("0",e-n.length)+n}var H7=Math.pow(2,32);function x0(t,e){if(t>H7||t<-H7)return N8e(t,e);var n=Math.round(t);return O8e(n,e)}function sb(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var W7=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],pT=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function M8e(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Ai={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},G7={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},R8e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function ob(t,e,n){for(var r=t<0?-1:1,i=t*r,a=0,s=1,c=0,d=1,u=0,p=0,x=Math.floor(i);u<e&&(x=Math.floor(i),c=x*s+a,p=x*u+d,!(i-x<5e-8));)i=1/(i-x),a=s,s=c,d=u,u=p;if(p>e&&(u>e?(p=d,c=a):(p=u,c=s)),!n)return[0,r*c,p];var w=Math.floor(r*c/p);return[w,r*c-w*p,p]}function Gy(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),a=0,s=[],c={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(r+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++r,++c.D)),r===60)s=n?[1317,10,29]:[1900,2,29],a=3;else if(r===0)s=n?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var d=new Date(1900,0,1);d.setDate(d.getDate()+r-1),s=[d.getFullYear(),d.getMonth()+1,d.getDate()],a=d.getDay(),r<60&&(a=(a+6)%7),n&&(a=B8e(d,s))}return c.y=s[0],c.m=s[1],c.d=s[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=a,c}var gK=new Date(1899,11,31,0,0,0),k8e=gK.getTime(),D8e=new Date(1900,2,1,0,0,0);function xK(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=D8e&&(n+=1440*60*1e3),(n-(k8e+(t.getTimezoneOffset()-gK.getTimezoneOffset())*6e4))/(1440*60*1e3)}function CO(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function P8e(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function j8e(t){var e=t<0?12:11,n=CO(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function L8e(t){var e=CO(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function F8e(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=j8e(t):e===10?n=t.toFixed(10).substr(0,12):n=L8e(t),CO(P8e(n.toUpperCase()))}function M4(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):F8e(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Kf(14,xK(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function B8e(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function U8e(t,e,n,r){var i="",a=0,s=0,c=n.y,d,u=0;switch(t){case 98:c=n.y+543;case 121:switch(e.length){case 1:case 2:d=c%100,u=2;break;default:d=c%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:d=n.m,u=e.length;break;case 3:return pT[n.m-1][1];case 5:return pT[n.m-1][0];default:return pT[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:d=n.d,u=e.length;break;case 3:return W7[n.q][0];default:return W7[n.q][1]}break;case 104:switch(e.length){case 1:case 2:d=1+(n.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:d=n.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:d=n.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?wl(n.S,e.length):(r>=2?s=r===3?1e3:100:s=r===1?10:1,a=Math.round(s*(n.S+n.u)),a>=60*s&&(a=0),e==="s"?a===0?"0":""+a/s:(i=wl(a,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":d=n.D*24+n.H;break;case"[m]":case"[mm]":d=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":d=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:d=c,u=1;break}var p=u>0?wl(d,u):"";return p}function Cf(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var yK=/%/g;function z8e(t,e,n){var r=e.replace(yK,""),i=e.length-r.length;return iu(t,r,n*Math.pow(10,2*i))+_i("%",i)}function V8e(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return iu(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function vK(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+vK(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),n=(e/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),n.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+a):n+="E+"+(s-a);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,u,p){return d+u+p.substr(0,(i+a)%i)+"."+p.substr(a)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var bK=/# (\?+)( ?)\/( ?)(\d+)/;function H8e(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),a=Math.floor(i/r),s=i-a*r,c=r;return n+(a===0?"":""+a)+" "+(s===0?_i(" ",t[1].length+1+t[4].length):TO(s,t[1].length)+t[2]+"/"+t[3]+wl(c,t[4].length))}function W8e(t,e,n){return n+(e===0?"":""+e)+_i(" ",t[1].length+2+t[4].length)}var wK=/^#*0*\.([0#]+)/,EK=/\).*[0#]/,_K=/\(###\) ###\\?-####/;function ps(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function q7(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function Y7(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function G8e(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function q8e(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function zo(t,e,n){if(t.charCodeAt(0)===40&&!e.match(EK)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?zo("n",r,n):"("+zo("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return V8e(t,e,n);if(e.indexOf("%")!==-1)return z8e(t,e,n);if(e.indexOf("E")!==-1)return vK(e,n);if(e.charCodeAt(0)===36)return"$"+zo(t,e.substr(e.charAt(1)==" "?2:1),n);var i,a,s,c,d=Math.abs(n),u=n<0?"-":"";if(e.match(/^00+$/))return u+x0(d,e.length);if(e.match(/^[#?]+$/))return i=x0(n,0),i==="0"&&(i=""),i.length>e.length?i:ps(e.substr(0,e.length-i.length))+i;if(a=e.match(bK))return H8e(a,d,u);if(e.match(/^#+0+$/))return u+x0(d,e.length-e.indexOf("0"));if(a=e.match(wK))return i=q7(n,a[1].length).replace(/^([^\.]+)$/,"$1."+ps(a[1])).replace(/\.$/,"."+ps(a[1])).replace(/\.(\d*)$/,function(N,S){return"."+S+_i("0",ps(a[1]).length-S.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return u+q7(d,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return u+Cf(x0(d,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+zo(t,e,-n):Cf(""+(Math.floor(n)+G8e(n,a[1].length)))+"."+wl(Y7(n,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return zo(t,e.replace(/^#,#*,/,""),n);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Z0(zo(t,e.replace(/[\\-]/g,""),n)),s=0,Z0(Z0(e.replace(/\\/g,"")).replace(/[0#]/g,function(N){return s<i.length?i.charAt(s++):N==="0"?"0":""}));if(e.match(_K))return i=zo(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),c=ob(d,Math.pow(10,s)-1,!1),i=""+u,p=iu("n",a[1],c[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+a[2]+"/"+a[3],p=ab(c[2],s),p.length<a[4].length&&(p=ps(a[4].substr(a[4].length-p.length))+p),i+=p,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),c=ob(d,Math.pow(10,s)-1,!0),u+(c[0]||(c[1]?"":"0"))+" "+(c[1]?TO(c[1],s)+a[2]+"/"+a[3]+ab(c[2],s):_i(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=x0(n,0),e.length<=i.length?i:ps(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var x=e.indexOf(".")-s,w=e.length-i.length-x;return ps(e.substr(0,x)+i+e.substr(e.length-w))}if(a=e.match(/^00,000\.([#0]*0)$/))return s=Y7(n,a[1].length),n<0?"-"+zo(t,e,-n):Cf(q8e(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(N){return"00,"+(N.length<3?wl(0,3-N.length):"")+N})+"."+wl(s,a[1].length);switch(e){case"###,##0.00":return zo(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var A=Cf(x0(d,0));return A!=="0"?u+A:"";case"###,###.00":return zo(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return zo(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function Y8e(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return iu(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function $8e(t,e,n){var r=e.replace(yK,""),i=e.length-r.length;return iu(t,r,n*Math.pow(10,2*i))+_i("%",i)}function AK(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+AK(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),n=(e/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),!n.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+a):n+="E+"+(s-a),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,u,p){return d+u+p.substr(0,(i+a)%i)+"."+p.substr(a)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Gl(t,e,n){if(t.charCodeAt(0)===40&&!e.match(EK)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Gl("n",r,n):"("+Gl("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return Y8e(t,e,n);if(e.indexOf("%")!==-1)return $8e(t,e,n);if(e.indexOf("E")!==-1)return AK(e,n);if(e.charCodeAt(0)===36)return"$"+Gl(t,e.substr(e.charAt(1)==" "?2:1),n);var i,a,s,c,d=Math.abs(n),u=n<0?"-":"";if(e.match(/^00+$/))return u+wl(d,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:ps(e.substr(0,e.length-i.length))+i;if(a=e.match(bK))return W8e(a,d,u);if(e.match(/^#+0+$/))return u+wl(d,e.length-e.indexOf("0"));if(a=e.match(wK))return i=(""+n).replace(/^([^\.]+)$/,"$1."+ps(a[1])).replace(/\.$/,"."+ps(a[1])),i=i.replace(/\.(\d*)$/,function(N,S){return"."+S+_i("0",ps(a[1]).length-S.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return u+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return u+Cf(""+d);if(a=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Gl(t,e,-n):Cf(""+n)+"."+_i("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Gl(t,e.replace(/^#,#*,/,""),n);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Z0(Gl(t,e.replace(/[\\-]/g,""),n)),s=0,Z0(Z0(e.replace(/\\/g,"")).replace(/[0#]/g,function(N){return s<i.length?i.charAt(s++):N==="0"?"0":""}));if(e.match(_K))return i=Gl(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),c=ob(d,Math.pow(10,s)-1,!1),i=""+u,p=iu("n",a[1],c[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+a[2]+"/"+a[3],p=ab(c[2],s),p.length<a[4].length&&(p=ps(a[4].substr(a[4].length-p.length))+p),i+=p,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),c=ob(d,Math.pow(10,s)-1,!0),u+(c[0]||(c[1]?"":"0"))+" "+(c[1]?TO(c[1],s)+a[2]+"/"+a[3]+ab(c[2],s):_i(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:ps(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var x=e.indexOf(".")-s,w=e.length-i.length-x;return ps(e.substr(0,x)+i+e.substr(e.length-w))}if(a=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Gl(t,e,-n):Cf(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(N){return"00,"+(N.length<3?wl(0,3-N.length):"")+N})+"."+wl(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var A=Cf(""+d);return A!=="0"?u+A:"";default:if(e.match(/\.[0#?]*$/))return Gl(t,e.slice(0,e.lastIndexOf(".")),n)+ps(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function iu(t,e,n){return(n|0)===n?Gl(t,e,n):zo(t,e,n)}function K8e(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var SK=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function TK(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":sb(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(SK))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function X8e(t,e,n,r){for(var i=[],a="",s=0,c="",d="t",u,p,x,w="H";s<t.length;)switch(c=t.charAt(s)){case"G":if(!sb(t,s))throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(x=t.charCodeAt(++s))!==34&&s<t.length;)a+=String.fromCharCode(x);i[i.length]={t:"t",v:a},++s;break;case"\\":var A=t.charAt(++s),N=A==="("||A===")"?A:"t";i[i.length]={t:N,v:A},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:e},++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2"){if(u==null&&(u=Gy(e,n,t.charAt(s+1)==="2"),u==null))return"";i[i.length]={t:"X",v:t.substr(s,2)},d=c,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=Gy(e,n),u==null))return"";for(a=c;++s<t.length&&t.charAt(s).toLowerCase()===c;)a+=c;c==="m"&&d.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=w),i[i.length]={t:c,v:a},d=c;break;case"A":case"a":case"":var S={t:c,v:c};if(u==null&&(u=Gy(e,n)),t.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(S.v=u.H>=12?"P":"A"),S.t="T",w="h",s+=3):t.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(S.v=u.H>=12?"PM":"AM"),S.t="T",s+=5,w="h"):t.substr(s,5).toUpperCase()==="/"?(u!=null&&(S.v=u.H>=12?"":""),S.t="T",s+=5,w="h"):(S.t="t",++s),u==null&&S.t==="T")return"";i[i.length]=S,d=c;break;case"[":for(a=c;t.charAt(s++)!=="]"&&s<t.length;)a+=t.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(SK)){if(u==null&&(u=Gy(e,n),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},d=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",TK(t)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=c;++s<t.length&&(c=t.charAt(s))==="0";)a+=c;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=c;++s<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(s))>-1;)a+=c;i[i.length]={t:"n",v:a};break;case"?":for(a=c;t.charAt(++s)===c;)a+=c;i[i.length]={t:c,v:a},d=c;break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:r===1?"t":c,v:c},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=c;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;)a+=t.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:c,v:c},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"t",v:c},++s;break}var I=0,j=0,D;for(s=i.length-1,d="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=w,d="h",I<1&&(I=1);break;case"s":(D=i[s].v.match(/\.0+$/))&&(j=Math.max(j,D[0].length-1)),I<3&&(I=3);case"d":case"y":case"M":case"e":d=i[s].t;break;case"m":d==="s"&&(i[s].t="M",I<2&&(I=2));break;case"X":break;case"Z":I<1&&i[s].v.match(/[Hh]/)&&(I=1),I<2&&i[s].v.match(/[Mm]/)&&(I=2),I<3&&i[s].v.match(/[Ss]/)&&(I=3)}switch(I){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var P="",V;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=U8e(i[s].t.charCodeAt(0),i[s].v,u,j),i[s].t="t";break;case"n":case"?":for(V=s+1;i[V]!=null&&((c=i[V].t)==="?"||c==="D"||(c===" "||c==="t")&&i[V+1]!=null&&(i[V+1].t==="?"||i[V+1].t==="t"&&i[V+1].v==="/")||i[s].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[V].v==="/"||i[V].v===" "&&i[V+1]!=null&&i[V+1].t=="?"));)i[s].v+=i[V].v,i[V]={v:"",t:";"},++V;P+=i[s].v,s=V-1;break;case"G":i[s].t="t",i[s].v=M4(e,n);break}var K="",Z,F;if(P.length>0){P.charCodeAt(0)==40?(Z=e<0&&P.charCodeAt(0)===45?-e:e,F=iu("n",P,Z)):(Z=e<0&&r>1?-e:e,F=iu("n",P,Z),Z<0&&i[0]&&i[0].t=="t"&&(F=F.substr(1),i[0].v="-"+i[0].v)),V=F.length-1;var U=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){U=s;break}var B=i.length;if(U===i.length&&F.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(V>=i[s].v.length-1?(V-=i[s].v.length,i[s].v=F.substr(V+1,i[s].v.length)):V<0?i[s].v="":(i[s].v=F.substr(0,V+1),V=-1),i[s].t="t",B=s);V>=0&&B<i.length&&(i[B].v=F.substr(0,V+1)+i[B].v)}else if(U!==i.length&&F.indexOf("E")===-1){for(V=F.indexOf(".")-1,s=U;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(p=i[s].v.indexOf(".")>-1&&s===U?i[s].v.indexOf(".")-1:i[s].v.length-1,K=i[s].v.substr(p+1);p>=0;--p)V>=0&&(i[s].v.charAt(p)==="0"||i[s].v.charAt(p)==="#")&&(K=F.charAt(V--)+K);i[s].v=K,i[s].t="t",B=s}for(V>=0&&B<i.length&&(i[B].v=F.substr(0,V+1)+i[B].v),V=F.indexOf(".")+1,s=U;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==U)){for(p=i[s].v.indexOf(".")>-1&&s===U?i[s].v.indexOf(".")+1:0,K=i[s].v.substr(0,p);p<i[s].v.length;++p)V<F.length&&(K+=F.charAt(V++));i[s].v=K,i[s].t="t",B=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(Z=r>1&&e<0&&s>0&&i[s-1].v==="-"?-e:e,i[s].v=iu(i[s].t,i[s].v,Z),i[s].t="t");var J="";for(s=0;s!==i.length;++s)i[s]!=null&&(J+=i[s].v);return J}var $7=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function K7(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function Q8e(t,e){var n=K8e(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var a=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,a];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var s=n[0].match($7),c=n[1].match($7);return K7(e,s)?[r,n[0]]:K7(e,c)?[r,n[1]]:[r,n[s!=null&&c!=null?2:1]]}return[r,a]}function Kf(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Ai)[t],r==null&&(r=n.table&&n.table[G7[t]]||Ai[G7[t]]),r==null&&(r=R8e[t]||"General");break}if(sb(r,0))return M4(e,n);e instanceof Date&&(e=xK(e,n.date1904));var i=Q8e(r,e);if(sb(i[1]))return M4(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return X8e(i[1],e,n,i[0])}function CK(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(Ai[n]==null){e<0&&(e=n);continue}if(Ai[n]==t){e=n;break}}e<0&&(e=391)}return Ai[e]=t,e}function Qw(t){for(var e=0;e!=392;++e)t[e]!==void 0&&CK(t[e],e)}function Zw(){Ai=M8e()}var IK=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Z8e(t){var e=typeof t=="number"?Ai[t]:t;return e=e.replace(IK,"(\\d+)"),new RegExp("^"+e+"$")}function J8e(t,e,n){var r=-1,i=-1,a=-1,s=-1,c=-1,d=-1;(e.match(IK)||[]).forEach(function(x,w){var A=parseInt(n[w+1],10);switch(x.toLowerCase().charAt(0)){case"y":r=A;break;case"d":a=A;break;case"h":s=A;break;case"s":d=A;break;case"m":s>=0?c=A:i=A;break}}),d>=0&&c==-1&&i>=0&&(c=i,i=-1);var u=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var p=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return s==-1&&c==-1&&d==-1?u:r==-1&&i==-1&&a==-1?p:u+"T"+p}var eRe=(function(){var t={};t.version="1.2.0";function e(){for(var F=0,U=new Array(256),B=0;B!=256;++B)F=B,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,U[B]=F;return typeof Int32Array<"u"?new Int32Array(U):U}var n=e();function r(F){var U=0,B=0,J=0,H=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(J=0;J!=256;++J)H[J]=F[J];for(J=0;J!=256;++J)for(B=F[J],U=256+J;U<4096;U+=256)B=H[U]=B>>>8^F[B&255];var G=[];for(J=1;J!=16;++J)G[J-1]=typeof Int32Array<"u"?H.subarray(J*256,J*256+256):H.slice(J*256,J*256+256);return G}var i=r(n),a=i[0],s=i[1],c=i[2],d=i[3],u=i[4],p=i[5],x=i[6],w=i[7],A=i[8],N=i[9],S=i[10],I=i[11],j=i[12],D=i[13],P=i[14];function V(F,U){for(var B=U^-1,J=0,H=F.length;J<H;)B=B>>>8^n[(B^F.charCodeAt(J++))&255];return~B}function K(F,U){for(var B=U^-1,J=F.length-15,H=0;H<J;)B=P[F[H++]^B&255]^D[F[H++]^B>>8&255]^j[F[H++]^B>>16&255]^I[F[H++]^B>>>24]^S[F[H++]]^N[F[H++]]^A[F[H++]]^w[F[H++]]^x[F[H++]]^p[F[H++]]^u[F[H++]]^d[F[H++]]^c[F[H++]]^s[F[H++]]^a[F[H++]]^n[F[H++]];for(J+=15;H<J;)B=B>>>8^n[(B^F[H++])&255];return~B}function Z(F,U){for(var B=U^-1,J=0,H=F.length,G=0,q=0;J<H;)G=F.charCodeAt(J++),G<128?B=B>>>8^n[(B^G)&255]:G<2048?(B=B>>>8^n[(B^(192|G>>6&31))&255],B=B>>>8^n[(B^(128|G&63))&255]):G>=55296&&G<57344?(G=(G&1023)+64,q=F.charCodeAt(J++)&1023,B=B>>>8^n[(B^(240|G>>8&7))&255],B=B>>>8^n[(B^(128|G>>2&63))&255],B=B>>>8^n[(B^(128|q>>6&15|(G&3)<<4))&255],B=B>>>8^n[(B^(128|q&63))&255]):(B=B>>>8^n[(B^(224|G>>12&15))&255],B=B>>>8^n[(B^(128|G>>6&63))&255],B=B>>>8^n[(B^(128|G&63))&255]);return~B}return t.table=n,t.bstr=V,t.buf=K,t.str=Z,t})(),br=(function(){var e={};e.version="1.2.1";function n(ie,ce){for(var de=ie.split("/"),pe=ce.split("/"),ge=0,we=0,Le=Math.min(de.length,pe.length);ge<Le;++ge){if(we=de[ge].length-pe[ge].length)return we;if(de[ge]!=pe[ge])return de[ge]<pe[ge]?-1:1}return de.length-pe.length}function r(ie){if(ie.charAt(ie.length-1)=="/")return ie.slice(0,-1).indexOf("/")===-1?ie:r(ie.slice(0,-1));var ce=ie.lastIndexOf("/");return ce===-1?ie:ie.slice(0,ce+1)}function i(ie){if(ie.charAt(ie.length-1)=="/")return i(ie.slice(0,-1));var ce=ie.lastIndexOf("/");return ce===-1?ie:ie.slice(ce+1)}function a(ie,ce){typeof ce=="string"&&(ce=new Date(ce));var de=ce.getHours();de=de<<6|ce.getMinutes(),de=de<<5|ce.getSeconds()>>>1,ie.write_shift(2,de);var pe=ce.getFullYear()-1980;pe=pe<<4|ce.getMonth()+1,pe=pe<<5|ce.getDate(),ie.write_shift(2,pe)}function s(ie){var ce=ie.read_shift(2)&65535,de=ie.read_shift(2)&65535,pe=new Date,ge=de&31;de>>>=5;var we=de&15;de>>>=4,pe.setMilliseconds(0),pe.setFullYear(de+1980),pe.setMonth(we-1),pe.setDate(ge);var Le=ce&31;ce>>>=5;var Ze=ce&63;return ce>>>=6,pe.setHours(ce),pe.setMinutes(Ze),pe.setSeconds(Le<<1),pe}function c(ie){uo(ie,0);for(var ce={},de=0;ie.l<=ie.length-4;){var pe=ie.read_shift(2),ge=ie.read_shift(2),we=ie.l+ge,Le={};pe===21589&&(de=ie.read_shift(1),de&1&&(Le.mtime=ie.read_shift(4)),ge>5&&(de&2&&(Le.atime=ie.read_shift(4)),de&4&&(Le.ctime=ie.read_shift(4))),Le.mtime&&(Le.mt=new Date(Le.mtime*1e3))),ie.l=we,ce[pe]=Le}return ce}var d;function u(){return d||(d={})}function p(ie,ce){if(ie[0]==80&&ie[1]==75)return hi(ie,ce);if((ie[0]|32)==109&&(ie[1]|32)==105)return Ha(ie,ce);if(ie.length<512)throw new Error("CFB file size "+ie.length+" < 512");var de=3,pe=512,ge=0,we=0,Le=0,Ze=0,Pe=0,We=[],Ve=ie.slice(0,512);uo(Ve,0);var ot=x(Ve);switch(de=ot[0],de){case 3:pe=512;break;case 4:pe=4096;break;case 0:if(ot[1]==0)return hi(ie,ce);default:throw new Error("Major Version: Expected 3 or 4 saw "+de)}pe!==512&&(Ve=ie.slice(0,pe),uo(Ve,28));var dt=ie.slice(0,pe);w(Ve,de);var ht=Ve.read_shift(4,"i");if(de===3&&ht!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ht);Ve.l+=4,Le=Ve.read_shift(4,"i"),Ve.l+=4,Ve.chk("00100000","Mini Stream Cutoff Size: "),Ze=Ve.read_shift(4,"i"),ge=Ve.read_shift(4,"i"),Pe=Ve.read_shift(4,"i"),we=Ve.read_shift(4,"i");for(var pt=-1,Et=0;Et<109&&(pt=Ve.read_shift(4,"i"),!(pt<0));++Et)We[Et]=pt;var kt=A(ie,pe);I(Pe,we,kt,pe,We);var Qe=D(kt,Le,We,pe);Qe[Le].name="!Directory",ge>0&&Ze!==q&&(Qe[Ze].name="!MiniFAT"),Qe[We[0]].name="!FAT",Qe.fat_addrs=We,Qe.ssz=pe;var Qn={},tn=[],ri=[],Ys=[];P(Le,Qe,kt,tn,ge,Qn,ri,Ze),N(ri,Ys,tn),tn.shift();var vn={FileIndex:ri,FullPaths:Ys};return ce&&ce.raw&&(vn.raw={header:dt,sectors:kt}),vn}function x(ie){if(ie[ie.l]==80&&ie[ie.l+1]==75)return[0,0];ie.chk(Ce,"Header Signature: "),ie.l+=16;var ce=ie.read_shift(2,"u");return[ie.read_shift(2,"u"),ce]}function w(ie,ce){var de=9;switch(ie.l+=2,de=ie.read_shift(2)){case 9:if(ce!=3)throw new Error("Sector Shift: Expected 9 saw "+de);break;case 12:if(ce!=4)throw new Error("Sector Shift: Expected 12 saw "+de);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+de)}ie.chk("0600","Mini Sector Shift: "),ie.chk("000000000000","Reserved: ")}function A(ie,ce){for(var de=Math.ceil(ie.length/ce)-1,pe=[],ge=1;ge<de;++ge)pe[ge-1]=ie.slice(ge*ce,(ge+1)*ce);return pe[de-1]=ie.slice(de*ce),pe}function N(ie,ce,de){for(var pe=0,ge=0,we=0,Le=0,Ze=0,Pe=de.length,We=[],Ve=[];pe<Pe;++pe)We[pe]=Ve[pe]=pe,ce[pe]=de[pe];for(;Ze<Ve.length;++Ze)pe=Ve[Ze],ge=ie[pe].L,we=ie[pe].R,Le=ie[pe].C,We[pe]===pe&&(ge!==-1&&We[ge]!==ge&&(We[pe]=We[ge]),we!==-1&&We[we]!==we&&(We[pe]=We[we])),Le!==-1&&(We[Le]=pe),ge!==-1&&pe!=We[pe]&&(We[ge]=We[pe],Ve.lastIndexOf(ge)<Ze&&Ve.push(ge)),we!==-1&&pe!=We[pe]&&(We[we]=We[pe],Ve.lastIndexOf(we)<Ze&&Ve.push(we));for(pe=1;pe<Pe;++pe)We[pe]===pe&&(we!==-1&&We[we]!==we?We[pe]=We[we]:ge!==-1&&We[ge]!==ge&&(We[pe]=We[ge]));for(pe=1;pe<Pe;++pe)if(ie[pe].type!==0){if(Ze=pe,Ze!=We[Ze])do Ze=We[Ze],ce[pe]=ce[Ze]+"/"+ce[pe];while(Ze!==0&&We[Ze]!==-1&&Ze!=We[Ze]);We[pe]=-1}for(ce[0]+="/",pe=1;pe<Pe;++pe)ie[pe].type!==2&&(ce[pe]+="/")}function S(ie,ce,de){for(var pe=ie.start,ge=ie.size,we=[],Le=pe;de&&ge>0&&Le>=0;)we.push(ce.slice(Le*G,Le*G+G)),ge-=G,Le=Pd(de,Le*4);return we.length===0?Je(0):La(we).slice(0,ie.size)}function I(ie,ce,de,pe,ge){var we=q;if(ie===q){if(ce!==0)throw new Error("DIFAT chain shorter than expected")}else if(ie!==-1){var Le=de[ie],Ze=(pe>>>2)-1;if(!Le)return;for(var Pe=0;Pe<Ze&&(we=Pd(Le,Pe*4))!==q;++Pe)ge.push(we);I(Pd(Le,pe-4),ce-1,de,pe,ge)}}function j(ie,ce,de,pe,ge){var we=[],Le=[];ge||(ge=[]);var Ze=pe-1,Pe=0,We=0;for(Pe=ce;Pe>=0;){ge[Pe]=!0,we[we.length]=Pe,Le.push(ie[Pe]);var Ve=de[Math.floor(Pe*4/pe)];if(We=Pe*4&Ze,pe<4+We)throw new Error("FAT boundary crossed: "+Pe+" 4 "+pe);if(!ie[Ve])break;Pe=Pd(ie[Ve],We)}return{nodes:we,data:rF([Le])}}function D(ie,ce,de,pe){var ge=ie.length,we=[],Le=[],Ze=[],Pe=[],We=pe-1,Ve=0,ot=0,dt=0,ht=0;for(Ve=0;Ve<ge;++Ve)if(Ze=[],dt=Ve+ce,dt>=ge&&(dt-=ge),!Le[dt]){Pe=[];var pt=[];for(ot=dt;ot>=0;){pt[ot]=!0,Le[ot]=!0,Ze[Ze.length]=ot,Pe.push(ie[ot]);var Et=de[Math.floor(ot*4/pe)];if(ht=ot*4&We,pe<4+ht)throw new Error("FAT boundary crossed: "+ot+" 4 "+pe);if(!ie[Et]||(ot=Pd(ie[Et],ht),pt[ot]))break}we[dt]={nodes:Ze,data:rF([Pe])}}return we}function P(ie,ce,de,pe,ge,we,Le,Ze){for(var Pe=0,We=pe.length?2:0,Ve=ce[ie].data,ot=0,dt=0,ht;ot<Ve.length;ot+=128){var pt=Ve.slice(ot,ot+128);uo(pt,64),dt=pt.read_shift(2),ht=RO(pt,0,dt-We),pe.push(ht);var Et={name:ht,type:pt.read_shift(1),color:pt.read_shift(1),L:pt.read_shift(4,"i"),R:pt.read_shift(4,"i"),C:pt.read_shift(4,"i"),clsid:pt.read_shift(16),state:pt.read_shift(4,"i"),start:0,size:0},kt=pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2);kt!==0&&(Et.ct=V(pt,pt.l-8));var Qe=pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2);Qe!==0&&(Et.mt=V(pt,pt.l-8)),Et.start=pt.read_shift(4,"i"),Et.size=pt.read_shift(4,"i"),Et.size<0&&Et.start<0&&(Et.size=Et.type=0,Et.start=q,Et.name=""),Et.type===5?(Pe=Et.start,ge>0&&Pe!==q&&(ce[Pe].name="!StreamData")):Et.size>=4096?(Et.storage="fat",ce[Et.start]===void 0&&(ce[Et.start]=j(de,Et.start,ce.fat_addrs,ce.ssz)),ce[Et.start].name=Et.name,Et.content=ce[Et.start].data.slice(0,Et.size)):(Et.storage="minifat",Et.size<0?Et.size=0:Pe!==q&&Et.start!==q&&ce[Pe]&&(Et.content=S(Et,ce[Pe].data,(ce[Ze]||{}).data))),Et.content&&uo(Et.content,0),we[ht]=Et,Le.push(Et)}}function V(ie,ce){return new Date((ho(ie,ce+4)/1e7*Math.pow(2,32)+ho(ie,ce)/1e7-11644473600)*1e3)}function K(ie,ce){return u(),p(d.readFileSync(ie),ce)}function Z(ie,ce){var de=ce&&ce.type;switch(de||Jn&&Buffer.isBuffer(ie)&&(de="buffer"),de||"base64"){case"file":return K(ie,ce);case"base64":return p(vl(wu(ie)),ce);case"binary":return p(vl(ie),ce)}return p(ie,ce)}function F(ie,ce){var de=ce||{},pe=de.root||"Root Entry";if(ie.FullPaths||(ie.FullPaths=[]),ie.FileIndex||(ie.FileIndex=[]),ie.FullPaths.length!==ie.FileIndex.length)throw new Error("inconsistent CFB structure");ie.FullPaths.length===0&&(ie.FullPaths[0]=pe+"/",ie.FileIndex[0]={name:pe,type:5}),de.CLSID&&(ie.FileIndex[0].clsid=de.CLSID),U(ie)}function U(ie){var ce="Sh33tJ5";if(!br.find(ie,"/"+ce)){var de=Je(4);de[0]=55,de[1]=de[3]=50,de[2]=54,ie.FileIndex.push({name:ce,type:2,content:de,size:4,L:69,R:69,C:69}),ie.FullPaths.push(ie.FullPaths[0]+ce),B(ie)}}function B(ie,ce){F(ie);for(var de=!1,pe=!1,ge=ie.FullPaths.length-1;ge>=0;--ge){var we=ie.FileIndex[ge];switch(we.type){case 0:pe?de=!0:(ie.FileIndex.pop(),ie.FullPaths.pop());break;case 1:case 2:case 5:pe=!0,isNaN(we.R*we.L*we.C)&&(de=!0),we.R>-1&&we.L>-1&&we.R==we.L&&(de=!0);break;default:de=!0;break}}if(!(!de&&!ce)){var Le=new Date(1987,1,19),Ze=0,Pe=Object.create?Object.create(null):{},We=[];for(ge=0;ge<ie.FullPaths.length;++ge)Pe[ie.FullPaths[ge]]=!0,ie.FileIndex[ge].type!==0&&We.push([ie.FullPaths[ge],ie.FileIndex[ge]]);for(ge=0;ge<We.length;++ge){var Ve=r(We[ge][0]);pe=Pe[Ve],pe||(We.push([Ve,{name:i(Ve).replace("/",""),type:1,clsid:ue,ct:Le,mt:Le,content:null}]),Pe[Ve]=!0)}for(We.sort(function(ht,pt){return n(ht[0],pt[0])}),ie.FullPaths=[],ie.FileIndex=[],ge=0;ge<We.length;++ge)ie.FullPaths[ge]=We[ge][0],ie.FileIndex[ge]=We[ge][1];for(ge=0;ge<We.length;++ge){var ot=ie.FileIndex[ge],dt=ie.FullPaths[ge];if(ot.name=i(dt).replace("/",""),ot.L=ot.R=ot.C=-(ot.color=1),ot.size=ot.content?ot.content.length:0,ot.start=0,ot.clsid=ot.clsid||ue,ge===0)ot.C=We.length>1?1:-1,ot.size=0,ot.type=5;else if(dt.slice(-1)=="/"){for(Ze=ge+1;Ze<We.length&&r(ie.FullPaths[Ze])!=dt;++Ze);for(ot.C=Ze>=We.length?-1:Ze,Ze=ge+1;Ze<We.length&&r(ie.FullPaths[Ze])!=r(dt);++Ze);ot.R=Ze>=We.length?-1:Ze,ot.type=1}else r(ie.FullPaths[ge+1]||"")==r(dt)&&(ot.R=ge+1),ot.type=2}}}function J(ie,ce){var de=ce||{};if(de.fileType=="mad")return Un(ie,de);if(B(ie),de.fileType==="zip")return kn(ie,de);var pe=(function(ht){for(var pt=0,Et=0,kt=0;kt<ht.FileIndex.length;++kt){var Qe=ht.FileIndex[kt];if(Qe.content){var Qn=Qe.content.length;Qn>0&&(Qn<4096?pt+=Qn+63>>6:Et+=Qn+511>>9)}}for(var tn=ht.FullPaths.length+3>>2,ri=pt+7>>3,Ys=pt+127>>7,vn=ri+Et+tn+Ys,ln=vn+127>>7,fn=ln<=109?0:Math.ceil((ln-109)/127);vn+ln+fn+127>>7>ln;)fn=++ln<=109?0:Math.ceil((ln-109)/127);var ji=[1,fn,ln,Ys,tn,Et,pt,0];return ht.FileIndex[0].size=pt<<6,ji[7]=(ht.FileIndex[0].start=ji[0]+ji[1]+ji[2]+ji[3]+ji[4]+ji[5])+(ji[6]+7>>3),ji})(ie),ge=Je(pe[7]<<9),we=0,Le=0;{for(we=0;we<8;++we)ge.write_shift(1,re[we]);for(we=0;we<8;++we)ge.write_shift(2,0);for(ge.write_shift(2,62),ge.write_shift(2,3),ge.write_shift(2,65534),ge.write_shift(2,9),ge.write_shift(2,6),we=0;we<3;++we)ge.write_shift(2,0);for(ge.write_shift(4,0),ge.write_shift(4,pe[2]),ge.write_shift(4,pe[0]+pe[1]+pe[2]+pe[3]-1),ge.write_shift(4,0),ge.write_shift(4,4096),ge.write_shift(4,pe[3]?pe[0]+pe[1]+pe[2]-1:q),ge.write_shift(4,pe[3]),ge.write_shift(-4,pe[1]?pe[0]-1:q),ge.write_shift(4,pe[1]),we=0;we<109;++we)ge.write_shift(-4,we<pe[2]?pe[1]+we:-1)}if(pe[1])for(Le=0;Le<pe[1];++Le){for(;we<236+Le*127;++we)ge.write_shift(-4,we<pe[2]?pe[1]+we:-1);ge.write_shift(-4,Le===pe[1]-1?q:Le+1)}var Ze=function(ht){for(Le+=ht;we<Le-1;++we)ge.write_shift(-4,we+1);ht&&(++we,ge.write_shift(-4,q))};for(Le=we=0,Le+=pe[1];we<Le;++we)ge.write_shift(-4,me.DIFSECT);for(Le+=pe[2];we<Le;++we)ge.write_shift(-4,me.FATSECT);Ze(pe[3]),Ze(pe[4]);for(var Pe=0,We=0,Ve=ie.FileIndex[0];Pe<ie.FileIndex.length;++Pe)Ve=ie.FileIndex[Pe],Ve.content&&(We=Ve.content.length,!(We<4096)&&(Ve.start=Le,Ze(We+511>>9)));for(Ze(pe[6]+7>>3);ge.l&511;)ge.write_shift(-4,me.ENDOFCHAIN);for(Le=we=0,Pe=0;Pe<ie.FileIndex.length;++Pe)Ve=ie.FileIndex[Pe],Ve.content&&(We=Ve.content.length,!(!We||We>=4096)&&(Ve.start=Le,Ze(We+63>>6)));for(;ge.l&511;)ge.write_shift(-4,me.ENDOFCHAIN);for(we=0;we<pe[4]<<2;++we){var ot=ie.FullPaths[we];if(!ot||ot.length===0){for(Pe=0;Pe<17;++Pe)ge.write_shift(4,0);for(Pe=0;Pe<3;++Pe)ge.write_shift(4,-1);for(Pe=0;Pe<12;++Pe)ge.write_shift(4,0);continue}Ve=ie.FileIndex[we],we===0&&(Ve.start=Ve.size?Ve.start-1:q);var dt=we===0&&de.root||Ve.name;if(We=2*(dt.length+1),ge.write_shift(64,dt,"utf16le"),ge.write_shift(2,We),ge.write_shift(1,Ve.type),ge.write_shift(1,Ve.color),ge.write_shift(-4,Ve.L),ge.write_shift(-4,Ve.R),ge.write_shift(-4,Ve.C),Ve.clsid)ge.write_shift(16,Ve.clsid,"hex");else for(Pe=0;Pe<4;++Pe)ge.write_shift(4,0);ge.write_shift(4,Ve.state||0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,Ve.start),ge.write_shift(4,Ve.size),ge.write_shift(4,0)}for(we=1;we<ie.FileIndex.length;++we)if(Ve=ie.FileIndex[we],Ve.size>=4096)if(ge.l=Ve.start+1<<9,Jn&&Buffer.isBuffer(Ve.content))Ve.content.copy(ge,ge.l,0,Ve.size),ge.l+=Ve.size+511&-512;else{for(Pe=0;Pe<Ve.size;++Pe)ge.write_shift(1,Ve.content[Pe]);for(;Pe&511;++Pe)ge.write_shift(1,0)}for(we=1;we<ie.FileIndex.length;++we)if(Ve=ie.FileIndex[we],Ve.size>0&&Ve.size<4096)if(Jn&&Buffer.isBuffer(Ve.content))Ve.content.copy(ge,ge.l,0,Ve.size),ge.l+=Ve.size+63&-64;else{for(Pe=0;Pe<Ve.size;++Pe)ge.write_shift(1,Ve.content[Pe]);for(;Pe&63;++Pe)ge.write_shift(1,0)}if(Jn)ge.l=ge.length;else for(;ge.l<ge.length;)ge.write_shift(1,0);return ge}function H(ie,ce){var de=ie.FullPaths.map(function(Pe){return Pe.toUpperCase()}),pe=de.map(function(Pe){var We=Pe.split("/");return We[We.length-(Pe.slice(-1)=="/"?2:1)]}),ge=!1;ce.charCodeAt(0)===47?(ge=!0,ce=de[0].slice(0,-1)+ce):ge=ce.indexOf("/")!==-1;var we=ce.toUpperCase(),Le=ge===!0?de.indexOf(we):pe.indexOf(we);if(Le!==-1)return ie.FileIndex[Le];var Ze=!we.match(Wy);for(we=we.replace(wg,""),Ze&&(we=we.replace(Wy,"!")),Le=0;Le<de.length;++Le)if((Ze?de[Le].replace(Wy,"!"):de[Le]).replace(wg,"")==we||(Ze?pe[Le].replace(Wy,"!"):pe[Le]).replace(wg,"")==we)return ie.FileIndex[Le];return null}var G=64,q=-2,Ce="d0cf11e0a1b11ae1",re=[208,207,17,224,161,177,26,225],ue="00000000000000000000000000000000",me={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:q,FREESECT:-1,HEADER_SIGNATURE:Ce,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ue,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Re(ie,ce,de){u();var pe=J(ie,de);d.writeFileSync(ce,pe)}function Be(ie){for(var ce=new Array(ie.length),de=0;de<ie.length;++de)ce[de]=String.fromCharCode(ie[de]);return ce.join("")}function be(ie,ce){var de=J(ie,ce);switch(ce&&ce.type||"buffer"){case"file":return u(),d.writeFileSync(ce.filename,de),de;case"binary":return typeof de=="string"?de:Be(de);case"base64":return h1(typeof de=="string"?de:Be(de));case"buffer":if(Jn)return Buffer.isBuffer(de)?de:Ru(de);case"array":return typeof de=="string"?vl(de):de}return de}var Q;function ee(ie){try{var ce=ie.InflateRaw,de=new ce;if(de._processChunk(new Uint8Array([3,0]),de._finishFlushFlag),de.bytesRead)Q=ie;else throw new Error("zlib does not expose bytesRead")}catch(pe){console.error("cannot use native zlib: "+(pe.message||pe))}}function oe(ie,ce){if(!Q)return di(ie,ce);var de=Q.InflateRaw,pe=new de,ge=pe._processChunk(ie.slice(ie.l),pe._finishFlushFlag);return ie.l+=pe.bytesRead,ge}function se(ie){return Q?Q.deflateRawSync(ie):In(ie)}var fe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ee=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ne=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ge(ie){var ce=(ie<<1|ie<<11)&139536|(ie<<5|ie<<15)&558144;return(ce>>16|ce>>8|ce)&255}for(var _e=typeof Uint8Array<"u",ze=_e?new Uint8Array(256):[],tt=0;tt<256;++tt)ze[tt]=Ge(tt);function Me(ie,ce){var de=ze[ie&255];return ce<=8?de>>>8-ce:(de=de<<8|ze[ie>>8&255],ce<=16?de>>>16-ce:(de=de<<8|ze[ie>>16&255],de>>>24-ce))}function gt(ie,ce){var de=ce&7,pe=ce>>>3;return(ie[pe]|(de<=6?0:ie[pe+1]<<8))>>>de&3}function nt(ie,ce){var de=ce&7,pe=ce>>>3;return(ie[pe]|(de<=5?0:ie[pe+1]<<8))>>>de&7}function Ut(ie,ce){var de=ce&7,pe=ce>>>3;return(ie[pe]|(de<=4?0:ie[pe+1]<<8))>>>de&15}function Ct(ie,ce){var de=ce&7,pe=ce>>>3;return(ie[pe]|(de<=3?0:ie[pe+1]<<8))>>>de&31}function st(ie,ce){var de=ce&7,pe=ce>>>3;return(ie[pe]|(de<=1?0:ie[pe+1]<<8))>>>de&127}function It(ie,ce,de){var pe=ce&7,ge=ce>>>3,we=(1<<de)-1,Le=ie[ge]>>>pe;return de<8-pe||(Le|=ie[ge+1]<<8-pe,de<16-pe)||(Le|=ie[ge+2]<<16-pe,de<24-pe)||(Le|=ie[ge+3]<<24-pe),Le&we}function _t(ie,ce,de){var pe=ce&7,ge=ce>>>3;return pe<=5?ie[ge]|=(de&7)<<pe:(ie[ge]|=de<<pe&255,ie[ge+1]=(de&7)>>8-pe),ce+3}function bt(ie,ce,de){var pe=ce&7,ge=ce>>>3;return de=(de&1)<<pe,ie[ge]|=de,ce+1}function mt(ie,ce,de){var pe=ce&7,ge=ce>>>3;return de<<=pe,ie[ge]|=de&255,de>>>=8,ie[ge+1]=de,ce+8}function fi(ie,ce,de){var pe=ce&7,ge=ce>>>3;return de<<=pe,ie[ge]|=de&255,de>>>=8,ie[ge+1]=de&255,ie[ge+2]=de>>>8,ce+16}function nr(ie,ce){var de=ie.length,pe=2*de>ce?2*de:ce+5,ge=0;if(de>=ce)return ie;if(Jn){var we=V7(pe);if(ie.copy)ie.copy(we);else for(;ge<ie.length;++ge)we[ge]=ie[ge];return we}else if(_e){var Le=new Uint8Array(pe);if(Le.set)Le.set(ie);else for(;ge<de;++ge)Le[ge]=ie[ge];return Le}return ie.length=pe,ie}function Kt(ie){for(var ce=new Array(ie),de=0;de<ie;++de)ce[de]=0;return ce}function Rr(ie,ce,de){var pe=1,ge=0,we=0,Le=0,Ze=0,Pe=ie.length,We=_e?new Uint16Array(32):Kt(32);for(we=0;we<32;++we)We[we]=0;for(we=Pe;we<de;++we)ie[we]=0;Pe=ie.length;var Ve=_e?new Uint16Array(Pe):Kt(Pe);for(we=0;we<Pe;++we)We[ge=ie[we]]++,pe<ge&&(pe=ge),Ve[we]=0;for(We[0]=0,we=1;we<=pe;++we)We[we+16]=Ze=Ze+We[we-1]<<1;for(we=0;we<Pe;++we)Ze=ie[we],Ze!=0&&(Ve[we]=We[Ze+16]++);var ot=0;for(we=0;we<Pe;++we)if(ot=ie[we],ot!=0)for(Ze=Me(Ve[we],pe)>>pe-ot,Le=(1<<pe+4-ot)-1;Le>=0;--Le)ce[Ze|Le<<ot]=ot&15|we<<4;return pe}var ye=_e?new Uint16Array(512):Kt(512),yt=_e?new Uint16Array(32):Kt(32);if(!_e){for(var Rt=0;Rt<512;++Rt)ye[Rt]=0;for(Rt=0;Rt<32;++Rt)yt[Rt]=0}(function(){for(var ie=[],ce=0;ce<32;ce++)ie.push(5);Rr(ie,yt,32);var de=[];for(ce=0;ce<=143;ce++)de.push(8);for(;ce<=255;ce++)de.push(9);for(;ce<=279;ce++)de.push(7);for(;ce<=287;ce++)de.push(8);Rr(de,ye,288)})();var Xt=(function(){for(var ce=_e?new Uint8Array(32768):[],de=0,pe=0;de<Ne.length-1;++de)for(;pe<Ne[de+1];++pe)ce[pe]=de;for(;pe<32768;++pe)ce[pe]=29;var ge=_e?new Uint8Array(259):[];for(de=0,pe=0;de<Ee.length-1;++de)for(;pe<Ee[de+1];++pe)ge[pe]=de;function we(Ze,Pe){for(var We=0;We<Ze.length;){var Ve=Math.min(65535,Ze.length-We),ot=We+Ve==Ze.length;for(Pe.write_shift(1,+ot),Pe.write_shift(2,Ve),Pe.write_shift(2,~Ve&65535);Ve-- >0;)Pe[Pe.l++]=Ze[We++]}return Pe.l}function Le(Ze,Pe){for(var We=0,Ve=0,ot=_e?new Uint16Array(32768):[];Ve<Ze.length;){var dt=Math.min(65535,Ze.length-Ve);if(dt<10){for(We=_t(Pe,We,+(Ve+dt==Ze.length)),We&7&&(We+=8-(We&7)),Pe.l=We/8|0,Pe.write_shift(2,dt),Pe.write_shift(2,~dt&65535);dt-- >0;)Pe[Pe.l++]=Ze[Ve++];We=Pe.l*8;continue}We=_t(Pe,We,+(Ve+dt==Ze.length)+2);for(var ht=0;dt-- >0;){var pt=Ze[Ve];ht=(ht<<5^pt)&32767;var Et=-1,kt=0;if((Et=ot[ht])&&(Et|=Ve&-32768,Et>Ve&&(Et-=32768),Et<Ve))for(;Ze[Et+kt]==Ze[Ve+kt]&&kt<250;)++kt;if(kt>2){pt=ge[kt],pt<=22?We=mt(Pe,We,ze[pt+1]>>1)-1:(mt(Pe,We,3),We+=5,mt(Pe,We,ze[pt-23]>>5),We+=3);var Qe=pt<8?0:pt-4>>2;Qe>0&&(fi(Pe,We,kt-Ee[pt]),We+=Qe),pt=ce[Ve-Et],We=mt(Pe,We,ze[pt]>>3),We-=3;var Qn=pt<4?0:pt-2>>1;Qn>0&&(fi(Pe,We,Ve-Et-Ne[pt]),We+=Qn);for(var tn=0;tn<kt;++tn)ot[ht]=Ve&32767,ht=(ht<<5^Ze[Ve])&32767,++Ve;dt-=kt-1}else pt<=143?pt=pt+48:We=bt(Pe,We,1),We=mt(Pe,We,ze[pt]),ot[ht]=Ve&32767,++Ve}We=mt(Pe,We,0)-1}return Pe.l=(We+7)/8|0,Pe.l}return function(Pe,We){return Pe.length<8?we(Pe,We):Le(Pe,We)}})();function In(ie){var ce=Je(50+Math.floor(ie.length*1.1)),de=Xt(ie,ce);return ce.slice(0,de)}var nn=_e?new Uint16Array(32768):Kt(32768),Ea=_e?new Uint16Array(32768):Kt(32768),mn=_e?new Uint16Array(128):Kt(128),ct=1,yn=1;function Ht(ie,ce){var de=Ct(ie,ce)+257;ce+=5;var pe=Ct(ie,ce)+1;ce+=5;var ge=Ut(ie,ce)+4;ce+=4;for(var we=0,Le=_e?new Uint8Array(19):Kt(19),Ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Pe=1,We=_e?new Uint8Array(8):Kt(8),Ve=_e?new Uint8Array(8):Kt(8),ot=Le.length,dt=0;dt<ge;++dt)Le[fe[dt]]=we=nt(ie,ce),Pe<we&&(Pe=we),We[we]++,ce+=3;var ht=0;for(We[0]=0,dt=1;dt<=Pe;++dt)Ve[dt]=ht=ht+We[dt-1]<<1;for(dt=0;dt<ot;++dt)(ht=Le[dt])!=0&&(Ze[dt]=Ve[ht]++);var pt=0;for(dt=0;dt<ot;++dt)if(pt=Le[dt],pt!=0){ht=ze[Ze[dt]]>>8-pt;for(var Et=(1<<7-pt)-1;Et>=0;--Et)mn[ht|Et<<pt]=pt&7|dt<<3}var kt=[];for(Pe=1;kt.length<de+pe;)switch(ht=mn[st(ie,ce)],ce+=ht&7,ht>>>=3){case 16:for(we=3+gt(ie,ce),ce+=2,ht=kt[kt.length-1];we-- >0;)kt.push(ht);break;case 17:for(we=3+nt(ie,ce),ce+=3;we-- >0;)kt.push(0);break;case 18:for(we=11+st(ie,ce),ce+=7;we-- >0;)kt.push(0);break;default:kt.push(ht),Pe<ht&&(Pe=ht);break}var Qe=kt.slice(0,de),Qn=kt.slice(de);for(dt=de;dt<286;++dt)Qe[dt]=0;for(dt=pe;dt<30;++dt)Qn[dt]=0;return ct=Rr(Qe,nn,286),yn=Rr(Qn,Ea,30),ce}function gn(ie,ce){if(ie[0]==3&&!(ie[1]&3))return[mh(ce),2];for(var de=0,pe=0,ge=V7(ce||1<<18),we=0,Le=ge.length>>>0,Ze=0,Pe=0;(pe&1)==0;){if(pe=nt(ie,de),de+=3,pe>>>1)pe>>1==1?(Ze=9,Pe=5):(de=Ht(ie,de),Ze=ct,Pe=yn);else{de&7&&(de+=8-(de&7));var We=ie[de>>>3]|ie[(de>>>3)+1]<<8;if(de+=32,We>0)for(!ce&&Le<we+We&&(ge=nr(ge,we+We),Le=ge.length);We-- >0;)ge[we++]=ie[de>>>3],de+=8;continue}for(;;){!ce&&Le<we+32767&&(ge=nr(ge,we+32767),Le=ge.length);var Ve=It(ie,de,Ze),ot=pe>>>1==1?ye[Ve]:nn[Ve];if(de+=ot&15,ot>>>=4,(ot>>>8&255)===0)ge[we++]=ot;else{if(ot==256)break;ot-=257;var dt=ot<8?0:ot-4>>2;dt>5&&(dt=0);var ht=we+Ee[ot];dt>0&&(ht+=It(ie,de,dt),de+=dt),Ve=It(ie,de,Pe),ot=pe>>>1==1?yt[Ve]:Ea[Ve],de+=ot&15,ot>>>=4;var pt=ot<4?0:ot-2>>1,Et=Ne[ot];for(pt>0&&(Et+=It(ie,de,pt),de+=pt),!ce&&Le<ht&&(ge=nr(ge,ht+100),Le=ge.length);we<ht;)ge[we]=ge[we-Et],++we}}}return ce?[ge,de+7>>>3]:[ge.slice(0,we),de+7>>>3]}function di(ie,ce){var de=ie.slice(ie.l||0),pe=gn(de,ce);return ie.l+=pe[1],pe[0]}function Wr(ie,ce){if(ie)typeof console<"u"&&console.error(ce);else throw new Error(ce)}function hi(ie,ce){var de=ie;uo(de,0);var pe=[],ge=[],we={FileIndex:pe,FullPaths:ge};F(we,{root:ce.root});for(var Le=de.length-4;(de[Le]!=80||de[Le+1]!=75||de[Le+2]!=5||de[Le+3]!=6)&&Le>=0;)--Le;de.l=Le+4,de.l+=4;var Ze=de.read_shift(2);de.l+=6;var Pe=de.read_shift(4);for(de.l=Pe,Le=0;Le<Ze;++Le){de.l+=20;var We=de.read_shift(4),Ve=de.read_shift(4),ot=de.read_shift(2),dt=de.read_shift(2),ht=de.read_shift(2);de.l+=8;var pt=de.read_shift(4),Et=c(de.slice(de.l+ot,de.l+ot+dt));de.l+=ot+dt+ht;var kt=de.l;de.l=pt+4,sn(de,We,Ve,we,Et),de.l=kt}return we}function sn(ie,ce,de,pe,ge){ie.l+=2;var we=ie.read_shift(2),Le=ie.read_shift(2),Ze=s(ie);if(we&8257)throw new Error("Unsupported ZIP encryption");for(var Pe=ie.read_shift(4),We=ie.read_shift(4),Ve=ie.read_shift(4),ot=ie.read_shift(2),dt=ie.read_shift(2),ht="",pt=0;pt<ot;++pt)ht+=String.fromCharCode(ie[ie.l++]);if(dt){var Et=c(ie.slice(ie.l,ie.l+dt));(Et[21589]||{}).mt&&(Ze=Et[21589].mt),((ge||{})[21589]||{}).mt&&(Ze=ge[21589].mt)}ie.l+=dt;var kt=ie.slice(ie.l,ie.l+We);switch(Le){case 8:kt=oe(ie,Ve);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Le)}var Qe=!1;we&8&&(Pe=ie.read_shift(4),Pe==134695760&&(Pe=ie.read_shift(4),Qe=!0),We=ie.read_shift(4),Ve=ie.read_shift(4)),We!=ce&&Wr(Qe,"Bad compressed size: "+ce+" != "+We),Ve!=de&&Wr(Qe,"Bad uncompressed size: "+de+" != "+Ve),Ar(pe,ht,kt,{unsafe:!0,mt:Ze})}function kn(ie,ce){var de=ce||{},pe=[],ge=[],we=Je(1),Le=de.compression?8:0,Ze=0,Pe=0,We=0,Ve=0,ot=0,dt=ie.FullPaths[0],ht=dt,pt=ie.FileIndex[0],Et=[],kt=0;for(Pe=1;Pe<ie.FullPaths.length;++Pe)if(ht=ie.FullPaths[Pe].slice(dt.length),pt=ie.FileIndex[Pe],!(!pt.size||!pt.content||ht=="Sh33tJ5")){var Qe=Ve,Qn=Je(ht.length);for(We=0;We<ht.length;++We)Qn.write_shift(1,ht.charCodeAt(We)&127);Qn=Qn.slice(0,Qn.l),Et[ot]=eRe.buf(pt.content,0);var tn=pt.content;Le==8&&(tn=se(tn)),we=Je(30),we.write_shift(4,67324752),we.write_shift(2,20),we.write_shift(2,Ze),we.write_shift(2,Le),pt.mt?a(we,pt.mt):we.write_shift(4,0),we.write_shift(-4,Et[ot]),we.write_shift(4,tn.length),we.write_shift(4,pt.content.length),we.write_shift(2,Qn.length),we.write_shift(2,0),Ve+=we.length,pe.push(we),Ve+=Qn.length,pe.push(Qn),Ve+=tn.length,pe.push(tn),we=Je(46),we.write_shift(4,33639248),we.write_shift(2,0),we.write_shift(2,20),we.write_shift(2,Ze),we.write_shift(2,Le),we.write_shift(4,0),we.write_shift(-4,Et[ot]),we.write_shift(4,tn.length),we.write_shift(4,pt.content.length),we.write_shift(2,Qn.length),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(4,0),we.write_shift(4,Qe),kt+=we.l,ge.push(we),kt+=Qn.length,ge.push(Qn),++ot}return we=Je(22),we.write_shift(4,101010256),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,ot),we.write_shift(2,ot),we.write_shift(4,kt),we.write_shift(4,Ve),we.write_shift(2,0),La([La(pe),La(ge),we])}var kr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function sa(ie,ce){if(ie.ctype)return ie.ctype;var de=ie.name||"",pe=de.match(/\.([^\.]+)$/);return pe&&kr[pe[1]]||ce&&(pe=(de=ce).match(/[\.\\]([^\.\\])+$/),pe&&kr[pe[1]])?kr[pe[1]]:"application/octet-stream"}function _r(ie){for(var ce=h1(ie),de=[],pe=0;pe<ce.length;pe+=76)de.push(ce.slice(pe,pe+76));return de.join(`\r
`)+`\r
`}function qs(ie){var ce=ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(We){var Ve=We.charCodeAt(0).toString(16).toUpperCase();return"="+(Ve.length==1?"0"+Ve:Ve)});ce=ce.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ce.charAt(0)==`
`&&(ce="=0D"+ce.slice(1)),ce=ce.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var de=[],pe=ce.split(`\r
`),ge=0;ge<pe.length;++ge){var we=pe[ge];if(we.length==0){de.push("");continue}for(var Le=0;Le<we.length;){var Ze=76,Pe=we.slice(Le,Le+Ze);Pe.charAt(Ze-1)=="="?Ze--:Pe.charAt(Ze-2)=="="?Ze-=2:Pe.charAt(Ze-3)=="="&&(Ze-=3),Pe=we.slice(Le,Le+Ze),Le+=Ze,Le<we.length&&(Pe+="="),de.push(Pe)}}return de.join(`\r
`)}function Dr(ie){for(var ce=[],de=0;de<ie.length;++de){for(var pe=ie[de];de<=ie.length&&pe.charAt(pe.length-1)=="=";)pe=pe.slice(0,pe.length-1)+ie[++de];ce.push(pe)}for(var ge=0;ge<ce.length;++ge)ce[ge]=ce[ge].replace(/[=][0-9A-Fa-f]{2}/g,function(we){return String.fromCharCode(parseInt(we.slice(1),16))});return vl(ce.join(`\r
`))}function ni(ie,ce,de){for(var pe="",ge="",we="",Le,Ze=0;Ze<10;++Ze){var Pe=ce[Ze];if(!Pe||Pe.match(/^\s*$/))break;var We=Pe.match(/^(.*?):\s*([^\s].*)$/);if(We)switch(We[1].toLowerCase()){case"content-location":pe=We[2].trim();break;case"content-type":we=We[2].trim();break;case"content-transfer-encoding":ge=We[2].trim();break}}switch(++Ze,ge.toLowerCase()){case"base64":Le=vl(wu(ce.slice(Ze).join("")));break;case"quoted-printable":Le=Dr(ce.slice(Ze));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ge)}var Ve=Ar(ie,pe.slice(de.length),Le,{unsafe:!0});we&&(Ve.ctype=we)}function Ha(ie,ce){if(Be(ie.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var de=ce&&ce.root||"",pe=(Jn&&Buffer.isBuffer(ie)?ie.toString("binary"):Be(ie)).split(`\r
`),ge=0,we="";for(ge=0;ge<pe.length;++ge)if(we=pe[ge],!!/^Content-Location:/i.test(we)&&(we=we.slice(we.indexOf("file")),de||(de=we.slice(0,we.lastIndexOf("/")+1)),we.slice(0,de.length)!=de))for(;de.length>0&&(de=de.slice(0,de.length-1),de=de.slice(0,de.lastIndexOf("/")+1),we.slice(0,de.length)!=de););var Le=(pe[1]||"").match(/boundary="(.*?)"/);if(!Le)throw new Error("MAD cannot find boundary");var Ze="--"+(Le[1]||""),Pe=[],We=[],Ve={FileIndex:Pe,FullPaths:We};F(Ve);var ot,dt=0;for(ge=0;ge<pe.length;++ge){var ht=pe[ge];ht!==Ze&&ht!==Ze+"--"||(dt++&&ni(Ve,pe.slice(ot,ge),de),ot=ge)}return Ve}function Un(ie,ce){var de=ce||{},pe=de.boundary||"SheetJS";pe="------="+pe;for(var ge=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+pe.slice(2)+'"',"","",""],we=ie.FullPaths[0],Le=we,Ze=ie.FileIndex[0],Pe=1;Pe<ie.FullPaths.length;++Pe)if(Le=ie.FullPaths[Pe].slice(we.length),Ze=ie.FileIndex[Pe],!(!Ze.size||!Ze.content||Le=="Sh33tJ5")){Le=Le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(kt){return"_x"+kt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(kt){return"_u"+kt.charCodeAt(0).toString(16)+"_"});for(var We=Ze.content,Ve=Jn&&Buffer.isBuffer(We)?We.toString("binary"):Be(We),ot=0,dt=Math.min(1024,Ve.length),ht=0,pt=0;pt<=dt;++pt)(ht=Ve.charCodeAt(pt))>=32&&ht<128&&++ot;var Et=ot>=dt*4/5;ge.push(pe),ge.push("Content-Location: "+(de.root||"file:///C:/SheetJS/")+Le),ge.push("Content-Transfer-Encoding: "+(Et?"quoted-printable":"base64")),ge.push("Content-Type: "+sa(Ze,Le)),ge.push(""),ge.push(Et?qs(Ve):_r(Ve))}return ge.push(pe+`--\r
`),ge.join(`\r
`)}function Gr(ie){var ce={};return F(ce,ie),ce}function Ar(ie,ce,de,pe){var ge=pe&&pe.unsafe;ge||F(ie);var we=!ge&&br.find(ie,ce);if(!we){var Le=ie.FullPaths[0];ce.slice(0,Le.length)==Le?Le=ce:(Le.slice(-1)!="/"&&(Le+="/"),Le=(Le+ce).replace("//","/")),we={name:i(ce),type:2},ie.FileIndex.push(we),ie.FullPaths.push(Le),ge||br.utils.cfb_gc(ie)}return we.content=de,we.size=de?de.length:0,pe&&(pe.CLSID&&(we.clsid=pe.CLSID),pe.mt&&(we.mt=pe.mt),pe.ct&&(we.ct=pe.ct)),we}function Pi(ie,ce){F(ie);var de=br.find(ie,ce);if(de){for(var pe=0;pe<ie.FileIndex.length;++pe)if(ie.FileIndex[pe]==de)return ie.FileIndex.splice(pe,1),ie.FullPaths.splice(pe,1),!0}return!1}function Pr(ie,ce,de){F(ie);var pe=br.find(ie,ce);if(pe){for(var ge=0;ge<ie.FileIndex.length;++ge)if(ie.FileIndex[ge]==pe)return ie.FileIndex[ge].name=i(de),ie.FullPaths[ge]=de,!0}return!1}function Ci(ie){B(ie,!0)}return e.find=H,e.read=Z,e.parse=p,e.write=be,e.writeFile=Re,e.utils={cfb_new:Gr,cfb_add:Ar,cfb_del:Pi,cfb_mov:Pr,cfb_gc:Ci,ReadShift:_g,CheckField:qK,prep_blob:uo,bconcat:La,use_zlib:ee,_deflateRaw:In,_inflateRaw:di,consts:me},e})();function tRe(t){return typeof t=="string"?Xw(t):Array.isArray(t)?C8e(t):t}function ix(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=Xw(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?m1(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var i=new Blob([tRe(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=t,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(t);return c.open("w"),c.encoding="binary",Array.isArray(e)&&(e=rx(e)),c.write(e),c.close(),e}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+t)}function Va(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function X7(t,e){for(var n=[],r=Va(t),i=0;i!==r.length;++i)n[t[r[i]][e]]==null&&(n[t[r[i]][e]]=r[i]);return n}function IO(t){for(var e=[],n=Va(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function Jw(t){for(var e=[],n=Va(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function nRe(t){for(var e=[],n=Va(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var lb=new Date(1899,11,30,0,0,0);function Vs(t,e){var n=t.getTime(),r=lb.getTime()+(t.getTimezoneOffset()-lb.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var NK=new Date,rRe=lb.getTime()+(NK.getTimezoneOffset()-lb.getTimezoneOffset())*6e4,Q7=NK.getTimezoneOffset();function OK(t){var e=new Date;return e.setTime(t*24*60*60*1e3+rRe),e.getTimezoneOffset()!==Q7&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Q7)*6e4),e}var Z7=new Date("2017-02-19T19:06:09.000Z"),MK=isNaN(Z7.getFullYear())?new Date("2/19/17"):Z7,iRe=MK.getFullYear()==2017;function Es(t,e){var n=new Date(t);if(iRe)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(MK.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function eE(t,e){if(Jn&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(a){return n[a]||a})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function Hs(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Hs(t[n]));return e}function _i(t,e){for(var n="";n.length<e;)n+=t;return n}function au(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,a){return n=-n,a}),!isNaN(e=Number(r)))?e/n:e}var aRe=["january","february","march","april","may","june","july","august","september","october","november","december"];function p1(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return n;var s=t.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&aRe.indexOf(s)==-1)return n}else if(s.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||a>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}function An(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return Jn?r=Ru(n):r=I8e(n),br.utils.cfb_add(t,e,r)}br.utils.cfb_add(t,e,n)}else t.file(e,n)}function NO(){return br.utils.cfb_new()}var Xi=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,sRe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},OO=IO(sRe),MO=/[&<>'"]/g,oRe=/[\u0000-\u0008\u000b-\u001f]/g;function pr(t){var e=t+"";return e.replace(MO,function(n){return OO[n]}).replace(oRe,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function J7(t){return pr(t).replace(/ /g,"_x0020_")}var RK=/[\u0000-\u001f]/g;function lRe(t){var e=t+"";return e.replace(MO,function(n){return OO[n]}).replace(/\n/g,"<br/>").replace(RK,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function cRe(t){var e=t+"";return e.replace(MO,function(n){return OO[n]}).replace(RK,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function uRe(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function fRe(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function mT(t){for(var e="",n=0,r=0,i=0,a=0,s=0,c=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){s=(r&31)<<6,s|=i&63,e+=String.fromCharCode(s);continue}if(a=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63);continue}s=t.charCodeAt(n++),c=((r&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function eF(t){var e=mh(2*t.length),n,r,i=1,a=0,s=0,c;for(r=0;r<t.length;r+=i)i=1,(c=t.charCodeAt(r))<128?n=c:c<224?(n=(c&31)*64+(t.charCodeAt(r+1)&63),i=2):c<240?(n=(c&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(c&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,s=55296+(n>>>10&1023),n=56320+(n&1023)),s!==0&&(e[a++]=s&255,e[a++]=s>>>8,s=0),e[a++]=n%256,e[a++]=n>>>8;return e.slice(0,a).toString("ucs2")}function tF(t){return Ru(t,"binary").toString("utf8")}var qy="foo bar baz",Eg=Jn&&(tF(qy)==mT(qy)&&tF||eF(qy)==mT(qy)&&eF)||mT,m1=Jn?function(t){return Ru(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},dRe=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}})(),kK=/(^\s|\s$|\n)/;function Fa(t,e){return"<"+t+(e.match(kK)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function g1(t){return Va(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function At(t,e,n){return"<"+t+(n!=null?g1(n):"")+(e!=null?(e.match(kK)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function R4(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function hRe(t,e){switch(typeof t){case"string":var n=At("vt:lpwstr",pr(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return At((t|0)==t?"vt:i4":"vt:r8",pr(String(t)));case"boolean":return At("vt:bool",t?"true":"false")}if(t instanceof Date)return At("vt:filetime",R4(t));throw new Error("Unable to serialize "+t)}var pa={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},$p=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],fo={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function pRe(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,a=5;a>=0;--a)i=i*256+t[e+a];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function mRe(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,s=r?-e:e;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var c=0;c<=5;++c,a/=256)t[n+c]=a&255;t[n+6]=(i&15)<<4|a&15,t[n+7]=i>>4|r}var nF=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,a=t[0][r].length;i<a;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},rF=Jn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ru(e)})):nF(t)}:nF,iF=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(lg(t,i)));return r.join("").replace(wg,"")},RO=Jn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(wg,""):iF(t,e,n)}:iF,aF=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},DK=Jn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):aF(t,e,n)}:aF,sF=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(T0(t,i)));return r.join("")},ax=Jn?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):sF(e,n,r)}:sF,PK=function(t,e){var n=ho(t,e);return n>0?ax(t,e+4,e+4+n-1):""},jK=PK,LK=function(t,e){var n=ho(t,e);return n>0?ax(t,e+4,e+4+n-1):""},FK=LK,BK=function(t,e){var n=2*ho(t,e);return n>0?ax(t,e+4,e+4+n-1):""},UK=BK,zK=function(e,n){var r=ho(e,n);return r>0?RO(e,n+4,n+4+r):""},VK=zK,HK=function(t,e){var n=ho(t,e);return n>0?ax(t,e+4,e+4+n):""},WK=HK,GK=function(t,e){return pRe(t,e)},cb=GK,kO=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Jn&&(jK=function(e,n){if(!Buffer.isBuffer(e))return PK(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},FK=function(e,n){if(!Buffer.isBuffer(e))return LK(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},UK=function(e,n){if(!Buffer.isBuffer(e))return BK(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},VK=function(e,n){if(!Buffer.isBuffer(e))return zK(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},WK=function(e,n){if(!Buffer.isBuffer(e))return HK(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},cb=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):GK(e,n)},kO=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var T0=function(t,e){return t[e]},lg=function(t,e){return t[e+1]*256+t[e]},gRe=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},ho=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Pd=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},xRe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function _g(t,e){var n="",r,i,a=[],s,c,d,u;switch(e){case"dbcs":if(u=this.l,Jn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(d=0;d<t;++d)n+=String.fromCharCode(lg(this,u)),u+=2;t*=2;break;case"utf8":n=ax(this,this.l,this.l+t);break;case"utf16le":t*=2,n=RO(this,this.l,this.l+t);break;case"wstr":return _g.call(this,t,"dbcs");case"lpstr-ansi":n=jK(this,this.l),t=4+ho(this,this.l);break;case"lpstr-cp":n=FK(this,this.l),t=4+ho(this,this.l);break;case"lpwstr":n=UK(this,this.l),t=4+2*ho(this,this.l);break;case"lpp4":t=4+ho(this,this.l),n=VK(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+ho(this,this.l),n=WK(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(s=T0(this,this.l+t++))!==0;)a.push(Hy(s));n=a.join("");break;case"_wstr":for(t=0,n="";(s=lg(this,this.l+t))!==0;)a.push(Hy(s)),t+=2;t+=2,n=a.join("");break;case"dbcs-cont":for(n="",u=this.l,d=0;d<t;++d){if(this.lens&&this.lens.indexOf(u)!==-1)return s=T0(this,u),this.l=u+1,c=_g.call(this,t-d,s?"dbcs-cont":"sbcs-cont"),a.join("")+c;a.push(Hy(lg(this,u))),u+=2}n=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",u=this.l,d=0;d!=t;++d){if(this.lens&&this.lens.indexOf(u)!==-1)return s=T0(this,u),this.l=u+1,c=_g.call(this,t-d,s?"dbcs-cont":"sbcs-cont"),a.join("")+c;a.push(Hy(T0(this,u))),u+=1}n=a.join("");break;default:switch(t){case 1:return r=T0(this,this.l),this.l++,r;case 2:return r=(e==="i"?gRe:lg)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?Pd:xRe)(this,this.l),this.l+=4,r):(i=ho(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=cb(this,this.l):i=cb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=DK(this,this.l,t);break}}return this.l+=t,n}var yRe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},vRe=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},bRe=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function wRe(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)bRe(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var a=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var s=e.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,yRe(this,e,this.l);break;case 8:if(r=8,n==="f"){mRe(this,e,this.l);break}case 16:break;case-4:r=4,vRe(this,e,this.l);break}return this.l+=r,this}function qK(t,e){var n=DK(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function uo(t,e){t.l=e,t.read_shift=_g,t.chk=qK,t.write_shift=wRe}function gc(t,e){t.l+=e}function Je(t){var e=mh(t);return uo(e,0),e}function Us(){var t=[],e=Jn?256:2048,n=function(u){var p=Je(u);return uo(p,0),p},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},a=function(u){return r&&u<r.length-r.l?r:(i(),r=n(Math.max(u+1,e)))},s=function(){return i(),La(t)},c=function(u){i(),r=u,r.l==null&&(r.l=r.length),a(e)};return{next:a,push:c,end:s,_bufs:t}}function ut(t,e,n,r){var i=+e,a;if(!isNaN(i)){r||(r=pje[i].p||(n||[]).length||0),a=1+(i>=128?1:0)+1,r>=128&&++a,r>=16384&&++a,r>=2097152&&++a;var s=t.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,(i&127)+128),s.write_shift(1,i>>7));for(var c=0;c!=4;++c)if(r>=128)s.write_shift(1,(r&127)+128),r>>=7;else{s.write_shift(1,r);break}r>0&&kO(n)&&t.push(n)}}function Ag(t,e,n){var r=Hs(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function oF(t,e,n){var r=Hs(t);return r.s=Ag(r.s,e.s,n),r.e=Ag(r.e,e.s,n),r}function Sg(t,e){if(t.cRel&&t.c<0)for(t=Hs(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Hs(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=mr(t);return!t.cRel&&t.cRel!=null&&(n=ARe(n)),!t.rRel&&t.rRel!=null&&(n=ERe(n)),n}function gT(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+is(t.s.c)+":"+(t.e.cRel?"":"$")+is(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Ua(t.s.r)+":"+(t.e.rRel?"":"$")+Ua(t.e.r):Sg(t.s,e.biff)+":"+Sg(t.e,e.biff)}function DO(t){return parseInt(_Re(t),10)-1}function Ua(t){return""+(t+1)}function ERe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function _Re(t){return t.replace(/\$(\d+)$/,"$1")}function PO(t){for(var e=SRe(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function is(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function ARe(t){return t.replace(/^([A-Z])/,"$$$1")}function SRe(t){return t.replace(/^\$([A-Z])/,"$1")}function TRe(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ga(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function mr(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function wo(t){var e=t.indexOf(":");return e==-1?{s:ga(t),e:ga(t)}:{s:ga(t.slice(0,e)),e:ga(t.slice(e+1))}}function Ki(t,e){return typeof e>"u"||typeof e=="number"?Ki(t.s,t.e):(typeof t!="string"&&(t=mr(t)),typeof e!="string"&&(e=mr(e)),t==e?t:t+":"+e)}function Hr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,a=t.length;for(n=0;r<a&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<a&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=a&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=a&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function lF(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Kf(t.z,n?Vs(e):e)}catch{}try{return t.w=Kf((t.XF||{}).numFmtId||(n?14:0),n?Vs(e):e)}catch{return""+e}}function Eu(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?sx[t.v]||t.v:e==null?lF(t,t.v):lF(t,e))}function Rh(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function YK(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,a=t||(i?[]:{}),s=0,c=0;if(a&&r.origin!=null){if(typeof r.origin=="number")s=r.origin;else{var d=typeof r.origin=="string"?ga(r.origin):r.origin;s=d.r,c=d.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var p=Hr(a["!ref"]);u.s.c=p.s.c,u.s.r=p.s.r,u.e.c=Math.max(u.e.c,p.e.c),u.e.r=Math.max(u.e.r,p.e.r),s==-1&&(u.e.r=s=p.e.r+1)}for(var x=0;x!=e.length;++x)if(e[x]){if(!Array.isArray(e[x]))throw new Error("aoa_to_sheet expects an array of arrays");for(var w=0;w!=e[x].length;++w)if(!(typeof e[x][w]>"u")){var A={v:e[x][w]},N=s+x,S=c+w;if(u.s.r>N&&(u.s.r=N),u.s.c>S&&(u.s.c=S),u.e.r<N&&(u.e.r=N),u.e.c<S&&(u.e.c=S),e[x][w]&&typeof e[x][w]=="object"&&!Array.isArray(e[x][w])&&!(e[x][w]instanceof Date))A=e[x][w];else if(Array.isArray(A.v)&&(A.f=e[x][w][1],A.v=A.v[0]),A.v===null)if(A.f)A.t="n";else if(r.nullError)A.t="e",A.v=0;else if(r.sheetStubs)A.t="z";else continue;else typeof A.v=="number"?A.t="n":typeof A.v=="boolean"?A.t="b":A.v instanceof Date?(A.z=r.dateNF||Ai[14],r.cellDates?(A.t="d",A.w=Kf(A.z,Vs(A.v))):(A.t="n",A.v=Vs(A.v),A.w=Kf(A.z,A.v))):A.t="s";if(i)a[N]||(a[N]=[]),a[N][S]&&a[N][S].z&&(A.z=a[N][S].z),a[N][S]=A;else{var I=mr({c:S,r:N});a[I]&&a[I].z&&(A.z=a[I].z),a[I]=A}}}return u.s.c<1e7&&(a["!ref"]=Ki(u)),a}function Kp(t,e){return YK(null,t,e)}function CRe(t){return t.read_shift(4,"i")}function Al(t,e){return e||(e=Je(4)),e.write_shift(4,t),e}function as(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function xa(t,e){var n=!1;return e==null&&(n=!0,e=Je(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function IRe(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function NRe(t,e){return e||(e=Je(4)),e.write_shift(2,0),e.write_shift(2,0),e}function jO(t,e){var n=t.l,r=t.read_shift(1),i=as(t),a=[],s={t:i,h:i};if((r&1)!==0){for(var c=t.read_shift(4),d=0;d!=c;++d)a.push(IRe(t));s.r=a}else s.r=[{ich:0,ifnt:0}];return t.l=n+e,s}function ORe(t,e){var n=!1;return e==null&&(n=!0,e=Je(15+4*t.t.length)),e.write_shift(1,0),xa(t.t,e),n?e.slice(0,e.l):e}var MRe=jO;function RRe(t,e){var n=!1;return e==null&&(n=!0,e=Je(23+4*t.t.length)),e.write_shift(1,1),xa(t.t,e),e.write_shift(4,1),NRe({},e),n?e.slice(0,e.l):e}function nl(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function kh(t,e){return e==null&&(e=Je(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Dh(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Ph(t,e){return e==null&&(e=Je(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var kRe=as,$K=xa;function LO(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function ub(t,e){var n=!1;return e==null&&(n=!0,e=Je(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var DRe=as,k4=LO,FO=ub;function KK(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?cb([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Pd(e,0)>>2;return n?i/100:i}function XK(t,e){e==null&&(e=Je(4));var n=0,r=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?i:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function QK(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function PRe(t,e){return e||(e=Je(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var jh=QK,Xp=PRe;function Qp(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function gh(t,e){return(e||Je(8)).write_shift(8,t,"f")}function jRe(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),a=t.read_shift(2,"i"),s=t.read_shift(1),c=t.read_shift(1),d=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var u=GRe[i];u&&(e.rgb=vF(u));break;case 2:e.rgb=vF([s,c,d]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function fb(t,e){if(e||(e=Je(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function LRe(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function FRe(t,e){e||(e=Je(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}var ZK=2,co=3,Yy=11,db=19,$y=64,BRe=65,URe=71,zRe=4108,VRe=4126,Da=80,cF={1:{n:"CodePage",t:ZK},2:{n:"Category",t:Da},3:{n:"PresentationFormat",t:Da},4:{n:"ByteCount",t:co},5:{n:"LineCount",t:co},6:{n:"ParagraphCount",t:co},7:{n:"SlideCount",t:co},8:{n:"NoteCount",t:co},9:{n:"HiddenCount",t:co},10:{n:"MultimediaClipCount",t:co},11:{n:"ScaleCrop",t:Yy},12:{n:"HeadingPairs",t:zRe},13:{n:"TitlesOfParts",t:VRe},14:{n:"Manager",t:Da},15:{n:"Company",t:Da},16:{n:"LinksUpToDate",t:Yy},17:{n:"CharacterCount",t:co},19:{n:"SharedDoc",t:Yy},22:{n:"HyperlinksChanged",t:Yy},23:{n:"AppVersion",t:co,p:"version"},24:{n:"DigSig",t:BRe},26:{n:"ContentType",t:Da},27:{n:"ContentStatus",t:Da},28:{n:"Language",t:Da},29:{n:"Version",t:Da},255:{},2147483648:{n:"Locale",t:db},2147483651:{n:"Behavior",t:db},1919054434:{}},uF={1:{n:"CodePage",t:ZK},2:{n:"Title",t:Da},3:{n:"Subject",t:Da},4:{n:"Author",t:Da},5:{n:"Keywords",t:Da},6:{n:"Comments",t:Da},7:{n:"Template",t:Da},8:{n:"LastAuthor",t:Da},9:{n:"RevNumber",t:Da},10:{n:"EditTime",t:$y},11:{n:"LastPrinted",t:$y},12:{n:"CreatedDate",t:$y},13:{n:"ModifiedDate",t:$y},14:{n:"PageCount",t:co},15:{n:"WordCount",t:co},16:{n:"CharCount",t:co},17:{n:"Thumbnail",t:URe},18:{n:"Application",t:Da},19:{n:"DocSecurity",t:co},255:{},2147483648:{n:"Locale",t:db},2147483651:{n:"Behavior",t:db},1919054434:{}};function HRe(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var WRe=HRe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),GRe=Hs(WRe),sx={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},qRe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Ky={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function JK(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function eX(t,e){var n=nRe(qRe),r=[],i;r[r.length]=Xi,r[r.length]=At("Types",null,{xmlns:pa.CT,"xmlns:xsd":pa.xsd,"xmlns:xsi":pa.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return At("Default",null,{Extension:d[0],ContentType:d[1]})}));var a=function(d){t[d]&&t[d].length>0&&(i=t[d][0],r[r.length]=At("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Ky[d][e.bookType]||Ky[d].xlsx}))},s=function(d){(t[d]||[]).forEach(function(u){r[r.length]=At("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Ky[d][e.bookType]||Ky[d].xlsx})})},c=function(d){(t[d]||[]).forEach(function(u){r[r.length]=At("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:n[d][0]})})};return a("workbooks"),s("sheets"),s("charts"),c("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),s("metadata"),c("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Kn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function tX(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function J0(t){var e=[Xi,At("Relationships",null,{xmlns:pa.RELS})];return Va(t["!id"]).forEach(function(n){e[e.length]=At("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function dr(t,e,n,r,i,a){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=n,[Kn.HLINK,Kn.XPATH,Kn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function YRe(t){var e=[Xi];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function fF(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function $Re(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function KRe(t){var e=[Xi];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(fF(t[n][0],t[n][1])),e.push($Re("",t[n][0]));return e.push(fF("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function nX(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+rb.version+"</meta:generator></office:meta></office:document-meta>"}var Xd=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function xT(t,e,n,r,i){i[t]!=null||e==null||e===""||(i[t]=e,e=pr(e),r[r.length]=n?At(t,e,n):Fa(t,e))}function rX(t,e){var n=e||{},r=[Xi,At("cp:coreProperties",null,{"xmlns:cp":pa.CORE_PROPS,"xmlns:dc":pa.dc,"xmlns:dcterms":pa.dcterms,"xmlns:dcmitype":pa.dcmitype,"xmlns:xsi":pa.xsi})],i={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&xT("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:R4(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),t.ModifiedDate!=null&&xT("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:R4(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var a=0;a!=Xd.length;++a){var s=Xd[a],c=n.Props&&n.Props[s[1]]!=null?n.Props[s[1]]:t?t[s[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&xT(s[0],c,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var ep=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],iX=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function aX(t){var e=[],n=At;return t||(t={}),t.Application="SheetJS",e[e.length]=Xi,e[e.length]=At("Properties",null,{xmlns:pa.EXT_PROPS,"xmlns:vt":pa.vt}),ep.forEach(function(r){if(t[r[1]]!==void 0){var i;switch(r[2]){case"string":i=pr(String(t[r[1]]));break;case"bool":i=t[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=n(r[0],i))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+pr(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function sX(t){var e=[Xi,At("Properties",null,{xmlns:pa.CUST_PROPS,"xmlns:vt":pa.vt})];if(!t)return e.join("");var n=1;return Va(t).forEach(function(i){++n,e[e.length]=At("property",hRe(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:pr(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var dF={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function XRe(t,e){var n=[];return Va(dF).map(function(r){for(var i=0;i<Xd.length;++i)if(Xd[i][1]==r)return Xd[i];for(i=0;i<ep.length;++i)if(ep[i][1]==r)return ep[i];throw r}).forEach(function(r){if(t[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];r[2]==="date"&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"Z")),typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(Fa(dF[r[1]]||r[1],i))}}),At("DocumentProperties",n.join(""),{xmlns:fo.o})}function QRe(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return t&&Va(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var s=0;s<Xd.length;++s)if(a==Xd[s][1])return;for(s=0;s<ep.length;++s)if(a==ep[s][1])return;for(s=0;s<n.length;++s)if(a==n[s])return;var c=t[a],d="string";typeof c=="number"?(d="float",c=String(c)):c===!0||c===!1?(d="boolean",c=c?"1":"0"):c=String(c),i.push(At(J7(a),c,{"dt:dt":d}))}}),e&&Va(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(t&&Object.prototype.hasOwnProperty.call(t,a))){var s=e[a],c="string";typeof s=="number"?(c="float",s=String(s)):s===!0||s===!1?(c="boolean",s=s?"1":"0"):s instanceof Date?(c="dateTime.tz",s=s.toISOString()):s=String(s),i.push(At(J7(a),s,{"dt:dt":c}))}}),"<"+r+' xmlns="'+fo.o+'">'+i.join("")+"</"+r+">"}function ZRe(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var a=r/Math.pow(2,32)|0;a>0&&(r=r%Math.pow(2,32),i+=a);var s=Je(8);return s.write_shift(4,r),s.write_shift(4,i),s}function hF(t,e){var n=Je(4),r=Je(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=Je(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=ZRe(e);break;case 31:case 80:for(r=Je(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return La([n,r])}var oX=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function JRe(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function pF(t,e,n){var r=Je(8),i=[],a=[],s=8,c=0,d=Je(8),u=Je(8);if(d.write_shift(4,2),d.write_shift(4,1200),u.write_shift(4,1),a.push(d),i.push(u),s+=8+d.length,!e){u=Je(8),u.write_shift(4,0),i.unshift(u);var p=[Je(4)];for(p[0].write_shift(4,t.length),c=0;c<t.length;++c){var x=t[c][0];for(d=Je(8+2*(x.length+1)+(x.length%2?0:2)),d.write_shift(4,c+2),d.write_shift(4,x.length+1),d.write_shift(0,x,"dbcs");d.l!=d.length;)d.write_shift(1,0);p.push(d)}d=La(p),a.unshift(d),s+=8+d.length}for(c=0;c<t.length;++c)if(!(e&&!e[t[c][0]])&&!(oX.indexOf(t[c][0])>-1||iX.indexOf(t[c][0])>-1)&&t[c][1]!=null){var w=t[c][1],A=0;if(e){A=+e[t[c][0]];var N=n[A];if(N.p=="version"&&typeof w=="string"){var S=w.split(".");w=(+S[0]<<16)+(+S[1]||0)}d=hF(N.t,w)}else{var I=JRe(w);I==-1&&(I=31,w=String(w)),d=hF(I,w)}a.push(d),u=Je(8),u.write_shift(4,e?A:2+c),i.push(u),s+=8+d.length}var j=8*(a.length+1);for(c=0;c<a.length;++c)i[c].write_shift(4,j),j+=a[c].length;return r.write_shift(4,s),r.write_shift(4,a.length),La([r].concat(i).concat(a))}function mF(t,e,n,r,i,a){var s=Je(i?68:48),c=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,br.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,e,"hex"),s.write_shift(4,i?68:48);var d=pF(t,n,r);if(c.push(d),i){var u=pF(i,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+d.length),c.push(u)}return La(c)}function eke(t,e){e||(e=Je(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function tke(t,e){return t.read_shift(e)===1}function ms(t,e){return e||(e=Je(2)),e.write_shift(2,+!!t),e}function lX(t){return t.read_shift(2,"u")}function Ho(t,e){return e||(e=Je(2)),e.write_shift(2,t),e}function cX(t,e,n){return n||(n=Je(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function uX(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var a=t.read_shift(1);a&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var s=r?t.read_shift(r,i):"";return s}function nke(t){var e=t.t||"",n=Je(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=Je(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[n,r];return La(i)}function rke(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function ike(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):rke(t,r,n)}function ake(t,e,n){if(n.biff>5)return ike(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function fX(t,e,n){return n||(n=Je(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function gF(t,e){e||(e=Je(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function ske(t){var e=Je(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),a=i>-1?31:23;switch(r.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(n=0;n<s.length;++n)e.write_shift(4,s[n]);if(a==28)r=r.slice(1),gF(r,e);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<s.length;++n)e.write_shift(1,parseInt(s[n],16));var c=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(c.length+1)),n=0;n<c.length;++n)e.write_shift(2,c.charCodeAt(n));e.write_shift(2,0),a&8&&gF(i>-1?r.slice(i+1):"",e)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<s.length;++n)e.write_shift(1,parseInt(s[n],16));for(var d=0;r.slice(d*3,d*3+3)=="../"||r.slice(d*3,d*3+3)=="..\\";)++d;for(e.write_shift(2,d),e.write_shift(4,r.length-3*d+1),n=0;n<r.length-3*d;++n)e.write_shift(1,r.charCodeAt(n+3*d)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function xh(t,e,n,r){return r||(r=Je(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function oke(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),a=t.read_shift(r,"i"),s=t.read_shift(r,"i");return[i,a,s]}function lke(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function dX(t,e){return e||(e=Je(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function BO(t,e,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=Je(i);return a.write_shift(2,r),a.write_shift(2,e),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function cke(t,e){var n=!e||e.biff==8,r=Je(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function uke(t,e){var n=!e||e.biff>=8?2:1,r=Je(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function fke(t,e){var n=Je(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],i=0;i<t.length;++i)r[i]=nke(t[i]);var a=La([n].concat(r));return a.parts=[n.length].concat(r.map(function(s){return s.length})),a}function dke(){var t=Je(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function hke(t){var e=Je(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function pke(t,e){var n=t.name||"Arial",r=e&&e.biff==5,i=r?15+n.length:16+2*n.length,a=Je(i);return a.write_shift(2,t.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,n.length),r||a.write_shift(1,1),a.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),a}function mke(t,e,n,r){var i=Je(10);return xh(t,e,r,i),i.write_shift(4,n),i}function gke(t,e,n,r,i){var a=!i||i.biff==8,s=Je(8+ +a+(1+a)*n.length);return xh(t,e,r,s),s.write_shift(2,n.length),a&&s.write_shift(1,1),s.write_shift((1+a)*n.length,n,a?"utf16le":"sbcs"),s}function xke(t,e,n,r){var i=n&&n.biff==5;r||(r=Je(i?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var a=r.length>r.l?r.slice(0,r.l):r;return a.l==null&&(a.l=a.length),a}function yke(t,e){var n=e.biff==8||!e.biff?4:2,r=Je(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function xF(t,e,n,r){var i=n&&n.biff==5;r||(r=Je(i?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var a=0;return t.numFmtId>0&&i&&(a|=1024),r.write_shift(4,a),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function vke(t){var e=Je(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function bke(t,e,n,r,i,a){var s=Je(8);return xh(t,e,r,s),cX(n,a,s),s}function wke(t,e,n,r){var i=Je(14);return xh(t,e,r,i),gh(n,i),i}function Eke(t,e,n){if(n.biff<8)return _ke(t,e,n);for(var r=[],i=t.l+e,a=t.read_shift(n.biff>8?4:2);a--!==0;)r.push(oke(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function _ke(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=uX(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function Ake(t){var e=Je(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)dX(t[n],e);return e}function Ske(t){var e=Je(24),n=ga(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return La([e,ske(t[1])])}function Tke(t){var e=t[1].Tooltip,n=Je(10+2*(e.length+1));n.write_shift(2,2048);var r=ga(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<e.length;++i)n.write_shift(2,e.charCodeAt(i));return n.write_shift(2,0),n}function Cke(t){return t||(t=Je(4)),t.write_shift(2,1),t.write_shift(2,1),t}function Ike(t,e,n){if(!n.cellStyles)return gc(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),a=t.read_shift(r),s=t.read_shift(r),c=t.read_shift(r),d=t.read_shift(2);r==2&&(t.l+=2);var u={s:i,e:a,w:s,ixfe:c,flags:d};return(n.biff>=5||!n.biff)&&(u.level=d>>8&7),u}function Nke(t,e){var n=Je(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function Oke(t){for(var e=Je(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}function Mke(t,e,n){var r=Je(15);return lx(r,t,e),r.write_shift(8,n,"f"),r}function Rke(t,e,n){var r=Je(9);return lx(r,t,e),r.write_shift(2,n),r}var kke=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=IO({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(c,d){var u=[],p=mh(1);switch(d.type){case"base64":p=vl(wu(c));break;case"binary":p=vl(c);break;case"buffer":case"array":p=c;break}uo(p,0);var x=p.read_shift(1),w=!!(x&136),A=!1,N=!1;switch(x){case 2:break;case 3:break;case 48:A=!0,w=!0;break;case 49:A=!0,w=!0;break;case 131:break;case 139:break;case 140:N=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+x.toString(16))}var S=0,I=521;x==2&&(S=p.read_shift(2)),p.l+=3,x!=2&&(S=p.read_shift(4)),S>1048576&&(S=1e6),x!=2&&(I=p.read_shift(2));var j=p.read_shift(2),D=d.codepage||1252;x!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(D=t[p[p.l]]),p.l+=1,p.l+=2),N&&(p.l+=36);for(var P=[],V={},K=Math.min(p.length,x==2?521:I-10-(A?264:0)),Z=N?32:11;p.l<K&&p[p.l]!=13;)switch(V={},V.name=ib.utils.decode(D,p.slice(p.l,p.l+Z)).replace(/[\u0000\r\n].*$/g,""),p.l+=Z,V.type=String.fromCharCode(p.read_shift(1)),x!=2&&!N&&(V.offset=p.read_shift(4)),V.len=p.read_shift(1),x==2&&(V.offset=p.read_shift(2)),V.dec=p.read_shift(1),V.name.length&&P.push(V),x!=2&&(p.l+=N?13:14),V.type){case"B":(!A||V.len!=8)&&d.WTF&&console.log("Skipping "+V.name+":"+V.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+V.name+":"+V.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+V.type)}if(p[p.l]!==13&&(p.l=I-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=I;var F=0,U=0;for(u[0]=[],U=0;U!=P.length;++U)u[0][U]=P[U].name;for(;S-- >0;){if(p[p.l]===42){p.l+=j;continue}for(++p.l,u[++F]=[],U=0,U=0;U!=P.length;++U){var B=p.slice(p.l,p.l+P[U].len);p.l+=P[U].len,uo(B,0);var J=ib.utils.decode(D,B);switch(P[U].type){case"C":J.trim().length&&(u[F][U]=J.replace(/\s+$/,""));break;case"D":J.length===8?u[F][U]=new Date(+J.slice(0,4),+J.slice(4,6)-1,+J.slice(6,8)):u[F][U]=J;break;case"F":u[F][U]=parseFloat(J.trim());break;case"+":case"I":u[F][U]=N?B.read_shift(-4,"i")^2147483648:B.read_shift(4,"i");break;case"L":switch(J.trim().toUpperCase()){case"Y":case"T":u[F][U]=!0;break;case"N":case"F":u[F][U]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+J+"|")}break;case"M":if(!w)throw new Error("DBF Unexpected MEMO for type "+x.toString(16));u[F][U]="##MEMO##"+(N?parseInt(J.trim(),10):B.read_shift(4));break;case"N":J=J.replace(/\u0000/g,"").trim(),J&&J!="."&&(u[F][U]=+J||0);break;case"@":u[F][U]=new Date(B.read_shift(-8,"f")-621356832e5);break;case"T":u[F][U]=new Date((B.read_shift(4)-2440588)*864e5+B.read_shift(4));break;case"Y":u[F][U]=B.read_shift(4,"i")/1e4+B.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[F][U]=-B.read_shift(-8,"f");break;case"B":if(A&&P[U].len==8){u[F][U]=B.read_shift(8,"f");break}case"G":case"P":B.l+=P[U].len;break;case"0":if(P[U].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+P[U].type)}}}if(x!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return d&&d.sheetRows&&(u=u.slice(0,d.sheetRows)),d.DBF=P,u}function r(c,d){var u=d||{};u.dateNF||(u.dateNF="yyyymmdd");var p=Kp(n(c,u),u);return p["!cols"]=u.DBF.map(function(x){return{wch:x.len,DBF:x}}),delete u.DBF,p}function i(c,d){try{return Rh(r(c,d),d)}catch(u){if(d&&d.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(c,d){var u=d||{};if(+u.codepage>=0&&d1(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var p=Us(),x=xb(c,{header:1,raw:!0,cellDates:!0}),w=x[0],A=x.slice(1),N=c["!cols"]||[],S=0,I=0,j=0,D=1;for(S=0;S<w.length;++S){if(((N[S]||{}).DBF||{}).name){w[S]=N[S].DBF.name,++j;continue}if(w[S]!=null){if(++j,typeof w[S]=="number"&&(w[S]=w[S].toString(10)),typeof w[S]!="string")throw new Error("DBF Invalid column name "+w[S]+" |"+typeof w[S]+"|");if(w.indexOf(w[S])!==S){for(I=0;I<1024;++I)if(w.indexOf(w[S]+"_"+I)==-1){w[S]+="_"+I;break}}}}var P=Hr(c["!ref"]),V=[],K=[],Z=[];for(S=0;S<=P.e.c-P.s.c;++S){var F="",U="",B=0,J=[];for(I=0;I<A.length;++I)A[I][S]!=null&&J.push(A[I][S]);if(J.length==0||w[S]==null){V[S]="?";continue}for(I=0;I<J.length;++I){switch(typeof J[I]){case"number":U="B";break;case"string":U="C";break;case"boolean":U="L";break;case"object":U=J[I]instanceof Date?"D":"C";break;default:U="C"}B=Math.max(B,String(J[I]).length),F=F&&F!=U?"C":U}B>250&&(B=250),U=((N[S]||{}).DBF||{}).type,U=="C"&&N[S].DBF.len>B&&(B=N[S].DBF.len),F=="B"&&U=="N"&&(F="N",Z[S]=N[S].DBF.dec,B=N[S].DBF.len),K[S]=F=="C"||U=="N"?B:a[F]||0,D+=K[S],V[S]=F}var H=p.next(32);for(H.write_shift(4,318902576),H.write_shift(4,A.length),H.write_shift(2,296+32*j),H.write_shift(2,D),S=0;S<4;++S)H.write_shift(4,0);for(H.write_shift(4,0|(+e[pK]||3)<<8),S=0,I=0;S<w.length;++S)if(w[S]!=null){var G=p.next(32),q=(w[S].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);G.write_shift(1,q,"sbcs"),G.write_shift(1,V[S]=="?"?"C":V[S],"sbcs"),G.write_shift(4,I),G.write_shift(1,K[S]||a[V[S]]||0),G.write_shift(1,Z[S]||0),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(1,0),G.write_shift(4,0),G.write_shift(4,0),I+=K[S]||a[V[S]]||0}var Ce=p.next(264);for(Ce.write_shift(4,13),S=0;S<65;++S)Ce.write_shift(4,0);for(S=0;S<A.length;++S){var re=p.next(D);for(re.write_shift(1,0),I=0;I<w.length;++I)if(w[I]!=null)switch(V[I]){case"L":re.write_shift(1,A[S][I]==null?63:A[S][I]?84:70);break;case"B":re.write_shift(8,A[S][I]||0,"f");break;case"N":var ue="0";for(typeof A[S][I]=="number"&&(ue=A[S][I].toFixed(Z[I]||0)),j=0;j<K[I]-ue.length;++j)re.write_shift(1,32);re.write_shift(1,ue,"sbcs");break;case"D":A[S][I]?(re.write_shift(4,("0000"+A[S][I].getFullYear()).slice(-4),"sbcs"),re.write_shift(2,("00"+(A[S][I].getMonth()+1)).slice(-2),"sbcs"),re.write_shift(2,("00"+A[S][I].getDate()).slice(-2),"sbcs")):re.write_shift(8,"00000000","sbcs");break;case"C":var me=String(A[S][I]!=null?A[S][I]:"").slice(0,K[I]);for(re.write_shift(1,me,"sbcs"),j=0;j<K[I]-me.length;++j)re.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:i,to_sheet:r,from_sheet:s}})(),Dke=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Va(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(w,A){var N=t[A];return typeof N=="number"?z7(N):N},r=function(w,A,N){var S=A.charCodeAt(0)-32<<4|N.charCodeAt(0)-48;return S==59?w:z7(S)};t["|"]=254;function i(w,A){switch(A.type){case"base64":return a(wu(w),A);case"binary":return a(w,A);case"buffer":return a(Jn&&Buffer.isBuffer(w)?w.toString("binary"):rx(w),A);case"array":return a(eE(w),A)}throw new Error("Unrecognized type "+A.type)}function a(w,A){var N=w.split(/[\n\r]+/),S=-1,I=-1,j=0,D=0,P=[],V=[],K=null,Z={},F=[],U=[],B=[],J=0,H;for(+A.codepage>=0&&d1(+A.codepage);j!==N.length;++j){J=0;var G=N[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),q=G.replace(/;;/g,"\0").split(";").map(function(fe){return fe.replace(/\u0000/g,";")}),Ce=q[0],re;if(G.length>0)switch(Ce){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":q[1].charAt(0)=="P"&&V.push(G.slice(3).replace(/;;/g,";"));break;case"C":var ue=!1,me=!1,Re=!1,Be=!1,be=-1,Q=-1;for(D=1;D<q.length;++D)switch(q[D].charAt(0)){case"A":break;case"X":I=parseInt(q[D].slice(1))-1,me=!0;break;case"Y":for(S=parseInt(q[D].slice(1))-1,me||(I=0),H=P.length;H<=S;++H)P[H]=[];break;case"K":re=q[D].slice(1),re.charAt(0)==='"'?re=re.slice(1,re.length-1):re==="TRUE"?re=!0:re==="FALSE"?re=!1:isNaN(au(re))?isNaN(p1(re).getDate())||(re=Es(re)):(re=au(re),K!==null&&TK(K)&&(re=OK(re))),ue=!0;break;case"E":Be=!0;var ee=RDe(q[D].slice(1),{r:S,c:I});P[S][I]=[P[S][I],ee];break;case"S":Re=!0,P[S][I]=[P[S][I],"S5S"];break;case"G":break;case"R":be=parseInt(q[D].slice(1))-1;break;case"C":Q=parseInt(q[D].slice(1))-1;break;default:if(A&&A.WTF)throw new Error("SYLK bad record "+G)}if(ue&&(P[S][I]&&P[S][I].length==2?P[S][I][0]=re:P[S][I]=re,K=null),Re){if(Be)throw new Error("SYLK shared formula cannot have own formula");var oe=be>-1&&P[be][Q];if(!oe||!oe[1])throw new Error("SYLK shared formula cannot find base");P[S][I][1]=kDe(oe[1],{r:S-be,c:I-Q})}break;case"F":var se=0;for(D=1;D<q.length;++D)switch(q[D].charAt(0)){case"X":I=parseInt(q[D].slice(1))-1,++se;break;case"Y":for(S=parseInt(q[D].slice(1))-1,H=P.length;H<=S;++H)P[H]=[];break;case"M":J=parseInt(q[D].slice(1))/20;break;case"F":break;case"G":break;case"P":K=V[parseInt(q[D].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(B=q[D].slice(1).split(" "),H=parseInt(B[0],10);H<=parseInt(B[1],10);++H)J=parseInt(B[2],10),U[H-1]=J===0?{hidden:!0}:{wch:J},UO(U[H-1]);break;case"C":I=parseInt(q[D].slice(1))-1,U[I]||(U[I]={});break;case"R":S=parseInt(q[D].slice(1))-1,F[S]||(F[S]={}),J>0?(F[S].hpt=J,F[S].hpx=xX(J)):J===0&&(F[S].hidden=!0);break;default:if(A&&A.WTF)throw new Error("SYLK bad record "+G)}se<1&&(K=null);break;default:if(A&&A.WTF)throw new Error("SYLK bad record "+G)}}return F.length>0&&(Z["!rows"]=F),U.length>0&&(Z["!cols"]=U),A&&A.sheetRows&&(P=P.slice(0,A.sheetRows)),[P,Z]}function s(w,A){var N=i(w,A),S=N[0],I=N[1],j=Kp(S,A);return Va(I).forEach(function(D){j[D]=I[D]}),j}function c(w,A){return Rh(s(w,A),A)}function d(w,A,N,S){var I="C;Y"+(N+1)+";X"+(S+1)+";K";switch(w.t){case"n":I+=w.v||0,w.f&&!w.F&&(I+=";E"+VO(w.f,{r:N,c:S}));break;case"b":I+=w.v?"TRUE":"FALSE";break;case"e":I+=w.w||w.v;break;case"d":I+='"'+(w.w||w.v)+'"';break;case"s":I+='"'+w.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return I}function u(w,A){A.forEach(function(N,S){var I="F;W"+(S+1)+" "+(S+1)+" ";N.hidden?I+="0":(typeof N.width=="number"&&!N.wpx&&(N.wpx=hb(N.width)),typeof N.wpx=="number"&&!N.wch&&(N.wch=pb(N.wpx)),typeof N.wch=="number"&&(I+=Math.round(N.wch))),I.charAt(I.length-1)!=" "&&w.push(I)})}function p(w,A){A.forEach(function(N,S){var I="F;";N.hidden?I+="M0;":N.hpt?I+="M"+20*N.hpt+";":N.hpx&&(I+="M"+20*mb(N.hpx)+";"),I.length>2&&w.push(I+"R"+(S+1))})}function x(w,A){var N=["ID;PWXL;N;E"],S=[],I=Hr(w["!ref"]),j,D=Array.isArray(w),P=`\r
`;N.push("P;PGeneral"),N.push("F;P0;DG0G8;M255"),w["!cols"]&&u(N,w["!cols"]),w["!rows"]&&p(N,w["!rows"]),N.push("B;Y"+(I.e.r-I.s.r+1)+";X"+(I.e.c-I.s.c+1)+";D"+[I.s.c,I.s.r,I.e.c,I.e.r].join(" "));for(var V=I.s.r;V<=I.e.r;++V)for(var K=I.s.c;K<=I.e.c;++K){var Z=mr({r:V,c:K});j=D?(w[V]||[])[K]:w[Z],!(!j||j.v==null&&(!j.f||j.F))&&S.push(d(j,w,V,K))}return N.join(P)+P+S.join(P)+P+"E"+P}return{to_workbook:c,to_sheet:s,from_sheet:x}})(),Pke=(function(){function t(a,s){switch(s.type){case"base64":return e(wu(a),s);case"binary":return e(a,s);case"buffer":return e(Jn&&Buffer.isBuffer(a)?a.toString("binary"):rx(a),s);case"array":return e(eE(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){for(var c=a.split(`
`),d=-1,u=-1,p=0,x=[];p!==c.length;++p){if(c[p].trim()==="BOT"){x[++d]=[],u=0;continue}if(!(d<0)){var w=c[p].trim().split(","),A=w[0],N=w[1];++p;for(var S=c[p]||"";(S.match(/["]/g)||[]).length&1&&p<c.length-1;)S+=`
`+c[++p];switch(S=S.trim(),+A){case-1:if(S==="BOT"){x[++d]=[],u=0;continue}else if(S!=="EOD")throw new Error("Unrecognized DIF special command "+S);break;case 0:S==="TRUE"?x[d][u]=!0:S==="FALSE"?x[d][u]=!1:isNaN(au(N))?isNaN(p1(N).getDate())?x[d][u]=N:x[d][u]=Es(N):x[d][u]=au(N),++u;break;case 1:S=S.slice(1,S.length-1),S=S.replace(/""/g,'"'),S&&S.match(/^=".*"$/)&&(S=S.slice(2,-1)),x[d][u++]=S!==""?S:null;break}if(S==="EOD")break}}return s&&s.sheetRows&&(x=x.slice(0,s.sheetRows)),x}function n(a,s){return Kp(t(a,s),s)}function r(a,s){return Rh(n(a,s),s)}var i=(function(){var a=function(d,u,p,x,w){d.push(u),d.push(p+","+x),d.push('"'+w.replace(/"/g,'""')+'"')},s=function(d,u,p,x){d.push(u+","+p),d.push(u==1?'"'+x.replace(/"/g,'""')+'"':x)};return function(d){var u=[],p=Hr(d["!ref"]),x,w=Array.isArray(d);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,p.e.r-p.s.r+1,""),a(u,"TUPLES",0,p.e.c-p.s.c+1,""),a(u,"DATA",0,0,"");for(var A=p.s.r;A<=p.e.r;++A){s(u,-1,0,"BOT");for(var N=p.s.c;N<=p.e.c;++N){var S=mr({r:A,c:N});if(x=w?(d[A]||[])[N]:d[S],!x){s(u,1,0,"");continue}switch(x.t){case"n":var I=x.w;!I&&x.v!=null&&(I=x.v),I==null?x.f&&!x.F?s(u,1,0,"="+x.f):s(u,1,0,""):s(u,0,I,"V");break;case"b":s(u,0,x.v?1:0,x.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(x.v)?x.v:'="'+x.v+'"');break;case"d":x.w||(x.w=Kf(x.z||Ai[14],Vs(Es(x.v)))),s(u,0,x.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var j=`\r
`,D=u.join(j);return D}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),hX=(function(){function t(x){return x.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(x){return x.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(x,w){for(var A=x.split(`
`),N=-1,S=-1,I=0,j=[];I!==A.length;++I){var D=A[I].trim().split(":");if(D[0]==="cell"){var P=ga(D[1]);if(j.length<=P.r)for(N=j.length;N<=P.r;++N)j[N]||(j[N]=[]);switch(N=P.r,S=P.c,D[2]){case"t":j[N][S]=t(D[3]);break;case"v":j[N][S]=+D[3];break;case"vtf":var V=D[D.length-1];case"vtc":D[3]==="nl"?j[N][S]=!!+D[4]:j[N][S]=+D[4],D[2]=="vtf"&&(j[N][S]=[j[N][S],V])}}}return w&&w.sheetRows&&(j=j.slice(0,w.sheetRows)),j}function r(x,w){return Kp(n(x,w),w)}function i(x,w){return Rh(r(x,w),w)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function u(x){if(!x||!x["!ref"])return"";for(var w=[],A=[],N,S="",I=wo(x["!ref"]),j=Array.isArray(x),D=I.s.r;D<=I.e.r;++D)for(var P=I.s.c;P<=I.e.c;++P)if(S=mr({r:D,c:P}),N=j?(x[D]||[])[P]:x[S],!(!N||N.v==null||N.t==="z")){switch(A=["cell",S,"t"],N.t){case"s":case"str":A.push(e(N.v));break;case"n":N.f?(A[2]="vtf",A[3]="n",A[4]=N.v,A[5]=e(N.f)):(A[2]="v",A[3]=N.v);break;case"b":A[2]="vt"+(N.f?"f":"c"),A[3]="nl",A[4]=N.v?"1":"0",A[5]=e(N.f||(N.v?"TRUE":"FALSE"));break;case"d":var V=Vs(Es(N.v));A[2]="vtc",A[3]="nd",A[4]=""+V,A[5]=N.w||Kf(N.z||Ai[14],V);break;case"e":continue}w.push(A.join(":"))}return w.push("sheet:c:"+(I.e.c-I.s.c+1)+":r:"+(I.e.r-I.s.r+1)+":tvf:1"),w.push("valueformat:1:text-wiki"),w.join(`
`)}function p(x){return[a,s,c,s,u(x),d].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:p}})(),jke=(function(){function t(p,x,w,A,N){N.raw?x[w][A]=p:p===""||(p==="TRUE"?x[w][A]=!0:p==="FALSE"?x[w][A]=!1:isNaN(au(p))?isNaN(p1(p).getDate())?x[w][A]=p:x[w][A]=Es(p):x[w][A]=au(p))}function e(p,x){var w=x||{},A=[];if(!p||p.length===0)return A;for(var N=p.split(/[\r\n]/),S=N.length-1;S>=0&&N[S].length===0;)--S;for(var I=10,j=0,D=0;D<=S;++D)j=N[D].indexOf(" "),j==-1?j=N[D].length:j++,I=Math.max(I,j);for(D=0;D<=S;++D){A[D]=[];var P=0;for(t(N[D].slice(0,I).trim(),A,D,P,w),P=1;P<=(N[D].length-I)/10+1;++P)t(N[D].slice(I+(P-1)*10,I+P*10).trim(),A,D,P,w)}return w.sheetRows&&(A=A.slice(0,w.sheetRows)),A}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(p){for(var x={},w=!1,A=0,N=0;A<p.length;++A)(N=p.charCodeAt(A))==34?w=!w:!w&&N in n&&(x[N]=(x[N]||0)+1);N=[];for(A in x)Object.prototype.hasOwnProperty.call(x,A)&&N.push([x[A],A]);if(!N.length){x=r;for(A in x)Object.prototype.hasOwnProperty.call(x,A)&&N.push([x[A],A])}return N.sort(function(S,I){return S[0]-I[0]||r[S[1]]-r[I[1]]}),n[N.pop()[1]]||44}function a(p,x){var w=x||{},A="",N=w.dense?[]:{},S={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(A=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(A=p.charAt(4),p=p.slice(6)):A=i(p.slice(0,1024)):w&&w.FS?A=w.FS:A=i(p.slice(0,1024));var I=0,j=0,D=0,P=0,V=0,K=A.charCodeAt(0),Z=!1,F=0,U=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var B=w.dateNF!=null?Z8e(w.dateNF):null;function J(){var H=p.slice(P,V),G={};if(H.charAt(0)=='"'&&H.charAt(H.length-1)=='"'&&(H=H.slice(1,-1).replace(/""/g,'"')),H.length===0)G.t="z";else if(w.raw)G.t="s",G.v=H;else if(H.trim().length===0)G.t="s",G.v=H;else if(H.charCodeAt(0)==61)H.charCodeAt(1)==34&&H.charCodeAt(H.length-1)==34?(G.t="s",G.v=H.slice(2,-1).replace(/""/g,'"')):DDe(H)?(G.t="n",G.f=H.slice(1)):(G.t="s",G.v=H);else if(H=="TRUE")G.t="b",G.v=!0;else if(H=="FALSE")G.t="b",G.v=!1;else if(!isNaN(D=au(H)))G.t="n",w.cellText!==!1&&(G.w=H),G.v=D;else if(!isNaN(p1(H).getDate())||B&&H.match(B)){G.z=w.dateNF||Ai[14];var q=0;B&&H.match(B)&&(H=J8e(H,w.dateNF,H.match(B)||[]),q=1),w.cellDates?(G.t="d",G.v=Es(H,q)):(G.t="n",G.v=Vs(Es(H,q))),w.cellText!==!1&&(G.w=Kf(G.z,G.v instanceof Date?Vs(G.v):G.v)),w.cellNF||delete G.z}else G.t="s",G.v=H;if(G.t=="z"||(w.dense?(N[I]||(N[I]=[]),N[I][j]=G):N[mr({c:j,r:I})]=G),P=V+1,U=p.charCodeAt(P),S.e.c<j&&(S.e.c=j),S.e.r<I&&(S.e.r=I),F==K)++j;else if(j=0,++I,w.sheetRows&&w.sheetRows<=I)return!0}e:for(;V<p.length;++V)switch(F=p.charCodeAt(V)){case 34:U===34&&(Z=!Z);break;case K:case 10:case 13:if(!Z&&J())break e;break}return V-P>0&&J(),N["!ref"]=Ki(S),N}function s(p,x){return!(x&&x.PRN)||x.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?a(p,x):Kp(e(p,x),x)}function c(p,x){var w="",A=x.type=="string"?[0,0,0,0]:$je(p,x);switch(x.type){case"base64":w=wu(p);break;case"binary":w=p;break;case"buffer":x.codepage==65001?w=p.toString("utf8"):x.codepage&&typeof ib<"u"||(w=Jn&&Buffer.isBuffer(p)?p.toString("binary"):rx(p));break;case"array":w=eE(p);break;case"string":w=p;break;default:throw new Error("Unrecognized type "+x.type)}return A[0]==239&&A[1]==187&&A[2]==191?w=Eg(w.slice(3)):x.type!="string"&&x.type!="buffer"&&x.codepage==65001?w=Eg(w):x.type=="binary"&&typeof ib<"u",w.slice(0,19)=="socialcalc:version:"?hX.to_sheet(x.type=="string"?w:Eg(w),x):s(w,x)}function d(p,x){return Rh(c(p,x),x)}function u(p){for(var x=[],w=Hr(p["!ref"]),A,N=Array.isArray(p),S=w.s.r;S<=w.e.r;++S){for(var I=[],j=w.s.c;j<=w.e.c;++j){var D=mr({r:S,c:j});if(A=N?(p[S]||[])[j]:p[D],!A||A.v==null){I.push("          ");continue}for(var P=(A.w||(Eu(A),A.w)||"").slice(0,10);P.length<10;)P+=" ";I.push(P+(j===0?" ":""))}x.push(I.join(""))}return x.join(`
`)}return{to_workbook:d,to_sheet:c,from_sheet:u}})(),yF=(function(){function t(ee,oe,se){if(ee){uo(ee,ee.l||0);for(var fe=se.Enum||be;ee.l<ee.length;){var Ee=ee.read_shift(2),Ne=fe[Ee]||fe[65535],Ge=ee.read_shift(2),_e=ee.l+Ge,ze=Ne.f&&Ne.f(ee,Ge,se);if(ee.l=_e,oe(ze,Ne,Ee))return}}}function e(ee,oe){switch(oe.type){case"base64":return n(vl(wu(ee)),oe);case"binary":return n(vl(ee),oe);case"buffer":case"array":return n(ee,oe)}throw"Unsupported type "+oe.type}function n(ee,oe){if(!ee)return ee;var se=oe||{},fe=se.dense?[]:{},Ee="Sheet1",Ne="",Ge=0,_e={},ze=[],tt=[],Me={s:{r:0,c:0},e:{r:0,c:0}},gt=se.sheetRows||0;if(ee[2]==0&&(ee[3]==8||ee[3]==9)&&ee.length>=16&&ee[14]==5&&ee[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(ee[2]==2)se.Enum=be,t(ee,function(st,It,_t){switch(_t){case 0:se.vers=st,st>=4096&&(se.qpro=!0);break;case 6:Me=st;break;case 204:st&&(Ne=st);break;case 222:Ne=st;break;case 15:case 51:se.qpro||(st[1].v=st[1].v.slice(1));case 13:case 14:case 16:_t==14&&(st[2]&112)==112&&(st[2]&15)>1&&(st[2]&15)<15&&(st[1].z=se.dateNF||Ai[14],se.cellDates&&(st[1].t="d",st[1].v=OK(st[1].v))),se.qpro&&st[3]>Ge&&(fe["!ref"]=Ki(Me),_e[Ee]=fe,ze.push(Ee),fe=se.dense?[]:{},Me={s:{r:0,c:0},e:{r:0,c:0}},Ge=st[3],Ee=Ne||"Sheet"+(Ge+1),Ne="");var bt=se.dense?(fe[st[0].r]||[])[st[0].c]:fe[mr(st[0])];if(bt){bt.t=st[1].t,bt.v=st[1].v,st[1].z!=null&&(bt.z=st[1].z),st[1].f!=null&&(bt.f=st[1].f);break}se.dense?(fe[st[0].r]||(fe[st[0].r]=[]),fe[st[0].r][st[0].c]=st[1]):fe[mr(st[0])]=st[1];break}},se);else if(ee[2]==26||ee[2]==14)se.Enum=Q,ee[2]==14&&(se.qpro=!0,ee.l=0),t(ee,function(st,It,_t){switch(_t){case 204:Ee=st;break;case 22:st[1].v=st[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(st[3]>Ge&&(fe["!ref"]=Ki(Me),_e[Ee]=fe,ze.push(Ee),fe=se.dense?[]:{},Me={s:{r:0,c:0},e:{r:0,c:0}},Ge=st[3],Ee="Sheet"+(Ge+1)),gt>0&&st[0].r>=gt)break;se.dense?(fe[st[0].r]||(fe[st[0].r]=[]),fe[st[0].r][st[0].c]=st[1]):fe[mr(st[0])]=st[1],Me.e.c<st[0].c&&(Me.e.c=st[0].c),Me.e.r<st[0].r&&(Me.e.r=st[0].r);break;case 27:st[14e3]&&(tt[st[14e3][0]]=st[14e3][1]);break;case 1537:tt[st[0]]=st[1],st[0]==Ge&&(Ee=st[1]);break}},se);else throw new Error("Unrecognized LOTUS BOF "+ee[2]);if(fe["!ref"]=Ki(Me),_e[Ne||Ee]=fe,ze.push(Ne||Ee),!tt.length)return{SheetNames:ze,Sheets:_e};for(var nt={},Ut=[],Ct=0;Ct<tt.length;++Ct)_e[ze[Ct]]?(Ut.push(tt[Ct]||ze[Ct]),nt[tt[Ct]]=_e[tt[Ct]]||_e[ze[Ct]]):(Ut.push(tt[Ct]),nt[tt[Ct]]={"!ref":"A1"});return{SheetNames:Ut,Sheets:nt}}function r(ee,oe){var se=oe||{};if(+se.codepage>=0&&d1(+se.codepage),se.type=="string")throw new Error("Cannot write WK1 to JS string");var fe=Us(),Ee=Hr(ee["!ref"]),Ne=Array.isArray(ee),Ge=[];St(fe,0,a(1030)),St(fe,6,d(Ee));for(var _e=Math.min(Ee.e.r,8191),ze=Ee.s.r;ze<=_e;++ze)for(var tt=Ua(ze),Me=Ee.s.c;Me<=Ee.e.c;++Me){ze===Ee.s.r&&(Ge[Me]=is(Me));var gt=Ge[Me]+tt,nt=Ne?(ee[ze]||[])[Me]:ee[gt];if(!(!nt||nt.t=="z"))if(nt.t=="n")(nt.v|0)==nt.v&&nt.v>=-32768&&nt.v<=32767?St(fe,13,A(ze,Me,nt.v)):St(fe,14,S(ze,Me,nt.v));else{var Ut=Eu(nt);St(fe,15,x(ze,Me,Ut.slice(0,239)))}}return St(fe,1),fe.end()}function i(ee,oe){var se=oe||{};if(+se.codepage>=0&&d1(+se.codepage),se.type=="string")throw new Error("Cannot write WK3 to JS string");var fe=Us();St(fe,0,s(ee));for(var Ee=0,Ne=0;Ee<ee.SheetNames.length;++Ee)(ee.Sheets[ee.SheetNames[Ee]]||{})["!ref"]&&St(fe,27,Be(ee.SheetNames[Ee],Ne++));var Ge=0;for(Ee=0;Ee<ee.SheetNames.length;++Ee){var _e=ee.Sheets[ee.SheetNames[Ee]];if(!(!_e||!_e["!ref"])){for(var ze=Hr(_e["!ref"]),tt=Array.isArray(_e),Me=[],gt=Math.min(ze.e.r,8191),nt=ze.s.r;nt<=gt;++nt)for(var Ut=Ua(nt),Ct=ze.s.c;Ct<=ze.e.c;++Ct){nt===ze.s.r&&(Me[Ct]=is(Ct));var st=Me[Ct]+Ut,It=tt?(_e[nt]||[])[Ct]:_e[st];if(!(!It||It.t=="z"))if(It.t=="n")St(fe,23,J(nt,Ct,Ge,It.v));else{var _t=Eu(It);St(fe,22,F(nt,Ct,Ge,_t.slice(0,239)))}}++Ge}}return St(fe,1),fe.end()}function a(ee){var oe=Je(2);return oe.write_shift(2,ee),oe}function s(ee){var oe=Je(26);oe.write_shift(2,4096),oe.write_shift(2,4),oe.write_shift(4,0);for(var se=0,fe=0,Ee=0,Ne=0;Ne<ee.SheetNames.length;++Ne){var Ge=ee.SheetNames[Ne],_e=ee.Sheets[Ge];if(!(!_e||!_e["!ref"])){++Ee;var ze=wo(_e["!ref"]);se<ze.e.r&&(se=ze.e.r),fe<ze.e.c&&(fe=ze.e.c)}}return se>8191&&(se=8191),oe.write_shift(2,se),oe.write_shift(1,Ee),oe.write_shift(1,fe),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(1,1),oe.write_shift(1,2),oe.write_shift(4,0),oe.write_shift(4,0),oe}function c(ee,oe,se){var fe={s:{c:0,r:0},e:{c:0,r:0}};return oe==8&&se.qpro?(fe.s.c=ee.read_shift(1),ee.l++,fe.s.r=ee.read_shift(2),fe.e.c=ee.read_shift(1),ee.l++,fe.e.r=ee.read_shift(2),fe):(fe.s.c=ee.read_shift(2),fe.s.r=ee.read_shift(2),oe==12&&se.qpro&&(ee.l+=2),fe.e.c=ee.read_shift(2),fe.e.r=ee.read_shift(2),oe==12&&se.qpro&&(ee.l+=2),fe.s.c==65535&&(fe.s.c=fe.e.c=fe.s.r=fe.e.r=0),fe)}function d(ee){var oe=Je(8);return oe.write_shift(2,ee.s.c),oe.write_shift(2,ee.s.r),oe.write_shift(2,ee.e.c),oe.write_shift(2,ee.e.r),oe}function u(ee,oe,se){var fe=[{c:0,r:0},{t:"n",v:0},0,0];return se.qpro&&se.vers!=20768?(fe[0].c=ee.read_shift(1),fe[3]=ee.read_shift(1),fe[0].r=ee.read_shift(2),ee.l+=2):(fe[2]=ee.read_shift(1),fe[0].c=ee.read_shift(2),fe[0].r=ee.read_shift(2)),fe}function p(ee,oe,se){var fe=ee.l+oe,Ee=u(ee,oe,se);if(Ee[1].t="s",se.vers==20768){ee.l++;var Ne=ee.read_shift(1);return Ee[1].v=ee.read_shift(Ne,"utf8"),Ee}return se.qpro&&ee.l++,Ee[1].v=ee.read_shift(fe-ee.l,"cstr"),Ee}function x(ee,oe,se){var fe=Je(7+se.length);fe.write_shift(1,255),fe.write_shift(2,oe),fe.write_shift(2,ee),fe.write_shift(1,39);for(var Ee=0;Ee<fe.length;++Ee){var Ne=se.charCodeAt(Ee);fe.write_shift(1,Ne>=128?95:Ne)}return fe.write_shift(1,0),fe}function w(ee,oe,se){var fe=u(ee,oe,se);return fe[1].v=ee.read_shift(2,"i"),fe}function A(ee,oe,se){var fe=Je(7);return fe.write_shift(1,255),fe.write_shift(2,oe),fe.write_shift(2,ee),fe.write_shift(2,se,"i"),fe}function N(ee,oe,se){var fe=u(ee,oe,se);return fe[1].v=ee.read_shift(8,"f"),fe}function S(ee,oe,se){var fe=Je(13);return fe.write_shift(1,255),fe.write_shift(2,oe),fe.write_shift(2,ee),fe.write_shift(8,se,"f"),fe}function I(ee,oe,se){var fe=ee.l+oe,Ee=u(ee,oe,se);if(Ee[1].v=ee.read_shift(8,"f"),se.qpro)ee.l=fe;else{var Ne=ee.read_shift(2);V(ee.slice(ee.l,ee.l+Ne),Ee),ee.l+=Ne}return Ee}function j(ee,oe,se){var fe=oe&32768;return oe&=-32769,oe=(fe?ee:0)+(oe>=8192?oe-16384:oe),(fe?"":"$")+(se?is(oe):Ua(oe))}var D={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},P=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function V(ee,oe){uo(ee,0);for(var se=[],fe=0,Ee="",Ne="",Ge="",_e="";ee.l<ee.length;){var ze=ee[ee.l++];switch(ze){case 0:se.push(ee.read_shift(8,"f"));break;case 1:Ne=j(oe[0].c,ee.read_shift(2),!0),Ee=j(oe[0].r,ee.read_shift(2),!1),se.push(Ne+Ee);break;case 2:{var tt=j(oe[0].c,ee.read_shift(2),!0),Me=j(oe[0].r,ee.read_shift(2),!1);Ne=j(oe[0].c,ee.read_shift(2),!0),Ee=j(oe[0].r,ee.read_shift(2),!1),se.push(tt+Me+":"+Ne+Ee)}break;case 3:if(ee.l<ee.length){console.error("WK1 premature formula end");return}break;case 4:se.push("("+se.pop()+")");break;case 5:se.push(ee.read_shift(2));break;case 6:{for(var gt="";ze=ee[ee.l++];)gt+=String.fromCharCode(ze);se.push('"'+gt.replace(/"/g,'""')+'"')}break;case 8:se.push("-"+se.pop());break;case 23:se.push("+"+se.pop());break;case 22:se.push("NOT("+se.pop()+")");break;case 20:case 21:_e=se.pop(),Ge=se.pop(),se.push(["AND","OR"][ze-20]+"("+Ge+","+_e+")");break;default:if(ze<32&&P[ze])_e=se.pop(),Ge=se.pop(),se.push(Ge+P[ze]+_e);else if(D[ze]){if(fe=D[ze][1],fe==69&&(fe=ee[ee.l++]),fe>se.length){console.error("WK1 bad formula parse 0x"+ze.toString(16)+":|"+se.join("|")+"|");return}var nt=se.slice(-fe);se.length-=fe,se.push(D[ze][0]+"("+nt.join(",")+")")}else return ze<=7?console.error("WK1 invalid opcode "+ze.toString(16)):ze<=24?console.error("WK1 unsupported op "+ze.toString(16)):ze<=30?console.error("WK1 invalid opcode "+ze.toString(16)):ze<=115?console.error("WK1 unsupported function opcode "+ze.toString(16)):console.error("WK1 unrecognized opcode "+ze.toString(16))}}se.length==1?oe[1].f=""+se[0]:console.error("WK1 bad formula parse |"+se.join("|")+"|")}function K(ee){var oe=[{c:0,r:0},{t:"n",v:0},0];return oe[0].r=ee.read_shift(2),oe[3]=ee[ee.l++],oe[0].c=ee[ee.l++],oe}function Z(ee,oe){var se=K(ee);return se[1].t="s",se[1].v=ee.read_shift(oe-4,"cstr"),se}function F(ee,oe,se,fe){var Ee=Je(6+fe.length);Ee.write_shift(2,ee),Ee.write_shift(1,se),Ee.write_shift(1,oe),Ee.write_shift(1,39);for(var Ne=0;Ne<fe.length;++Ne){var Ge=fe.charCodeAt(Ne);Ee.write_shift(1,Ge>=128?95:Ge)}return Ee.write_shift(1,0),Ee}function U(ee,oe){var se=K(ee);se[1].v=ee.read_shift(2);var fe=se[1].v>>1;if(se[1].v&1)switch(fe&7){case 0:fe=(fe>>3)*5e3;break;case 1:fe=(fe>>3)*500;break;case 2:fe=(fe>>3)/20;break;case 3:fe=(fe>>3)/200;break;case 4:fe=(fe>>3)/2e3;break;case 5:fe=(fe>>3)/2e4;break;case 6:fe=(fe>>3)/16;break;case 7:fe=(fe>>3)/64;break}return se[1].v=fe,se}function B(ee,oe){var se=K(ee),fe=ee.read_shift(4),Ee=ee.read_shift(4),Ne=ee.read_shift(2);if(Ne==65535)return fe===0&&Ee===3221225472?(se[1].t="e",se[1].v=15):fe===0&&Ee===3489660928?(se[1].t="e",se[1].v=42):se[1].v=0,se;var Ge=Ne&32768;return Ne=(Ne&32767)-16446,se[1].v=(1-Ge*2)*(Ee*Math.pow(2,Ne+32)+fe*Math.pow(2,Ne)),se}function J(ee,oe,se,fe){var Ee=Je(14);if(Ee.write_shift(2,ee),Ee.write_shift(1,se),Ee.write_shift(1,oe),fe==0)return Ee.write_shift(4,0),Ee.write_shift(4,0),Ee.write_shift(2,65535),Ee;var Ne=0,Ge=0,_e=0,ze=0;return fe<0&&(Ne=1,fe=-fe),Ge=Math.log2(fe)|0,fe/=Math.pow(2,Ge-31),ze=fe>>>0,(ze&2147483648)==0&&(fe/=2,++Ge,ze=fe>>>0),fe-=ze,ze|=2147483648,ze>>>=0,fe*=Math.pow(2,32),_e=fe>>>0,Ee.write_shift(4,_e),Ee.write_shift(4,ze),Ge+=16383+(Ne?32768:0),Ee.write_shift(2,Ge),Ee}function H(ee,oe){var se=B(ee);return ee.l+=oe-14,se}function G(ee,oe){var se=K(ee),fe=ee.read_shift(4);return se[1].v=fe>>6,se}function q(ee,oe){var se=K(ee),fe=ee.read_shift(8,"f");return se[1].v=fe,se}function Ce(ee,oe){var se=q(ee);return ee.l+=oe-10,se}function re(ee,oe){return ee[ee.l+oe-1]==0?ee.read_shift(oe,"cstr"):""}function ue(ee,oe){var se=ee[ee.l++];se>oe-1&&(se=oe-1);for(var fe="";fe.length<se;)fe+=String.fromCharCode(ee[ee.l++]);return fe}function me(ee,oe,se){if(!(!se.qpro||oe<21)){var fe=ee.read_shift(1);ee.l+=17,ee.l+=1,ee.l+=2;var Ee=ee.read_shift(oe-21,"cstr");return[fe,Ee]}}function Re(ee,oe){for(var se={},fe=ee.l+oe;ee.l<fe;){var Ee=ee.read_shift(2);if(Ee==14e3){for(se[Ee]=[0,""],se[Ee][0]=ee.read_shift(2);ee[ee.l];)se[Ee][1]+=String.fromCharCode(ee[ee.l]),ee.l++;ee.l++}}return se}function Be(ee,oe){var se=Je(5+ee.length);se.write_shift(2,14e3),se.write_shift(2,oe);for(var fe=0;fe<ee.length;++fe){var Ee=ee.charCodeAt(fe);se[se.l++]=Ee>127?95:Ee}return se[se.l++]=0,se}var be={0:{n:"BOF",f:lX},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:w},14:{n:"NUMBER",f:N},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:I},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:re},222:{n:"SHEETNAMELP",f:ue},65535:{n:""}},Q={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:Z},23:{n:"NUMBER17",f:B},24:{n:"NUMBER18",f:U},25:{n:"FORMULA19",f:H},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Re},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:G},38:{n:"??"},39:{n:"NUMBER27",f:q},40:{n:"FORMULA28",f:Ce},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:re},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:me},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})(),Lke=/^\s|\s$|[\t\n\r]/;function pX(t,e){if(!e.bookSST)return"";var n=[Xi];n[n.length]=At("sst",null,{xmlns:$p[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var i=t[r],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(Lke)&&(a+=' xml:space="preserve"'),a+=">"+pr(i.t)+"</t>"),a+="</si>",n[n.length]=a}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function Fke(t){return[t.read_shift(4),t.read_shift(4)]}function Bke(t,e){return e||(e=Je(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var Uke=ORe;function zke(t){var e=Us();ut(e,159,Bke(t));for(var n=0;n<t.length;++n)ut(e,19,Uke(t[n]));return ut(e,160),e.end()}function Vke(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function mX(t){var e=0,n,r=Vke(t),i=r.length+1,a,s,c,d,u;for(n=mh(i),n[0]=r.length,a=1;a!=i;++a)n[a]=r[a-1];for(a=i-1;a>=0;--a)s=n[a],c=(e&16384)===0?0:1,d=e<<1&32767,u=c|d,e=u^s;return e^52811}var Hke=(function(){function t(i,a){switch(a.type){case"base64":return e(wu(i),a);case"binary":return e(i,a);case"buffer":return e(Jn&&Buffer.isBuffer(i)?i.toString("binary"):rx(i),a);case"array":return e(eE(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var s=a||{},c=s.dense?[]:{},d=i.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(p,x){Array.isArray(c)&&(c[x]=[]);for(var w=/\\\w+\b/g,A=0,N,S=-1;N=w.exec(p);){switch(N[0]){case"\\cell":var I=p.slice(A,w.lastIndex-N[0].length);if(I[0]==" "&&(I=I.slice(1)),++S,I.length){var j={v:I,t:"s"};Array.isArray(c)?c[x][S]=j:c[mr({r:x,c:S})]=j}break}A=w.lastIndex}S>u.e.c&&(u.e.c=S)}),c["!ref"]=Ki(u),c}function n(i,a){return Rh(t(i,a),a)}function r(i){for(var a=["{\\rtf1\\ansi"],s=Hr(i["!ref"]),c,d=Array.isArray(i),u=s.s.r;u<=s.e.r;++u){a.push("\\trowd\\trautofit1");for(var p=s.s.c;p<=s.e.c;++p)a.push("\\cellx"+(p+1));for(a.push("\\pard\\intbl"),p=s.s.c;p<=s.e.c;++p){var x=mr({r:u,c:p});c=d?(i[u]||[])[p]:i[x],!(!c||c.v==null&&(!c.f||c.F))&&(a.push(" "+(c.w||(Eu(c),c.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function vF(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}var Wke=6,su=Wke;function hb(t){return Math.floor((t+Math.round(128/su)/256)*su)}function pb(t){return Math.floor((t-5)/su*100+.5)/100}function D4(t){return Math.round((t*su+5)/su*256)/256}function UO(t){t.width?(t.wpx=hb(t.width),t.wch=pb(t.wpx),t.MDW=su):t.wpx?(t.wch=pb(t.wpx),t.width=D4(t.wch),t.MDW=su):typeof t.wch=="number"&&(t.width=D4(t.wch),t.wpx=hb(t.width),t.MDW=su),t.customWidth&&delete t.customWidth}var Gke=96,gX=Gke;function mb(t){return t*96/gX}function xX(t){return t*gX/96}function qke(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=At("numFmt",null,{numFmtId:r,formatCode:pr(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=At("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Yke(t){var e=[];return e[e.length]=At("cellXfs",null),t.forEach(function(n){e[e.length]=At("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=At("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function yX(t,e){var n=[Xi,At("styleSheet",null,{xmlns:$p[0],"xmlns:vt":pa.vt})],r;return t.SSF&&(r=qke(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=Yke(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function $ke(t,e){var n=t.read_shift(2),r=as(t);return[n,r]}function Kke(t,e,n){n||(n=Je(6+4*e.length)),n.write_shift(2,t),xa(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function Xke(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=LRe(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var a=t.read_shift(2);switch(a===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var s=t.read_shift(1);s!=0&&(r.underline=s);var c=t.read_shift(1);c>0&&(r.family=c);var d=t.read_shift(1);switch(d>0&&(r.charset=d),t.l++,r.color=jRe(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=as(t),r}function Qke(t,e){e||(e=Je(153)),e.write_shift(2,t.sz*20),FRe(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),fb(t.color,e);var r=0;return r=2,e.write_shift(1,r),xa(t.name,e),e.length>e.l?e.slice(0,e.l):e}var Zke=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],yT,Jke=gc;function bF(t,e){e||(e=Je(84)),yT||(yT=IO(Zke));var n=yT[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(fb({auto:1},e),fb({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function eDe(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}function vX(t,e,n){n||(n=Je(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function Km(t,e){return e||(e=Je(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var tDe=gc;function nDe(t,e){return e||(e=Je(51)),e.write_shift(1,0),Km(null,e),Km(null,e),Km(null,e),Km(null,e),Km(null,e),e.length>e.l?e.slice(0,e.l):e}function rDe(t,e){return e||(e=Je(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),ub(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function iDe(t,e,n){var r=Je(2052);return r.write_shift(4,t),ub(e,r),ub(n,r),r.length>r.l?r.slice(0,r.l):r}function aDe(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++n}),n!=0&&(ut(t,615,Al(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&ut(t,44,Kke(i,e[i]))}),ut(t,616))}}function sDe(t){var e=1;ut(t,611,Al(e)),ut(t,43,Qke({sz:12,color:{theme:1},name:"Calibri",family:2})),ut(t,612)}function oDe(t){var e=2;ut(t,603,Al(e)),ut(t,45,bF({patternType:"none"})),ut(t,45,bF({patternType:"gray125"})),ut(t,604)}function lDe(t){var e=1;ut(t,613,Al(e)),ut(t,46,nDe()),ut(t,614)}function cDe(t){var e=1;ut(t,626,Al(e)),ut(t,47,vX({numFmtId:0},65535)),ut(t,627)}function uDe(t,e){ut(t,617,Al(e.length)),e.forEach(function(n){ut(t,47,vX(n,0))}),ut(t,618)}function fDe(t){var e=1;ut(t,619,Al(e)),ut(t,48,rDe({xfId:0,name:"Normal"})),ut(t,620)}function dDe(t){var e=0;ut(t,505,Al(e)),ut(t,506)}function hDe(t){var e=0;ut(t,508,iDe(e,"TableStyleMedium9","PivotStyleMedium4")),ut(t,509)}function pDe(t,e){var n=Us();return ut(n,278),aDe(n,t.SSF),sDe(n),oDe(n),lDe(n),cDe(n),uDe(n,e.cellXfs),fDe(n),dDe(n),hDe(n),ut(n,279),n.end()}function bX(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[Xi];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function mDe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:as(t)}}function gDe(t){var e=Je(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),xa(t.name,e),e.slice(0,e.l)}function xDe(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function yDe(t){var e=Je(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function vDe(t,e){var n=Je(8+2*e.length);return n.write_shift(4,t),xa(e,n),n.slice(0,n.l)}function bDe(t){return t.l+=4,t.read_shift(4)!=0}function wDe(t,e){var n=Je(8);return n.write_shift(4,t),n.write_shift(4,1),n}function EDe(){var t=Us();return ut(t,332),ut(t,334,Al(1)),ut(t,335,gDe({name:"XLDAPR",version:12e4,flags:3496657072})),ut(t,336),ut(t,339,vDe(1,"XLDAPR")),ut(t,52),ut(t,35,Al(514)),ut(t,4096,Al(0)),ut(t,4097,Ho(1)),ut(t,36),ut(t,53),ut(t,340),ut(t,337,wDe(1)),ut(t,51,yDe([[1,0]])),ut(t,338),ut(t,333),t.end()}function wX(){var t=[Xi];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function _De(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=mr(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var L0=1024;function EX(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[At("xml",null,{"xmlns:v":fo.v,"xmlns:o":fo.o,"xmlns:x":fo.x,"xmlns:mv":fo.mv}).replace(/\/>/,">"),At("o:shapelayout",At("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),At("v:shapetype",[At("v:stroke",null,{joinstyle:"miter"}),At("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];L0<t*1e3;)L0+=1e3;return e.forEach(function(a){var s=ga(a[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var d=c.type=="gradient"?At("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=At("v:fill",d,c),p={on:"t",obscured:"t"};++L0,i=i.concat(["<v:shape"+g1({id:"_x0000_s"+L0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,At("v:shadow",null,p),At("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Fa("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),Fa("x:AutoFill","False"),Fa("x:Row",String(s.r)),Fa("x:Column",String(s.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function _X(t){var e=[Xi,At("comments",null,{xmlns:$p[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(i){var a=pr(i.a);n.indexOf(a)==-1&&(n.push(a),e.push("<author>"+a+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var i=0,a=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(d){d.a&&(i=n.indexOf(pr(d.a))),a.push(d.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),a.length<=1)e.push(Fa("t",pr(a[0]||"")));else{for(var s=`Comment:
    `+a[0]+`
`,c=1;c<a.length;++c)s+=`Reply:
    `+a[c]+`
`;e.push(Fa("t",pr(s)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function ADe(t,e,n){var r=[Xi,At("ThreadedComments",null,{xmlns:pa.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var a="";(i[1]||[]).forEach(function(s,c){if(!s.T){delete s.ID;return}s.a&&e.indexOf(s.a)==-1&&e.push(s.a);var d={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};c==0?a=d.id:d.parentId=a,s.ID=d.id,s.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(s.a)).slice(-12)+"}"),r.push(At("threadedComment",Fa("text",s.t||""),d))})}),r.push("</ThreadedComments>"),r.join("")}function SDe(t){var e=[Xi,At("personList",null,{xmlns:pa.TCMNT,"xmlns:x":$p[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(At("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function TDe(t){var e={};e.iauthor=t.read_shift(4);var n=jh(t);return e.rfx=n.s,e.ref=mr(n.s),t.l+=16,e}function CDe(t,e){return e==null&&(e=Je(36)),e.write_shift(4,t[1].iauthor),Xp(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var IDe=as;function NDe(t){return xa(t.slice(0,54))}function ODe(t){var e=Us(),n=[];return ut(e,628),ut(e,630),t.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),ut(e,632,NDe(i.a)))})}),ut(e,631),ut(e,633),t.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var a={s:ga(r[0]),e:ga(r[0])};ut(e,635,CDe([a,i])),i.t&&i.t.length>0&&ut(e,637,RRe(i)),ut(e,636),delete i.iauthor})}),ut(e,634),ut(e,629),e.end()}function MDe(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&br.utils.cfb_add(t,i,e.FileIndex[r].content)}})}var AX=["xlsb","xlsm","xlam","biff8","xla"],RDe=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,a,s){var c=!1,d=!1;a.length==0?d=!0:a.charAt(0)=="["&&(d=!0,a=a.slice(1,-1)),s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,p=s.length>0?parseInt(s,10)|0:0;return c?p+=e.c:--p,d?u+=e.r:--u,i+(c?"":"$")+is(p)+(d?"":"$")+Ua(u)}return function(i,a){return e=a,i.replace(t,n)}})(),zO=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,VO=(function(){return function(e,n){return e.replace(zO,function(r,i,a,s,c,d){var u=PO(s)-(a?0:n.c),p=DO(d)-(c?0:n.r),x=p==0?"":c?p+1:"["+p+"]",w=u==0?"":a?u+1:"["+u+"]";return i+"R"+x+"C"+w})}})();function kDe(t,e){return t.replace(zO,function(n,r,i,a,s,c){return r+(i=="$"?i+a:is(PO(a)+e.c))+(s=="$"?s+c:Ua(DO(c)+e.r))})}function DDe(t){return t.length!=1}function zi(t){t.l+=1}function Xf(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function SX(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return TX(t);n.biff==12&&(r=4)}var i=t.read_shift(r),a=t.read_shift(r),s=Xf(t),c=Xf(t);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:c[0],cRel:c[1],rRel:c[2]}}}function TX(t){var e=Xf(t),n=Xf(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function PDe(t,e,n){if(n.biff<8)return TX(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),a=Xf(t),s=Xf(t);return{s:{r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function CX(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return jDe(t);var r=t.read_shift(n&&n.biff==12?4:2),i=Xf(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function jDe(t){var e=Xf(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function LDe(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function FDe(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return BDe(t);var i=t.read_shift(r>=12?4:2),a=t.read_shift(2),s=(a&16384)>>14,c=(a&32768)>>15;if(a&=16383,c==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:c}}function BDe(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function UDe(t,e,n){var r=(t[t.l++]&96)>>5,i=SX(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function zDe(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),a=8;if(n)switch(n.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var s=SX(t,a,n);return[r,i,s]}function VDe(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function HDe(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),a=8;if(n)switch(n.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[r,i]}function WDe(t,e,n){var r=(t[t.l++]&96)>>5,i=PDe(t,e-1,n);return[r,i]}function GDe(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function wF(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function qDe(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],a=0;a<=r;++a)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function YDe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function $De(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function KDe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function XDe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function IX(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function QDe(t){return t.read_shift(2),IX(t)}function ZDe(t){return t.read_shift(2),IX(t)}function JDe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=CX(t,0,n);return[r,i]}function e6e(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=FDe(t,0,n);return[r,i]}function t6e(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var a=CX(t,0,n);return[r,i,a]}function n6e(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[nPe[i],MX[i],r]}function r6e(t,e,n){var r=t[t.l++],i=t.read_shift(1),a=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:i6e(t);return[i,(a[0]===0?MX:tPe)[a[1]]]}function i6e(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function a6e(t,e,n){t.l+=n&&n.biff==2?3:4}function s6e(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function o6e(t){return t.l++,sx[t.read_shift(1)]}function l6e(t){return t.l++,t.read_shift(2)}function c6e(t){return t.l++,t.read_shift(1)!==0}function u6e(t){return t.l++,Qp(t)}function f6e(t,e,n){return t.l++,uX(t,e-1,n)}function d6e(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=tke(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=sx[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Qp(t);break;case 2:n[1]=ake(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function h6e(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],a=0;a!=r;++a)i.push((n.biff==12?jh:lke)(t));return i}function p6e(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var a=0,s=[];a!=r&&(s[a]=[]);++a)for(var c=0;c!=i;++c)s[a][c]=d6e(t,n.biff);return s}function m6e(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,a=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,a]}function g6e(t,e,n){if(n.biff==5)return x6e(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),a=t.read_shift(4);return[r,i,a]}function x6e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function y6e(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function v6e(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function b6e(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function w6e(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),a=4;if(n)switch(n.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[r,i]}var E6e=gc,_6e=gc,A6e=gc;function ox(t,e,n){return t.l+=2,[LDe(t)]}function HO(t){return t.l+=6,[]}var S6e=ox,T6e=HO,C6e=HO,I6e=ox;function NX(t){return t.l+=2,[lX(t),t.read_shift(2)&1]}var N6e=ox,O6e=NX,M6e=HO,R6e=ox,k6e=ox,D6e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function P6e(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),a=t.read_shift(2),s=D6e[n>>2&31];return{ixti:e,coltype:n&3,rt:s,idx:r,c:i,C:a}}function j6e(t){return t.l+=2,[t.read_shift(4)]}function L6e(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function F6e(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function B6e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function U6e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function z6e(t){return t.l+=4,[0,0]}var EF={1:{n:"PtgExp",f:s6e},2:{n:"PtgTbl",f:A6e},3:{n:"PtgAdd",f:zi},4:{n:"PtgSub",f:zi},5:{n:"PtgMul",f:zi},6:{n:"PtgDiv",f:zi},7:{n:"PtgPower",f:zi},8:{n:"PtgConcat",f:zi},9:{n:"PtgLt",f:zi},10:{n:"PtgLe",f:zi},11:{n:"PtgEq",f:zi},12:{n:"PtgGe",f:zi},13:{n:"PtgGt",f:zi},14:{n:"PtgNe",f:zi},15:{n:"PtgIsect",f:zi},16:{n:"PtgUnion",f:zi},17:{n:"PtgRange",f:zi},18:{n:"PtgUplus",f:zi},19:{n:"PtgUminus",f:zi},20:{n:"PtgPercent",f:zi},21:{n:"PtgParen",f:zi},22:{n:"PtgMissArg",f:zi},23:{n:"PtgStr",f:f6e},26:{n:"PtgSheet",f:L6e},27:{n:"PtgEndSheet",f:F6e},28:{n:"PtgErr",f:o6e},29:{n:"PtgBool",f:c6e},30:{n:"PtgInt",f:l6e},31:{n:"PtgNum",f:u6e},32:{n:"PtgArray",f:GDe},33:{n:"PtgFunc",f:n6e},34:{n:"PtgFuncVar",f:r6e},35:{n:"PtgName",f:m6e},36:{n:"PtgRef",f:JDe},37:{n:"PtgArea",f:UDe},38:{n:"PtgMemArea",f:y6e},39:{n:"PtgMemErr",f:E6e},40:{n:"PtgMemNoMem",f:_6e},41:{n:"PtgMemFunc",f:v6e},42:{n:"PtgRefErr",f:b6e},43:{n:"PtgAreaErr",f:VDe},44:{n:"PtgRefN",f:e6e},45:{n:"PtgAreaN",f:WDe},46:{n:"PtgMemAreaN",f:B6e},47:{n:"PtgMemNoMemN",f:U6e},57:{n:"PtgNameX",f:g6e},58:{n:"PtgRef3d",f:t6e},59:{n:"PtgArea3d",f:zDe},60:{n:"PtgRefErr3d",f:w6e},61:{n:"PtgAreaErr3d",f:HDe},255:{}},V6e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},H6e={1:{n:"PtgElfLel",f:NX},2:{n:"PtgElfRw",f:R6e},3:{n:"PtgElfCol",f:S6e},6:{n:"PtgElfRwV",f:k6e},7:{n:"PtgElfColV",f:I6e},10:{n:"PtgElfRadical",f:N6e},11:{n:"PtgElfRadicalS",f:M6e},13:{n:"PtgElfColS",f:T6e},15:{n:"PtgElfColSV",f:C6e},16:{n:"PtgElfRadicalLel",f:O6e},25:{n:"PtgList",f:P6e},29:{n:"PtgSxName",f:j6e},255:{}},W6e={0:{n:"PtgAttrNoop",f:z6e},1:{n:"PtgAttrSemi",f:XDe},2:{n:"PtgAttrIf",f:$De},4:{n:"PtgAttrChoose",f:qDe},8:{n:"PtgAttrGoto",f:YDe},16:{n:"PtgAttrSum",f:a6e},32:{n:"PtgAttrBaxcel",f:wF},33:{n:"PtgAttrBaxcel",f:wF},64:{n:"PtgAttrSpace",f:QDe},65:{n:"PtgAttrSpaceSemi",f:ZDe},128:{n:"PtgAttrIfError",f:KDe},255:{}};function G6e(t,e,n,r){if(r.biff<8)return gc(t,e);for(var i=t.l+e,a=[],s=0;s!==n.length;++s)switch(n[s][0]){case"PtgArray":n[s][1]=p6e(t,0,r),a.push(n[s][1]);break;case"PtgMemArea":n[s][2]=h6e(t,n[s][1],r),a.push(n[s][2]);break;case"PtgExp":r&&r.biff==12&&(n[s][1][1]=t.read_shift(4),a.push(n[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[s][0]}return e=i-t.l,e!==0&&a.push(gc(t,e)),a}function q6e(t,e,n){for(var r=t.l+e,i,a,s=[];r!=t.l;)e=r-t.l,a=t[t.l],i=EF[a]||EF[V6e[a]],(a===24||a===25)&&(i=(a===24?H6e:W6e)[t[t.l+1]]),!i||!i.f?gc(t,e):s.push([i.n,i.f(t,e,n)]);return s}function Y6e(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],a=0;a<r.length;++a){var s=r[a];s?s[0]===2?i.push('"'+s[1].replace(/"/g,'""')+'"'):i.push(s[1]):i.push("")}e.push(i.join(","))}return e.join(";")}var $6e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function K6e(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function OX(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function _F(t,e,n){var r=OX(t,e,n);return r=="#REF"?r:K6e(r,n)}function vp(t,e,n,r,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},c=[],d,u,p,x=0,w=0,A,N="";if(!t[0]||!t[0][0])return"";for(var S=-1,I="",j=0,D=t[0].length;j<D;++j){var P=t[0][j];switch(P[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=c.pop(),u=c.pop(),S>=0){switch(t[0][S][1][0]){case 0:I=_i(" ",t[0][S][1][1]);break;case 1:I=_i("\r",t[0][S][1][1]);break;default:if(I="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][S][1][0])}u=u+I,S=-1}c.push(u+$6e[P[0]]+d);break;case"PtgIsect":d=c.pop(),u=c.pop(),c.push(u+" "+d);break;case"PtgUnion":d=c.pop(),u=c.pop(),c.push(u+","+d);break;case"PtgRange":d=c.pop(),u=c.pop(),c.push(u+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=Ag(P[1][1],s,i),c.push(Sg(p,a));break;case"PtgRefN":p=n?Ag(P[1][1],n,i):P[1][1],c.push(Sg(p,a));break;case"PtgRef3d":x=P[1][1],p=Ag(P[1][2],s,i),N=_F(r,x,i),c.push(N+"!"+Sg(p,a));break;case"PtgFunc":case"PtgFuncVar":var V=P[1][0],K=P[1][1];V||(V=0),V&=127;var Z=V==0?[]:c.slice(-V);c.length-=V,K==="User"&&(K=Z.shift()),c.push(K+"("+Z.join(",")+")");break;case"PtgBool":c.push(P[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(P[1]);break;case"PtgNum":c.push(String(P[1]));break;case"PtgStr":c.push('"'+P[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(P[1]);break;case"PtgAreaN":A=oF(P[1][1],n?{s:n}:s,i),c.push(gT(A,i));break;case"PtgArea":A=oF(P[1][1],s,i),c.push(gT(A,i));break;case"PtgArea3d":x=P[1][1],A=P[1][2],N=_F(r,x,i),c.push(N+"!"+gT(A,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":w=P[1][2];var F=(r.names||[])[w-1]||(r[0]||[])[w],U=F?F.Name:"SH33TJSNAME"+String(w);U&&U.slice(0,6)=="_xlfn."&&!i.xlfn&&(U=U.slice(6)),c.push(U);break;case"PtgNameX":var B=P[1][1];w=P[1][2];var J;if(i.biff<=5)B<0&&(B=-B),r[B]&&(J=r[B][w]);else{var H="";if(((r[B]||[])[0]||[])[0]==14849||(((r[B]||[])[0]||[])[0]==1025?r[B][w]&&r[B][w].itab>0&&(H=r.SheetNames[r[B][w].itab-1]+"!"):H=r.SheetNames[w-1]+"!"),r[B]&&r[B][w])H+=r[B][w].Name;else if(r[0]&&r[0][w])H+=r[0][w].Name;else{var G=(OX(r,B,i)||"").split(";;");G[w-1]?H=G[w-1]:H+="SH33TJSERRX"}c.push(H);break}J||(J={Name:"SH33TJSERRY"}),c.push(J.Name);break;case"PtgParen":var q="(",Ce=")";if(S>=0){switch(I="",t[0][S][1][0]){case 2:q=_i(" ",t[0][S][1][1])+q;break;case 3:q=_i("\r",t[0][S][1][1])+q;break;case 4:Ce=_i(" ",t[0][S][1][1])+Ce;break;case 5:Ce=_i("\r",t[0][S][1][1])+Ce;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][S][1][0])}S=-1}c.push(q+c.pop()+Ce);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":p={c:P[1][1],r:P[1][0]};var re={c:n.c,r:n.r};if(r.sharedf[mr(p)]){var ue=r.sharedf[mr(p)];c.push(vp(ue,s,re,r,i))}else{var me=!1;for(d=0;d!=r.arrayf.length;++d)if(u=r.arrayf[d],!(p.c<u[0].s.c||p.c>u[0].e.c)&&!(p.r<u[0].s.r||p.r>u[0].e.r)){c.push(vp(u[1],s,re,r,i)),me=!0;break}me||c.push(P[1])}break;case"PtgArray":c.push("{"+Y6e(P[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":S=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+P[1].idx+"[#"+P[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(P));default:throw new Error("Unrecognized Formula Token: "+String(P))}var Re=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&S>=0&&Re.indexOf(t[0][j][0])==-1){P=t[0][S];var Be=!0;switch(P[1][0]){case 4:Be=!1;case 0:I=_i(" ",P[1][1]);break;case 5:Be=!1;case 1:I=_i("\r",P[1][1]);break;default:if(I="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+P[1][0])}c.push((Be?I:"")+c.pop()+(Be?"":I)),S=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function X6e(t){if(t==null){var e=Je(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return gh(t);return gh(0)}function Q6e(t,e,n,r,i){var a=xh(e,n,i),s=X6e(t.v),c=Je(6),d=33;c.write_shift(2,d),c.write_shift(4,0);for(var u=Je(t.bf.length),p=0;p<t.bf.length;++p)u[p]=t.bf[p];var x=La([a,s,c,u]);return x}function tE(t,e,n){var r=t.read_shift(4),i=q6e(t,r,n),a=t.read_shift(4),s=a>0?G6e(t,a,i,n):null;return[i,s]}var Z6e=tE,nE=tE,J6e=tE,ePe=tE,tPe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},MX={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},nPe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function rPe(t){var e="of:="+t.replace(zO,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function iPe(t){return t.replace(/\./,"!")}var Tg=typeof Map<"u";function WO(t,e,n){var r=0,i=t.length;if(n){if(Tg?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var a=Tg?n.get(e):n[e];r<a.length;++r)if(t[a[r]].t===e)return t.Count++,a[r]}}else for(;r<i;++r)if(t[r].t===e)return t.Count++,r;return t[i]={t:e},t.Count++,t.Unique++,n&&(Tg?(n.has(e)||n.set(e,[]),n.get(e).push(i)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(i))),i}function rE(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(su=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=pb(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=D4(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function RX(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function sd(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],i=60,a=t.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){CK(e.z,i),n.ssf[i]=e.z,n.revssf[e.z]=r=i;break}}for(i=0;i!=a;++i)if(t[i].numFmtId===r)return i;return t[a]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function aPe(t,e,n){if(t&&t["!ref"]){var r=Hr(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function sPe(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+Ki(t[n])+'"/>';return e+"</mergeCells>"}function oPe(t,e,n,r,i){var a=!1,s={},c=null;if(r.bookType!=="xlsx"&&e.vbaraw){var d=e.SheetNames[n];try{e.Workbook&&(d=e.Workbook.Sheets[n].CodeName||d)}catch{}a=!0,s.codeName=m1(pr(d))}if(t&&t["!outline"]){var u={summaryBelow:1,summaryRight:1};t["!outline"].above&&(u.summaryBelow=0),t["!outline"].left&&(u.summaryRight=0),c=(c||"")+At("outlinePr",null,u)}!a&&!c||(i[i.length]=At("sheetPr",c,s))}var lPe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],cPe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function uPe(t){var e={sheet:1};return lPe.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),cPe.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=mX(t.password).toString(16).toUpperCase()),At("sheetProtection",null,e)}function fPe(t){return RX(t),At("pageMargins",null,t)}function dPe(t,e){for(var n=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(n[n.length]=At("col",null,rE(i,r)));return n[n.length]="</cols>",n.join("")}function hPe(t,e,n,r){var i=typeof t.ref=="string"?t.ref:Ki(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,s=wo(i);s.s.r==s.e.r&&(s.e.r=wo(e["!ref"]).e.r,i=Ki(s));for(var c=0;c<a.length;++c){var d=a[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==r){d.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return c==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),At("autoFilter",null,{ref:i})}function pPe(t,e,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),At("sheetViews",At("sheetView",null,i),{})}function mPe(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",a=t.t,s=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=sx[t.v];break;case"d":r&&r.cellDates?i=Es(t.v,-1).toISOString():(t=Hs(t),t.t="n",i=""+(t.v=Vs(Es(t.v)))),typeof t.z>"u"&&(t.z=Ai[14]);break;default:i=t.v;break}var c=Fa("v",pr(i)),d={r:e},u=sd(r.cellXfs,t,r);switch(u!==0&&(d.s=u),t.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){c=Fa("v",""+WO(r.Strings,t.v,r.revStrings)),d.t="s";break}d.t="str";break}if(t.t!=a&&(t.t=a,t.v=s),typeof t.f=="string"&&t.f){var p=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;c=At("f",pr(t.f),p)+(t.v!=null?c:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(d.cm=1),At("c",c,d)}function gPe(t,e,n,r){var i=[],a=[],s=Hr(t["!ref"]),c="",d,u="",p=[],x=0,w=0,A=t["!rows"],N=Array.isArray(t),S={r:u},I,j=-1;for(w=s.s.c;w<=s.e.c;++w)p[w]=is(w);for(x=s.s.r;x<=s.e.r;++x){for(a=[],u=Ua(x),w=s.s.c;w<=s.e.c;++w){d=p[w]+u;var D=N?(t[x]||[])[w]:t[d];D!==void 0&&(c=mPe(D,d,t,e))!=null&&a.push(c)}(a.length>0||A&&A[x])&&(S={r:u},A&&A[x]&&(I=A[x],I.hidden&&(S.hidden=1),j=-1,I.hpx?j=mb(I.hpx):I.hpt&&(j=I.hpt),j>-1&&(S.ht=j,S.customHeight=1),I.level&&(S.outlineLevel=I.level)),i[i.length]=At("row",a.join(""),S))}if(A)for(;x<A.length;++x)A&&A[x]&&(S={r:x+1},I=A[x],I.hidden&&(S.hidden=1),j=-1,I.hpx?j=mb(I.hpx):I.hpt&&(j=I.hpt),j>-1&&(S.ht=j,S.customHeight=1),I.level&&(S.outlineLevel=I.level),i[i.length]=At("row","",S));return i.join("")}function kX(t,e,n,r){var i=[Xi,At("worksheet",null,{xmlns:$p[0],"xmlns:r":pa.r})],a=n.SheetNames[t],s=0,c="",d=n.Sheets[a];d==null&&(d={});var u=d["!ref"]||"A1",p=Hr(u);if(p.e.c>16383||p.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),u=Ki(p)}r||(r={}),d["!comments"]=[];var x=[];oPe(d,n,t,e,i),i[i.length]=At("dimension",null,{ref:u}),i[i.length]=pPe(d,e,t,n),e.sheetFormat&&(i[i.length]=At("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(i[i.length]=dPe(d,d["!cols"])),i[s=i.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(c=gPe(d,e),c.length>0&&(i[i.length]=c)),i.length>s+1&&(i[i.length]="</sheetData>",i[s]=i[s].replace("/>",">")),d["!protect"]&&(i[i.length]=uPe(d["!protect"])),d["!autofilter"]!=null&&(i[i.length]=hPe(d["!autofilter"],d,n,t)),d["!merges"]!=null&&d["!merges"].length>0&&(i[i.length]=sPe(d["!merges"]));var w=-1,A,N=-1;return d["!links"].length>0&&(i[i.length]="<hyperlinks>",d["!links"].forEach(function(S){S[1].Target&&(A={ref:S[0]},S[1].Target.charAt(0)!="#"&&(N=dr(r,-1,pr(S[1].Target).replace(/#.*$/,""),Kn.HLINK),A["r:id"]="rId"+N),(w=S[1].Target.indexOf("#"))>-1&&(A.location=pr(S[1].Target.slice(w+1))),S[1].Tooltip&&(A.tooltip=pr(S[1].Tooltip)),i[i.length]=At("hyperlink",null,A))}),i[i.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(i[i.length]=fPe(d["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Fa("ignoredErrors",At("ignoredError",null,{numberStoredAsText:1,sqref:u}))),x.length>0&&(N=dr(r,-1,"../drawings/drawing"+(t+1)+".xml",Kn.DRAW),i[i.length]=At("drawing",null,{"r:id":"rId"+N}),d["!drawing"]=x),d["!comments"].length>0&&(N=dr(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Kn.VML),i[i.length]=At("legacyDrawing",null,{"r:id":"rId"+N}),d["!legacy"]=N),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function xPe(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=r,a&7&&(n.level=a&7),a&16&&(n.hidden=!0),a&32&&(n.hpt=i/20),n}function yPe(t,e,n){var r=Je(145),i=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var a=320;i.hpx?a=mb(i.hpx)*20:i.hpt&&(a=i.hpt*20),r.write_shift(2,a),r.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),r.write_shift(1,s),r.write_shift(1,0);var c=0,d=r.l;r.l+=4;for(var u={r:t,c:0},p=0;p<16;++p)if(!(e.s.c>p+1<<10||e.e.c<p<<10)){for(var x=-1,w=-1,A=p<<10;A<p+1<<10;++A){u.c=A;var N=Array.isArray(n)?(n[u.r]||[])[u.c]:n[mr(u)];N&&(x<0&&(x=A),w=A)}x<0||(++c,r.write_shift(4,x),r.write_shift(4,w))}var S=r.l;return r.l=d,r.write_shift(4,c),r.l=S,r.length>r.l?r.slice(0,r.l):r}function vPe(t,e,n,r){var i=yPe(r,n,e);(i.length>17||(e["!rows"]||[])[r])&&ut(t,0,i)}var bPe=jh,wPe=Xp;function EPe(){}function _Pe(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=kRe(t),n}function APe(t,e,n){n==null&&(n=Je(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return fb({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),$K(t,n),n.slice(0,n.l)}function SPe(t){var e=nl(t);return[e]}function TPe(t,e,n){return n==null&&(n=Je(8)),kh(e,n)}function CPe(t){var e=Dh(t);return[e]}function IPe(t,e,n){return n==null&&(n=Je(4)),Ph(e,n)}function NPe(t){var e=nl(t),n=t.read_shift(1);return[e,n,"b"]}function OPe(t,e,n){return n==null&&(n=Je(9)),kh(e,n),n.write_shift(1,t.v?1:0),n}function MPe(t){var e=Dh(t),n=t.read_shift(1);return[e,n,"b"]}function RPe(t,e,n){return n==null&&(n=Je(5)),Ph(e,n),n.write_shift(1,t.v?1:0),n}function kPe(t){var e=nl(t),n=t.read_shift(1);return[e,n,"e"]}function DPe(t,e,n){return n==null&&(n=Je(9)),kh(e,n),n.write_shift(1,t.v),n}function PPe(t){var e=Dh(t),n=t.read_shift(1);return[e,n,"e"]}function jPe(t,e,n){return n==null&&(n=Je(8)),Ph(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function LPe(t){var e=nl(t),n=t.read_shift(4);return[e,n,"s"]}function FPe(t,e,n){return n==null&&(n=Je(12)),kh(e,n),n.write_shift(4,e.v),n}function BPe(t){var e=Dh(t),n=t.read_shift(4);return[e,n,"s"]}function UPe(t,e,n){return n==null&&(n=Je(8)),Ph(e,n),n.write_shift(4,e.v),n}function zPe(t){var e=nl(t),n=Qp(t);return[e,n,"n"]}function VPe(t,e,n){return n==null&&(n=Je(16)),kh(e,n),gh(t.v,n),n}function HPe(t){var e=Dh(t),n=Qp(t);return[e,n,"n"]}function WPe(t,e,n){return n==null&&(n=Je(12)),Ph(e,n),gh(t.v,n),n}function GPe(t){var e=nl(t),n=KK(t);return[e,n,"n"]}function qPe(t,e,n){return n==null&&(n=Je(12)),kh(e,n),XK(t.v,n),n}function YPe(t){var e=Dh(t),n=KK(t);return[e,n,"n"]}function $Pe(t,e,n){return n==null&&(n=Je(8)),Ph(e,n),XK(t.v,n),n}function KPe(t){var e=nl(t),n=jO(t);return[e,n,"is"]}function XPe(t){var e=nl(t),n=as(t);return[e,n,"str"]}function QPe(t,e,n){return n==null&&(n=Je(12+4*t.v.length)),kh(e,n),xa(t.v,n),n.length>n.l?n.slice(0,n.l):n}function ZPe(t){var e=Dh(t),n=as(t);return[e,n,"str"]}function JPe(t,e,n){return n==null&&(n=Je(8+4*t.v.length)),Ph(e,n),xa(t.v,n),n.length>n.l?n.slice(0,n.l):n}function e5e(t,e,n){var r=t.l+e,i=nl(t);i.r=n["!row"];var a=t.read_shift(1),s=[i,a,"b"];if(n.cellFormula){t.l+=2;var c=nE(t,r-t.l,n);s[3]=vp(c,null,i,n.supbooks,n)}else t.l=r;return s}function t5e(t,e,n){var r=t.l+e,i=nl(t);i.r=n["!row"];var a=t.read_shift(1),s=[i,a,"e"];if(n.cellFormula){t.l+=2;var c=nE(t,r-t.l,n);s[3]=vp(c,null,i,n.supbooks,n)}else t.l=r;return s}function n5e(t,e,n){var r=t.l+e,i=nl(t);i.r=n["!row"];var a=Qp(t),s=[i,a,"n"];if(n.cellFormula){t.l+=2;var c=nE(t,r-t.l,n);s[3]=vp(c,null,i,n.supbooks,n)}else t.l=r;return s}function r5e(t,e,n){var r=t.l+e,i=nl(t);i.r=n["!row"];var a=as(t),s=[i,a,"str"];if(n.cellFormula){t.l+=2;var c=nE(t,r-t.l,n);s[3]=vp(c,null,i,n.supbooks,n)}else t.l=r;return s}var i5e=jh,a5e=Xp;function s5e(t,e){return e==null&&(e=Je(4)),e.write_shift(4,t),e}function o5e(t,e){var n=t.l+e,r=jh(t),i=LO(t),a=as(t),s=as(t),c=as(t);t.l=n;var d={rfx:r,relId:i,loc:a,display:c};return s&&(d.Tooltip=s),d}function l5e(t,e){var n=Je(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Xp({s:ga(t[0]),e:ga(t[0])},n),FO("rId"+e,n);var r=t[1].Target.indexOf("#"),i=r==-1?"":t[1].Target.slice(r+1);return xa(i||"",n),xa(t[1].Tooltip||"",n),xa("",n),n.slice(0,n.l)}function c5e(){}function u5e(t,e,n){var r=t.l+e,i=QK(t),a=t.read_shift(1),s=[i];if(s[2]=a,n.cellFormula){var c=Z6e(t,r-t.l,n);s[1]=c}else t.l=r;return s}function f5e(t,e,n){var r=t.l+e,i=jh(t),a=[i];if(n.cellFormula){var s=ePe(t,r-t.l,n);a[1]=s,t.l=r}else t.l=r;return a}function d5e(t,e,n){n==null&&(n=Je(18));var r=rE(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),n.write_shift(2,i),n}var DX=["left","right","top","bottom","header","footer"];function h5e(t){var e={};return DX.forEach(function(n){e[n]=Qp(t)}),e}function p5e(t,e){return e==null&&(e=Je(48)),RX(t),DX.forEach(function(n){gh(t[n],e)}),e}function m5e(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function g5e(t,e,n){n==null&&(n=Je(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function x5e(t){var e=Je(24);return e.write_shift(4,4),e.write_shift(4,1),Xp(t,e),e}function y5e(t,e){return e==null&&(e=Je(66)),e.write_shift(2,t.password?mX(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function v5e(){}function b5e(){}function w5e(t,e,n,r,i,a,s){if(e.v===void 0)return!1;var c="";switch(e.t){case"b":c=e.v?"1":"0";break;case"d":e=Hs(e),e.z=e.z||Ai[14],e.v=Vs(Es(e.v)),e.t="n";break;case"n":case"e":c=""+e.v;break;default:c=e.v;break}var d={r:n,c:r};switch(d.s=sd(i.cellXfs,e,i),e.l&&a["!links"].push([mr(d),e.l]),e.c&&a["!comments"].push([mr(d),e.c]),e.t){case"s":case"str":return i.bookSST?(c=WO(i.Strings,e.v,i.revStrings),d.t="s",d.v=c,s?ut(t,18,UPe(e,d)):ut(t,7,FPe(e,d))):(d.t="str",s?ut(t,17,JPe(e,d)):ut(t,6,QPe(e,d))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?s?ut(t,13,$Pe(e,d)):ut(t,2,qPe(e,d)):s?ut(t,16,WPe(e,d)):ut(t,5,VPe(e,d)),!0;case"b":return d.t="b",s?ut(t,15,RPe(e,d)):ut(t,4,OPe(e,d)),!0;case"e":return d.t="e",s?ut(t,14,jPe(e,d)):ut(t,3,DPe(e,d)),!0}return s?ut(t,12,IPe(e,d)):ut(t,1,TPe(e,d)),!0}function E5e(t,e,n,r){var i=Hr(e["!ref"]||"A1"),a,s="",c=[];ut(t,145);var d=Array.isArray(e),u=i.e.r;e["!rows"]&&(u=Math.max(i.e.r,e["!rows"].length-1));for(var p=i.s.r;p<=u;++p){s=Ua(p),vPe(t,e,i,p);var x=!1;if(p<=i.e.r)for(var w=i.s.c;w<=i.e.c;++w){p===i.s.r&&(c[w]=is(w)),a=c[w]+s;var A=d?(e[p]||[])[w]:e[a];if(!A){x=!1;continue}x=w5e(t,A,p,w,r,e,x)}}ut(t,146)}function _5e(t,e){!e||!e["!merges"]||(ut(t,177,s5e(e["!merges"].length)),e["!merges"].forEach(function(n){ut(t,176,a5e(n))}),ut(t,178))}function A5e(t,e){!e||!e["!cols"]||(ut(t,390),e["!cols"].forEach(function(n,r){n&&ut(t,60,d5e(r,n))}),ut(t,391))}function S5e(t,e){!e||!e["!ref"]||(ut(t,648),ut(t,649,x5e(Hr(e["!ref"]))),ut(t,650))}function T5e(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var i=dr(n,-1,r[1].Target.replace(/#.*$/,""),Kn.HLINK);ut(t,494,l5e(r,i))}}),delete e["!links"]}function C5e(t,e,n,r){if(e["!comments"].length>0){var i=dr(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Kn.VML);ut(t,551,FO("rId"+i)),e["!legacy"]=i}}function I5e(t,e,n,r){if(e["!autofilter"]){var i=e["!autofilter"],a=typeof i.ref=="string"?i.ref:Ki(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,c=wo(a);c.s.r==c.e.r&&(c.e.r=wo(e["!ref"]).e.r,a=Ki(c));for(var d=0;d<s.length;++d){var u=s[d];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==r){u.Ref="'"+n.SheetNames[r]+"'!"+a;break}}d==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+a}),ut(t,161,Xp(Hr(a))),ut(t,162)}}function N5e(t,e,n){ut(t,133),ut(t,137,g5e(e,n)),ut(t,138),ut(t,134)}function O5e(t,e){e["!protect"]&&ut(t,535,y5e(e["!protect"]))}function M5e(t,e,n,r){var i=Us(),a=n.SheetNames[t],s=n.Sheets[a]||{},c=a;try{n&&n.Workbook&&(c=n.Workbook.Sheets[t].CodeName||c)}catch{}var d=Hr(s["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],ut(i,129),(n.vbaraw||s["!outline"])&&ut(i,147,APe(c,s["!outline"])),ut(i,148,wPe(d)),N5e(i,s,n.Workbook),A5e(i,s),E5e(i,s,t,e),O5e(i,s),I5e(i,s,n,t),_5e(i,s),T5e(i,s,r),s["!margins"]&&ut(i,476,p5e(s["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&S5e(i,s),C5e(i,s,t,r),ut(i,130),i.end()}function R5e(t,e){t.l+=10;var n=as(t);return{name:n}}var k5e=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function D5e(t){return!t.Workbook||!t.Workbook.WBProps?"false":fRe(t.Workbook.WBProps.date1904)?"true":"false"}var P5e="][*?/\\".split("");function PX(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return P5e.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function j5e(t,e,n){t.forEach(function(r,i){PX(r);for(var a=0;a<i;++a)if(r==t[a])throw new Error("Duplicate Sheet Name: "+r);if(n){var s=e&&e[i]&&e[i].CodeName||r;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function L5e(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];j5e(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)aPe(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}function jX(t){var e=[Xi];e[e.length]=At("workbook",null,{xmlns:$p[0],"xmlns:r":pa.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(k5e.forEach(function(c){t.Workbook.WBProps[c[0]]!=null&&t.Workbook.WBProps[c[0]]!=c[1]&&(r[c[0]]=t.Workbook.WBProps[c[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=At("workbookPr",null,r);var i=t.Workbook&&t.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=t.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==t.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var s={name:pr(t.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}e[e.length]=At("sheet",null,s)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(c){var d={name:c.Name};c.Comment&&(d.comment=c.Comment),c.Sheet!=null&&(d.localSheetId=""+c.Sheet),c.Hidden&&(d.hidden="1"),c.Ref&&(e[e.length]=At("definedName",pr(c.Ref),d))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function F5e(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=k4(t),n.name=as(t),n}function B5e(t,e){return e||(e=Je(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),FO(t.strRelID,e),xa(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function U5e(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?as(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function z5e(t,e){e||(e=Je(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),$K(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function V5e(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),a=DRe(t),s=J6e(t,0,n),c=LO(t);t.l=r;var d={Name:a,Ptg:s};return i<268435455&&(d.Sheet=i),c&&(d.Comment=c),d}function H5e(t,e){ut(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};ut(t,156,B5e(i))}ut(t,144)}function W5e(t,e){e||(e=Je(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return xa("SheetJS",e),xa(rb.version,e),xa(rb.version,e),xa("7262",e),e.length>e.l?e.slice(0,e.l):e}function G5e(t,e){e||(e=Je(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function q5e(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,i=-1,a=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&a==-1&&(a=r);a>i||(ut(t,135),ut(t,158,G5e(i)),ut(t,136))}}function Y5e(t,e){var n=Us();return ut(n,131),ut(n,128,W5e()),ut(n,153,z5e(t.Workbook&&t.Workbook.WBProps||null)),q5e(n,t),H5e(n,t),ut(n,132),n.end()}function $5e(t,e,n){return(e.slice(-4)===".bin"?Y5e:jX)(t)}function K5e(t,e,n,r,i){return(e.slice(-4)===".bin"?M5e:kX)(t,n,r,i)}function X5e(t,e,n){return(e.slice(-4)===".bin"?pDe:yX)(t,n)}function Q5e(t,e,n){return(e.slice(-4)===".bin"?zke:pX)(t,n)}function Z5e(t,e,n){return(e.slice(-4)===".bin"?ODe:_X)(t)}function J5e(t){return(t.slice(-4)===".bin"?EDe:wX)()}function eje(t,e){var n=[];return t.Props&&n.push(XRe(t.Props,e)),t.Custprops&&n.push(QRe(t.Props,t.Custprops)),n.join("")}function tje(){return""}function nje(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var a=[];a.push(At("NumberFormat",null,{"ss:Format":pr(Ai[r.numFmtId])}));var s={"ss:ID":"s"+(21+i)};n.push(At("Style",a.join(""),s))}),At("Styles",n.join(""))}function LX(t){return At("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+VO(t.Ref,{r:0,c:0})})}function rje(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(LX(i)))}return At("Names",n.join(""))}function ije(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,a=[],s=0;s<i.length;++s){var c=i[s];c.Sheet==n&&(c.Name.match(/^_xlfn\./)||a.push(LX(c)))}return a.join("")}function aje(t,e,n,r){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(At("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(At("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(At("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(At("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<n&&!(r.Workbook.Sheets[a]&&!r.Workbook.Sheets[a].Hidden);++a);a==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(Fa("ProtectContents","True")),t["!protect"].objects&&i.push(Fa("ProtectObjects","True")),t["!protect"].scenarios&&i.push(Fa("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(Fa("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(Fa("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){t["!protect"][s[0]]&&i.push("<"+s[1]+"/>")})),i.length==0?"":At("WorksheetOptions",i.join(""),{xmlns:fo.x})}function sje(t){return t.map(function(e){var n=uRe(e.t||""),r=At("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return At("Comment",r,{"ss:Author":e.a})}).join("")}function oje(t,e,n,r,i,a,s){if(!t||t.v==null&&t.f==null)return"";var c={};if(t.f&&(c["ss:Formula"]="="+pr(VO(t.f,s))),t.F&&t.F.slice(0,e.length)==e){var d=ga(t.F.slice(e.length+1));c["ss:ArrayRange"]="RC:R"+(d.r==s.r?"":"["+(d.r-s.r)+"]")+"C"+(d.c==s.c?"":"["+(d.c-s.c)+"]")}if(t.l&&t.l.Target&&(c["ss:HRef"]=pr(t.l.Target),t.l.Tooltip&&(c["x:HRefScreenTip"]=pr(t.l.Tooltip))),n["!merges"])for(var u=n["!merges"],p=0;p!=u.length;++p)u[p].s.c!=s.c||u[p].s.r!=s.r||(u[p].e.c>u[p].s.c&&(c["ss:MergeAcross"]=u[p].e.c-u[p].s.c),u[p].e.r>u[p].s.r&&(c["ss:MergeDown"]=u[p].e.r-u[p].s.r));var x="",w="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":x="Number",w=String(t.v);break;case"b":x="Boolean",w=t.v?"1":"0";break;case"e":x="Error",w=sx[t.v];break;case"d":x="DateTime",w=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Ai[14]);break;case"s":x="String",w=cRe(t.v||"");break}var A=sd(r.cellXfs,t,r);c["ss:StyleID"]="s"+(21+A),c["ss:Index"]=s.c+1;var N=t.v!=null?w:"",S=t.t=="z"?"":'<Data ss:Type="'+x+'">'+N+"</Data>";return(t.c||[]).length>0&&(S+=sje(t.c)),At("Cell",S,c)}function lje(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=xX(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function cje(t,e,n,r){if(!t["!ref"])return"";var i=Hr(t["!ref"]),a=t["!merges"]||[],s=0,c=[];t["!cols"]&&t["!cols"].forEach(function(I,j){UO(I);var D=!!I.width,P=rE(j,I),V={"ss:Index":j+1};D&&(V["ss:Width"]=hb(P.width)),I.hidden&&(V["ss:Hidden"]="1"),c.push(At("Column",null,V))});for(var d=Array.isArray(t),u=i.s.r;u<=i.e.r;++u){for(var p=[lje(u,(t["!rows"]||[])[u])],x=i.s.c;x<=i.e.c;++x){var w=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>x)&&!(a[s].s.r>u)&&!(a[s].e.c<x)&&!(a[s].e.r<u)){(a[s].s.c!=x||a[s].s.r!=u)&&(w=!0);break}if(!w){var A={r:u,c:x},N=mr(A),S=d?(t[u]||[])[x]:t[N];p.push(oje(S,N,t,e,n,r,A))}}p.push("</Row>"),p.length>2&&c.push(p.join(""))}return c.join("")}function uje(t,e,n){var r=[],i=n.SheetNames[t],a=n.Sheets[i],s=a?ije(a,e,t,n):"";return s.length>0&&r.push("<Names>"+s+"</Names>"),s=a?cje(a,e,t,n):"",s.length>0&&r.push("<Table>"+s+"</Table>"),r.push(aje(a,e,t,n)),r.join("")}function fje(t,e){e||(e={}),t.SSF||(t.SSF=Hs(Ai)),t.SSF&&(Zw(),Qw(t.SSF),e.revssf=Jw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],sd(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(eje(t,e)),n.push(tje()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(At("Worksheet",uje(r,e,t),{"ss:Name":pr(t.SheetNames[r])}));return n[2]=nje(t,e),n[3]=rje(t),Xi+At("Workbook",n.join(""),{xmlns:fo.ss,"xmlns:o":fo.o,"xmlns:x":fo.x,"xmlns:ss":fo.ss,"xmlns:dt":fo.dt,"xmlns:html":fo.html})}var vT={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function dje(t,e){var n=[],r=[],i=[],a=0,s,c=X7(cF,"n"),d=X7(uF,"n");if(t.Props)for(s=Va(t.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(c,s[a])?n:Object.prototype.hasOwnProperty.call(d,s[a])?r:i).push([s[a],t.Props[s[a]]]);if(t.Custprops)for(s=Va(t.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(c,s[a])?n:Object.prototype.hasOwnProperty.call(d,s[a])?r:i).push([s[a],t.Custprops[s[a]]]);var u=[];for(a=0;a<i.length;++a)oX.indexOf(i[a][0])>-1||iX.indexOf(i[a][0])>-1||i[a][1]!=null&&u.push(i[a]);r.length&&br.utils.cfb_add(e,"/SummaryInformation",mF(r,vT.SI,d,uF)),(n.length||u.length)&&br.utils.cfb_add(e,"/DocumentSummaryInformation",mF(n,vT.DSI,c,cF,u.length?u:null,vT.UDI))}function hje(t,e){var n=e||{},r=br.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return br.utils.cfb_add(r,i,FX(t,n)),n.biff==8&&(t.Props||t.Custprops)&&dje(t,r),n.biff==8&&t.vbaraw&&MDe(r,br.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var pje={0:{f:xPe},1:{f:SPe},2:{f:GPe},3:{f:kPe},4:{f:NPe},5:{f:zPe},6:{f:XPe},7:{f:LPe},8:{f:r5e},9:{f:n5e},10:{f:e5e},11:{f:t5e},12:{f:CPe},13:{f:YPe},14:{f:PPe},15:{f:MPe},16:{f:HPe},17:{f:ZPe},18:{f:BPe},19:{f:jO},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:V5e},40:{},42:{},43:{f:Xke},44:{f:$ke},45:{f:Jke},46:{f:tDe},47:{f:eDe},48:{},49:{f:CRe},50:{},51:{f:xDe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Ike},62:{f:KPe},63:{f:_De},64:{f:v5e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:gc,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:m5e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:_Pe},148:{f:bPe,p:16},151:{f:c5e},152:{},153:{f:U5e},154:{},155:{},156:{f:F5e},157:{},158:{},159:{T:1,f:Fke},160:{T:-1},161:{T:1,f:jh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:i5e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:mDe},336:{T:-1},337:{f:bDe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:k4},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Eke},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:u5e},427:{f:f5e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:h5e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:EPe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:o5e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:k4},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:IDe},633:{T:1},634:{T:-1},635:{T:1,f:TDe},636:{T:-1},637:{f:MRe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:R5e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:b5e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function St(t,e,n,r){var i=e;if(!isNaN(i)){var a=r||(n||[]).length||0,s=t.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&kO(n)&&t.push(n)}}function mje(t,e,n,r){var i=(n||[]).length||0;if(i<=8224)return St(t,e,n,i);var a=e;if(!isNaN(a)){for(var s=n.parts||[],c=0,d=0,u=0;u+(s[c]||8224)<=8224;)u+=s[c]||8224,c++;var p=t.next(4);for(p.write_shift(2,a),p.write_shift(2,u),t.push(n.slice(d,d+u)),d+=u;d<i;){for(p=t.next(4),p.write_shift(2,60),u=0;u+(s[c]||8224)<=8224;)u+=s[c]||8224,c++;p.write_shift(2,u),t.push(n.slice(d,d+u)),d+=u}}}function lx(t,e,n){return t||(t=Je(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function gje(t,e,n,r){var i=Je(9);return lx(i,t,e),cX(n,r||"b",i),i}function xje(t,e,n){var r=Je(8+2*n.length);return lx(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function yje(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Vs(Es(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?St(t,2,Rke(n,r,i)):St(t,3,Mke(n,r,i));return;case"b":case"e":St(t,5,gje(n,r,e.v,e.t));return;case"s":case"str":St(t,4,xje(n,r,(e.v||"").slice(0,255)));return}St(t,1,lx(null,n,r))}function vje(t,e,n,r){var i=Array.isArray(e),a=Hr(e["!ref"]||"A1"),s,c="",d=[];if(a.e.c>255||a.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),s=Ki(a)}for(var u=a.s.r;u<=a.e.r;++u){c=Ua(u);for(var p=a.s.c;p<=a.e.c;++p){u===a.s.r&&(d[p]=is(p)),s=d[p]+c;var x=i?(e[u]||[])[p]:e[s];x&&yje(t,x,u,p)}}}function bje(t,e){for(var n=e||{},r=Us(),i=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==n.sheet&&(i=a);if(i==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return St(r,n.biff==4?1033:n.biff==3?521:9,BO(t,16,n)),vje(r,t.Sheets[t.SheetNames[i]],i,n),St(r,10),r.end()}function wje(t,e,n){St(t,49,pke({sz:12,name:"Arial"},n))}function Eje(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&St(t,1054,xke(i,e[i],n))})}function _je(t,e){var n=Je(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),St(t,2151,n),n=Je(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),dX(Hr(e["!ref"]||"A1"),n),n.write_shift(4,4),St(t,2152,n)}function Aje(t,e){for(var n=0;n<16;++n)St(t,224,xF({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){St(t,224,xF(r,0,e))})}function Sje(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];St(t,440,Ske(r)),r[1].Tooltip&&St(t,2048,Tke(r))}delete e["!links"]}function Tje(t,e){if(e){var n=0;e.forEach(function(r,i){++n<=256&&r&&St(t,125,Nke(rE(i,r),i))})}}function Cje(t,e,n,r,i){var a=16+sd(i.cellXfs,e,i);if(e.v==null&&!e.bf){St(t,513,xh(n,r,a));return}if(e.bf)St(t,6,Q6e(e,n,r,i,a));else switch(e.t){case"d":case"n":var s=e.t=="d"?Vs(Es(e.v)):e.v;St(t,515,wke(n,r,s,a));break;case"b":case"e":St(t,517,bke(n,r,e.v,a,i,e.t));break;case"s":case"str":if(i.bookSST){var c=WO(i.Strings,e.v,i.revStrings);St(t,253,mke(n,r,c,a))}else St(t,516,gke(n,r,(e.v||"").slice(0,255),a,i));break;default:St(t,513,xh(n,r,a))}}function Ije(t,e,n){var r=Us(),i=n.SheetNames[t],a=n.Sheets[i]||{},s=(n||{}).Workbook||{},c=(s.Sheets||[])[t]||{},d=Array.isArray(a),u=e.biff==8,p,x="",w=[],A=Hr(a["!ref"]||"A1"),N=u?65536:16384;if(A.e.c>255||A.e.r>=N){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");A.e.c=Math.min(A.e.c,255),A.e.r=Math.min(A.e.c,N-1)}St(r,2057,BO(n,16,e)),St(r,13,Ho(1)),St(r,12,Ho(100)),St(r,15,ms(!0)),St(r,17,ms(!1)),St(r,16,gh(.001)),St(r,95,ms(!0)),St(r,42,ms(!1)),St(r,43,ms(!1)),St(r,130,Ho(1)),St(r,128,vke()),St(r,131,ms(!1)),St(r,132,ms(!1)),u&&Tje(r,a["!cols"]),St(r,512,yke(A,e)),u&&(a["!links"]=[]);for(var S=A.s.r;S<=A.e.r;++S){x=Ua(S);for(var I=A.s.c;I<=A.e.c;++I){S===A.s.r&&(w[I]=is(I)),p=w[I]+x;var j=d?(a[S]||[])[I]:a[p];j&&(Cje(r,j,S,I,e),u&&j.l&&a["!links"].push([p,j.l]))}}var D=c.CodeName||c.name||i;return u&&St(r,574,hke((s.Views||[])[0])),u&&(a["!merges"]||[]).length&&St(r,229,Ake(a["!merges"])),u&&Sje(r,a),St(r,442,fX(D)),u&&_je(r,a),St(r,10),r.end()}function Nje(t,e,n){var r=Us(),i=(t||{}).Workbook||{},a=i.Sheets||[],s=i.WBProps||{},c=n.biff==8,d=n.biff==5;if(St(r,2057,BO(t,5,n)),n.bookType=="xla"&&St(r,135),St(r,225,c?Ho(1200):null),St(r,193,eke(2)),d&&St(r,191),d&&St(r,192),St(r,226),St(r,92,cke("SheetJS",n)),St(r,66,Ho(c?1200:1252)),c&&St(r,353,Ho(0)),c&&St(r,448),St(r,317,Oke(t.SheetNames.length)),c&&t.vbaraw&&St(r,211),c&&t.vbaraw){var u=s.CodeName||"ThisWorkbook";St(r,442,fX(u))}St(r,156,Ho(17)),St(r,25,ms(!1)),St(r,18,ms(!1)),St(r,19,Ho(0)),c&&St(r,431,ms(!1)),c&&St(r,444,Ho(0)),St(r,61,dke()),St(r,64,ms(!1)),St(r,141,Ho(0)),St(r,34,ms(D5e(t)=="true")),St(r,14,ms(!0)),c&&St(r,439,ms(!1)),St(r,218,Ho(0)),wje(r,t,n),Eje(r,t.SSF,n),Aje(r,n),c&&St(r,352,ms(!1));var p=r.end(),x=Us();c&&St(x,140,Cke()),c&&n.Strings&&mje(x,252,fke(n.Strings)),St(x,10);var w=x.end(),A=Us(),N=0,S=0;for(S=0;S<t.SheetNames.length;++S)N+=(c?12:11)+(c?2:1)*t.SheetNames[S].length;var I=p.length+N+w.length;for(S=0;S<t.SheetNames.length;++S){var j=a[S]||{};St(A,133,uke({pos:I,hs:j.Hidden||0,dt:0,name:t.SheetNames[S]},n)),I+=e[S].length}var D=A.end();if(N!=D.length)throw new Error("BS8 "+N+" != "+D.length);var P=[];return p.length&&P.push(p),D.length&&P.push(D),w.length&&P.push(w),La(P)}function Oje(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=Hs(Ai)),t&&t.SSF&&(Zw(),Qw(t.SSF),n.revssf=Jw(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,GO(n),n.cellXfs=[],sd(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)r[r.length]=Ije(i,n,t);return r.unshift(Nje(t,r,n)),La(r)}function FX(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var i=wo(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return Oje(t,e);case 4:case 3:case 2:return bje(t,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function Mje(t,e,n,r){for(var i=t["!merges"]||[],a=[],s=e.s.c;s<=e.e.c;++s){for(var c=0,d=0,u=0;u<i.length;++u)if(!(i[u].s.r>n||i[u].s.c>s)&&!(i[u].e.r<n||i[u].e.c<s)){if(i[u].s.r<n||i[u].s.c<s){c=-1;break}c=i[u].e.r-i[u].s.r+1,d=i[u].e.c-i[u].s.c+1;break}if(!(c<0)){var p=mr({r:n,c:s}),x=r.dense?(t[n]||[])[s]:t[p],w=x&&x.v!=null&&(x.h||lRe(x.w||(Eu(x),x.w)||""))||"",A={};c>1&&(A.rowspan=c),d>1&&(A.colspan=d),r.editable?w='<span contenteditable="true">'+w+"</span>":x&&(A["data-t"]=x&&x.t||"z",x.v!=null&&(A["data-v"]=x.v),x.z!=null&&(A["data-z"]=x.z),x.l&&(x.l.Target||"#").charAt(0)!="#"&&(w='<a href="'+x.l.Target+'">'+w+"</a>")),A.id=(r.id||"sjs")+"-"+p,a.push(At("td",w,A))}}var N="<tr>";return N+a.join("")+"</tr>"}var Rje='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',kje="</body></html>";function Dje(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function BX(t,e){var n=e||{},r=n.header!=null?n.header:Rje,i=n.footer!=null?n.footer:kje,a=[r],s=wo(t["!ref"]);n.dense=Array.isArray(t),a.push(Dje(t,s,n));for(var c=s.s.r;c<=s.e.r;++c)a.push(Mje(t,s,c,n));return a.push("</table>"+i),a.join("")}function UX(t,e,n){var r=n||{},i=0,a=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var s=typeof r.origin=="string"?ga(r.origin):r.origin;i=s.r,a=s.c}var c=e.getElementsByTagName("tr"),d=Math.min(r.sheetRows||1e7,c.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(t["!ref"]){var p=wo(t["!ref"]);u.s.r=Math.min(u.s.r,p.s.r),u.s.c=Math.min(u.s.c,p.s.c),u.e.r=Math.max(u.e.r,p.e.r),u.e.c=Math.max(u.e.c,p.e.c),i==-1&&(u.e.r=i=p.e.r+1)}var x=[],w=0,A=t["!rows"]||(t["!rows"]=[]),N=0,S=0,I=0,j=0,D=0,P=0;for(t["!cols"]||(t["!cols"]=[]);N<c.length&&S<d;++N){var V=c[N];if(AF(V)){if(r.display)continue;A[S]={hidden:!0}}var K=V.children;for(I=j=0;I<K.length;++I){var Z=K[I];if(!(r.display&&AF(Z))){var F=Z.hasAttribute("data-v")?Z.getAttribute("data-v"):Z.hasAttribute("v")?Z.getAttribute("v"):dRe(Z.innerHTML),U=Z.getAttribute("data-z")||Z.getAttribute("z");for(w=0;w<x.length;++w){var B=x[w];B.s.c==j+a&&B.s.r<S+i&&S+i<=B.e.r&&(j=B.e.c+1-a,w=-1)}P=+Z.getAttribute("colspan")||1,((D=+Z.getAttribute("rowspan")||1)>1||P>1)&&x.push({s:{r:S+i,c:j+a},e:{r:S+i+(D||1)-1,c:j+a+(P||1)-1}});var J={t:"s",v:F},H=Z.getAttribute("data-t")||Z.getAttribute("t")||"";F!=null&&(F.length==0?J.t=H||"z":r.raw||F.trim().length==0||H=="s"||(F==="TRUE"?J={t:"b",v:!0}:F==="FALSE"?J={t:"b",v:!1}:isNaN(au(F))?isNaN(p1(F).getDate())||(J={t:"d",v:Es(F)},r.cellDates||(J={t:"n",v:Vs(J.v)}),J.z=r.dateNF||Ai[14]):J={t:"n",v:au(F)})),J.z===void 0&&U!=null&&(J.z=U);var G="",q=Z.getElementsByTagName("A");if(q&&q.length)for(var Ce=0;Ce<q.length&&!(q[Ce].hasAttribute("href")&&(G=q[Ce].getAttribute("href"),G.charAt(0)!="#"));++Ce);G&&G.charAt(0)!="#"&&(J.l={Target:G}),r.dense?(t[S+i]||(t[S+i]=[]),t[S+i][j+a]=J):t[mr({c:j+a,r:S+i})]=J,u.e.c<j+a&&(u.e.c=j+a),j+=P}}++S}return x.length&&(t["!merges"]=(t["!merges"]||[]).concat(x)),u.e.r=Math.max(u.e.r,S-1+i),t["!ref"]=Ki(u),S>=d&&(t["!fullref"]=Ki((u.e.r=c.length-N+S-1+i,u))),t}function zX(t,e){var n=e||{},r=n.dense?[]:{};return UX(r,t,e)}function Pje(t,e){return Rh(zX(t,e),e)}function AF(t){var e="",n=jje(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function jje(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Lje=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+g1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Xi+e}})(),SF=(function(){var t=function(a){return pr(a).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(a,s,c){var d=[];d.push('      <table:table table:name="'+pr(s.SheetNames[c])+`" table:style-name="ta1">
`);var u=0,p=0,x=wo(a["!ref"]||"A1"),w=a["!merges"]||[],A=0,N=Array.isArray(a);if(a["!cols"])for(p=0;p<=x.e.c;++p)d.push("        <table:table-column"+(a["!cols"][p]?' table:style-name="co'+a["!cols"][p].ods+'"':"")+`></table:table-column>
`);var S="",I=a["!rows"]||[];for(u=0;u<x.s.r;++u)S=I[u]?' table:style-name="ro'+I[u].ods+'"':"",d.push("        <table:table-row"+S+`></table:table-row>
`);for(;u<=x.e.r;++u){for(S=I[u]?' table:style-name="ro'+I[u].ods+'"':"",d.push("        <table:table-row"+S+`>
`),p=0;p<x.s.c;++p)d.push(e);for(;p<=x.e.c;++p){var j=!1,D={},P="";for(A=0;A!=w.length;++A)if(!(w[A].s.c>p)&&!(w[A].s.r>u)&&!(w[A].e.c<p)&&!(w[A].e.r<u)){(w[A].s.c!=p||w[A].s.r!=u)&&(j=!0),D["table:number-columns-spanned"]=w[A].e.c-w[A].s.c+1,D["table:number-rows-spanned"]=w[A].e.r-w[A].s.r+1;break}if(j){d.push(n);continue}var V=mr({r:u,c:p}),K=N?(a[u]||[])[p]:a[V];if(K&&K.f&&(D["table:formula"]=pr(rPe(K.f)),K.F&&K.F.slice(0,V.length)==V)){var Z=wo(K.F);D["table:number-matrix-columns-spanned"]=Z.e.c-Z.s.c+1,D["table:number-matrix-rows-spanned"]=Z.e.r-Z.s.r+1}if(!K){d.push(e);continue}switch(K.t){case"b":P=K.v?"TRUE":"FALSE",D["office:value-type"]="boolean",D["office:boolean-value"]=K.v?"true":"false";break;case"n":P=K.w||String(K.v||0),D["office:value-type"]="float",D["office:value"]=K.v||0;break;case"s":case"str":P=K.v==null?"":K.v,D["office:value-type"]="string";break;case"d":P=K.w||Es(K.v).toISOString(),D["office:value-type"]="date",D["office:date-value"]=Es(K.v).toISOString(),D["table:style-name"]="ce1";break;default:d.push(e);continue}var F=t(P);if(K.l&&K.l.Target){var U=K.l.Target;U=U.charAt(0)=="#"?"#"+iPe(U.slice(1)):U,U.charAt(0)!="#"&&!U.match(/^\w+:/)&&(U="../"+U),F=At("text:a",F,{"xlink:href":U.replace(/&/g,"&amp;")})}d.push("          "+At("table:table-cell",At("text:p",F,{}),D)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},i=function(a,s){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var c=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var p=0;p<u["!cols"].length;++p)if(u["!cols"][p]){var x=u["!cols"][p];if(x.width==null&&x.wpx==null&&x.wch==null)continue;UO(x),x.ods=c;var w=u["!cols"][p].wpx+"px";a.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+w+`"/>
`),a.push(`  </style:style>
`),++c}}});var d=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var p=0;p<u["!rows"].length;++p)if(u["!rows"][p]){u["!rows"][p].ods=d;var x=u["!rows"][p].hpx+"px";a.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+x+`"/>
`),a.push(`  </style:style>
`),++d}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(s,c){var d=[Xi],u=g1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=g1({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(d.push("<office:document"+u+p+`>
`),d.push(nX().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+u+`>
`),i(d,s),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var x=0;x!=s.SheetNames.length;++x)d.push(r(s.Sheets[s.SheetNames[x]],s,x));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),c.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}})();function VX(t,e){if(e.bookType=="fods")return SF(t,e);var n=NO(),r="",i=[],a=[];return r="mimetype",An(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",An(n,r,SF(t,e)),i.push([r,"text/xml"]),a.push([r,"ContentFile"]),r="styles.xml",An(n,r,Lje(t,e)),i.push([r,"text/xml"]),a.push([r,"StylesFile"]),r="meta.xml",An(n,r,Xi+nX()),i.push([r,"text/xml"]),a.push([r,"MetadataFile"]),r="manifest.rdf",An(n,r,KRe(a)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",An(n,r,YRe(i)),n}function gb(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Fje(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):vl(m1(t))}function Bje(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function Qf(t){var e=t.reduce(function(i,a){return i+a.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function Uje(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var a=0;i>=1;++a,i/=256)t[e+a]=i&255;t[e+15]|=n>=0?0:128}function x1(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function cr(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function tp(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Ji(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=x1(t,n),a=i&7;i=Math.floor(i/8);var s=0,c;if(i==0)break;switch(a){case 0:{for(var d=n[0];t[n[0]++]>=128;);c=t.slice(d,n[0])}break;case 5:s=4,c=t.slice(n[0],n[0]+s),n[0]+=s;break;case 1:s=8,c=t.slice(n[0],n[0]+s),n[0]+=s;break;case 2:s=x1(t,n),c=t.slice(n[0],n[0]+s),n[0]+=s;break;default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(r))}var u={data:c,type:a};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function Oa(t){var e=[];return t.forEach(function(n,r){n.forEach(function(i){i.data&&(e.push(cr(r*8+i.type)),i.type==2&&e.push(cr(i.data.length)),e.push(i.data))})}),Qf(e)}function ul(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=x1(t,r),a=Ji(t.slice(r[0],r[0]+i));r[0]+=i;var s={id:tp(a[1][0].data),messages:[]};a[2].forEach(function(c){var d=Ji(c.data),u=tp(d[3][0].data);s.messages.push({meta:d,data:t.slice(r[0],r[0]+u)}),r[0]+=u}),(e=a[3])!=null&&e[0]&&(s.merge=tp(a[3][0].data)>>>0>0),n.push(s)}return n}function y0(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:cr(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:cr(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(s){i.push(s.data),s.meta[3]=[{type:0,data:cr(s.data.length)}],r[2].push({data:Oa(s.meta),type:2})});var a=Oa(r);e.push(cr(a.length)),e.push(a),i.forEach(function(s){return e.push(s)})}),Qf(e)}function zje(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=x1(e,n),i=[];n[0]<e.length;){var a=e[n[0]]&3;if(a==0){var s=e[n[0]++]>>2;if(s<60)++s;else{var c=s-59;s=e[n[0]],c>1&&(s|=e[n[0]+1]<<8),c>2&&(s|=e[n[0]+2]<<16),c>3&&(s|=e[n[0]+3]<<24),s>>>=0,s++,n[0]+=c}i.push(e.slice(n[0],n[0]+s)),n[0]+=s;continue}else{var d=0,u=0;if(a==1?(u=(e[n[0]]>>2&7)+4,d=(e[n[0]++]&224)<<3,d|=e[n[0]++]):(u=(e[n[0]++]>>2)+1,a==2?(d=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(d=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[Qf(i)],d==0)throw new Error("Invalid offset 0");if(d>i[0].length)throw new Error("Invalid offset beyond length");if(u>=d)for(i.push(i[0].slice(-d)),u-=d;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-d,-d+u))}}var p=Qf(i);if(p.length!=r)throw new Error("Unexpected length: ".concat(p.length," != ").concat(r));return p}function fl(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(zje(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return Qf(e)}function v0(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),i=new Uint8Array(4);e.push(i);var a=cr(r),s=a.length;e.push(a),r<=60?(s++,e.push(new Uint8Array([r-1<<2]))):r<=256?(s+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(s+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(s+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(s+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),s+=r,i[0]=0,i[1]=s&255,i[2]=s>>8&255,i[3]=s>>16&255,n+=r}return Qf(e)}function bT(t,e){var n=new Uint8Array(32),r=gb(n),i=12,a=0;switch(n[0]=5,t.t){case"n":n[1]=2,Uje(n,i,t.v),a|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,t.v?1:0,!0),a|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(i,e.indexOf(t.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,a,!0),n.slice(0,i)}function wT(t,e){var n=new Uint8Array(32),r=gb(n),i=12,a=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(i,t.v,!0),a|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,t.v?1:0,!0),a|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(i,e.indexOf(t.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,a,!0),n.slice(0,i)}function df(t){var e=Ji(t);return x1(e[1][0].data)}function Vje(t,e,n){var r,i,a,s;if(!((r=t[6])!=null&&r[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var c=((s=(a=t[8])==null?void 0:a[0])==null?void 0:s.data)&&tp(t[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var d=0,u=gb(t[7][0].data),p=0,x=[],w=gb(t[4][0].data),A=0,N=[],S=0;S<e.length;++S){if(e[S]==null){u.setUint16(S*2,65535,!0),w.setUint16(S*2,65535);continue}u.setUint16(S*2,p,!0),w.setUint16(S*2,A,!0);var I,j;switch(typeof e[S]){case"string":I=bT({t:"s",v:e[S]},n),j=wT({t:"s",v:e[S]},n);break;case"number":I=bT({t:"n",v:e[S]},n),j=wT({t:"n",v:e[S]},n);break;case"boolean":I=bT({t:"b",v:e[S]},n),j=wT({t:"b",v:e[S]},n);break;default:throw new Error("Unsupported value "+e[S])}x.push(I),p+=I.length,N.push(j),A+=j.length,++d}for(t[2][0].data=cr(d);S<t[7][0].data.length/2;++S)u.setUint16(S*2,65535,!0),w.setUint16(S*2,65535,!0);return t[6][0].data=Qf(x),t[3][0].data=Qf(N),d}function Hje(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=wo(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Ki(r)));var a=xb(n,{range:r,header:1}),s=["~Sh33tJ5~"];a.forEach(function(oe){return oe.forEach(function(se){typeof se=="string"&&s.push(se)})});var c={},d=[],u=br.read(e.numbers,{type:"base64"});u.FileIndex.map(function(oe,se){return[oe,u.FullPaths[se]]}).forEach(function(oe){var se=oe[0],fe=oe[1];if(se.type==2&&se.name.match(/\.iwa/)){var Ee=se.content,Ne=fl(Ee),Ge=ul(Ne);Ge.forEach(function(_e){d.push(_e.id),c[_e.id]={deps:[],location:fe,type:tp(_e.messages[0].meta[1][0].data)}})}}),d.sort(function(oe,se){return oe-se});var p=d.filter(function(oe){return oe>1}).map(function(oe){return[oe,cr(oe)]});u.FileIndex.map(function(oe,se){return[oe,u.FullPaths[se]]}).forEach(function(oe){var se=oe[0];if(oe[1],!!se.name.match(/\.iwa/)){var fe=ul(fl(se.content));fe.forEach(function(Ee){Ee.messages.forEach(function(Ne){p.forEach(function(Ge){Ee.messages.some(function(_e){return tp(_e.meta[1][0].data)!=11006&&Bje(_e.data,Ge[1])})&&c[Ge[0]].deps.push(Ee.id)})})})}});for(var x=br.find(u,c[1].location),w=ul(fl(x.content)),A,N=0;N<w.length;++N){var S=w[N];S.id==1&&(A=S)}var I=df(Ji(A.messages[0].data)[1][0].data);for(x=br.find(u,c[I].location),w=ul(fl(x.content)),N=0;N<w.length;++N)S=w[N],S.id==I&&(A=S);for(I=df(Ji(A.messages[0].data)[2][0].data),x=br.find(u,c[I].location),w=ul(fl(x.content)),N=0;N<w.length;++N)S=w[N],S.id==I&&(A=S);for(I=df(Ji(A.messages[0].data)[2][0].data),x=br.find(u,c[I].location),w=ul(fl(x.content)),N=0;N<w.length;++N)S=w[N],S.id==I&&(A=S);var j=Ji(A.messages[0].data);{j[6][0].data=cr(r.e.r+1),j[7][0].data=cr(r.e.c+1);var D=df(j[46][0].data),P=br.find(u,c[D].location),V=ul(fl(P.content));{for(var K=0;K<V.length&&V[K].id!=D;++K);if(V[K].id!=D)throw"Bad ColumnRowUIDMapArchive";var Z=Ji(V[K].messages[0].data);Z[1]=[],Z[2]=[],Z[3]=[];for(var F=0;F<=r.e.c;++F){var U=[];U[1]=U[2]=[{type:0,data:cr(F+420690)}],Z[1].push({type:2,data:Oa(U)}),Z[2].push({type:0,data:cr(F)}),Z[3].push({type:0,data:cr(F)})}Z[4]=[],Z[5]=[],Z[6]=[];for(var B=0;B<=r.e.r;++B)U=[],U[1]=U[2]=[{type:0,data:cr(B+726270)}],Z[4].push({type:2,data:Oa(U)}),Z[5].push({type:0,data:cr(B)}),Z[6].push({type:0,data:cr(B)});V[K].messages[0].data=Oa(Z)}P.content=v0(y0(V)),P.size=P.content.length,delete j[46];var J=Ji(j[4][0].data);{J[7][0].data=cr(r.e.r+1);var H=Ji(J[1][0].data),G=df(H[2][0].data);P=br.find(u,c[G].location),V=ul(fl(P.content));{if(V[0].id!=G)throw"Bad HeaderStorageBucket";var q=Ji(V[0].messages[0].data);for(B=0;B<a.length;++B){var Ce=Ji(q[2][0].data);Ce[1][0].data=cr(B),Ce[4][0].data=cr(a[B].length),q[2][B]={type:q[2][0].type,data:Oa(Ce)}}V[0].messages[0].data=Oa(q)}P.content=v0(y0(V)),P.size=P.content.length;var re=df(J[2][0].data);P=br.find(u,c[re].location),V=ul(fl(P.content));{if(V[0].id!=re)throw"Bad HeaderStorageBucket";for(q=Ji(V[0].messages[0].data),F=0;F<=r.e.c;++F)Ce=Ji(q[2][0].data),Ce[1][0].data=cr(F),Ce[4][0].data=cr(r.e.r+1),q[2][F]={type:q[2][0].type,data:Oa(Ce)};V[0].messages[0].data=Oa(q)}P.content=v0(y0(V)),P.size=P.content.length;var ue=df(J[4][0].data);(function(){for(var oe=br.find(u,c[ue].location),se=ul(fl(oe.content)),fe,Ee=0;Ee<se.length;++Ee){var Ne=se[Ee];Ne.id==ue&&(fe=Ne)}var Ge=Ji(fe.messages[0].data);{Ge[3]=[];var _e=[];s.forEach(function(Me,gt){_e[1]=[{type:0,data:cr(gt)}],_e[2]=[{type:0,data:cr(1)}],_e[3]=[{type:2,data:Fje(Me)}],Ge[3].push({type:2,data:Oa(_e)})})}fe.messages[0].data=Oa(Ge);var ze=y0(se),tt=v0(ze);oe.content=tt,oe.size=oe.content.length})();var me=Ji(J[3][0].data);{var Re=me[1][0];delete me[2];var Be=Ji(Re.data);{var be=df(Be[2][0].data);(function(){for(var oe=br.find(u,c[be].location),se=ul(fl(oe.content)),fe,Ee=0;Ee<se.length;++Ee){var Ne=se[Ee];Ne.id==be&&(fe=Ne)}var Ge=Ji(fe.messages[0].data);{delete Ge[6],delete me[7];var _e=new Uint8Array(Ge[5][0].data);Ge[5]=[];for(var ze=0,tt=0;tt<=r.e.r;++tt){var Me=Ji(_e);ze+=Vje(Me,a[tt],s),Me[1][0].data=cr(tt),Ge[5].push({data:Oa(Me),type:2})}Ge[1]=[{type:0,data:cr(r.e.c+1)}],Ge[2]=[{type:0,data:cr(r.e.r+1)}],Ge[3]=[{type:0,data:cr(ze)}],Ge[4]=[{type:0,data:cr(r.e.r+1)}]}fe.messages[0].data=Oa(Ge);var gt=y0(se),nt=v0(gt);oe.content=nt,oe.size=oe.content.length})()}Re.data=Oa(Be)}J[3][0].data=Oa(me)}j[4][0].data=Oa(J)}A.messages[0].data=Oa(j);var Q=y0(w),ee=v0(Q);return x.content=ee,x.size=x.content.length,u}function Wje(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function GO(t){Wje([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function Gje(t,e){return e.bookType=="ods"?VX(t,e):e.bookType=="numbers"?Hje(t,e):e.bookType=="xlsb"?qje(t,e):Yje(t,e)}function qje(t,e){L0=1024,t&&!t.SSF&&(t.SSF=Hs(Ai)),t&&t.SSF&&(Zw(),Qw(t.SSF),e.revssf=Jw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Tg?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=AX.indexOf(e.bookType)>-1,i=JK();GO(e=e||{});var a=NO(),s="",c=0;if(e.cellXfs=[],sd(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",An(a,s,rX(t.Props,e)),i.coreprops.push(s),dr(e.rels,2,s,Kn.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&d.push(t.SheetNames[u]);t.Props.SheetNames=d}for(t.Props.Worksheets=t.Props.SheetNames.length,An(a,s,aX(t.Props)),i.extprops.push(s),dr(e.rels,3,s,Kn.EXT_PROPS),t.Custprops!==t.Props&&Va(t.Custprops||{}).length>0&&(s="docProps/custom.xml",An(a,s,sX(t.Custprops)),i.custprops.push(s),dr(e.rels,4,s,Kn.CUST_PROPS)),c=1;c<=t.SheetNames.length;++c){var p={"!id":{}},x=t.Sheets[t.SheetNames[c-1]],w=(x||{})["!type"]||"sheet";if(s="xl/worksheets/sheet"+c+"."+n,An(a,s,K5e(c-1,s,e,t,p)),i.sheets.push(s),dr(e.wbrels,-1,"worksheets/sheet"+c+"."+n,Kn.WS[0]),x){var A=x["!comments"],N=!1,S="";A&&A.length>0&&(S="xl/comments"+c+"."+n,An(a,S,Z5e(A,S)),i.comments.push(S),dr(p,-1,"../comments"+c+"."+n,Kn.CMNT),N=!0),x["!legacy"]&&N&&An(a,"xl/drawings/vmlDrawing"+c+".vml",EX(c,x["!comments"])),delete x["!comments"],delete x["!legacy"]}p["!id"].rId1&&An(a,tX(s),J0(p))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+n,An(a,s,Q5e(e.Strings,s,e)),i.strs.push(s),dr(e.wbrels,-1,"sharedStrings."+n,Kn.SST)),s="xl/workbook."+n,An(a,s,$5e(t,s)),i.workbooks.push(s),dr(e.rels,1,s,Kn.WB),s="xl/theme/theme1.xml",An(a,s,bX(t.Themes,e)),i.themes.push(s),dr(e.wbrels,-1,"theme/theme1.xml",Kn.THEME),s="xl/styles."+n,An(a,s,X5e(t,s,e)),i.styles.push(s),dr(e.wbrels,-1,"styles."+n,Kn.STY),t.vbaraw&&r&&(s="xl/vbaProject.bin",An(a,s,t.vbaraw),i.vba.push(s),dr(e.wbrels,-1,"vbaProject.bin",Kn.VBA)),s="xl/metadata."+n,An(a,s,J5e(s)),i.metadata.push(s),dr(e.wbrels,-1,"metadata."+n,Kn.XLMETA),An(a,"[Content_Types].xml",eX(i,e)),An(a,"_rels/.rels",J0(e.rels)),An(a,"xl/_rels/workbook."+n+".rels",J0(e.wbrels)),delete e.revssf,delete e.ssf,a}function Yje(t,e){L0=1024,t&&!t.SSF&&(t.SSF=Hs(Ai)),t&&t.SSF&&(Zw(),Qw(t.SSF),e.revssf=Jw(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Tg?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=AX.indexOf(e.bookType)>-1,i=JK();GO(e=e||{});var a=NO(),s="",c=0;if(e.cellXfs=[],sd(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",An(a,s,rX(t.Props,e)),i.coreprops.push(s),dr(e.rels,2,s,Kn.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&d.push(t.SheetNames[u]);t.Props.SheetNames=d}t.Props.Worksheets=t.Props.SheetNames.length,An(a,s,aX(t.Props)),i.extprops.push(s),dr(e.rels,3,s,Kn.EXT_PROPS),t.Custprops!==t.Props&&Va(t.Custprops||{}).length>0&&(s="docProps/custom.xml",An(a,s,sX(t.Custprops)),i.custprops.push(s),dr(e.rels,4,s,Kn.CUST_PROPS));var p=["SheetJ5"];for(e.tcid=0,c=1;c<=t.SheetNames.length;++c){var x={"!id":{}},w=t.Sheets[t.SheetNames[c-1]],A=(w||{})["!type"]||"sheet";if(s="xl/worksheets/sheet"+c+"."+n,An(a,s,kX(c-1,e,t,x)),i.sheets.push(s),dr(e.wbrels,-1,"worksheets/sheet"+c+"."+n,Kn.WS[0]),w){var N=w["!comments"],S=!1,I="";if(N&&N.length>0){var j=!1;N.forEach(function(D){D[1].forEach(function(P){P.T==!0&&(j=!0)})}),j&&(I="xl/threadedComments/threadedComment"+c+"."+n,An(a,I,ADe(N,p,e)),i.threadedcomments.push(I),dr(x,-1,"../threadedComments/threadedComment"+c+"."+n,Kn.TCMNT)),I="xl/comments"+c+"."+n,An(a,I,_X(N)),i.comments.push(I),dr(x,-1,"../comments"+c+"."+n,Kn.CMNT),S=!0}w["!legacy"]&&S&&An(a,"xl/drawings/vmlDrawing"+c+".vml",EX(c,w["!comments"])),delete w["!comments"],delete w["!legacy"]}x["!id"].rId1&&An(a,tX(s),J0(x))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+n,An(a,s,pX(e.Strings,e)),i.strs.push(s),dr(e.wbrels,-1,"sharedStrings."+n,Kn.SST)),s="xl/workbook."+n,An(a,s,jX(t)),i.workbooks.push(s),dr(e.rels,1,s,Kn.WB),s="xl/theme/theme1.xml",An(a,s,bX(t.Themes,e)),i.themes.push(s),dr(e.wbrels,-1,"theme/theme1.xml",Kn.THEME),s="xl/styles."+n,An(a,s,yX(t,e)),i.styles.push(s),dr(e.wbrels,-1,"styles."+n,Kn.STY),t.vbaraw&&r&&(s="xl/vbaProject.bin",An(a,s,t.vbaraw),i.vba.push(s),dr(e.wbrels,-1,"vbaProject.bin",Kn.VBA)),s="xl/metadata."+n,An(a,s,wX()),i.metadata.push(s),dr(e.wbrels,-1,"metadata."+n,Kn.XLMETA),p.length>1&&(s="xl/persons/person.xml",An(a,s,SDe(p)),i.people.push(s),dr(e.wbrels,-1,"persons/person.xml",Kn.PEOPLE)),An(a,"[Content_Types].xml",eX(i,e)),An(a,"_rels/.rels",J0(e.rels)),An(a,"xl/_rels/workbook."+n+".rels",J0(e.wbrels)),delete e.revssf,delete e.ssf,a}function $je(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=wu(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function HX(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return ix(e.file,br.write(t,{type:Jn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return br.write(t,e)}function Kje(t,e){var n=Hs(e||{}),r=Gje(t,n);return Xje(r,n)}function Xje(t,e){var n={},r=Jn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?br.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Xw(i))}return e.password&&typeof encrypt_agile<"u"?HX(encrypt_agile(i,e.password),e):e.type==="file"?ix(e.file,i):e.type=="string"?Eg(i):i}function Qje(t,e){var n=e||{},r=hje(t,n);return HX(r,n)}function ql(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return h1(m1(r));case"binary":return m1(r);case"string":return t;case"file":return ix(e.file,r,"utf8");case"buffer":return Jn?Ru(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):ql(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Zje(t,e){switch(e.type){case"base64":return h1(t);case"binary":return t;case"string":return t;case"file":return ix(e.file,t,"binary");case"buffer":return Jn?Ru(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Xy(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?h1(n):e.type=="string"?Eg(n):n;case"file":return ix(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function WX(t,e){T8e(),L5e(t);var n=Hs(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=WX(t,n);return n.type="array",Xw(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=t.SheetNames.indexOf(n.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return ql(fje(t,n),n);case"slk":case"sylk":return ql(Dke.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"htm":case"html":return ql(BX(t.Sheets[t.SheetNames[i]],n),n);case"txt":return Zje(GX(t.Sheets[t.SheetNames[i]],n),n);case"csv":return ql(qO(t.Sheets[t.SheetNames[i]],n),n,"\uFEFF");case"dif":return ql(Pke.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"dbf":return Xy(kke.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"prn":return ql(jke.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"rtf":return ql(Hke.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"eth":return ql(hX.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"fods":return ql(VX(t,n),n);case"wk1":return Xy(yF.sheet_to_wk1(t.Sheets[t.SheetNames[i]],n),n);case"wk3":return Xy(yF.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),Xy(FX(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),Qje(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Kje(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function Jje(t,e,n,r,i,a,s,c){var d=Ua(n),u=c.defval,p=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),x=!0,w=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(w,"__rowNum__",{value:n,enumerable:!1})}catch{w.__rowNum__=n}else w.__rowNum__=n;if(!s||t[n])for(var A=e.s.c;A<=e.e.c;++A){var N=s?t[n][A]:t[r[A]+d];if(N===void 0||N.t===void 0){if(u===void 0)continue;a[A]!=null&&(w[a[A]]=u);continue}var S=N.v;switch(N.t){case"z":if(S==null)break;continue;case"e":S=S==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+N.t)}if(a[A]!=null){if(S==null)if(N.t=="e"&&S===null)w[a[A]]=null;else if(u!==void 0)w[a[A]]=u;else if(p&&S===null)w[a[A]]=null;else continue;else w[a[A]]=p&&(N.t!=="n"||N.t==="n"&&c.rawNumbers!==!1)?S:Eu(N,S,c);S!=null&&(x=!1)}}return{row:w,isempty:x}}function xb(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,a=[],s=0,c="",d={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},p=u.range!=null?u.range:t["!ref"];switch(u.header===1?r=1:u.header==="A"?r=2:Array.isArray(u.header)?r=3:u.header==null&&(r=0),typeof p){case"string":d=Hr(p);break;case"number":d=Hr(t["!ref"]),d.s.r=p;break;default:d=p}r>0&&(i=0);var x=Ua(d.s.r),w=[],A=[],N=0,S=0,I=Array.isArray(t),j=d.s.r,D=0,P={};I&&!t[j]&&(t[j]=[]);var V=u.skipHidden&&t["!cols"]||[],K=u.skipHidden&&t["!rows"]||[];for(D=d.s.c;D<=d.e.c;++D)if(!(V[D]||{}).hidden)switch(w[D]=is(D),n=I?t[j][D]:t[w[D]+x],r){case 1:a[D]=D-d.s.c;break;case 2:a[D]=w[D];break;case 3:a[D]=u.header[D-d.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=s=Eu(n,null,u),S=P[s]||0,!S)P[s]=1;else{do c=s+"_"+S++;while(P[c]);P[s]=S,P[c]=1}a[D]=c}for(j=d.s.r+i;j<=d.e.r;++j)if(!(K[j]||{}).hidden){var Z=Jje(t,d,j,w,r,a,I,u);(Z.isempty===!1||(r===1?u.blankrows!==!1:u.blankrows))&&(A[N++]=Z.row)}return A.length=N,A}var TF=/"/g;function e9e(t,e,n,r,i,a,s,c){for(var d=!0,u=[],p="",x=Ua(n),w=e.s.c;w<=e.e.c;++w)if(r[w]){var A=c.dense?(t[n]||[])[w]:t[r[w]+x];if(A==null)p="";else if(A.v!=null){d=!1,p=""+(c.rawNumbers&&A.t=="n"?A.v:Eu(A,null,c));for(var N=0,S=0;N!==p.length;++N)if((S=p.charCodeAt(N))===i||S===a||S===34||c.forceQuotes){p='"'+p.replace(TF,'""')+'"';break}p=="ID"&&(p='"ID"')}else A.f!=null&&!A.F?(d=!1,p="="+A.f,p.indexOf(",")>=0&&(p='"'+p.replace(TF,'""')+'"')):p="";u.push(p)}return c.blankrows===!1&&d?null:u.join(s)}function qO(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=Hr(t["!ref"]),a=r.FS!==void 0?r.FS:",",s=a.charCodeAt(0),c=r.RS!==void 0?r.RS:`
`,d=c.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),p="",x=[];r.dense=Array.isArray(t);for(var w=r.skipHidden&&t["!cols"]||[],A=r.skipHidden&&t["!rows"]||[],N=i.s.c;N<=i.e.c;++N)(w[N]||{}).hidden||(x[N]=is(N));for(var S=0,I=i.s.r;I<=i.e.r;++I)(A[I]||{}).hidden||(p=e9e(t,i,I,x,s,d,a,r),p!=null&&(r.strip&&(p=p.replace(u,"")),(p||r.blankrows!==!1)&&n.push((S++?c:"")+p)));return delete r.dense,n.join("")}function GX(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=qO(t,e);return n}function t9e(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=Hr(t["!ref"]),a="",s=[],c,d=[],u=Array.isArray(t);for(c=i.s.c;c<=i.e.c;++c)s[c]=is(c);for(var p=i.s.r;p<=i.e.r;++p)for(a=Ua(p),c=i.s.c;c<=i.e.c;++c)if(e=s[c]+a,n=u?(t[p]||[])[c]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}d[d.length]=e+"="+r}return d}function qX(t,e,n){var r=n||{},i=+!r.skipHeader,a=t||{},s=0,c=0;if(a&&r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var d=typeof r.origin=="string"?ga(r.origin):r.origin;s=d.r,c=d.c}var u,p={s:{c:0,r:0},e:{c,r:s+e.length-1+i}};if(a["!ref"]){var x=Hr(a["!ref"]);p.e.c=Math.max(p.e.c,x.e.c),p.e.r=Math.max(p.e.r,x.e.r),s==-1&&(s=x.e.r+1,p.e.r=s+e.length-1+i)}else s==-1&&(s=0,p.e.r=e.length-1+i);var w=r.header||[],A=0;e.forEach(function(S,I){Va(S).forEach(function(j){(A=w.indexOf(j))==-1&&(w[A=w.length]=j);var D=S[j],P="z",V="",K=mr({c:c+A,r:s+I+i});u=y1(a,K),D&&typeof D=="object"&&!(D instanceof Date)?a[K]=D:(typeof D=="number"?P="n":typeof D=="boolean"?P="b":typeof D=="string"?P="s":D instanceof Date?(P="d",r.cellDates||(P="n",D=Vs(D)),V=r.dateNF||Ai[14]):D===null&&r.nullError&&(P="e",D=0),u?(u.t=P,u.v=D,delete u.w,delete u.R,V&&(u.z=V)):a[K]=u={t:P,v:D},V&&(u.z=V))})}),p.e.c=Math.max(p.e.c,c+w.length-1);var N=Ua(s);if(i)for(A=0;A<w.length;++A)a[is(A+c)+N]={t:"s",v:w[A]};return a["!ref"]=Ki(p),a}function n9e(t,e){return qX(null,t,e)}function y1(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=ga(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?y1(t,mr(e)):y1(t,mr({r:e,c:n||0}))}function r9e(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function i9e(){return{SheetNames:[],Sheets:{}}}function a9e(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var a=n.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=s+i)!=-1;++i);}if(PX(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function s9e(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=r9e(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function o9e(t,e){return t.z=e,t}function YX(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function l9e(t,e,n){return YX(t,"#"+e,n)}function c9e(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function u9e(t,e,n,r){for(var i=typeof e!="string"?e:Hr(e),a=typeof e=="string"?e:Ki(e),s=i.s.r;s<=i.e.r;++s)for(var c=i.s.c;c<=i.e.c;++c){var d=y1(t,s,c);d.t="n",d.F=a,delete d.v,s==i.s.r&&c==i.s.c&&(d.f=n,r&&(d.D=!0))}return t}var ET={encode_col:is,encode_row:Ua,encode_cell:mr,encode_range:Ki,decode_col:PO,decode_row:DO,split_cell:TRe,decode_cell:ga,decode_range:wo,format_cell:Eu,sheet_add_aoa:YK,sheet_add_json:qX,sheet_add_dom:UX,aoa_to_sheet:Kp,json_to_sheet:n9e,table_to_sheet:zX,table_to_book:Pje,sheet_to_csv:qO,sheet_to_txt:GX,sheet_to_json:xb,sheet_to_html:BX,sheet_to_formulae:t9e,sheet_to_row_object_array:xb,sheet_get_cell:y1,book_new:i9e,book_append_sheet:a9e,book_set_sheet_visibility:s9e,cell_set_number_format:o9e,cell_set_hyperlink:YX,cell_set_internal_link:l9e,cell_add_comment:c9e,sheet_set_array_formula:u9e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},_v={exports:{}},f9e=_v.exports,CF;function d9e(){return CF||(CF=1,(function(t,e){(function(n,r){r()})(f9e,function(){function n(u,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,p,x){var w=new XMLHttpRequest;w.open("GET",u),w.responseType="blob",w.onload=function(){d(w.response,p,x)},w.onerror=function(){console.error("could not download file")},w.send()}function i(u){var p=new XMLHttpRequest;p.open("HEAD",u,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function a(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(p)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof wf=="object"&&wf.global===wf?wf:void 0,c=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(u,p,x){var w=s.URL||s.webkitURL,A=document.createElement("a");p=p||u.name||"download",A.download=p,A.rel="noopener",typeof u=="string"?(A.href=u,A.origin===location.origin?a(A):i(A.href)?r(u,p,x):a(A,A.target="_blank")):(A.href=w.createObjectURL(u),setTimeout(function(){w.revokeObjectURL(A.href)},4e4),setTimeout(function(){a(A)},0))}:"msSaveOrOpenBlob"in navigator?function(u,p,x){if(p=p||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,x),p);else if(i(u))r(u,p,x);else{var w=document.createElement("a");w.href=u,w.target="_blank",setTimeout(function(){a(w)})}}:function(u,p,x,w){if(w=w||open("","_blank"),w&&(w.document.title=w.document.body.innerText="downloading..."),typeof u=="string")return r(u,p,x);var A=u.type==="application/octet-stream",N=/constructor/i.test(s.HTMLElement)||s.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||A&&N||c)&&typeof FileReader<"u"){var I=new FileReader;I.onloadend=function(){var P=I.result;P=S?P:P.replace(/^data:[^;]*;/,"data:attachment/file;"),w?w.location.href=P:location=P,w=null},I.readAsDataURL(u)}else{var j=s.URL||s.webkitURL,D=j.createObjectURL(u);w?w.location=D:location.href=D,w=null,setTimeout(function(){j.revokeObjectURL(D)},4e4)}});s.saveAs=d.saveAs=d,t.exports=d})})(_v)),_v.exports}var h9e=d9e(),YO={};(function t(e,n,r,i){var a=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),s=typeof Path2D=="function"&&typeof DOMMatrix=="function",c=(function(){if(!e.OffscreenCanvas)return!1;try{var be=new OffscreenCanvas(1,1),Q=be.getContext("2d");Q.fillRect(0,0,1,1);var ee=be.transferToImageBitmap();Q.createPattern(ee,"no-repeat")}catch{return!1}return!0})();function d(){}function u(be){var Q=n.exports.Promise,ee=Q!==void 0?Q:e.Promise;return typeof ee=="function"?new ee(be):(be(d,d),null)}var p=(function(be,Q){return{transform:function(ee){if(be)return ee;if(Q.has(ee))return Q.get(ee);var oe=new OffscreenCanvas(ee.width,ee.height),se=oe.getContext("2d");return se.drawImage(ee,0,0),Q.set(ee,oe),oe},clear:function(){Q.clear()}}})(c,new Map),x=(function(){var be=Math.floor(16.666666666666668),Q,ee,oe={},se=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(Q=function(fe){var Ee=Math.random();return oe[Ee]=requestAnimationFrame(function Ne(Ge){se===Ge||se+be-1<Ge?(se=Ge,delete oe[Ee],fe()):oe[Ee]=requestAnimationFrame(Ne)}),Ee},ee=function(fe){oe[fe]&&cancelAnimationFrame(oe[fe])}):(Q=function(fe){return setTimeout(fe,be)},ee=function(fe){return clearTimeout(fe)}),{frame:Q,cancel:ee}})(),w=(function(){var be,Q,ee={};function oe(se){function fe(Ee,Ne){se.postMessage({options:Ee||{},callback:Ne})}se.init=function(Ne){var Ge=Ne.transferControlToOffscreen();se.postMessage({canvas:Ge},[Ge])},se.fire=function(Ne,Ge,_e){if(Q)return fe(Ne,null),Q;var ze=Math.random().toString(36).slice(2);return Q=u(function(tt){function Me(gt){gt.data.callback===ze&&(delete ee[ze],se.removeEventListener("message",Me),Q=null,p.clear(),_e(),tt())}se.addEventListener("message",Me),fe(Ne,ze),ee[ze]=Me.bind(null,{data:{callback:ze}})}),Q},se.reset=function(){se.postMessage({reset:!0});for(var Ne in ee)ee[Ne](),delete ee[Ne]}}return function(){if(be)return be;if(!r&&a){var se=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{be=new Worker(URL.createObjectURL(new Blob([se])))}catch(fe){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",fe),null}oe(be)}return be}})(),A={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function N(be,Q){return Q?Q(be):be}function S(be){return be!=null}function I(be,Q,ee){return N(be&&S(be[Q])?be[Q]:A[Q],ee)}function j(be){return be<0?0:Math.floor(be)}function D(be,Q){return Math.floor(Math.random()*(Q-be))+be}function P(be){return parseInt(be,16)}function V(be){return be.map(K)}function K(be){var Q=String(be).replace(/[^0-9a-f]/gi,"");return Q.length<6&&(Q=Q[0]+Q[0]+Q[1]+Q[1]+Q[2]+Q[2]),{r:P(Q.substring(0,2)),g:P(Q.substring(2,4)),b:P(Q.substring(4,6))}}function Z(be){var Q=I(be,"origin",Object);return Q.x=I(Q,"x",Number),Q.y=I(Q,"y",Number),Q}function F(be){be.width=document.documentElement.clientWidth,be.height=document.documentElement.clientHeight}function U(be){var Q=be.getBoundingClientRect();be.width=Q.width,be.height=Q.height}function B(be){var Q=document.createElement("canvas");return Q.style.position="fixed",Q.style.top="0px",Q.style.left="0px",Q.style.pointerEvents="none",Q.style.zIndex=be,Q}function J(be,Q,ee,oe,se,fe,Ee,Ne,Ge){be.save(),be.translate(Q,ee),be.rotate(fe),be.scale(oe,se),be.arc(0,0,1,Ee,Ne,Ge),be.restore()}function H(be){var Q=be.angle*(Math.PI/180),ee=be.spread*(Math.PI/180);return{x:be.x,y:be.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:be.startVelocity*.5+Math.random()*be.startVelocity,angle2D:-Q+(.5*ee-Math.random()*ee),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:be.color,shape:be.shape,tick:0,totalTicks:be.ticks,decay:be.decay,drift:be.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:be.gravity*3,ovalScalar:.6,scalar:be.scalar,flat:be.flat}}function G(be,Q){Q.x+=Math.cos(Q.angle2D)*Q.velocity+Q.drift,Q.y+=Math.sin(Q.angle2D)*Q.velocity+Q.gravity,Q.velocity*=Q.decay,Q.flat?(Q.wobble=0,Q.wobbleX=Q.x+10*Q.scalar,Q.wobbleY=Q.y+10*Q.scalar,Q.tiltSin=0,Q.tiltCos=0,Q.random=1):(Q.wobble+=Q.wobbleSpeed,Q.wobbleX=Q.x+10*Q.scalar*Math.cos(Q.wobble),Q.wobbleY=Q.y+10*Q.scalar*Math.sin(Q.wobble),Q.tiltAngle+=.1,Q.tiltSin=Math.sin(Q.tiltAngle),Q.tiltCos=Math.cos(Q.tiltAngle),Q.random=Math.random()+2);var ee=Q.tick++/Q.totalTicks,oe=Q.x+Q.random*Q.tiltCos,se=Q.y+Q.random*Q.tiltSin,fe=Q.wobbleX+Q.random*Q.tiltCos,Ee=Q.wobbleY+Q.random*Q.tiltSin;if(be.fillStyle="rgba("+Q.color.r+", "+Q.color.g+", "+Q.color.b+", "+(1-ee)+")",be.beginPath(),s&&Q.shape.type==="path"&&typeof Q.shape.path=="string"&&Array.isArray(Q.shape.matrix))be.fill(me(Q.shape.path,Q.shape.matrix,Q.x,Q.y,Math.abs(fe-oe)*.1,Math.abs(Ee-se)*.1,Math.PI/10*Q.wobble));else if(Q.shape.type==="bitmap"){var Ne=Math.PI/10*Q.wobble,Ge=Math.abs(fe-oe)*.1,_e=Math.abs(Ee-se)*.1,ze=Q.shape.bitmap.width*Q.scalar,tt=Q.shape.bitmap.height*Q.scalar,Me=new DOMMatrix([Math.cos(Ne)*Ge,Math.sin(Ne)*Ge,-Math.sin(Ne)*_e,Math.cos(Ne)*_e,Q.x,Q.y]);Me.multiplySelf(new DOMMatrix(Q.shape.matrix));var gt=be.createPattern(p.transform(Q.shape.bitmap),"no-repeat");gt.setTransform(Me),be.globalAlpha=1-ee,be.fillStyle=gt,be.fillRect(Q.x-ze/2,Q.y-tt/2,ze,tt),be.globalAlpha=1}else if(Q.shape==="circle")be.ellipse?be.ellipse(Q.x,Q.y,Math.abs(fe-oe)*Q.ovalScalar,Math.abs(Ee-se)*Q.ovalScalar,Math.PI/10*Q.wobble,0,2*Math.PI):J(be,Q.x,Q.y,Math.abs(fe-oe)*Q.ovalScalar,Math.abs(Ee-se)*Q.ovalScalar,Math.PI/10*Q.wobble,0,2*Math.PI);else if(Q.shape==="star")for(var nt=Math.PI/2*3,Ut=4*Q.scalar,Ct=8*Q.scalar,st=Q.x,It=Q.y,_t=5,bt=Math.PI/_t;_t--;)st=Q.x+Math.cos(nt)*Ct,It=Q.y+Math.sin(nt)*Ct,be.lineTo(st,It),nt+=bt,st=Q.x+Math.cos(nt)*Ut,It=Q.y+Math.sin(nt)*Ut,be.lineTo(st,It),nt+=bt;else be.moveTo(Math.floor(Q.x),Math.floor(Q.y)),be.lineTo(Math.floor(Q.wobbleX),Math.floor(se)),be.lineTo(Math.floor(fe),Math.floor(Ee)),be.lineTo(Math.floor(oe),Math.floor(Q.wobbleY));return be.closePath(),be.fill(),Q.tick<Q.totalTicks}function q(be,Q,ee,oe,se){var fe=Q.slice(),Ee=be.getContext("2d"),Ne,Ge,_e=u(function(ze){function tt(){Ne=Ge=null,Ee.clearRect(0,0,oe.width,oe.height),p.clear(),se(),ze()}function Me(){r&&!(oe.width===i.width&&oe.height===i.height)&&(oe.width=be.width=i.width,oe.height=be.height=i.height),!oe.width&&!oe.height&&(ee(be),oe.width=be.width,oe.height=be.height),Ee.clearRect(0,0,oe.width,oe.height),fe=fe.filter(function(gt){return G(Ee,gt)}),fe.length?Ne=x.frame(Me):tt()}Ne=x.frame(Me),Ge=tt});return{addFettis:function(ze){return fe=fe.concat(ze),_e},canvas:be,promise:_e,reset:function(){Ne&&x.cancel(Ne),Ge&&Ge()}}}function Ce(be,Q){var ee=!be,oe=!!I(Q||{},"resize"),se=!1,fe=I(Q,"disableForReducedMotion",Boolean),Ee=a&&!!I(Q||{},"useWorker"),Ne=Ee?w():null,Ge=ee?F:U,_e=be&&Ne?!!be.__confetti_initialized:!1,ze=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,tt;function Me(nt,Ut,Ct){for(var st=I(nt,"particleCount",j),It=I(nt,"angle",Number),_t=I(nt,"spread",Number),bt=I(nt,"startVelocity",Number),mt=I(nt,"decay",Number),fi=I(nt,"gravity",Number),nr=I(nt,"drift",Number),Kt=I(nt,"colors",V),Rr=I(nt,"ticks",Number),ye=I(nt,"shapes"),yt=I(nt,"scalar"),Rt=!!I(nt,"flat"),Xt=Z(nt),In=st,nn=[],Ea=be.width*Xt.x,mn=be.height*Xt.y;In--;)nn.push(H({x:Ea,y:mn,angle:It,spread:_t,startVelocity:bt,color:Kt[In%Kt.length],shape:ye[D(0,ye.length)],ticks:Rr,decay:mt,gravity:fi,drift:nr,scalar:yt,flat:Rt}));return tt?tt.addFettis(nn):(tt=q(be,nn,Ge,Ut,Ct),tt.promise)}function gt(nt){var Ut=fe||I(nt,"disableForReducedMotion",Boolean),Ct=I(nt,"zIndex",Number);if(Ut&&ze)return u(function(bt){bt()});ee&&tt?be=tt.canvas:ee&&!be&&(be=B(Ct),document.body.appendChild(be)),oe&&!_e&&Ge(be);var st={width:be.width,height:be.height};Ne&&!_e&&Ne.init(be),_e=!0,Ne&&(be.__confetti_initialized=!0);function It(){if(Ne){var bt={getBoundingClientRect:function(){if(!ee)return be.getBoundingClientRect()}};Ge(bt),Ne.postMessage({resize:{width:bt.width,height:bt.height}});return}st.width=st.height=null}function _t(){tt=null,oe&&(se=!1,e.removeEventListener("resize",It)),ee&&be&&(document.body.contains(be)&&document.body.removeChild(be),be=null,_e=!1)}return oe&&!se&&(se=!0,e.addEventListener("resize",It,!1)),Ne?Ne.fire(nt,st,_t):Me(nt,st,_t)}return gt.reset=function(){Ne&&Ne.reset(),tt&&tt.reset()},gt}var re;function ue(){return re||(re=Ce(null,{useWorker:!0,resize:!0})),re}function me(be,Q,ee,oe,se,fe,Ee){var Ne=new Path2D(be),Ge=new Path2D;Ge.addPath(Ne,new DOMMatrix(Q));var _e=new Path2D;return _e.addPath(Ge,new DOMMatrix([Math.cos(Ee)*se,Math.sin(Ee)*se,-Math.sin(Ee)*fe,Math.cos(Ee)*fe,ee,oe])),_e}function Re(be){if(!s)throw new Error("path confetti are not supported in this browser");var Q,ee;typeof be=="string"?Q=be:(Q=be.path,ee=be.matrix);var oe=new Path2D(Q),se=document.createElement("canvas"),fe=se.getContext("2d");if(!ee){for(var Ee=1e3,Ne=Ee,Ge=Ee,_e=0,ze=0,tt,Me,gt=0;gt<Ee;gt+=2)for(var nt=0;nt<Ee;nt+=2)fe.isPointInPath(oe,gt,nt,"nonzero")&&(Ne=Math.min(Ne,gt),Ge=Math.min(Ge,nt),_e=Math.max(_e,gt),ze=Math.max(ze,nt));tt=_e-Ne,Me=ze-Ge;var Ut=10,Ct=Math.min(Ut/tt,Ut/Me);ee=[Ct,0,0,Ct,-Math.round(tt/2+Ne)*Ct,-Math.round(Me/2+Ge)*Ct]}return{type:"path",path:Q,matrix:ee}}function Be(be){var Q,ee=1,oe="#000000",se='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof be=="string"?Q=be:(Q=be.text,ee="scalar"in be?be.scalar:ee,se="fontFamily"in be?be.fontFamily:se,oe="color"in be?be.color:oe);var fe=10*ee,Ee=""+fe+"px "+se,Ne=new OffscreenCanvas(fe,fe),Ge=Ne.getContext("2d");Ge.font=Ee;var _e=Ge.measureText(Q),ze=Math.ceil(_e.actualBoundingBoxRight+_e.actualBoundingBoxLeft),tt=Math.ceil(_e.actualBoundingBoxAscent+_e.actualBoundingBoxDescent),Me=2,gt=_e.actualBoundingBoxLeft+Me,nt=_e.actualBoundingBoxAscent+Me;ze+=Me+Me,tt+=Me+Me,Ne=new OffscreenCanvas(ze,tt),Ge=Ne.getContext("2d"),Ge.font=Ee,Ge.fillStyle=oe,Ge.fillText(Q,gt,nt);var Ut=1/ee;return{type:"bitmap",bitmap:Ne.transferToImageBitmap(),matrix:[Ut,0,0,Ut,-ze*Ut/2,-tt*Ut/2]}}n.exports=function(){return ue().apply(this,arguments)},n.exports.reset=function(){ue().reset()},n.exports.create=Ce,n.exports.shapeFromPath=Re,n.exports.shapeFromText=Be})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),YO,!1);const P4=YO.exports;YO.exports.create;const p9e=()=>{const e={origin:{y:.7},zIndex:9999};function n(r,i){P4({...e,...i,particleCount:Math.floor(200*r)})}n(.25,{spread:26,startVelocity:55}),n(.2,{spread:60}),n(.35,{spread:100,decay:.91,scalar:.8}),n(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),n(.1,{spread:120,startVelocity:45})},m9e=()=>{const t=Date.now()+1e3,e=["#2563eb","#10b981","#f59e0b","#ec4899"];(function n(){P4({particleCount:4,angle:60,spread:55,origin:{x:0},colors:e,zIndex:9999}),P4({particleCount:4,angle:120,spread:55,origin:{x:1},colors:e,zIndex:9999}),Date.now()<t&&requestAnimationFrame(n)})()},g9e=[{id:"invoice",name:"Invoice Share",icon:"",template:`Hello {{parent_name}}!

Here is the invoice from {{business_name}} for {{student_name}}:

 Invoice: #{{invoice_id}}
 Period: {{period}}
 Classes: {{class_count}}
 Amount: {{amount}}

 View Invoice: {{invoice_link}}

Thank you!`},{id:"reminder",name:"Payment Reminder",icon:"",template:`Hi {{parent_name}},

This is a friendly reminder from {{business_name}}.

Your payment of {{amount}} for {{student_name}}'s classes is pending.

 Invoice: #{{invoice_id}}

 Pay Now: {{invoice_link}}

Please make the payment at your earliest convenience. Thank you!`},{id:"receipt",name:"Payment Received",icon:"",template:`Hi {{parent_name}}! 

Thank you for your payment!

We have received {{amount}} for {{student_name}}'s classes.

 Invoice: #{{invoice_id}}
 Status: PAID

 Download Receipt: {{invoice_link}}

Thank you for choosing {{business_name}}!`},{id:"class_update",name:"Class Update",icon:"",template:`Hi {{parent_name}}!

Quick update about {{student_name}}'s progress at {{business_name}}:

 This month: {{class_count}} classes attended
 Total classes: {{total_classes}}

Keep up the great work! 

Regards,
{{business_name}}`},{id:"schedule",name:"Class Schedule",icon:"",template:`Hi {{parent_name}}!

Here's {{student_name}}'s upcoming schedule at {{business_name}}:

 Day: {{weekday}}
 Time: {{class_time}}
 Topic: {{topic}}

See you soon! 

{{business_name}}`},{id:"welcome",name:"Welcome Message",icon:"",template:`Welcome to {{business_name}}! 

Hi {{parent_name}},

We're excited to have {{student_name}} join us!

 Course: {{course}}
 Start Date: {{start_date}}

If you have any questions, feel free to reach out.

Let's learn and grow together! 

Best regards,
{{business_name}}`}],x9e=({isOpen:t,onClose:e,invoice:n=null,student:r=null})=>{const[i,a]=R.useState(null),[s,c]=R.useState(""),[d,u]=R.useState(!1),p=I=>{let j=I;const D={"{{parent_name}}":n?.studentSnapshot?.parentName||r?.parentName||"Parent","{{student_name}}":n?.studentSnapshot?.name||r?.name||"Student","{{business_name}}":"Makerworks Lab","{{invoice_id}}":n?.id?.slice(-8).toUpperCase()||"XXXXXX","{{period}}":n?x(n):"Month Year","{{class_count}}":n?.classCount||"0","{{amount}}":n?.totalAmount?.toLocaleString()||"0","{{invoice_link}}":n?`${window.location.origin}${window.location.pathname}#/invoice/${n.id}`:"https://example.com","{{course}}":n?.studentSnapshot?.course||r?.course||"Beginner","{{total_classes}}":"0","{{weekday}}":"Saturday","{{class_time}}":"10:00 AM","{{topic}}":"Robotics Basics","{{start_date}}":"Today"};return Object.entries(D).forEach(([P,V])=>{j=j.replace(new RegExp(P.replace(/[{}]/g,"\\$&"),"g"),V)}),j},x=I=>{if(!I)return"";const j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return I.monthCount>1?`${j[parseInt(I.startMonth)-1]} - ${j[parseInt(I.endMonth)-1]} ${I.endYear}`:`${j[parseInt(I.month)-1]} ${I.year}`},w=I=>{a(I),c(p(I.template))},A=()=>{const j=`https://wa.me/91${(n?.studentSnapshot?.phone||r?.phone||"").replace(/\D/g,"")}?text=${encodeURIComponent(s)}`;window.open(j,"_blank"),e()},N=()=>{navigator.clipboard.writeText(s),u(!0),setTimeout(()=>u(!1),2e3)},S=()=>{a(null),c("")};return t?y.jsxs(Ba,{children:[y.jsx("div",{className:"template-overlay",onClick:e,children:y.jsxs(xn.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95},className:"template-modal",onClick:I=>I.stopPropagation(),children:[y.jsxs("div",{className:"template-header",children:[y.jsxs("div",{className:"template-title",children:[y.jsx(Fg,{size:24,className:"wa-icon"}),y.jsx("h3",{children:i?"Edit Message":"WhatsApp Templates"})]}),y.jsx("button",{className:"close-btn",onClick:e,children:y.jsx(uc,{size:20})})]}),y.jsx("div",{className:"template-body",children:i?y.jsxs("div",{className:"message-editor",children:[y.jsxs("div",{className:"editor-header",children:[y.jsx("button",{className:"back-btn",onClick:S,children:" Back"}),y.jsxs("span",{className:"current-template",children:[i.icon," ",i.name]})]}),y.jsx("textarea",{className:"message-textarea",value:s,onChange:I=>c(I.target.value),rows:12}),y.jsxs("div",{className:"editor-actions",children:[y.jsxs("button",{className:"copy-btn",onClick:N,children:[d?y.jsx(ih,{size:18}):y.jsx(q0,{size:18}),d?"Copied!":"Copy"]}),y.jsxs("button",{className:"send-btn",onClick:A,children:[y.jsx(Bue,{size:18}),"Send on WhatsApp"]})]})]}):y.jsx("div",{className:"template-grid",children:g9e.map(I=>y.jsxs("div",{className:"template-card",onClick:()=>w(I),children:[y.jsx("span",{className:"template-icon",children:I.icon}),y.jsx("span",{className:"template-name",children:I.name})]},I.id))})})]})}),y.jsx("style",{jsx:"true",children:`
        .template-overlay {
          position: fixed;
          inset: 0;
          background: rgba(15, 23, 42, 0.7);
          backdrop-filter: blur(8px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 9999;
          padding: 20px;
        }

        .template-modal {
          width: 100%;
          max-width: 500px;
          max-height: 90vh;
          background: var(--bg-card);
          border-radius: 20px;
          overflow: hidden;
          box-shadow: 0 25px 60px rgba(0, 0, 0, 0.3);
        }

        .template-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 20px 24px;
          border-bottom: 1px solid var(--border-color);
        }

        .template-title {
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .wa-icon { color: #25D366; }

        .template-title h3 {
          margin: 0;
          font-size: 1.2rem;
        }

        .close-btn {
          width: 36px;
          height: 36px;
          border-radius: 10px;
          background: var(--bg-secondary);
          color: var(--text-muted);
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .template-body {
          padding: 24px;
          max-height: 60vh;
          overflow-y: auto;
        }

        .template-grid {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 12px;
        }

        .template-card {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 10px;
          padding: 24px 16px;
          background: var(--bg-secondary);
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.2s;
          border: 2px solid transparent;
        }

        .template-card:hover {
          border-color: var(--primary);
          transform: translateY(-2px);
        }

        .template-icon { font-size: 1.8rem; }
        .template-name { font-weight: 600; font-size: 0.9rem; text-align: center; }

        .editor-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 15px;
        }

        .back-btn {
          background: none;
          color: var(--text-muted);
          font-weight: 600;
          font-size: 0.9rem;
        }

        .back-btn:hover { color: var(--primary); }

        .current-template {
          font-size: 0.9rem;
          color: var(--text-muted);
        }

        .message-textarea {
          width: 100%;
          padding: 16px;
          border: 1px solid var(--border-color);
          border-radius: 12px;
          background: var(--bg-secondary);
          color: var(--text-main);
          font-size: 0.9rem;
          line-height: 1.6;
          resize: none;
          font-family: inherit;
        }

        .message-textarea:focus {
          outline: none;
          border-color: var(--primary);
        }

        .editor-actions {
          display: flex;
          gap: 12px;
          margin-top: 20px;
        }

        .copy-btn {
          flex: 1;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          padding: 14px;
          background: var(--bg-secondary);
          border-radius: 10px;
          font-weight: 600;
          color: var(--text-muted);
        }

        .copy-btn:hover { color: var(--primary); }

        .send-btn {
          flex: 2;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          padding: 14px;
          background: #25D366;
          border-radius: 10px;
          font-weight: 600;
          color: white;
        }

        .send-btn:hover { background: #1da851; }
      `})]}):null},IF=[{value:1,label:"1 Month"},{value:2,label:"2 Months"},{value:3,label:"3 Months"},{value:4,label:"4 Months"},{value:6,label:"6 Months"}],y9e=()=>{const t=Kw(),[e,n]=R.useState([]),[r,i]=R.useState([]),[a,s]=R.useState({}),[c,d]=R.useState(!0),[u,p]=R.useState(!1),[x,w]=R.useState(!1),[A,N]=R.useState(!1),[S,I]=R.useState(!1),[j,D]=R.useState(null),[P,V]=R.useState(null),[K,Z]=R.useState(null),[F,U]=R.useState(!1),[B,J]=R.useState(!1),[H,G]=R.useState({current:0,total:0}),[q,Ce]=R.useState("all"),[re,ue]=R.useState(0),[me,Re]=R.useState(!1),[Be,be]=R.useState([]),[Q,ee]=R.useState(null),[oe,se]=R.useState({studentId:"",endMonth:Tt(new Date,"MM"),endYear:Tt(new Date,"yyyy"),monthCount:1,manualClasses:"",selectedDates:[],adjustment:"",adjLabel:"",type:"invoice",selectedBankId:""}),[fe,Ee]=R.useState({endMonth:Tt(new Date,"MM"),endYear:Tt(new Date,"yyyy"),monthCount:1,selectedStudents:[],manualClasses:"",selectedBankId:""}),Ne=async()=>{try{const ye=await xs(er(Gt,"settings","business"));if(ye.exists()){const yt=ye.data();if(ee(yt),yt.pricing&&s(yt.pricing),yt.bankAccounts?.length>0){const Rt=yt.bankAccounts.find(Xt=>Xt.id===yt.defaultBankId)||yt.bankAccounts[0];se(Xt=>({...Xt,selectedBankId:Xt.selectedBankId||Rt.id})),Ee(Xt=>({...Xt,selectedBankId:Xt.selectedBankId||Rt.id}))}}else s({Beginner:999,Intermediate:1499})}catch(ye){console.error(ye)}};R.useEffect(()=>{Ne(),Ge(),_e()},[]),R.useEffect(()=>{u&&(async()=>{if(!oe.studentId){ue(0),be([]);return}Re(!0);try{const yt=new Date(parseInt(oe.endYear),parseInt(oe.endMonth)-1,1);let Rt=0,Xt=[];for(let In=0;In<oe.monthCount;In++){const nn=dc(yt,In),Ea=qg(nn),mn=Wg(nn),yn=Gg({start:Ea,end:mn}).filter(di=>r2(di)||i2(di));Xt=[...Xt,...yn];const Ht=`${oe.studentId}_${Tt(nn,"MM")}_${Tt(nn,"yyyy")}`,gn=await xs(er(Gt,"monthly_attendance",Ht));gn.exists()&&(Rt+=gn.data().classCount||0)}ue(Rt),be(Xt.sort((In,nn)=>In-nn))}catch(yt){console.error(yt)}finally{Re(!1)}})()},[oe.studentId,oe.endMonth,oe.endYear,oe.monthCount,u]),R.useEffect(()=>{if(oe.manualClasses&&Be.length>0){const ye=parseInt(oe.manualClasses);isNaN(ye)||se(yt=>({...yt,selectedDates:Be.slice(0,ye).map(Rt=>Rt.toISOString())}))}else oe.manualClasses||se(ye=>({...ye,selectedDates:[]}))},[oe.manualClasses,Be]);const Ge=async()=>{d(!0);try{const ye=kp(wr(Gt,"invoices"),Hb("createdAt","desc")),yt=await Zr(ye);n(yt.docs.map(Rt=>({id:Rt.id,...Rt.data()})))}catch(ye){console.error(ye)}finally{d(!1)}},_e=async()=>{try{const yt=(await Zr(wr(Gt,"students"))).docs.map(Rt=>({id:Rt.id,...Rt.data()}));i(yt),Ee(Rt=>({...Rt,selectedStudents:yt.map(Xt=>Xt.id)}))}catch(ye){console.error(ye)}},ze=async(ye,yt,Rt,Xt)=>{const In=yt==="Paid"?"Unpaid":"Paid";try{await JT(er(Gt,"invoices",ye),{status:In,paidAt:In==="Paid"?new Date().toISOString():null}),n(e.map(nn=>nn.id===ye?{...nn,status:In}:nn)),In==="Paid"?(p9e(),setTimeout(()=>m9e(),300),t.success(`Payment received! ${Xt?.toLocaleString()} from ${Rt}`)):t.warning("Invoice marked as unpaid")}catch(nn){console.error(nn),t.error("Failed to update status")}},tt=ye=>{D(ye),N(!0)},Me=ye=>{V({...ye,studentName:ye.studentSnapshot?.name||"",parentName:ye.studentSnapshot?.parentName||"",phone:ye.studentSnapshot?.phone||"",email:ye.studentSnapshot?.email||"",address:ye.studentSnapshot?.address||"",course:ye.studentSnapshot?.course||"",adjustment:ye.adjustment||0,adjLabel:ye.adjLabel||"",ratePerClass:ye.ratePerClass||0,classCount:ye.classCount||0,totalAmount:ye.totalAmount||0,sessions:ye.sessions||[],invoiceNo:ye.customInvoiceNo||ye.id.slice(-6).toUpperCase(),bank:ye.bankSnapshot||Q?.bank||{accountName:"",accountNumber:"",ifsc:"",bankName:"",accountType:"",upiId:Q?.upiId||""}}),I(!0)},gt=async ye=>{ye.preventDefault(),J(!0);try{const{id:yt,studentName:Rt,parentName:Xt,phone:In,email:nn,address:Ea,course:mn,adjustment:ct,adjLabel:yn,ratePerClass:Ht,classCount:gn,sessions:di,invoiceNo:Wr,bank:hi}=P,sn=parseInt(gn)*parseFloat(Ht)+(parseFloat(ct)||0),kn={classCount:parseInt(gn),ratePerClass:parseFloat(Ht),adjustment:parseFloat(ct)||0,adjLabel:yn,totalAmount:sn,sessions:di,customInvoiceNo:Wr,bankSnapshot:hi,studentSnapshot:{name:Rt,parentName:Xt,phone:In,email:nn,address:Ea,course:mn}};await JT(er(Gt,"invoices",yt),kn),n(e.map(kr=>kr.id===yt?{...kr,...kn}:kr)),I(!1),t.success("Invoice updated successfully!")}catch(yt){console.error(yt),t.error("Failed to update invoice")}finally{J(!1)}},nt=ye=>{const yt=ye.studentSnapshot?.phone?.replace(/\D/g,""),Rt=nr(ye),Xt=`Hi ${ye.studentSnapshot?.parentName}!

Just a friendly reminder regarding the invoice for ${ye.studentSnapshot?.name} (${Rt}).

 Amount Due: ${ye.totalAmount?.toLocaleString()}
 Invoice: #${ye.id.slice(-8).toUpperCase()}

You can view and pay it here: ${window.location.origin}${window.location.pathname}#/invoice/${ye.id}

Thank you!`;window.open(`https://wa.me/91${yt}?text=${encodeURIComponent(Xt)}`,"_blank"),t.info("Payment nudge created!")},Ut=async(ye,yt,Rt,Xt,In=null,nn=[],Ea=0,mn="",ct="invoice",yn=null)=>{const Ht=await xs(er(Gt,"students",ye));if(!Ht.exists())throw new Error("Student not found");const gn=Ht.data(),di=new Date(parseInt(Rt),parseInt(yt)-1,1),Wr=[];for(let Un=0;Un<Xt;Un++){const Gr=dc(di,Un);Wr.push({month:Tt(Gr,"MM"),year:Tt(Gr,"yyyy"),label:Tt(Gr,"MMM yyyy")})}Wr.reverse();let hi=[],sn=0;const kn=[];for(const Un of Wr){const Gr=`${ye}_${Un.month}_${Un.year}`,Ar=await xs(er(Gt,"monthly_attendance",Gr)),Pi=Ar.exists()?Ar.data():{classCount:0,sessions:[]};hi=[...hi,...Pi.sessions||[]],sn+=Pi.classCount||0,kn.push({month:Un.month,year:Un.year,label:Un.label,classCount:Pi.classCount||0})}const kr=a[gn.course]||0,sa=In?parseInt(In):sn,_r=sa*kr,qs=parseFloat(Ea)||0,Dr=_r+qs;let ni=hi;if(nn.length>0)ni=nn.map(Un=>({date:Un,location:"MAKER WORKS",topic:"Class Session"}));else if(In){const Un=parseInt(In);let Gr=[];for(const Ar of Wr){const Pi=new Date(parseInt(Ar.year),parseInt(Ar.month)-1,1),Ci=Gg({start:qg(Pi),end:Wg(Pi)}).filter(ie=>r2(ie)||i2(ie));Gr=[...Gr,...Ci]}Gr.sort((Ar,Pi)=>Ar-Pi),ni=Gr.slice(0,Un).map(Ar=>({date:Ar.toISOString(),location:"MAKER WORKS",topic:"Planned Session"}))}const Ha={studentId:ye,startMonth:Wr[0].month,startYear:Wr[0].year,endMonth:Wr[Wr.length-1].month,endYear:Wr[Wr.length-1].year,month:yt,year:Rt,monthCount:Xt,monthlyBreakdown:kn,classCount:sa,actualAttendanceCount:sn,sessions:ni,ratePerClass:kr,adjustment:qs,adjLabel:mn||(qs<0?"Discount":"Additional Fee"),totalAmount:Dr,isManualBilling:!!In,status:ct==="quotation"?"Quotation":"Unpaid",type:ct,createdAt:new Date().toISOString(),studentSnapshot:{name:gn.name,parentName:gn.parentName,email:gn.email,phone:gn.phone,address:gn.address||"",course:gn.course||"Beginner"},bankSnapshot:(()=>{let Un=null;return yn&&Q?.bankAccounts?Un=Q.bankAccounts.find(Gr=>Gr.id===yn):Q?.bankAccounts?.length>0&&(Un=Q.bankAccounts[0]),Un?{...Un}:null})()};return Gb(wr(Gt,"invoices"),Ha)},Ct=async ye=>{if(ye.preventDefault(),!!oe.studentId){U(!0);try{await Ut(oe.studentId,oe.endMonth,oe.endYear,oe.monthCount,oe.manualClasses,oe.selectedDates,oe.adjustment,oe.adjLabel,oe.type,oe.selectedBankId),await Ge(),p(!1),se(yt=>({...yt,manualClasses:"",selectedDates:[],adjustment:"",adjLabel:""}))}catch(yt){console.error("Generation Error:",yt),alert("Error: "+yt.message)}finally{U(!1)}}},st=async ye=>{if(ye.preventDefault(),fe.selectedStudents.length!==0){U(!0),G({current:0,total:fe.selectedStudents.length});try{for(let yt=0;yt<fe.selectedStudents.length;yt++)await Ut(fe.selectedStudents[yt],fe.endMonth,fe.endYear,fe.monthCount,fe.manualClasses,[],0,"","invoice",fe.selectedBankId),G({current:yt+1,total:fe.selectedStudents.length});await Ge(),w(!1),alert(`Successfully generated ${fe.selectedStudents.length} invoices!`)}catch(yt){console.error("Bulk Generation Error:",yt),alert("Error: "+yt.message)}finally{U(!1),G({current:0,total:0})}}},It=ye=>{Ee(yt=>({...yt,selectedStudents:yt.selectedStudents.includes(ye)?yt.selectedStudents.filter(Rt=>Rt!==ye):[...yt.selectedStudents,ye]}))},_t=()=>{Ee(ye=>({...ye,selectedStudents:ye.selectedStudents.length===r.length?[]:r.map(yt=>yt.id)}))},bt=()=>{const ye=e.map(nn=>({"Invoice #":nn.id.slice(-8).toUpperCase(),Student:nn.studentSnapshot?.name,Parent:nn.studentSnapshot?.parentName,Phone:nn.studentSnapshot?.phone,Email:nn.studentSnapshot?.email,Course:nn.studentSnapshot?.course,Period:nr(nn),Classes:nn.classCount,Rate:nn.ratePerClass,Amount:nn.totalAmount,Status:nn.status,Created:Tt(new Date(nn.createdAt),"dd/MM/yyyy")})),yt=ET.json_to_sheet(ye),Rt=ET.book_new();ET.book_append_sheet(Rt,yt,"Invoices");const Xt=WX(Rt,{bookType:"xlsx",type:"array"}),In=new Blob([Xt],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});h9e.saveAs(In,`Invoices_${Tt(new Date,"yyyy-MM-dd")}.xlsx`),t.success(`Exported ${e.length} invoices to Excel!`)},mt=ye=>{const yt=`${window.location.origin}${window.location.pathname}#/invoice/${ye}`;navigator.clipboard.writeText(yt),Z(ye),t.success("Invoice link copied to clipboard!"),setTimeout(()=>Z(null),2e3)},fi=async ye=>{if(window.confirm("Delete this invoice?"))try{await Wb(er(Gt,"invoices",ye)),Ge()}catch(yt){console.error(yt)}},nr=ye=>{if(ye.monthCount>1){const yt=Tt(new Date(2e3,parseInt(ye.startMonth)-1),"MMM"),Rt=Tt(new Date(2e3,parseInt(ye.endMonth)-1),"MMM");return`${yt} - ${Rt} ${ye.endYear}`}return`${Tt(new Date(2e3,parseInt(ye.month)-1),"MMM")} ${ye.year}`},Kt=e.filter(ye=>q==="paid"?ye.status==="Paid":q==="unpaid"?ye.status==="Unpaid":ye.type!=="quotation"),Rr={total:e.filter(ye=>ye.type!=="quotation").length,paid:e.filter(ye=>ye.status==="Paid").length,unpaid:e.filter(ye=>ye.type!=="quotation"&&ye.status==="Unpaid").length,totalAmount:e.filter(ye=>ye.type!=="quotation").reduce((ye,yt)=>ye+(yt.totalAmount||0),0),paidAmount:e.filter(ye=>ye.status==="Paid").reduce((ye,yt)=>ye+(yt.totalAmount||0),0)};return y.jsxs(xn.div,{initial:{opacity:0},animate:{opacity:1},className:"invoices-page",children:[y.jsxs("div",{className:"page-header glass card",children:[y.jsxs("div",{className:"title-group",children:[y.jsx("h3",{children:"Invoices"}),y.jsx("p",{children:"Generate and manage student bills"})]}),y.jsxs("div",{className:"header-actions",children:[y.jsxs("button",{className:"export-btn",onClick:bt,title:"Export to Excel",children:[y.jsx(Qce,{size:18})," Export"]}),y.jsx("button",{className:"sync-btn",onClick:Ge,children:y.jsx(td,{size:18,className:c?"animate-spin":""})}),y.jsxs("button",{className:"bulk-btn",onClick:()=>{Ne(),w(!0)},children:[y.jsx(cp,{size:18})," Bulk Generate"]}),y.jsxs("button",{className:"btn-primary",onClick:()=>{Ne(),p(!0)},children:[y.jsx(Y0,{size:18})," Generate Bill"]})]})]}),y.jsxs("div",{className:"stats-bar interactive",children:[y.jsxs("div",{className:`stat-pill ${q==="all"?"active":""}`,onClick:()=>Ce("all"),children:[y.jsx("span",{className:"stat-num",children:Rr.total}),y.jsx("span",{children:"Total Invoices"})]}),y.jsxs("div",{className:`stat-pill unpaid ${q==="unpaid"?"active":""}`,onClick:()=>Ce("unpaid"),children:[y.jsx("span",{className:"stat-num",children:Rr.unpaid}),y.jsx("span",{children:"Pending Payment"})]}),y.jsxs("div",{className:`stat-pill paid ${q==="paid"?"active":""}`,onClick:()=>Ce("paid"),children:[y.jsx("span",{className:"stat-num",children:Rr.paid}),y.jsx("span",{children:"Received"})]}),y.jsxs("div",{className:"stat-pill amount",children:[y.jsxs("span",{className:"stat-num",children:["",Rr.paidAmount.toLocaleString()]}),y.jsx("span",{children:"Total Collected"})]})]}),y.jsx("div",{className:"glass card table-container",children:c?y.jsxs(y.Fragment,{children:[y.jsx(Mh,{}),y.jsx(hK,{})]}):Kt.length>0?y.jsxs(y.Fragment,{children:[y.jsxs("table",{className:"modern-table desktop-only",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Invoice #"}),y.jsx("th",{children:"Student"}),y.jsx("th",{children:"Period"}),y.jsx("th",{children:"Classes"}),y.jsx("th",{children:"Amount"}),y.jsx("th",{children:"Status"}),y.jsx("th",{style:{textAlign:"right"},children:"Actions"})]})}),y.jsx("tbody",{children:Kt.map(ye=>y.jsxs("tr",{className:ye.status==="Paid"?"row-paid":"row-unpaid",children:[y.jsx("td",{children:y.jsxs("div",{className:"inv-id-cell",children:[y.jsx("span",{className:`type-tag ${ye.type||"invoice"}`,children:ye.type==="quotation"?"QUOT":"INV"}),y.jsxs("span",{className:"inv-code",children:["#",ye.id.slice(-8).toUpperCase()]})]})}),y.jsx("td",{children:y.jsxs("div",{className:"st-cell",children:[y.jsx("strong",{children:ye.studentSnapshot?.name}),y.jsx("span",{className:`course-tag ${ye.studentSnapshot?.course?.toLowerCase()}`,children:ye.studentSnapshot?.course})]})}),y.jsx("td",{children:y.jsxs("div",{className:"period-badge",children:[y.jsx(Bs,{size:14}),y.jsx("span",{children:nr(ye)}),ye.monthCount>1&&y.jsxs("span",{className:"multi-badge",children:[ye.monthCount,"M"]})]})}),y.jsx("td",{children:y.jsx("span",{className:"class-count",children:ye.classCount})}),y.jsx("td",{children:y.jsxs("span",{className:"total-amt",children:["",ye.totalAmount?.toLocaleString()]})}),y.jsx("td",{children:y.jsxs("button",{className:`status-toggle ${ye.status?.toLowerCase()}`,onClick:()=>ye.type!=="quotation"&&ze(ye.id,ye.status,ye.studentSnapshot?.name,ye.totalAmount),disabled:ye.type==="quotation",children:[ye.status==="Paid"?y.jsx(qv,{size:14}):ye.type==="quotation"?y.jsx(rc,{size:14}):y.jsx(Dp,{size:14}),ye.status]})}),y.jsx("td",{align:"right",children:y.jsxs("div",{className:"action-row",children:[ye.status!=="Paid"&&y.jsx("button",{onClick:()=>nt(ye),className:"action-btn nudge",title:"Send Payment Nudge",children:y.jsx(Fg,{size:18})}),y.jsx("button",{onClick:()=>tt(ye),className:"action-btn whatsapp",title:"WhatsApp Templates",children:y.jsx(q0,{size:18})}),y.jsx("button",{onClick:()=>Me(ye),className:"action-btn",title:"Edit Everything",children:y.jsx(JD,{size:18})}),y.jsx("button",{onClick:()=>window.open(`${window.location.origin}${window.location.pathname}#/invoice/${ye.id}`,"_blank"),className:"action-btn",title:"View",children:y.jsx(lp,{size:18})}),y.jsx("button",{onClick:()=>mt(ye.id),className:"action-btn",title:"Copy Link",children:K===ye.id?y.jsx(ih,{size:18,className:"text-success"}):y.jsx(q0,{size:18})}),y.jsx("button",{onClick:()=>fi(ye.id),className:"action-btn delete",title:"Delete",children:y.jsx(cc,{size:18})})]})})]},ye.id))})]}),y.jsx("div",{className:"mobile-cards-view mobile-only",children:Kt.map(ye=>y.jsxs("div",{className:`invoice-mobile-card ${ye.status==="Paid"?"paid":"unpaid"}`,children:[y.jsxs("div",{className:"card-top",children:[y.jsxs("div",{className:"card-id",children:[y.jsx("span",{className:`type-tag-sm ${ye.type||"invoice"}`,children:ye.type==="quotation"?"QUOT":"INV"}),y.jsxs("strong",{children:["#",ye.id.slice(-8).toUpperCase()]})]}),y.jsx("button",{className:`status-pill ${ye.status?.toLowerCase()}`,onClick:()=>ye.type!=="quotation"&&ze(ye.id,ye.status,ye.studentSnapshot?.name,ye.totalAmount),disabled:ye.type==="quotation",children:ye.status})]}),y.jsxs("div",{className:"card-student",children:[y.jsxs("div",{className:"student-info",children:[y.jsx("h3",{children:ye.studentSnapshot?.name}),y.jsx("span",{className:`course-tag-sm ${ye.studentSnapshot?.course?.toLowerCase()}`,children:ye.studentSnapshot?.course})]}),y.jsxs("div",{className:"card-amount",children:["",ye.totalAmount?.toLocaleString()]})]}),y.jsxs("div",{className:"card-details",children:[y.jsxs("div",{className:"detail-item",children:[y.jsx(Bs,{size:12}),y.jsx("span",{children:nr(ye)})]}),y.jsx("div",{className:"detail-item",children:y.jsxs("strong",{children:[ye.classCount," classes"]})})]}),y.jsxs("div",{className:"card-actions",children:[y.jsxs("button",{onClick:()=>window.open(`${window.location.origin}${window.location.pathname}#/invoice/${ye.id}`,"_blank"),className:"card-action-btn primary",children:[y.jsx(lp,{size:16})," View"]}),y.jsxs("button",{onClick:()=>Me(ye),className:"card-action-btn",children:[y.jsx(JD,{size:16})," Edit"]}),y.jsxs("button",{onClick:()=>tt(ye),className:"card-action-btn whatsapp",children:[y.jsx(q0,{size:16})," Send"]}),ye.status!=="Paid"&&y.jsxs("button",{onClick:()=>nt(ye),className:"card-action-btn nudge",children:[y.jsx(Fg,{size:16})," Nudge"]}),y.jsx("button",{onClick:()=>fi(ye.id),className:"card-action-btn delete",children:y.jsx(cc,{size:16})})]})]},ye.id))})]}):y.jsxs("div",{className:"empty-box",children:[y.jsx(Y0,{size:48}),y.jsx("p",{children:"No invoices found."}),y.jsx("button",{className:"btn-primary",onClick:()=>p(!0),children:"Create First Invoice"})]})}),y.jsx(Ba,{children:u&&y.jsx("div",{className:"modal-overlay",children:y.jsxs(xn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"glass modal-card",children:[y.jsxs("div",{className:"modal-header",children:[y.jsxs("div",{children:[y.jsx("h3",{children:"Generate Invoice"}),y.jsx("p",{children:"Choose student and billing period"})]}),y.jsx("button",{className:"close-btn",onClick:()=>p(!1),children:""})]}),y.jsxs("form",{onSubmit:Ct,className:"gen-form",children:[y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Student"}),y.jsxs("select",{className:"input-field",value:oe.studentId,onChange:ye=>se({...oe,studentId:ye.target.value}),required:!0,children:[y.jsx("option",{value:"",children:"-- Select Student --"}),r.map(ye=>y.jsxs("option",{value:ye.id,children:[ye.name," (",ye.course||"Beginner",")"]},ye.id))]})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Billing Type & Classes"}),y.jsxs("div",{className:"attendance-preview-box",children:[y.jsxs("div",{className:"att-info",children:[y.jsx(Bs,{size:16}),y.jsxs("span",{children:["Attendance Found: ",y.jsxs("strong",{children:[me?"...":re," classes"]})]})]}),y.jsx("input",{type:"number",className:"input-field override-input",placeholder:`Enter total (default: ${re})`,value:oe.manualClasses,onChange:ye=>se({...oe,manualClasses:ye.target.value})})]}),y.jsxs("div",{className:"scenario-hints",children:[y.jsxs("p",{className:"hint",children:["1. For ",y.jsx("strong",{children:"Future Classes"}),", enter total classes planned (e.g. 4)."]}),y.jsxs("p",{className:"hint",children:["2. For ",y.jsx("strong",{children:"Past Classes"}),", leave empty to use attendance (",re,")."]}),y.jsxs("p",{className:"hint",children:["3. For ",y.jsx("strong",{children:"Mixed"}),", enter the total count (Past + Future)."]})]})]}),Be.length>0&&y.jsxs("div",{className:"input-group",children:[y.jsxs("label",{children:["Session Dates (",oe.selectedDates.length," selected)"]}),y.jsx("div",{className:"dates-grid",children:Be.map((ye,yt)=>{const Rt=ye.toISOString(),Xt=oe.selectedDates.includes(Rt);return y.jsxs("button",{type:"button",className:`date-chip ${Xt?"selected":""}`,onClick:()=>{const In=Xt?oe.selectedDates.filter(nn=>nn!==Rt):[...oe.selectedDates,Rt];se({...oe,selectedDates:In,manualClasses:In.length||""})},children:[y.jsx("span",{className:"day-name",children:Tt(ye,"EEE")}),y.jsx("span",{className:"day-num",children:Tt(ye,"dd")}),y.jsx("span",{className:"month-name",children:Tt(ye,"MMM")})]},yt)})}),y.jsx("p",{className:"hint",children:"Suggested based on Saturdays & Sundays. Click to toggle."})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"End Month"}),y.jsx("select",{className:"input-field",value:oe.endMonth,onChange:ye=>se({...oe,endMonth:ye.target.value}),children:[...Array(12)].map((ye,yt)=>{const Rt=String(yt+1).padStart(2,"0");return y.jsx("option",{value:Rt,children:Tt(new Date(2e3,yt),"MMMM")},Rt)})})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Year"}),y.jsx("input",{type:"number",className:"input-field",value:oe.endYear,onChange:ye=>se({...oe,endYear:ye.target.value})})]})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Month Span"}),y.jsx("div",{className:"month-count-selector",children:IF.map(ye=>y.jsx("button",{type:"button",className:`count-option ${oe.monthCount===ye.value?"active":""}`,onClick:()=>se({...oe,monthCount:ye.value}),children:ye.label},ye.value))})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Extra Fee/Discount Label"}),y.jsx("input",{type:"text",className:"input-field",placeholder:"e.g. Sibling Discount",value:oe.adjLabel,onChange:ye=>se({...oe,adjLabel:ye.target.value})})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Amount (Use - for discount)"}),y.jsx("input",{type:"number",className:"input-field",placeholder:"e.g. -200 or 500",value:oe.adjustment,onChange:ye=>se({...oe,adjustment:ye.target.value})})]})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Payment Bank Account"}),y.jsxs("select",{className:"input-field",value:oe.selectedBankId,onChange:ye=>se({...oe,selectedBankId:ye.target.value}),required:!0,children:[y.jsx("option",{value:"",children:"-- Select Bank Account --"}),(Q?.bankAccounts||[]).map(ye=>y.jsxs("option",{value:ye.id,children:[ye.bankName," (",ye.accountNumber.slice(-4),")"]},ye.id))]}),(!Q?.bankAccounts||Q.bankAccounts.length===0)&&y.jsx("div",{className:"error-hint",style:{color:"#ef4444",fontSize:"11px",marginTop:"4px"},children:" No bank accounts found! Please add one in Settings first."}),y.jsx("span",{className:"hint",children:"The bank account details shown on the invoice"})]}),y.jsxs("div",{className:"modal-footer",children:[y.jsx("button",{type:"button",className:"cancel-link",onClick:()=>p(!1),children:"Cancel"}),y.jsxs("button",{type:"submit",className:"btn-primary",disabled:F||!oe.studentId,children:[F?y.jsx(ns,{className:"animate-spin",size:20}):y.jsx(Y0,{size:20}),y.jsx("span",{children:F?"Creating...":"Generate"})]})]})]})]})})}),y.jsx(Ba,{children:S&&P&&y.jsx("div",{className:"modal-overlay",children:y.jsxs(xn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"glass modal-card edit-everything-modal",children:[y.jsxs("div",{className:"modal-header",children:[y.jsxs("div",{children:[y.jsx("h3",{children:"Edit Invoice"}),y.jsx("p",{children:"You can edit every detail of this invoice"})]}),y.jsx("button",{className:"close-btn",onClick:()=>I(!1),children:""})]}),y.jsxs("form",{onSubmit:gt,className:"gen-form",children:[y.jsx("div",{className:"section-title",children:" Invoice Metadata"}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Invoice Number #"}),y.jsx("input",{type:"text",className:"input-field",value:P.invoiceNo,onChange:ye=>V({...P,invoiceNo:ye.target.value}),placeholder:"e.g. 212"}),y.jsx("span",{className:"hint",children:"Custom invoice number to display"})]}),y.jsx("div",{className:"section-title",children:" Student Details"}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Student Name"}),y.jsx("input",{type:"text",className:"input-field",value:P.studentName,onChange:ye=>V({...P,studentName:ye.target.value}),required:!0})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Parent Name"}),y.jsx("input",{type:"text",className:"input-field",value:P.parentName,onChange:ye=>V({...P,parentName:ye.target.value})})]})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Phone"}),y.jsx("input",{type:"text",className:"input-field",value:P.phone,onChange:ye=>V({...P,phone:ye.target.value})})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Email"}),y.jsx("input",{type:"email",className:"input-field",value:P.email,onChange:ye=>V({...P,email:ye.target.value})})]})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Student Address"}),y.jsx("textarea",{className:"input-field",rows:"2",value:P.address,onChange:ye=>V({...P,address:ye.target.value})})]}),y.jsx("div",{className:"section-title",children:" Billing & Pricing"}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Class Count"}),y.jsx("input",{type:"number",className:"input-field",value:P.classCount,onChange:ye=>V({...P,classCount:ye.target.value})})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Rate Per Class ()"}),y.jsx("input",{type:"number",className:"input-field",value:P.ratePerClass,onChange:ye=>V({...P,ratePerClass:ye.target.value})})]})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Adjustment Label"}),y.jsx("input",{type:"text",className:"input-field",value:P.adjLabel,onChange:ye=>V({...P,adjLabel:ye.target.value})})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Adjustment Amount ()"}),y.jsx("input",{type:"number",className:"input-field",value:P.adjustment,onChange:ye=>V({...P,adjustment:ye.target.value})})]})]}),y.jsx("div",{className:"section-title",children:" Bank & UPI Details"}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Switch Bank Account (Fast Fill)"}),y.jsxs("select",{className:"input-field",style:{background:"rgba(var(--primary-rgb), 0.05)",border:"1px solid var(--primary)"},onChange:ye=>{const yt=Q?.bankAccounts?.find(Rt=>Rt.id===ye.target.value);yt&&V({...P,bank:{...yt}})},children:[y.jsx("option",{value:"",children:"-- Choose Account --"}),(Q?.bankAccounts||[]).map(ye=>y.jsxs("option",{value:ye.id,children:[ye.bankName," - ",ye.accountNumber]},ye.id))]}),y.jsx("span",{className:"hint",children:"This will overwrite the current bank details for this invoice."})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Account Name"}),y.jsx("input",{type:"text",className:"input-field",value:P.bank.accountName,onChange:ye=>V({...P,bank:{...P.bank,accountName:ye.target.value}})})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Account Number"}),y.jsx("input",{type:"text",className:"input-field",value:P.bank.accountNumber,onChange:ye=>V({...P,bank:{...P.bank,accountNumber:ye.target.value}})})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"IFSC Code"}),y.jsx("input",{type:"text",className:"input-field",value:P.bank.ifsc,onChange:ye=>V({...P,bank:{...P.bank,ifsc:ye.target.value}})})]})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Bank Name"}),y.jsx("input",{type:"text",className:"input-field",value:P.bank.bankName,onChange:ye=>V({...P,bank:{...P.bank,bankName:ye.target.value}})})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Account Type"}),y.jsx("input",{type:"text",className:"input-field",value:P.bank.accountType,onChange:ye=>V({...P,bank:{...P.bank,accountType:ye.target.value}})})]})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"UPI ID (for QR Code)"}),y.jsx("input",{type:"text",className:"input-field",value:P.bank.upiId,onChange:ye=>V({...P,bank:{...P.bank,upiId:ye.target.value}})})]}),y.jsxs("div",{className:"summary-preview",children:[y.jsx("span",{children:"New Total:"}),y.jsxs("strong",{children:["",((parseInt(P.classCount)||0)*(parseFloat(P.ratePerClass)||0)+(parseFloat(P.adjustment)||0)).toLocaleString()]})]}),y.jsxs("div",{className:"modal-footer",children:[y.jsx("button",{type:"button",className:"cancel-link",onClick:()=>I(!1),children:"Cancel"}),y.jsxs("button",{type:"submit",className:"btn-primary",disabled:B,children:[B?y.jsx(ns,{className:"animate-spin",size:20}):y.jsx(qv,{size:20}),y.jsx("span",{children:B?"Updating...":"Save Changes"})]})]})]})]})})}),y.jsx(Ba,{children:x&&y.jsx("div",{className:"modal-overlay",children:y.jsxs(xn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"glass modal-card bulk-modal",children:[y.jsxs("div",{className:"modal-header",children:[y.jsxs("div",{children:[y.jsx("h3",{children:" Bulk Generate Invoices"}),y.jsx("p",{children:"Generate invoices for multiple students at once"})]}),y.jsx("button",{className:"close-btn",onClick:()=>w(!1),children:""})]}),y.jsxs("form",{onSubmit:st,className:"gen-form",children:[y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"How many months?"}),y.jsx("div",{className:"month-count-selector",children:IF.map(ye=>y.jsx("button",{type:"button",className:`count-option ${fe.monthCount===ye.value?"active":""}`,onClick:()=>Ee({...fe,monthCount:ye.value}),children:ye.label},ye.value))})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Override for All Students (Optional)"}),y.jsx("input",{type:"number",className:"input-field",placeholder:"e.g. 4",value:fe.manualClasses,onChange:ye=>Ee({...fe,manualClasses:ye.target.value})}),y.jsxs("div",{className:"scenario-hints",children:[y.jsxs("p",{className:"hint",children:["Setting this will bill ",y.jsx("strong",{children:"everyone"})," for this exact number of classes, regardless of their attendance."]}),y.jsx("p",{className:"hint",children:"Leave empty to bill each student based on their individual past attendance."})]})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"End Month"}),y.jsx("select",{className:"input-field",value:fe.endMonth,onChange:ye=>Ee({...fe,endMonth:ye.target.value}),children:[...Array(12)].map((ye,yt)=>{const Rt=String(yt+1).padStart(2,"0");return y.jsx("option",{value:Rt,children:Tt(new Date(2e3,yt),"MMMM")},Rt)})})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Year"}),y.jsx("input",{type:"number",className:"input-field",value:fe.endYear,onChange:ye=>Ee({...fe,endYear:ye.target.value})})]})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Payment Bank Account (For All)"}),y.jsxs("select",{className:"input-field",value:fe.selectedBankId,onChange:ye=>Ee({...fe,selectedBankId:ye.target.value}),required:!0,children:[y.jsx("option",{value:"",children:"-- Select Bank Account --"}),(Q?.bankAccounts||[]).map(ye=>y.jsxs("option",{value:ye.id,children:[ye.bankName," (",ye.accountNumber.slice(-4),")"]},ye.id))]}),(!Q?.bankAccounts||Q.bankAccounts.length===0)&&y.jsx("div",{className:"error-hint",style:{color:"#ef4444",fontSize:"11px",marginTop:"4px"},children:" No bank accounts found! Please add one in Settings first."})]}),y.jsxs("div",{className:"input-group",children:[y.jsxs("div",{className:"students-header",children:[y.jsxs("label",{children:["Select Students (",fe.selectedStudents.length,"/",r.length,")"]}),y.jsx("button",{type:"button",className:"select-all-btn",onClick:_t,children:fe.selectedStudents.length===r.length?"Deselect All":"Select All"})]}),y.jsx("div",{className:"students-grid",children:r.map(ye=>y.jsxs("div",{className:`student-chip ${fe.selectedStudents.includes(ye.id)?"selected":""}`,onClick:()=>It(ye.id),children:[y.jsx("span",{className:"chip-avatar",children:ye.name?.[0]}),y.jsx("span",{className:"chip-name",children:ye.name}),fe.selectedStudents.includes(ye.id)&&y.jsx(ih,{size:14})]},ye.id))})]}),F&&H.total>0&&y.jsxs("div",{className:"progress-section",children:[y.jsx("div",{className:"progress-bar",children:y.jsx("div",{className:"progress-fill",style:{width:`${H.current/H.total*100}%`}})}),y.jsxs("span",{children:["Generating ",H.current," of ",H.total,"..."]})]}),y.jsxs("div",{className:"modal-footer",children:[y.jsx("button",{type:"button",className:"cancel-link",onClick:()=>w(!1),children:"Cancel"}),y.jsxs("button",{type:"submit",className:"btn-primary",disabled:F||fe.selectedStudents.length===0,children:[F?y.jsx(ns,{className:"animate-spin",size:20}):y.jsx(cp,{size:20}),y.jsx("span",{children:F?"Generating...":`Generate ${fe.selectedStudents.length} Invoices`})]})]})]})]})})}),y.jsx(x9e,{isOpen:A,onClose:()=>{N(!1),D(null)},invoice:j}),y.jsx("style",{jsx:"true",children:`
        .page-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 16px 24px;
          margin-bottom: 20px;
          background: var(--bg-card);
        }

        .title-group h3 { margin: 0; font-size: 1.25rem; font-weight: 700; }
        .title-group p { margin: 4px 0 0; font-size: 0.85rem; color: var(--text-muted); }

        .header-actions { display: flex; gap: 12px; }
        .sync-btn { padding: 10px; border-radius: 10px; background: var(--bg-secondary); color: var(--text-muted); }

        .export-btn, .bulk-btn {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 10px 16px;
          border-radius: 10px;
          font-weight: 600;
          font-size: 0.9rem;
        }

        .export-btn { background: #ecfdf5; color: #10b981; }
        .bulk-btn { background: #f0f4ff; color: var(--primary); }

        /* Stats Bar */
        .stats-bar {
          display: flex;
          gap: 12px;
          margin-bottom: 25px;
          flex-wrap: wrap;
        }
        .stats-bar.interactive .stat-pill { cursor: pointer; transition: all 0.2s; border: 2px solid transparent; }
        .stats-bar.interactive .stat-pill:hover { transform: translateY(-2px); box-shadow: var(--shadow-md); }
        .stats-bar.interactive .stat-pill.active { border-color: var(--primary); background: #f5f3ff; color: var(--primary); }
        .stats-bar.interactive .stat-pill.unpaid.active { border-color: #f59e0b; background: #fffbeb; }
        .stats-bar.interactive .stat-pill.paid.active { border-color: #10b981; background: #f0fdf4; }

        .stat-pill {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 12px 20px;
          background: var(--bg-card);
          border-radius: 40px;
          font-size: 0.9rem;
          color: var(--text-muted);
          box-shadow: 0 4px 12px rgba(0,0,0,0.05);
          border: 2px solid transparent;
        }

        .stat-num { font-weight: 800; color: var(--text-main); font-size: 1.1rem; }
        .stat-pill.paid .stat-num { color: #10b981; }
        .stat-pill.unpaid .stat-num { color: #f59e0b; }
        .stat-pill.amount .stat-num { color: var(--primary); }

        /* Unified Stats/Filter Layout */

        .table-container { padding: 0; background: var(--bg-card); min-height: 300px; }

        .row-paid { background: rgba(16, 185, 129, 0.05); }
        .row-unpaid { background: rgba(245, 158, 11, 0.05); }

        .inv-id-cell { display: flex; align-items: center; gap: 8px; }
        .type-tag {
          font-size: 0.65rem;
          font-weight: 800;
          padding: 2px 6px;
          border-radius: 4px;
          text-transform: uppercase;
        }
        .type-tag.invoice { background: rgba(37, 99, 235, 0.1); color: var(--primary); }
        .type-tag.quotation { background: rgba(14, 165, 233, 0.1); color: #0ea5e9; }

        .inv-code {
          font-family: monospace;
          font-weight: 700;
          color: var(--primary);
          background: rgba(37, 99, 235, 0.1);
          padding: 4px 8px;
          border-radius: 6px;
          font-size: 0.85rem;
        }

        .st-cell { display: flex; flex-direction: column; gap: 4px; }
        .st-cell strong { font-size: 0.95rem; }

        .course-tag {
          font-size: 0.65rem;
          font-weight: 700;
          padding: 2px 6px;
          border-radius: 4px;
          text-transform: uppercase;
          width: fit-content;
        }

        .course-tag.beginner { background: #dcfce7; color: #15803d; }
        .course-tag.intermediate { background: #fef3c7; color: #92400e; }
        .course-tag.advanced { background: #fee2e2; color: #991b1b; }

        .period-badge { display: flex; align-items: center; gap: 6px; color: var(--text-muted); }

        .multi-badge {
          background: rgba(37, 99, 235, 0.1);
          color: var(--primary);
          padding: 2px 6px;
          border-radius: 4px;
          font-size: 0.7rem;
          font-weight: 800;
        }

        .class-count { font-weight: 700; }
        .total-amt { font-weight: 800; color: var(--text-main); font-size: 1rem; }

        .status-toggle {
          display: flex;
          align-items: center;
          gap: 6px;
          padding: 6px 12px;
          border-radius: 20px;
          font-weight: 700;
          font-size: 0.75rem;
          text-transform: uppercase;
          cursor: pointer;
          transition: all 0.2s;
        }

        .status-toggle.paid { background: #dcfce7; color: #15803d; }
        .status-toggle.unpaid { background: #fef3c7; color: #92400e; }
        .status-toggle.quotation { background: #e0f2fe; color: #0369a1; }
        .status-toggle:hover:not(:disabled) { transform: scale(1.05); }
        .status-toggle:disabled { cursor: default; opacity: 0.9; }

        .action-row { display: flex; gap: 6px; justify-content: flex-end; }

        .action-btn {
          width: 34px;
          height: 34px;
          border-radius: 8px;
          background: var(--bg-secondary);
          color: var(--text-muted);
          display: flex;
          align-items: center;
          justify-content: center;
          border: 1px solid var(--border-color);
        }

        .action-btn:hover { border-color: var(--primary); color: var(--primary); }
        .action-btn.delete:hover { border-color: var(--danger); color: var(--danger); }
        .action-btn.whatsapp { background: #dcfce7; color: #25D366; border-color: #86efac; }
        .action-btn.whatsapp:hover { background: #25D366; color: white; }
        .action-btn.nudge { background: #fffbeb; color: #f59e0b; border-color: #fef3c7; }
        .action-btn.nudge:hover { background: #f59e0b; color: white; }

        .loader-box, .empty-box {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 300px;
          color: var(--text-muted);
          gap: 16px;
        }

        .modal-overlay {
          position: fixed;
          top: 0; left: 0; right: 0; bottom: 0;
          background: rgba(15, 23, 42, 0.5);
          backdrop-filter: blur(8px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }

        .modal-card {
          width: 100%;
          max-width: 500px;
          padding: 30px;
          background: var(--bg-card);
          box-shadow: var(--shadow-lg);
          max-height: 90vh;
          overflow-y: auto;
          border-radius: 20px;
        }

        .bulk-modal { max-width: 600px; }

        .modal-header { display: flex; justify-content: space-between; margin-bottom: 25px; }
        .modal-header h3 { font-size: 1.2rem; font-weight: 700; margin: 0; color: var(--text-main); }
        .modal-header p { font-size: 0.85rem; color: var(--text-muted); }
        .close-btn { font-size: 1.5rem; background: none; color: var(--text-muted); line-height: 1; }

        .gen-form { display: flex; flex-direction: column; gap: 20px; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }

        .input-group label { display: block; font-size: 0.85rem; font-weight: 600; color: var(--text-muted); margin-bottom: 8px; }

        .month-count-selector { display: flex; gap: 8px; flex-wrap: wrap; }

        .count-option {
          padding: 10px 18px;
          border: 2px solid var(--border-color);
          border-radius: 10px;
          font-weight: 700;
          font-size: 0.85rem;
          background: var(--bg-card);
          color: var(--text-muted);
        }

        .count-option:hover { border-color: var(--primary); color: var(--primary); }
        .count-option.active { background: var(--primary); border-color: var(--primary); color: white; }

        .type-selector { display: flex; gap: 8px; }
        .type-opt {
          flex: 1;
          padding: 10px;
          border: 2px solid var(--border-color);
          border-radius: 10px;
          font-weight: 700;
          font-size: 0.85rem;
          background: var(--bg-card);
          color: var(--text-muted);
        }
        .type-opt:hover { border-color: var(--primary); color: var(--primary); }
        .type-opt.active { 
          background: rgba(37, 99, 235, 0.1); 
          border-color: var(--primary); 
          color: var(--primary); 
        }

        .students-header { display: flex; justify-content: space-between; align-items: center; }

        .select-all-btn {
          background: none;
          color: var(--primary);
          font-size: 0.85rem;
          font-weight: 600;
        }

        .section-title {
          font-size: 0.9rem;
          font-weight: 800;
          color: var(--primary);
          margin-top: 10px;
          border-bottom: 1px solid var(--border-color);
          padding-bottom: 5px;
        }

        .summary-preview {
          background: #f0f4ff;
          padding: 15px;
          border-radius: 12px;
          display: flex;
          justify-content: space-between;
          align-items: center;
          font-size: 1.1rem;
        }
        .summary-preview strong { color: var(--primary); font-size: 1.3rem; }

        .edit-everything-modal {
            max-width: 600px;
        }

        .students-grid {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 10px;
          max-height: 250px;
          overflow-y: auto;
          padding: 10px;
          background: var(--bg-secondary);
          border-radius: 10px;
        }

        .student-chip {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 10px 14px;
          background: var(--bg-card);
          border: 2px solid var(--border-color);
          border-radius: 10px;
          cursor: pointer;
          transition: all 0.2s;
        }

        .student-chip:hover { border-color: var(--primary); }

        .student-chip.selected {
          border-color: var(--primary);
          background: rgba(37, 99, 235, 0.1);
        }

        .chip-avatar {
          width: 28px;
          height: 28px;
          border-radius: 8px;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 700;
          font-size: 0.75rem;
        }

        .chip-name { flex: 1; font-weight: 600; font-size: 0.85rem; }

        .attendance-preview-box {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 12px;
          background: var(--bg-secondary);
          border-radius: 10px;
          margin-bottom: 8px;
        }
        .att-info { display: flex; align-items: center; gap: 8px; font-size: 0.9rem; color: var(--text-muted); flex: 1; }
        .att-info strong { color: var(--primary); }
        .override-input { width: 140px !important; margin: 0 !important; font-weight: 800; text-align: center; }
        .scenario-hints { padding: 4px 8px; }
        .scenario-hints .hint { margin-bottom: 4px; font-size: 0.75rem; color: var(--text-muted); line-height: 1.4; }
        .scenario-hints strong { color: var(--text-main); }

        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }

        .input-group label { display: block; font-size: 0.85rem; font-weight: 600; color: var(--text-muted); margin-bottom: 8px; }

        .month-count-selector { display: flex; gap: 8px; flex-wrap: wrap; }

        .dates-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
          gap: 8px;
          max-height: 150px;
          overflow-y: auto;
          padding: 10px;
          background: var(--bg-secondary);
          border-radius: 12px;
          margin-bottom: 8px;
        }

        .date-chip {
          display: flex;
          flex-direction: column;
          align-items: center;
          padding: 8px 4px;
          background: var(--bg-card);
          border: 1px solid var(--border-color);
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.2s;
        }

        .date-chip:hover { border-color: var(--primary); transform: translateY(-2px); }
        .date-chip.selected { background: var(--primary); border-color: var(--primary); color: white; }

        .date-chip .day-name { font-size: 0.65rem; font-weight: 700; text-transform: uppercase; opacity: 0.7; }
        .date-chip .day-num { font-size: 1.1rem; font-weight: 800; line-height: 1.1; margin: 2px 0; }
        .date-chip .month-name { font-size: 0.65rem; font-weight: 600; opacity: 0.8; }
        .date-chip.selected .day-name, .date-chip.selected .month-name { opacity: 0.9; }

        /* Mobile Utility Classes */
        .mobile-only { display: none !important; }
        .desktop-only { display: table !important; width: 100%; border-collapse: collapse; }

        @media (max-width: 768px) {
          .desktop-only { display: none !important; }
          .mobile-only { display: block !important; }
          .page-header { flex-direction: column; gap: 15px; }
          .header-actions { width: 100%; overflow-x: auto; padding-bottom: 5px; }
          .stats-bar { grid-template-columns: repeat(2, 1fr); padding: 5px; background: none; box-shadow: none; border: none; }
          .stat-pill { background: var(--bg-card); padding: 10px; border-radius: 12px; border: 1px solid var(--border-color); }
          .form-row { grid-template-columns: 1fr; }
          .table-container { background: none; border: none; box-shadow: none; padding: 0; }
        }

        /* Mobile Card Styles */
        .mobile-cards-view { display: flex; flex-direction: column; gap: 15px; padding: 10px 0; }
        .invoice-mobile-card {
          background: var(--bg-card);
          border-radius: 16px;
          padding: 18px;
          border: 1px solid var(--border-color);
          box-shadow: var(--shadow-sm);
          position: relative;
          overflow: hidden;
        }
        .invoice-mobile-card.paid { border-left: 5px solid #10b981; }
        .invoice-mobile-card.unpaid { border-left: 5px solid #f59e0b; }

        .card-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .card-id { display: flex; align-items: center; gap: 8px; font-size: 0.8rem; }
        .type-tag-sm { padding: 2px 6px; border-radius: 4px; font-weight: 800; font-size: 0.65rem; background: var(--bg-secondary); }
        .type-tag-sm.quotation { background: #e0f2fe; color: #0369a1; }
        .type-tag-sm.invoice { background: #f1f5f9; color: #475569; }

        .status-pill {
          padding: 4px 10px; border-radius: 20px; font-size: 0.7rem; font-weight: 800;
          text-transform: uppercase; cursor: pointer; border: none;
        }
        .status-pill.paid { background: #dcfce7; color: #15803d; }
        .status-pill.unpaid { background: #fef3c7; color: #92400e; }

        .card-student { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
        .student-info h3 { margin: 0 0 4px 0; font-size: 1.1rem; color: var(--text-main); }
        .course-tag-sm { font-size: 0.7rem; color: var(--primary); font-weight: 700; text-transform: uppercase; }
        .card-amount { font-size: 1.2rem; font-weight: 800; color: var(--text-main); }

        .card-details { display: flex; gap: 20px; font-size: 0.85rem; color: var(--text-muted); margin-bottom: 18px; }
        .detail-item { display: flex; align-items: center; gap: 6px; }

        .card-actions { 
          display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px;
          border-top: 1px solid var(--border-color); padding-top: 15px;
        }
        .card-action-btn {
          display: flex; flex-direction: column; align-items: center; justify-content: center;
          gap: 6px; padding: 8px 4px; border-radius: 10px; font-size: 0.65rem; font-weight: 700;
          background: var(--bg-secondary); border: 1px solid var(--border-color); color: var(--text-muted);
          transition: all 0.2s;
        }
        .card-action-btn.primary { background: rgba(var(--primary-rgb), 0.05); color: var(--primary); border-color: var(--primary); }
        .card-action-btn.whatsapp { background: #f0fdf4; color: #16a34a; border-color: #bcf5d4; }
        .card-action-btn.nudge { background: #fffbeb; color: #d97706; border-color: #fde68a; }
        .card-action-btn.delete { color: #ef4444; }
        .card-action-btn:active { transform: scale(0.95); }

      `})]})};var v9e=Object.defineProperty,yb=Object.getOwnPropertySymbols,$X=Object.prototype.hasOwnProperty,KX=Object.prototype.propertyIsEnumerable,NF=(t,e,n)=>e in t?v9e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j4=(t,e)=>{for(var n in e||(e={}))$X.call(e,n)&&NF(t,n,e[n]);if(yb)for(var n of yb(e))KX.call(e,n)&&NF(t,n,e[n]);return t},L4=(t,e)=>{var n={};for(var r in t)$X.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&yb)for(var r of yb(t))e.indexOf(r)<0&&KX.call(t,r)&&(n[r]=t[r]);return n};var yh;(t=>{const e=class Rn{constructor(d,u,p,x){if(this.version=d,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],d<Rn.MIN_VERSION||d>Rn.MAX_VERSION)throw new RangeError("Version value out of range");if(x<-1||x>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let w=[];for(let N=0;N<this.size;N++)w.push(!1);for(let N=0;N<this.size;N++)this.modules.push(w.slice()),this.isFunction.push(w.slice());this.drawFunctionPatterns();const A=this.addEccAndInterleave(p);if(this.drawCodewords(A),x==-1){let N=1e9;for(let S=0;S<8;S++){this.applyMask(S),this.drawFormatBits(S);const I=this.getPenaltyScore();I<N&&(x=S,N=I),this.applyMask(S)}}i(0<=x&&x<=7),this.mask=x,this.applyMask(x),this.drawFormatBits(x),this.isFunction=[]}static encodeText(d,u){const p=t.QrSegment.makeSegments(d);return Rn.encodeSegments(p,u)}static encodeBinary(d,u){const p=t.QrSegment.makeBytes(d);return Rn.encodeSegments([p],u)}static encodeSegments(d,u,p=1,x=40,w=-1,A=!0){if(!(Rn.MIN_VERSION<=p&&p<=x&&x<=Rn.MAX_VERSION)||w<-1||w>7)throw new RangeError("Invalid value");let N,S;for(N=p;;N++){const P=Rn.getNumDataCodewords(N,u)*8,V=s.getTotalBits(d,N);if(V<=P){S=V;break}if(N>=x)throw new RangeError("Data too long")}for(const P of[Rn.Ecc.MEDIUM,Rn.Ecc.QUARTILE,Rn.Ecc.HIGH])A&&S<=Rn.getNumDataCodewords(N,P)*8&&(u=P);let I=[];for(const P of d){n(P.mode.modeBits,4,I),n(P.numChars,P.mode.numCharCountBits(N),I);for(const V of P.getData())I.push(V)}i(I.length==S);const j=Rn.getNumDataCodewords(N,u)*8;i(I.length<=j),n(0,Math.min(4,j-I.length),I),n(0,(8-I.length%8)%8,I),i(I.length%8==0);for(let P=236;I.length<j;P^=253)n(P,8,I);let D=[];for(;D.length*8<I.length;)D.push(0);return I.forEach((P,V)=>D[V>>>3]|=P<<7-(V&7)),new Rn(N,u,D,w)}getModule(d,u){return 0<=d&&d<this.size&&0<=u&&u<this.size&&this.modules[u][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let p=0;p<this.size;p++)this.setFunctionModule(6,p,p%2==0),this.setFunctionModule(p,6,p%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),u=d.length;for(let p=0;p<u;p++)for(let x=0;x<u;x++)p==0&&x==0||p==0&&x==u-1||p==u-1&&x==0||this.drawAlignmentPattern(d[p],d[x]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const u=this.errorCorrectionLevel.formatBits<<3|d;let p=u;for(let w=0;w<10;w++)p=p<<1^(p>>>9)*1335;const x=(u<<10|p)^21522;i(x>>>15==0);for(let w=0;w<=5;w++)this.setFunctionModule(8,w,r(x,w));this.setFunctionModule(8,7,r(x,6)),this.setFunctionModule(8,8,r(x,7)),this.setFunctionModule(7,8,r(x,8));for(let w=9;w<15;w++)this.setFunctionModule(14-w,8,r(x,w));for(let w=0;w<8;w++)this.setFunctionModule(this.size-1-w,8,r(x,w));for(let w=8;w<15;w++)this.setFunctionModule(8,this.size-15+w,r(x,w));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let p=0;p<12;p++)d=d<<1^(d>>>11)*7973;const u=this.version<<12|d;i(u>>>18==0);for(let p=0;p<18;p++){const x=r(u,p),w=this.size-11+p%3,A=Math.floor(p/3);this.setFunctionModule(w,A,x),this.setFunctionModule(A,w,x)}}drawFinderPattern(d,u){for(let p=-4;p<=4;p++)for(let x=-4;x<=4;x++){const w=Math.max(Math.abs(x),Math.abs(p)),A=d+x,N=u+p;0<=A&&A<this.size&&0<=N&&N<this.size&&this.setFunctionModule(A,N,w!=2&&w!=4)}}drawAlignmentPattern(d,u){for(let p=-2;p<=2;p++)for(let x=-2;x<=2;x++)this.setFunctionModule(d+x,u+p,Math.max(Math.abs(x),Math.abs(p))!=1)}setFunctionModule(d,u,p){this.modules[u][d]=p,this.isFunction[u][d]=!0}addEccAndInterleave(d){const u=this.version,p=this.errorCorrectionLevel;if(d.length!=Rn.getNumDataCodewords(u,p))throw new RangeError("Invalid argument");const x=Rn.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][u],w=Rn.ECC_CODEWORDS_PER_BLOCK[p.ordinal][u],A=Math.floor(Rn.getNumRawDataModules(u)/8),N=x-A%x,S=Math.floor(A/x);let I=[];const j=Rn.reedSolomonComputeDivisor(w);for(let P=0,V=0;P<x;P++){let K=d.slice(V,V+S-w+(P<N?0:1));V+=K.length;const Z=Rn.reedSolomonComputeRemainder(K,j);P<N&&K.push(0),I.push(K.concat(Z))}let D=[];for(let P=0;P<I[0].length;P++)I.forEach((V,K)=>{(P!=S-w||K>=N)&&D.push(V[P])});return i(D.length==A),D}drawCodewords(d){if(d.length!=Math.floor(Rn.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let p=this.size-1;p>=1;p-=2){p==6&&(p=5);for(let x=0;x<this.size;x++)for(let w=0;w<2;w++){const A=p-w,S=(p+1&2)==0?this.size-1-x:x;!this.isFunction[S][A]&&u<d.length*8&&(this.modules[S][A]=r(d[u>>>3],7-(u&7)),u++)}}i(u==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let p=0;p<this.size;p++){let x;switch(d){case 0:x=(p+u)%2==0;break;case 1:x=u%2==0;break;case 2:x=p%3==0;break;case 3:x=(p+u)%3==0;break;case 4:x=(Math.floor(p/3)+Math.floor(u/2))%2==0;break;case 5:x=p*u%2+p*u%3==0;break;case 6:x=(p*u%2+p*u%3)%2==0;break;case 7:x=((p+u)%2+p*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][p]&&x&&(this.modules[u][p]=!this.modules[u][p])}}getPenaltyScore(){let d=0;for(let w=0;w<this.size;w++){let A=!1,N=0,S=[0,0,0,0,0,0,0];for(let I=0;I<this.size;I++)this.modules[w][I]==A?(N++,N==5?d+=Rn.PENALTY_N1:N>5&&d++):(this.finderPenaltyAddHistory(N,S),A||(d+=this.finderPenaltyCountPatterns(S)*Rn.PENALTY_N3),A=this.modules[w][I],N=1);d+=this.finderPenaltyTerminateAndCount(A,N,S)*Rn.PENALTY_N3}for(let w=0;w<this.size;w++){let A=!1,N=0,S=[0,0,0,0,0,0,0];for(let I=0;I<this.size;I++)this.modules[I][w]==A?(N++,N==5?d+=Rn.PENALTY_N1:N>5&&d++):(this.finderPenaltyAddHistory(N,S),A||(d+=this.finderPenaltyCountPatterns(S)*Rn.PENALTY_N3),A=this.modules[I][w],N=1);d+=this.finderPenaltyTerminateAndCount(A,N,S)*Rn.PENALTY_N3}for(let w=0;w<this.size-1;w++)for(let A=0;A<this.size-1;A++){const N=this.modules[w][A];N==this.modules[w][A+1]&&N==this.modules[w+1][A]&&N==this.modules[w+1][A+1]&&(d+=Rn.PENALTY_N2)}let u=0;for(const w of this.modules)u=w.reduce((A,N)=>A+(N?1:0),u);const p=this.size*this.size,x=Math.ceil(Math.abs(u*20-p*10)/p)-1;return i(0<=x&&x<=9),d+=x*Rn.PENALTY_N4,i(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let p=[6];for(let x=this.size-7;p.length<d;x-=u)p.splice(1,0,x);return p}}static getNumRawDataModules(d){if(d<Rn.MIN_VERSION||d>Rn.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*d+128)*d+64;if(d>=2){const p=Math.floor(d/7)+2;u-=(25*p-10)*p-55,d>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(d,u){return Math.floor(Rn.getNumRawDataModules(d)/8)-Rn.ECC_CODEWORDS_PER_BLOCK[u.ordinal][d]*Rn.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let u=[];for(let x=0;x<d-1;x++)u.push(0);u.push(1);let p=1;for(let x=0;x<d;x++){for(let w=0;w<u.length;w++)u[w]=Rn.reedSolomonMultiply(u[w],p),w+1<u.length&&(u[w]^=u[w+1]);p=Rn.reedSolomonMultiply(p,2)}return u}static reedSolomonComputeRemainder(d,u){let p=u.map(x=>0);for(const x of d){const w=x^p.shift();p.push(0),u.forEach((A,N)=>p[N]^=Rn.reedSolomonMultiply(A,w))}return p}static reedSolomonMultiply(d,u){if(d>>>8||u>>>8)throw new RangeError("Byte out of range");let p=0;for(let x=7;x>=0;x--)p=p<<1^(p>>>7)*285,p^=(u>>>x&1)*d;return i(p>>>8==0),p}finderPenaltyCountPatterns(d){const u=d[1];i(u<=this.size*3);const p=u>0&&d[2]==u&&d[3]==u*3&&d[4]==u&&d[5]==u;return(p&&d[0]>=u*4&&d[6]>=u?1:0)+(p&&d[6]>=u*4&&d[0]>=u?1:0)}finderPenaltyTerminateAndCount(d,u,p){return d&&(this.finderPenaltyAddHistory(u,p),u=0),u+=this.size,this.finderPenaltyAddHistory(u,p),this.finderPenaltyCountPatterns(p)}finderPenaltyAddHistory(d,u){u[0]==0&&(d+=this.size),u.pop(),u.unshift(d)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(c,d,u){if(d<0||d>31||c>>>d)throw new RangeError("Value out of range");for(let p=d-1;p>=0;p--)u.push(c>>>p&1)}function r(c,d){return(c>>>d&1)!=0}function i(c){if(!c)throw new Error("Assertion error")}const a=class xi{constructor(d,u,p){if(this.mode=d,this.numChars=u,this.bitData=p,u<0)throw new RangeError("Invalid argument");this.bitData=p.slice()}static makeBytes(d){let u=[];for(const p of d)n(p,8,u);return new xi(xi.Mode.BYTE,d.length,u)}static makeNumeric(d){if(!xi.isNumeric(d))throw new RangeError("String contains non-numeric characters");let u=[];for(let p=0;p<d.length;){const x=Math.min(d.length-p,3);n(parseInt(d.substring(p,p+x),10),x*3+1,u),p+=x}return new xi(xi.Mode.NUMERIC,d.length,u)}static makeAlphanumeric(d){if(!xi.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],p;for(p=0;p+2<=d.length;p+=2){let x=xi.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p))*45;x+=xi.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p+1)),n(x,11,u)}return p<d.length&&n(xi.ALPHANUMERIC_CHARSET.indexOf(d.charAt(p)),6,u),new xi(xi.Mode.ALPHANUMERIC,d.length,u)}static makeSegments(d){return d==""?[]:xi.isNumeric(d)?[xi.makeNumeric(d)]:xi.isAlphanumeric(d)?[xi.makeAlphanumeric(d)]:[xi.makeBytes(xi.toUtf8ByteArray(d))]}static makeEci(d){let u=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)n(d,8,u);else if(d<16384)n(2,2,u),n(d,14,u);else if(d<1e6)n(6,3,u),n(d,21,u);else throw new RangeError("ECI assignment value out of range");return new xi(xi.Mode.ECI,0,u)}static isNumeric(d){return xi.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return xi.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,u){let p=0;for(const x of d){const w=x.mode.numCharCountBits(u);if(x.numChars>=1<<w)return 1/0;p+=4+w+x.bitData.length}return p}static toUtf8ByteArray(d){d=encodeURI(d);let u=[];for(let p=0;p<d.length;p++)d.charAt(p)!="%"?u.push(d.charCodeAt(p)):(u.push(parseInt(d.substring(p+1,p+3),16)),p+=2);return u}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let s=a;t.QrSegment=a})(yh||(yh={}));(t=>{(e=>{const n=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(yh||(yh={}));(t=>{(e=>{const n=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(yh||(yh={}));var F0=yh;var b9e={L:F0.QrCode.Ecc.LOW,M:F0.QrCode.Ecc.MEDIUM,Q:F0.QrCode.Ecc.QUARTILE,H:F0.QrCode.Ecc.HIGH},XX=128,QX="L",ZX="#FFFFFF",JX="#000000",eQ=!1,tQ=1,w9e=4,E9e=0,_9e=.1;function nQ(t,e=0){const n=[];return t.forEach(function(r,i){let a=null;r.forEach(function(s,c){if(!s&&a!==null){n.push(`M${a+e} ${i+e}h${c-a}v1H${a+e}z`),a=null;return}if(c===r.length-1){if(!s)return;a===null?n.push(`M${c+e},${i+e} h1v1H${c+e}z`):n.push(`M${a+e},${i+e} h${c+1-a}v1H${a+e}z`);return}s&&a===null&&(a=c)})}),n.join("")}function rQ(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((i,a)=>a<e.x||a>=e.x+e.w?i:!1))}function A9e(t,e,n,r){if(r==null)return null;const i=t.length+n*2,a=Math.floor(e*_9e),s=i/e,c=(r.width||a)*s,d=(r.height||a)*s,u=r.x==null?t.length/2-c/2:r.x*s,p=r.y==null?t.length/2-d/2:r.y*s,x=r.opacity==null?1:r.opacity;let w=null;if(r.excavate){let N=Math.floor(u),S=Math.floor(p),I=Math.ceil(c+u-N),j=Math.ceil(d+p-S);w={x:N,y:S,w:I,h:j}}const A=r.crossOrigin;return{x:u,y:p,h:d,w:c,excavation:w,opacity:x,crossOrigin:A}}function S9e(t,e){return e!=null?Math.max(Math.floor(e),0):t?w9e:E9e}function iQ({value:t,level:e,minVersion:n,includeMargin:r,marginSize:i,imageSettings:a,size:s,boostLevel:c}){let d=Br.useMemo(()=>{const N=(Array.isArray(t)?t:[t]).reduce((S,I)=>(S.push(...F0.QrSegment.makeSegments(I)),S),[]);return F0.QrCode.encodeSegments(N,b9e[e],n,void 0,void 0,c)},[t,e,n,c]);const{cells:u,margin:p,numCells:x,calculatedImageSettings:w}=Br.useMemo(()=>{let A=d.getModules();const N=S9e(r,i),S=A.length+N*2,I=A9e(A,s,N,a);return{cells:A,margin:N,numCells:S,calculatedImageSettings:I}},[d,s,a,r,i]);return{qrcode:d,margin:p,cells:u,numCells:x,calculatedImageSettings:w}}var T9e=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),C9e=Br.forwardRef(function(e,n){const r=e,{value:i,size:a=XX,level:s=QX,bgColor:c=ZX,fgColor:d=JX,includeMargin:u=eQ,minVersion:p=tQ,boostLevel:x,marginSize:w,imageSettings:A}=r,S=L4(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:I}=S,j=L4(S,["style"]),D=A?.src,P=Br.useRef(null),V=Br.useRef(null),K=Br.useCallback(Ce=>{P.current=Ce,typeof n=="function"?n(Ce):n&&(n.current=Ce)},[n]),[Z,F]=Br.useState(!1),{margin:U,cells:B,numCells:J,calculatedImageSettings:H}=iQ({value:i,level:s,minVersion:p,boostLevel:x,includeMargin:u,marginSize:w,imageSettings:A,size:a});Br.useEffect(()=>{if(P.current!=null){const Ce=P.current,re=Ce.getContext("2d");if(!re)return;let ue=B;const me=V.current,Re=H!=null&&me!==null&&me.complete&&me.naturalHeight!==0&&me.naturalWidth!==0;Re&&H.excavation!=null&&(ue=rQ(B,H.excavation));const Be=window.devicePixelRatio||1;Ce.height=Ce.width=a*Be;const be=a/J*Be;re.scale(be,be),re.fillStyle=c,re.fillRect(0,0,J,J),re.fillStyle=d,T9e?re.fill(new Path2D(nQ(ue,U))):B.forEach(function(Q,ee){Q.forEach(function(oe,se){oe&&re.fillRect(se+U,ee+U,1,1)})}),H&&(re.globalAlpha=H.opacity),Re&&re.drawImage(me,H.x+U,H.y+U,H.w,H.h)}}),Br.useEffect(()=>{F(!1)},[D]);const G=j4({height:a,width:a},I);let q=null;return D!=null&&(q=Br.createElement("img",{src:D,key:D,style:{display:"none"},onLoad:()=>{F(!0)},ref:V,crossOrigin:H?.crossOrigin})),Br.createElement(Br.Fragment,null,Br.createElement("canvas",j4({style:G,height:a,width:a,ref:K,role:"img"},j)),q)});C9e.displayName="QRCodeCanvas";var aQ=Br.forwardRef(function(e,n){const r=e,{value:i,size:a=XX,level:s=QX,bgColor:c=ZX,fgColor:d=JX,includeMargin:u=eQ,minVersion:p=tQ,boostLevel:x,title:w,marginSize:A,imageSettings:N}=r,S=L4(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:I,cells:j,numCells:D,calculatedImageSettings:P}=iQ({value:i,level:s,minVersion:p,boostLevel:x,includeMargin:u,marginSize:A,imageSettings:N,size:a});let V=j,K=null;N!=null&&P!=null&&(P.excavation!=null&&(V=rQ(j,P.excavation)),K=Br.createElement("image",{href:N.src,height:P.h,width:P.w,x:P.x+I,y:P.y+I,preserveAspectRatio:"none",opacity:P.opacity,crossOrigin:P.crossOrigin}));const Z=nQ(V,I);return Br.createElement("svg",j4({height:a,width:a,viewBox:`0 0 ${D} ${D}`,ref:n,role:"img"},S),!!w&&Br.createElement("title",null,w),Br.createElement("path",{fill:c,d:`M0,0 h${D}v${D}H0z`,shapeRendering:"crispEdges"}),Br.createElement("path",{fill:d,d:Z,shapeRendering:"crispEdges"}),K)});aQ.displayName="QRCodeSVG";const dl={name:"MakerWorks Lab",tagline:"MAKE ANYTHING HERE",website:"makerworkslab.in",email:"makerworkslab@gmail.com",phone:"+91 91371 14223",address:"G-19, A-Wing, Express Zone Mall, Malad East, Mumbai, Maharashtra, India - 400097",gstin:"27ACEFM6288Q1Z9",pan:"ACEFM6288Q",logoText:"Maker Works",bank:{accountName:"UMMADI VINAY",accountNumber:"641901514493",ifsc:"ICIC0006419",accountType:"Savings",bankName:"ICICI BANK",upiId:"9490206263@icici"}},I9e=t=>{const e=["","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN","ELEVEN","TWELVE","THIRTEEN","FOURTEEN","FIFTEEN","SIXTEEN","SEVENTEEN","EIGHTEEN","NINETEEN"],n=["","","TWENTY","THIRTY","FORTY","FIFTY","SIXTY","SEVENTY","EIGHTY","NINETY"],r=a=>a<20?e[a]:a<100?n[Math.floor(a/10)]+(a%10!==0?" "+e[a%10]:""):a<1e3?e[Math.floor(a/100)]+" HUNDRED"+(a%100!==0?" "+r(a%100):""):a<1e5?r(Math.floor(a/1e3))+" THOUSAND"+(a%1e3!==0?" "+r(a%1e3):""):a<1e7?r(Math.floor(a/1e5))+" LAKH"+(a%1e5!==0?" "+r(a%1e5):""):"WAY TOO BIG",i=Math.floor(t);return(r(i)+" RUPEES ONLY").trim()},N9e=()=>{const{invoiceId:t}=yJ(),[e,n]=R.useState(null),[r,i]=R.useState(null),[a,s]=R.useState(!0),[c,d]=R.useState(!1),u=R.useRef(null);if(R.useEffect(()=>{(async()=>{try{s(!0);const j=er(Gt,"invoices",t),D=await xs(j);if(!D.exists()){d(!0),s(!1);return}const P={id:D.id,...D.data()};n(P);const V=er(Gt,"settings","business"),K=await xs(V);if(K.exists()){const Z=K.data(),F=Z.bankAccounts?.[0]||dl.bank;i({name:Z.businessName||dl.name,tagline:Z.tagline||dl.tagline,address:Z.address||dl.address,email:Z.email||dl.email,phone:Z.phone||dl.phone,website:Z.website||dl.website,gstin:Z.gstin||dl.gstin,pan:Z.pan||dl.pan,bank:P.bankSnapshot||F,upiId:P.bankSnapshot?.upiId||F.upiId||Z.upiId||dl.bank.upiId})}else i(dl)}catch(j){console.error(j),d(!0)}finally{s(!1)}})()},[t]),a)return y.jsxs("div",{className:"loader-screen",children:[y.jsx(ns,{className:"animate-spin",size:48,style:{color:"#f97316"}}),y.jsx("p",{children:"Loading invoice..."})]});if(c)return y.jsx("div",{className:"error-screen",children:y.jsxs("div",{className:"error-card",children:[y.jsx("h2",{children:"Invoice Not Found"}),y.jsx("p",{children:"This invoice may have been deleted or the link is incorrect."})]})});const p=e.studentSnapshot,x=e.status==="Paid",w=new Date(e.createdAt),A=NC(w,7),N=()=>window.print(),S=()=>{const I=`Invoice for ${p.name}: ${window.location.href}`;window.open(`https://wa.me/?text=${encodeURIComponent(I)}`,"_blank")};return y.jsxs(xn.div,{initial:{opacity:0},animate:{opacity:1},className:"page-container",children:[y.jsx("div",{className:"action-bar no-print",children:y.jsxs("div",{className:"bar-inner",children:[y.jsxs("div",{className:`status-pill ${x?"paid":"unpaid"}`,children:[x?y.jsx(qv,{size:16}):y.jsx(Dp,{size:16}),x?"PAID":"UNPAID"]}),y.jsxs("div",{className:"actions",children:[y.jsxs("button",{onClick:S,className:"btn-wa",children:[y.jsx(Fg,{size:18})," Share"]}),y.jsxs("button",{onClick:N,className:"btn-sec",children:[y.jsx(Mue,{size:18})," Print"]})]})]})}),y.jsxs("div",{className:"invoice-paper",ref:u,children:[y.jsxs("div",{className:"doc-header",children:[y.jsxs("div",{className:"header-left",children:[y.jsx("h1",{className:"main-title",children:"Invoice for MakerWorks Robotics Program"}),y.jsxs("div",{className:"meta-grid",children:[y.jsxs("div",{className:"meta-item",children:[y.jsx("span",{className:"label",children:"Invoice No #"}),y.jsx("span",{className:"value strong",children:e.customInvoiceNo||e.id.slice(-6).toUpperCase()})]}),y.jsxs("div",{className:"meta-item",children:[y.jsx("span",{className:"label",children:"Invoice Date"}),y.jsx("span",{className:"value",children:Tt(w,"MMM dd, yyyy")})]}),y.jsxs("div",{className:"meta-item",children:[y.jsx("span",{className:"label",children:"Due Date"}),y.jsx("span",{className:"value",children:Tt(A,"MMM dd, yyyy")})]})]})]}),y.jsx("div",{className:"header-right",children:y.jsxs("div",{className:"logo-box",children:[y.jsx("span",{className:"logo-main",children:"Maker"}),y.jsx("span",{className:"logo-sub",children:"Works"}),y.jsx("div",{className:"logo-tag",children:"MAKE ANYTHING HERE"})]})})]}),y.jsxs("div",{className:"address-section",children:[y.jsxs("div",{className:"address-box",children:[y.jsx("h3",{className:"box-title",children:"Billed By"}),y.jsxs("div",{className:"box-content",children:[y.jsx("strong",{children:r?.name}),y.jsx("p",{children:r?.address}),r?.gstin&&y.jsxs("p",{children:[y.jsx("strong",{children:"GSTIN:"})," ",r.gstin]}),r?.pan&&y.jsxs("p",{children:[y.jsx("strong",{children:"PAN:"})," ",r.pan]}),r?.email&&y.jsxs("p",{children:[y.jsx("strong",{children:"Email:"})," ",r.email]}),r?.phone&&y.jsxs("p",{children:[y.jsx("strong",{children:"Phone:"})," ",r.phone]}),r?.website&&y.jsxs("p",{children:[y.jsx("strong",{children:"Website:"})," ",r.website]})]})]}),y.jsxs("div",{className:"address-box",children:[y.jsx("h3",{className:"box-title",children:"Billed To"}),y.jsxs("div",{className:"box-content",children:[y.jsx("strong",{children:p.parentName||p.name}),y.jsx("p",{children:p.address||"Not Provided"}),y.jsxs("p",{children:[y.jsx("strong",{children:"Email:"})," ",p.email||"-"]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Phone:"})," ",p.phone||"-"]})]})]})]}),y.jsx("div",{className:"table-container",children:y.jsxs("table",{className:"items-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{width:"50",children:"#"}),y.jsx("th",{children:"Item"}),y.jsx("th",{width:"100",children:"Hours"}),y.jsx("th",{width:"120",children:"Rate/Hour"}),y.jsx("th",{width:"120",children:"Amount"})]})}),y.jsx("tbody",{children:y.jsxs("tr",{children:[y.jsx("td",{children:"1."}),y.jsxs("td",{children:[y.jsx("div",{className:"item-name",children:"MakerWorks Foundation Level Maker Program"}),y.jsxs("div",{className:"item-desc",children:["Fee Period : ",Tt(w,"dd MMM yyyy")," - ",Tt(NC(w,22),"dd MMM yyyy")]})]}),y.jsx("td",{children:e.classCount||8}),y.jsxs("td",{children:["",e.ratePerClass||999]}),y.jsxs("td",{children:["",e.totalAmount?.toLocaleString(),".00"]})]})})]})}),y.jsxs("div",{className:"doc-footer",children:[y.jsx("div",{className:"footer-left",children:y.jsxs("div",{className:"bank-card",children:[y.jsx("h4",{className:"footer-title",children:"Bank Details"}),y.jsxs("div",{className:"bank-grid",children:[y.jsx("span",{className:"label",children:"Account Name"})," ",y.jsx("span",{className:"value strong",children:r?.bank?.accountName}),y.jsx("span",{className:"label",children:"Account Number"})," ",y.jsx("span",{className:"value strong",children:r?.bank?.accountNumber}),y.jsx("span",{className:"label",children:"IFSC"})," ",y.jsx("span",{className:"value strong",children:r?.bank?.ifsc}),y.jsx("span",{className:"label",children:"Account Type"})," ",y.jsx("span",{className:"value",children:r?.bank?.accountType}),y.jsx("span",{className:"label",children:"Bank"})," ",y.jsx("span",{className:"value",children:r?.bank?.bankName})]})]})}),y.jsx("div",{className:"footer-mid",children:y.jsxs("div",{className:"upi-box",children:[y.jsx("span",{className:"upi-label",children:"Scan to pay via UPI"}),y.jsx("div",{className:"qr-container",children:y.jsx(aQ,{value:`upi://pay?pa=${r?.upiId}&pn=${r?.name}&am=${e.totalAmount}&cu=INR`,size:100})}),y.jsx("span",{className:"upi-id",children:r?.upiId}),y.jsx("span",{className:"upi-hint",children:"Maximum of 1 lakh can be transferred via upi in a single day"})]})}),y.jsxs("div",{className:"footer-right",children:[y.jsxs("div",{className:"summary-block",children:[y.jsxs("div",{className:"total-row",children:[y.jsx("span",{className:"total-label",children:"Sub Total"}),y.jsxs("span",{className:"total-value",children:["",(e.totalAmount-(e.adjustment||0)).toLocaleString(),".00"]})]}),e.adjustment!==0&&y.jsxs("div",{className:"total-row adjustment",children:[y.jsx("span",{className:"total-label",children:e.adjLabel||(e.adjustment>0?"Additional Fee":"Discount")}),y.jsxs("span",{className:"total-value",children:[e.adjustment>0?"+":"",e.adjustment?.toLocaleString(),".00"]})]}),y.jsxs("div",{className:"total-row main-total",children:[y.jsx("span",{className:"total-label",children:"Total (INR)"}),y.jsxs("span",{className:"total-value",children:["",e.totalAmount?.toLocaleString(),".00"]})]})]}),y.jsxs("div",{className:"words-box",children:[y.jsx("span",{className:"words-label",children:"Total in words:"}),y.jsx("span",{className:"words-value",children:I9e(e.totalAmount)})]}),y.jsxs("div",{className:"sig-section",children:[y.jsx("div",{className:"sig-line"}),y.jsx("span",{className:"sig-text",children:"Authorised Signatory"})]})]})]})]}),y.jsx("style",{jsx:"true",children:`
        .page-container {
          min-height: 100vh;
          background: #f8fafc;
          padding: 100px 15px 60px;
          display: flex;
          flex-direction: column;
          align-items: center;
          font-family: 'Inter', system-ui, -apple-system, sans-serif;
        }

        .action-bar {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          height: auto;
          min-height: 70px;
          background: rgba(255, 255, 255, 0.95);
          backdrop-filter: blur(10px);
          box-shadow: 0 1px 10px rgba(0,0,0,0.05);
          z-index: 100;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 10px 0;
        }

        .bar-inner {
          width: 100%;
          max-width: 1000px;
          padding: 0 20px;
          display: flex;
          flex-wrap: wrap;
          justify-content: space-between;
          align-items: center;
          gap: 15px;
        }

        .status-pill {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 8px 18px;
          border-radius: 99px;
          font-weight: 700;
          font-size: 0.9rem;
          letter-spacing: 0.5px;
          white-space: nowrap;
        }
        .status-pill.paid { background: #dcfce7; color: #166534; }
        .status-pill.unpaid { background: #fee2e2; color: #991b1b; }

        .actions { 
          display: flex; 
          gap: 10px; 
          flex-wrap: wrap;
          justify-content: center;
        }
        .btn-pri, .btn-sec, .btn-wa { 
          padding: 10px 18px; 
          border-radius: 10px; 
          font-weight: 600; 
          cursor: pointer; 
          display: flex; 
          align-items: center; 
          gap: 8px; 
          transition: all 0.2s;
          font-size: 0.9rem;
          border: none;
        }
        .btn-pri { background: #f97316; color: white; }
        .btn-pri:hover { background: #ea580c; transform: translateY(-1px); }
        .btn-sec { background: white; border: 1px solid #e2e8f0; color: #475569; }
        .btn-sec:hover { background: #f8fafc; border-color: #cbd5e1; }
        .btn-wa { background: #22c55e; color: white; }
        .btn-wa:hover { background: #16a34a; transform: translateY(-1px); }

        .invoice-paper {
          width: 100%;
          max-width: 210mm;
          min-height: 297mm;
          background: white;
          padding: 15mm;
          box-shadow: 0 20px 50px rgba(0,0,0,0.08);
          position: relative;
          color: #1e293b;
          margin-bottom: 40px;
          box-sizing: border-box;
          overflow: hidden;
        }

        .doc-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 40px;
          border-bottom: 2px solid #f97316;
          padding-bottom: 30px;
          gap: 20px;
        }

        .header-left { 
          flex: 1; 
        }

        .header-right {
          flex-shrink: 0;
        }

        .main-title {
          font-size: clamp(1.5rem, 4vw, 2.2rem);
          color: #f97316;
          margin: 0 0 20px;
          font-weight: 800;
          letter-spacing: -0.5px;
          line-height: 1.2;
        }

        .meta-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
          gap: 15px 30px;
        }

        .meta-item { display: flex; flex-direction: column; }
        .meta-item .label { color: #64748b; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 4px; }
        .meta-item .value { font-size: 1rem; font-weight: 600; color: #0f172a; }
        .meta-item .strong { color: #f97316; font-size: 1.2rem; }

        .logo-box {
          text-align: right;
          background: #0f172a;
          color: white;
          padding: 15px 25px;
          border-radius: 12px;
          display: flex;
          flex-direction: column;
          align-items: flex-end;
          min-width: 180px;
          flex-shrink: 0;
        }

        .logo-main { font-size: 2.2rem; font-weight: 900; line-height: 0.8; letter-spacing: -1.5px; }
        .logo-sub { font-size: 2.2rem; font-weight: 900; line-height: 0.8; letter-spacing: -1.5px; margin-bottom: 8px; color: #f97316; }
        .logo-tag { font-size: 0.6rem; letter-spacing: 1.5px; color: #94a3b8; border-top: 1px solid #334155; padding-top: 6px; width: 100%; text-align: center; }

        .address-section {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
          gap: 20px;
          margin-bottom: 40px;
        }

        .address-box {
          background: #f8fafc;
          border-radius: 12px;
          padding: 20px;
          border: 1px solid #e2e8f0;
        }

        .box-title {
          color: #f97316;
          margin: 0 0 12px;
          font-size: 1.1rem;
          font-weight: 700;
          text-transform: uppercase;
          letter-spacing: 1px;
        }

        .box-content { font-size: 0.95rem; line-height: 1.6; color: #334155; }
        .box-content strong { color: #0f172a; }
        .box-content p { margin: 2px 0; }

        .table-container { margin-bottom: 40px; overflow-x: auto; -webkit-overflow-scrolling: touch; }
        .items-table {
          width: 100%;
          min-width: 600px;
          border-collapse: separate;
          border-spacing: 0;
          border: 1px solid #e2e8f0;
          border-radius: 12px;
        }

        .items-table th {
          background: #0f172a;
          color: white;
          padding: 14px;
          text-align: left;
          font-size: 0.85rem;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 1px;
        }

        .items-table td {
          padding: 16px;
          border-bottom: 1px solid #f1f5f9;
          font-size: 0.95rem;
        }

        .item-name { font-weight: 700; color: #0f172a; margin-bottom: 4px; font-size: 1rem; }
        .item-desc { font-size: 0.85rem; color: #64748b; font-style: italic; }

        .doc-footer {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 25px;
          align-items: start;
        }

        .bank-card {
          background: #fff7ed;
          padding: 20px;
          border-radius: 12px;
          border: 1px solid #ffedd5;
        }

        .footer-title { color: #c2410c; margin: 0 0 15px; font-size: 0.95rem; font-weight: 800; text-transform: uppercase; letter-spacing: 1px; }
        
        .bank-grid {
          display: grid;
          grid-template-columns: auto 1fr;
          gap: 8px 12px;
          font-size: 0.85rem;
        }
        .bank-grid .label { color: #9a3412; font-weight: 600; }
        .bank-grid .value { color: #1e293b; }

        .upi-box {
          display: flex;
          flex-direction: column;
          align-items: center;
          text-align: center;
          background: white;
          padding: 15px;
          border-radius: 12px;
          border: 1px solid #e2e8f0;
        }

        .upi-label { color: #0f172a; font-size: 0.85rem; font-weight: 700; margin-bottom: 10px; text-transform: uppercase; }
        .qr-container { padding: 10px; background: white; border: 1.5px solid #f1f5f9; border-radius: 10px; margin-bottom: 10px; }
        .upi-id { font-size: 0.95rem; font-weight: 700; color: #f97316; margin-bottom: 6px; }
        .upi-hint { font-size: 0.65rem; color: #64748b; line-height: 1.4; max-width: 180px; }

        .summary-block {
          background: #0f172a;
          color: white;
          padding: 20px;
          border-radius: 12px;
          margin-bottom: 20px;
        }

        .total-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .total-row.main-total { border-top: 1px solid #334155; padding-top: 12px; margin-top: 12px; }
        
        .total-label { font-size: 0.85rem; color: #94a3b8; font-weight: 500; }
        .total-value { font-size: 1rem; font-weight: 600; }
        .main-total .total-label { font-size: 1.1rem; color: white; font-weight: 800; }
        .main-total .total-value { font-size: 1.6rem; color: #f97316; font-weight: 900; }

        .words-box {
          margin-bottom: 30px;
          text-align: right;
          padding: 0 5px;
        }
        .words-label { display: block; font-size: 0.75rem; color: #64748b; text-transform: uppercase; font-weight: 700; margin-bottom: 2px; }
        .words-value { font-size: 0.85rem; color: #1e293b; font-weight: 700; font-style: italic; line-height: 1.4; }

        .sig-section {
          display: flex;
          flex-direction: column;
          align-items: flex-end;
          margin-top: 45px;
          text-align: right;
        }
        .sig-line { width: 220px; border-bottom: 2px solid #0f172a; margin-bottom: 8px; }
        .sig-text { font-size: 0.85rem; font-weight: 800; color: #0f172a; text-transform: uppercase; letter-spacing: 0.5px; }

        @media screen and (max-width: 768px) {
          .page-container { padding-top: 140px; }
          .invoice-paper { padding: 8mm; margin-bottom: 20px; }
          .meta-grid { grid-template-columns: 1fr 1fr; }
          .logo-box { order: -1; width: 100%; text-align: center; align-items: center; }
          .doc-header { flex-direction: column; align-items: flex-start; }
          .doc-footer { grid-template-columns: 1fr; }
          .header-right { width: 100%; }
        }

        @media screen and (max-width: 480px) {
          .meta-grid { grid-template-columns: 1fr; }
          .main-title { font-size: 1.4rem; }
          .actions .btn-pri, .actions .btn-sec, .actions .btn-wa { padding: 8px 12px; font-size: 0.8rem; }
          .status-pill { font-size: 0.8rem; padding: 6px 12px; }
        }

        @media print {
          @page {
            size: A4;
            margin: 0;
          }
          body {
            background: white !important;
            -webkit-print-color-adjust: exact !important;
            print-color-adjust: exact !important;
          }
          .no-print { display: none !important; }
          .page-container { 
            padding: 0 !important; 
            background: white !important; 
            display: block !important;
            min-height: auto !important;
          }
          .invoice-paper { 
            box-shadow: none !important; 
            margin: 0 !important; 
            width: 210mm !important; 
            height: 297mm !important; 
            padding: 10mm 12mm !important;
            box-sizing: border-box !important;
            page-break-after: avoid !important;
            page-break-inside: avoid !important;
            display: block !important;
            overflow: hidden !important;
          }
          .doc-header { 
            margin-bottom: 20px !important; 
            padding-bottom: 20px !important; 
            gap: 20px !important;
          }
          .main-title { font-size: 1.8rem !important; margin-bottom: 10px !important; }
          .logo-box { padding: 12px 24px !important; min-width: 150px !important; }
          .logo-main, .logo-sub { font-size: 2rem !important; }
          
          .address-section { 
            display: grid !important; 
            grid-template-columns: 1fr 1fr !important; 
            margin-bottom: 25px !important;
            gap: 20px !important;
          }
          .address-box { padding: 15px 18px !important; }
          .box-title { font-size: 1rem !important; margin-bottom: 10px !important; }
          .box-content { font-size: 0.9rem !important; }

          .table-container { margin-bottom: 25px !important; }
          .items-table th { padding: 12px !important; font-size: 0.8rem !important; }
          .items-table td { padding: 15px 12px !important; font-size: 0.9rem !important; }
          .item-name { font-size: 1rem !important; }

          .doc-footer { 
            display: grid !important; 
            grid-template-columns: 1.1fr 0.9fr 1.5fr !important; 
            margin-top: 0 !important; 
            gap: 20px !important;
            padding-top: 15px !important;
          }
          .bank-card { padding: 15px !important; }
          .summary-block { padding: 15px !important; margin-bottom: 10px !important; }
          .main-total .total-value { font-size: 1.4rem !important; }
          .upi-box { padding: 10px !important; }
          .qr-container { padding: 8px !important; margin-bottom: 5px !important; }
          .qr-container svg { width: 80px !important; height: 80px !important; }
          
          .words-box { margin-bottom: 20px !important; text-align: right !important; }
          .words-value { font-size: 0.75rem !important; }
          .sig-section { 
            margin-top: 45px !important; 
            display: flex !important;
            flex-direction: column !important;
            align-items: flex-end !important;
            text-align: right !important;
          }
          .sig-line { width: 220px !important; }
        }
      `})]})},_T=["#2563eb","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4"],O9e=()=>{const[t,e]=R.useState(!0),[n,r]=R.useState(new Date),[i,a]=R.useState({students:[],invoices:[],attendance:[],calendarEvents:[],monthlyStats:[],courseDistribution:[],topStudents:[]});R.useEffect(()=>{s()},[]);const s=async()=>{e(!0);try{const[S,I,j]=await Promise.all([Zr(wr(Gt,"students")),Zr(wr(Gt,"invoices")),Zr(wr(Gt,"monthly_attendance"))]),D=S.docs.map(H=>({id:H.id,...H.data()})),P=I.docs.map(H=>({id:H.id,...H.data()})),V=j.docs.map(H=>({id:H.id,...H.data()})),K=[];V.forEach(H=>{H.sessions&&H.sessions.forEach(G=>{const q=D.find(Ce=>Ce.id===H.studentId);K.push({date:G.date,topic:G.topic,location:G.location,studentName:q?.name||"Unknown",studentId:H.studentId})})});const Z=[];for(let H=5;H>=0;H--){const G=dc(new Date,H),q=Tt(G,"MM"),Ce=Tt(G,"yyyy"),re=P.filter(be=>be.month===q&&be.year===Ce),ue=re.reduce((be,Q)=>be+(Q.totalAmount||0),0),me=re.filter(be=>be.status==="Paid").reduce((be,Q)=>be+(Q.totalAmount||0),0),Be=V.filter(be=>be.month===q&&be.year===Ce).reduce((be,Q)=>be+(Q.classCount||0),0);Z.push({month:Tt(G,"MMM"),fullMonth:Tt(G,"MMMM yyyy"),revenue:ue,paid:me,classes:Be,invoices:re.length})}const F={Beginner:0,Intermediate:0,Advanced:0};D.forEach(H=>{const G=H.course||"Beginner";F[G]=(F[G]||0)+1});const U=Object.entries(F).map(([H,G])=>({name:H,value:G})),B={};V.forEach(H=>{B[H.studentId]||(B[H.studentId]=0),B[H.studentId]+=H.classCount||0});const J=Object.entries(B).map(([H,G])=>{const q=D.find(Ce=>Ce.id===H);return{id:H,name:q?.name||"Unknown",photo:q?.photo,classes:G}}).sort((H,G)=>G.classes-H.classes).slice(0,10);a({students:D,invoices:P,attendance:V,calendarEvents:K,monthlyStats:Z,courseDistribution:U,topStudents:J})}catch(S){console.error(S)}finally{e(!1)}},c=qg(n),d=Wg(n),u=Gg({start:c,end:d}),p=Jge(c),x=S=>{const I=Tt(S,"yyyy-MM-dd");return i.calendarEvents.filter(j=>j.date===I)},w=i.invoices.reduce((S,I)=>S+(I.totalAmount||0),0),A=i.invoices.filter(S=>S.status==="Paid").reduce((S,I)=>S+(I.totalAmount||0),0),N=i.attendance.reduce((S,I)=>S+(I.classCount||0),0);return y.jsxs("div",{className:"analytics-page",children:[y.jsxs("div",{className:"page-header",children:[y.jsxs("div",{children:[y.jsx("h2",{children:" Analytics & Reports"}),y.jsx("p",{children:"Insights into your business performance"})]}),y.jsxs("button",{className:"sync-btn",onClick:s,children:[y.jsx(td,{size:18,className:t?"animate-spin":""}),"Refresh"]})]}),t?y.jsx(x8e,{}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"summary-cards",children:[y.jsxs("div",{className:"summary-card revenue",children:[y.jsx("div",{className:"card-icon",children:y.jsx(Kb,{size:24})}),y.jsxs("div",{className:"card-content",children:[y.jsx("span",{className:"card-label",children:"Total Revenue"}),y.jsxs("h3",{children:["",w.toLocaleString()]}),y.jsxs("span",{className:"card-sub",children:["",A.toLocaleString()," collected"]})]})]}),y.jsxs("div",{className:"summary-card students",children:[y.jsx("div",{className:"card-icon",children:y.jsx(cp,{size:24})}),y.jsxs("div",{className:"card-content",children:[y.jsx("span",{className:"card-label",children:"Total Students"}),y.jsx("h3",{children:i.students.length}),y.jsx("span",{className:"card-sub",children:"Enrolled"})]})]}),y.jsxs("div",{className:"summary-card classes",children:[y.jsx("div",{className:"card-icon",children:y.jsx(H3,{size:24})}),y.jsxs("div",{className:"card-content",children:[y.jsx("span",{className:"card-label",children:"Total Classes"}),y.jsx("h3",{children:N}),y.jsx("span",{className:"card-sub",children:"All time"})]})]}),y.jsxs("div",{className:"summary-card invoices",children:[y.jsx("div",{className:"card-icon",children:y.jsx(que,{size:24})}),y.jsxs("div",{className:"card-content",children:[y.jsx("span",{className:"card-label",children:"Collection Rate"}),y.jsxs("h3",{children:[w>0?Math.round(A/w*100):0,"%"]}),y.jsx("span",{className:"card-sub",children:"Of total billed"})]})]})]}),y.jsxs("div",{className:"charts-row",children:[y.jsxs("div",{className:"glass card chart-card large",children:[y.jsx("h4",{children:" Revenue Trend (Last 6 Months)"}),y.jsx("div",{className:"chart-body",children:y.jsx(Qg,{width:"100%",height:250,children:y.jsxs(SO,{data:i.monthlyStats,children:[y.jsxs("defs",{children:[y.jsxs("linearGradient",{id:"colorRev",x1:"0",y1:"0",x2:"0",y2:"1",children:[y.jsx("stop",{offset:"5%",stopColor:"#2563eb",stopOpacity:.3}),y.jsx("stop",{offset:"95%",stopColor:"#2563eb",stopOpacity:0})]}),y.jsxs("linearGradient",{id:"colorPaid",x1:"0",y1:"0",x2:"0",y2:"1",children:[y.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),y.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})]}),y.jsx(Yw,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),y.jsx(u1,{dataKey:"month",tick:{fontSize:12},stroke:"#94a3b8"}),y.jsx(f1,{tick:{fontSize:12},stroke:"#94a3b8",tickFormatter:S=>`${S/1e3}k`}),y.jsx(l1,{formatter:(S,I)=>[`${S.toLocaleString()}`,I==="revenue"?"Total":"Paid"],contentStyle:{borderRadius:10,border:"none",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"}}),y.jsx(yp,{type:"monotone",dataKey:"revenue",stroke:"#2563eb",fillOpacity:1,fill:"url(#colorRev)",strokeWidth:2,name:"revenue"}),y.jsx(yp,{type:"monotone",dataKey:"paid",stroke:"#10b981",fillOpacity:1,fill:"url(#colorPaid)",strokeWidth:2,name:"paid"})]})})})]}),y.jsxs("div",{className:"glass card chart-card",children:[y.jsx("h4",{children:" Course Distribution"}),y.jsxs("div",{className:"chart-body pie-container",children:[y.jsx(Qg,{width:"100%",height:200,children:y.jsxs(n8e,{children:[y.jsx(T$,{data:i.courseDistribution,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:5,dataKey:"value",children:i.courseDistribution.map((S,I)=>y.jsx(tx,{fill:_T[I%_T.length]},`cell-${I}`))}),y.jsx(l1,{})]})}),y.jsx("div",{className:"pie-legend",children:i.courseDistribution.map((S,I)=>y.jsxs("div",{className:"legend-item",children:[y.jsx("span",{className:"legend-dot",style:{background:_T[I]}}),y.jsxs("span",{children:[S.name,": ",S.value]})]},S.name))})]})]})]}),y.jsxs("div",{className:"bottom-section",children:[y.jsxs("div",{className:"glass card calendar-card",children:[y.jsxs("div",{className:"calendar-header",children:[y.jsx("h4",{children:" Attendance Calendar"}),y.jsxs("div",{className:"calendar-nav",children:[y.jsx("button",{onClick:()=>r(dc(n,1)),children:y.jsx(Jz,{size:18})}),y.jsx("span",{children:Tt(n,"MMMM yyyy")}),y.jsx("button",{onClick:()=>r(II(n,1)),children:y.jsx(eV,{size:18})})]})]}),y.jsxs("div",{className:"calendar-grid",children:[y.jsx("div",{className:"weekday",children:"Sun"}),y.jsx("div",{className:"weekday",children:"Mon"}),y.jsx("div",{className:"weekday",children:"Tue"}),y.jsx("div",{className:"weekday",children:"Wed"}),y.jsx("div",{className:"weekday",children:"Thu"}),y.jsx("div",{className:"weekday",children:"Fri"}),y.jsx("div",{className:"weekday",children:"Sat"}),[...Array(p)].map((S,I)=>y.jsx("div",{className:"day empty"},`empty-${I}`)),u.map(S=>{const I=x(S),j=Xme(S,new Date);return y.jsxs("div",{className:`day ${I.length>0?"has-events":""} ${j?"today":""}`,title:I.map(D=>`${D.studentName}: ${D.topic}`).join(`
`),children:[y.jsx("span",{className:"day-num",children:Tt(S,"d")}),I.length>0&&y.jsx("span",{className:"event-count",children:I.length})]},S.toISOString())})]}),y.jsxs("div",{className:"calendar-legend",children:[y.jsxs("span",{children:[y.jsx("span",{className:"dot today"})," Today"]}),y.jsxs("span",{children:[y.jsx("span",{className:"dot events"})," Has Classes"]})]})]}),y.jsxs("div",{className:"glass card top-students-card",children:[y.jsx("h4",{children:" Top Students (All Time)"}),y.jsx("div",{className:"top-list",children:i.topStudents.length>0?i.topStudents.map((S,I)=>y.jsxs("div",{className:"top-item",children:[y.jsx("div",{className:`rank ${I<3?"top-three":""}`,children:I+1}),y.jsx("div",{className:"student-avatar",children:S.photo?y.jsx("img",{src:S.photo,alt:S.name}):y.jsx("span",{children:S.name?.[0]})}),y.jsxs("div",{className:"student-info",children:[y.jsx("strong",{children:S.name}),y.jsxs("span",{children:[S.classes," classes"]})]}),I===0&&y.jsx(sV,{size:20,className:"trophy"})]},S.id)):y.jsx("p",{className:"empty-msg",children:"No attendance data yet"})})]})]}),y.jsxs("div",{className:"glass card table-card",children:[y.jsx("h4",{children:" Monthly Breakdown"}),y.jsxs("table",{className:"breakdown-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Month"}),y.jsx("th",{children:"Invoices"}),y.jsx("th",{children:"Classes"}),y.jsx("th",{children:"Total Billed"}),y.jsx("th",{children:"Collected"}),y.jsx("th",{children:"Pending"})]})}),y.jsx("tbody",{children:i.monthlyStats.map(S=>y.jsxs("tr",{children:[y.jsx("td",{children:y.jsx("strong",{children:S.fullMonth})}),y.jsx("td",{children:S.invoices}),y.jsx("td",{children:S.classes}),y.jsxs("td",{children:["",S.revenue.toLocaleString()]}),y.jsxs("td",{className:"text-success",children:["",S.paid.toLocaleString()]}),y.jsxs("td",{className:"text-warning",children:["",(S.revenue-S.paid).toLocaleString()]})]},S.fullMonth))})]})]})]}),y.jsx("style",{jsx:"true",children:`
        .analytics-page { max-width: 1200px; margin: 0 auto; }

        .page-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-end;
          margin-bottom: 30px;
        }

        .page-header h2 { margin: 0; font-size: 1.75rem; font-weight: 700; }
        .page-header p { margin: 4px 0 0; color: var(--text-muted); }

        .sync-btn {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 10px 18px;
          background: white;
          border: 1px solid var(--border-color);
          border-radius: 10px;
          font-weight: 600;
          color: var(--text-muted);
        }

        .loader-full {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 400px;
          gap: 16px;
          color: var(--text-muted);
        }

        /* Summary Cards */
        .summary-cards {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 20px;
          margin-bottom: 24px;
        }

        .summary-card {
          display: flex;
          gap: 15px;
          padding: 24px;
          border-radius: 16px;
          background: white;
          box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        .card-icon {
          width: 50px;
          height: 50px;
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .summary-card.revenue .card-icon { background: #f0f4ff; color: #2563eb; }
        .summary-card.students .card-icon { background: #ecfdf5; color: #10b981; }
        .summary-card.classes .card-icon { background: #fef3c7; color: #f59e0b; }
        .summary-card.invoices .card-icon { background: #fef2f2; color: #ef4444; }

        .card-label { font-size: 0.85rem; color: var(--text-muted); }
        .card-content h3 { margin: 4px 0; font-size: 1.75rem; font-weight: 800; }
        .card-sub { font-size: 0.75rem; color: var(--success); }

        /* Charts */
        .charts-row {
          display: grid;
          grid-template-columns: 2fr 1fr;
          gap: 24px;
          margin-bottom: 24px;
        }

        .chart-card { padding: 24px; background: white; }
        .chart-card h4 { margin: 0 0 20px; font-size: 1.1rem; }

        .pie-container { display: flex; flex-direction: column; align-items: center; }
        .pie-legend { display: flex; flex-direction: column; gap: 8px; margin-top: 15px; }
        .legend-item { display: flex; align-items: center; gap: 8px; font-size: 0.85rem; }
        .legend-dot { width: 12px; height: 12px; border-radius: 3px; }

        /* Bottom Section */
        .bottom-section {
          display: grid;
          grid-template-columns: 2fr 1fr;
          gap: 24px;
          margin-bottom: 24px;
        }

        /* Calendar */
        .calendar-card { padding: 24px; background: white; }

        .calendar-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 20px;
        }

        .calendar-header h4 { margin: 0; }

        .calendar-nav {
          display: flex;
          align-items: center;
          gap: 15px;
        }

        .calendar-nav button {
          width: 32px;
          height: 32px;
          border-radius: 8px;
          background: #f8fafc;
          color: var(--text-muted);
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .calendar-nav span { font-weight: 700; min-width: 150px; text-align: center; }

        .calendar-grid {
          display: grid;
          grid-template-columns: repeat(7, 1fr);
          gap: 4px;
        }

        .weekday {
          padding: 8px;
          text-align: center;
          font-size: 0.75rem;
          font-weight: 700;
          color: var(--text-muted);
        }

        .day {
          aspect-ratio: 1;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          border-radius: 8px;
          font-size: 0.85rem;
          position: relative;
          cursor: default;
        }

        .day.empty { background: none; }
        .day.today { background: #f0f4ff; color: var(--primary); font-weight: 700; }
        .day.has-events { background: #ecfdf5; }
        .day.has-events.today { background: linear-gradient(135deg, #f0f4ff 50%, #ecfdf5 50%); }

        .event-count {
          position: absolute;
          bottom: 2px;
          right: 2px;
          width: 16px;
          height: 16px;
          background: #10b981;
          color: white;
          border-radius: 50%;
          font-size: 0.6rem;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 700;
        }

        .calendar-legend {
          display: flex;
          gap: 20px;
          margin-top: 15px;
          padding-top: 15px;
          border-top: 1px solid var(--border-color);
          font-size: 0.8rem;
          color: var(--text-muted);
        }

        .calendar-legend .dot {
          display: inline-block;
          width: 12px;
          height: 12px;
          border-radius: 4px;
          margin-right: 6px;
        }

        .dot.today { background: #f0f4ff; border: 1px solid var(--primary); }
        .dot.events { background: #ecfdf5; border: 1px solid #10b981; }

        /* Top Students */
        .top-students-card { padding: 24px; background: white; }
        .top-students-card h4 { margin: 0 0 20px; }

        .top-list { display: flex; flex-direction: column; gap: 10px; }

        .top-item {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 10px;
          background: #f8fafc;
          border-radius: 10px;
        }

        .rank {
          width: 24px;
          height: 24px;
          border-radius: 6px;
          background: #e2e8f0;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 800;
          font-size: 0.75rem;
        }

        .rank.top-three { background: #fef3c7; color: #f59e0b; }

        .student-avatar {
          width: 36px;
          height: 36px;
          border-radius: 10px;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 700;
          overflow: hidden;
        }

        .student-avatar img { width: 100%; height: 100%; object-fit: cover; }

        .student-info { flex: 1; }
        .student-info strong { display: block; font-size: 0.9rem; }
        .student-info span { font-size: 0.75rem; color: var(--text-muted); }

        .trophy { color: #f59e0b; }

        /* Table */
        .table-card { padding: 24px; background: white; }
        .table-card h4 { margin: 0 0 20px; }

        .breakdown-table { width: 100%; border-collapse: collapse; }
        .breakdown-table th {
          text-align: left;
          padding: 12px;
          font-size: 0.75rem;
          text-transform: uppercase;
          color: var(--text-muted);
          border-bottom: 2px solid var(--border-color);
        }

        .breakdown-table td { padding: 15px 12px; border-bottom: 1px solid var(--border-color); }
        .text-success { color: #10b981; font-weight: 700; }
        .text-warning { color: #f59e0b; font-weight: 700; }

        .empty-msg { text-align: center; color: var(--text-muted); padding: 20px; }

        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        @media (max-width: 1024px) {
          .summary-cards { grid-template-columns: repeat(2, 1fr); }
          .charts-row, .bottom-section { grid-template-columns: 1fr; }
        }
      `})]})},M9e=()=>{const[t,e]=R.useState(!0),[n,r]=R.useState([]),[i,a]=R.useState([]),[s,c]=R.useState({totalStudents:0,activeStudents:0,churnRisk:[],revenueForecast:0,growthRate:0,topPerformers:[]}),[d,u]=R.useState(null),[p,x]=R.useState(null),[w,A]=R.useState(!1),[N,S]=R.useState(""),[I,j]=R.useState(!1),[D,P]=R.useState(null),[V,K]=R.useState([]),[Z,F]=R.useState([]),[U,B]=R.useState(!1),[J,H]=R.useState({description:"",amount:"",date:Tt(new Date,"yyyy-MM-dd")});R.useEffect(()=>{G()},[]);const G=async()=>{e(!0),P(null);try{console.log("Fetching insights data...");const ue=new Date,me=Tt(ue,"MM"),Re=Tt(ue,"yyyy"),Be=dc(ue,1),be=Tt(Be,"MM"),Q=Tt(Be,"yyyy");let ee={Beginner:999,Intermediate:1499};try{const bt=await xs(er(Gt,"settings","business"));bt.exists()&&bt.data().pricing&&(ee=bt.data().pricing)}catch(bt){console.warn("Using default pricing due to error:",bt)}const se=(await Zr(wr(Gt,"students"))).docs.map(bt=>({id:bt.id,...bt.data()}));r(se);const Ee=(await Zr(wr(Gt,"monthly_attendance"))).docs.map(bt=>bt.data());K(Ee);const Ge=(await Zr(kp(wr(Gt,"expenses"),Hb("date","desc")))).docs.map(bt=>({id:bt.id,...bt.data()}));F(Ge);const ze=Ge.filter(bt=>{const mt=new Date(bt.date);return Tt(mt,"MM")===me&&Tt(mt,"yyyy")===Re}).reduce((bt,mt)=>bt+(parseFloat(mt.amount)||0),0);let tt=0,Me=0,gt=0;const nt=[],Ut=[],Ct={};Ee.forEach(bt=>{const mt=`${bt.year}-${bt.month}`;Ct[mt]||(Ct[mt]={name:`${bt.month}/${bt.year.slice(2)}`,revenue:0,activeStudents:0,uniqueStudents:new Set});const fi=se.find(Kt=>Kt.id===bt.studentId),nr=fi&&ee[fi.course]||0;bt.classCount>0&&(Ct[mt].revenue+=bt.classCount*nr,Ct[mt].uniqueStudents.add(bt.studentId))});const st=Object.keys(Ct).sort().map(bt=>({name:Ct[bt].name,revenue:Ct[bt].revenue,active:Ct[bt].uniqueStudents.size})).slice(-6);a(st),se.forEach(bt=>{const mt=Ee.find(yt=>yt.studentId===bt.id&&yt.month===me&&yt.year===Re),fi=Ee.find(yt=>yt.studentId===bt.id&&yt.month===be&&yt.year===Q),nr=mt?.classCount||0,Kt=fi?.classCount||0,Rr=ee[bt.course]||0;bt.currentClasses=nr,nr>0&&(Me++,tt+=nr*Rr),Kt>0&&gt++;const ye=parseInt(Tt(ue,"dd"));Kt>0&&(nr===0&&ye>7?nt.push({...bt,reason:"No classes this month",severity:"high"}):nr<Kt*.5&&ye>20&&nt.push({...bt,reason:"Attendance dropped 50%",severity:"medium"})),nr>=8&&Ut.push({...bt,classes:nr})});const It=gt>0?(Me-gt)/gt*100:0,_t=tt-ze;c({totalStudents:se.length,activeStudents:Me,churnRisk:nt,revenueForecast:tt,totalExpenses:ze,netProfit:_t,growthRate:It,topPerformers:Ut})}catch(ue){console.error("Error fetching insights:",ue),P("Failed to load insights. Please try again.")}finally{e(!1)}},q=async ue=>{if(ue.preventDefault(),!(!J.description||!J.amount))try{await Gb(wr(Gt,"expenses"),{...J,createdAt:new Date().toISOString()}),B(!1),H({description:"",amount:"",date:Tt(new Date,"yyyy-MM-dd")}),G()}catch(me){console.error("Error adding expense:",me)}},Ce=async ue=>{if(window.confirm("Delete this expense?"))try{await Wb(er(Gt,"expenses",ue)),G()}catch(me){console.error("Error deleting expense:",me)}},re=ue=>{ue&&(A(!0),u(ue),j(!1),S(""),setTimeout(()=>{const me=new Date,Re=[0,1,2].map(Ge=>{const _e=dc(me,Ge);return{month:Tt(_e,"MM"),year:Tt(_e,"yyyy"),label:Tt(_e,"MMMM")}});let Be=0,be=0;const Q=[];Re.forEach(({month:Ge,year:_e,label:ze})=>{const tt=V.find(gt=>gt.studentId===ue.id&&gt.month===Ge&&gt.year===_e),Me=tt&&tt.classCount||0;Be+=Me,Me>0&&be++,Q.push({label:ze,count:Me})});const ee=be>0?(Be/be).toFixed(1):0,oe=ue.name||"Student";let se="Positive",fe=`${oe} has attended ${Be} classes in the last quarter (Avg: ${ee}/month).`,Ee="Maintain consistency.";Be<6?(se="Needs Attention",fe=`${oe} attended only ${Be} classes in 3 months. Requires immediate attention.`,Ee="Schedule a parent meeting to discuss attendance."):Be>24?(se="Excellent",fe=`Exceptional dedication! ${Be} classes attended. Mastering concepts rapidly.`,Ee="Assign leadership role or advanced project tasks."):Be>=12&&(se="Consistent",fe=`${oe} is regular with ${Be} classes. Good progress.`,Ee="Encourage to participate in extra challenges.");const Ne=`*Quarterly Progress Report - ${oe}*

 *Period*: ${Re[2].label} - ${Re[0].label}
 *Total Attendance*: ${Be} Classes
 *Average*: ${ee} classes/month

*Performance*: ${se}
*Summary*: ${fe}
*Recommendation*: ${Ee}

_Generated by EduBill AI_`;x({student:oe,tone:se,summary:fe,recommendation:Ee,breakdown:Q,whatsappMessage:encodeURIComponent(Ne),generatedAt:new Date().toISOString()}),A(!1)},1500))};return y.jsxs("div",{className:"insights-page",children:[y.jsx("header",{className:"page-header",children:y.jsxs("div",{children:[y.jsxs("h3",{className:"flex-center gap-2",children:[y.jsx(cv,{className:"text-primary"})," AI Student Insights"]}),y.jsx("p",{children:"Intelligent analysis of student performance and business health"})]})}),D?y.jsxs("div",{className:"error-box",children:[y.jsx(Yv,{className:"text-danger",size:48}),y.jsx("p",{children:D}),y.jsx("button",{className:"retry-btn",onClick:G,children:"Retry"})]}):t?y.jsx(y8e,{}):y.jsxs("div",{className:"insights-grid",children:[y.jsxs("div",{className:"stat-card glass",children:[y.jsx("div",{className:"icon-box green",children:y.jsx(Kb,{size:20})}),y.jsxs("div",{children:[y.jsx("label",{children:"Est. Revenue"}),y.jsxs("h4",{children:["",s.revenueForecast.toLocaleString()]}),y.jsx("span",{className:"sub-text",children:"Current month fees"})]})]}),y.jsxs("div",{className:"stat-card glass clickable",onClick:()=>B(!0),style:{cursor:"pointer"},children:[y.jsx("div",{className:"icon-box red",children:y.jsx(e6,{size:20})}),y.jsxs("div",{children:[y.jsx("label",{children:"Expenses (Mo.)"}),y.jsxs("h4",{children:["",s.totalExpenses?.toLocaleString()||0]}),y.jsx("span",{className:"sub-text",children:"Click to manage"})]})]}),y.jsxs("div",{className:"stat-card glass",children:[y.jsx("div",{className:"icon-box blue",children:y.jsx(ah,{size:20})}),y.jsxs("div",{children:[y.jsx("label",{children:"Net Profit"}),y.jsxs("h4",{children:["",s.netProfit?.toLocaleString()||0]}),y.jsxs("span",{className:"sub-text text-success",children:[s.revenueForecast>0?(s.netProfit/s.revenueForecast*100).toFixed(1):0,"% Margin"]})]})]}),y.jsxs("div",{className:"stat-card glass",children:[y.jsx("div",{className:"icon-box purple",children:y.jsx(cp,{size:20})}),y.jsxs("div",{children:[y.jsx("label",{children:"Active Students"}),y.jsx("h4",{children:s.activeStudents}),y.jsxs("span",{className:`trend ${s.growthRate>=0?"up":"down"}`,children:[s.growthRate>=0?y.jsx(ah,{size:12}):y.jsx(e6,{size:12}),Math.abs(s.growthRate).toFixed(1),"% vs last mo."]})]})]}),y.jsxs("div",{className:"stat-card glass",children:[y.jsx("div",{className:"icon-box orange",children:y.jsx(Yv,{size:20})}),y.jsxs("div",{children:[y.jsx("label",{children:"Churn Risk"}),y.jsx("h4",{className:"text-danger",children:s.churnRisk.length}),y.jsx("span",{className:"sub-text",children:"Need attention"})]})]}),y.jsxs("div",{className:"stat-card glass",children:[y.jsx("div",{className:"icon-box blue",children:y.jsx(rC,{size:20})}),y.jsxs("div",{children:[y.jsx("label",{children:"Top Performers"}),y.jsx("h4",{children:s.topPerformers.length}),y.jsx("span",{className:"sub-text",children:"Consistent attendance"})]})]}),y.jsxs("div",{className:"charts-row",children:[y.jsxs("div",{className:"chart-card glass",children:[y.jsx("h4",{children:"Revenue Trend (6 Months)"}),y.jsx("div",{className:"chart-wrapper",children:y.jsx(Qg,{width:"100%",height:"100%",children:y.jsxs(SO,{data:i,children:[y.jsx("defs",{children:y.jsxs("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1",children:[y.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.8}),y.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:0})]})}),y.jsx(u1,{dataKey:"name",stroke:"#94a3b8",fontSize:12,tickLine:!1,axisLine:!1}),y.jsx(f1,{stroke:"#94a3b8",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:ue=>`${ue/1e3}k`}),y.jsx(Yw,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),y.jsx(l1,{contentStyle:{background:"#fff",border:"none",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:ue=>[`${ue.toLocaleString()}`,"Revenue"]}),y.jsx(yp,{type:"monotone",dataKey:"revenue",stroke:"#8b5cf6",fillOpacity:1,fill:"url(#colorPv)",strokeWidth:3})]})})})]}),y.jsxs("div",{className:"chart-card glass",children:[y.jsx("h4",{children:"Active Students"}),y.jsx("div",{className:"chart-wrapper",children:y.jsx(Qg,{width:"100%",height:"100%",children:y.jsxs(WMe,{data:i,children:[y.jsx(u1,{dataKey:"name",stroke:"#94a3b8",fontSize:12,tickLine:!1,axisLine:!1}),y.jsx(f1,{stroke:"#94a3b8",fontSize:12,tickLine:!1,axisLine:!1}),y.jsx(l1,{cursor:{fill:"#f1f5f9"},contentStyle:{background:"#fff",border:"none",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),y.jsx($$,{dataKey:"active",fill:"#3b82f6",radius:[4,4,0,0],activeBar:{fill:"#2563eb"}})]})})})]})]}),y.jsxs("div",{className:"main-grid",children:[y.jsxs("div",{className:"risk-board glass card",children:[y.jsx("h4",{children:" At-Risk Students"}),s.churnRisk.length>0?y.jsx("div",{className:"risk-list",children:s.churnRisk.map(ue=>y.jsxs("div",{className:"risk-item",onClick:()=>re(ue),children:[y.jsxs("div",{className:"risk-info",children:[y.jsx("h5",{children:ue.name||"Unknown Student"}),y.jsx("span",{className:"risk-reason",children:ue.reason})]}),y.jsxs("button",{className:"analyze-btn",children:[y.jsx(cv,{size:16})," Analyze"]})]},ue.id))}):y.jsxs("div",{className:"empty-state",children:[y.jsx(rC,{size:40,className:"text-success"}),y.jsx("p",{children:"No students at risk!"})]})]}),y.jsxs("div",{className:"ai-panel glass card",children:[y.jsxs("div",{className:"panel-header-row",children:[y.jsx("h4",{children:" AI Progress Report"}),y.jsx("button",{className:"icon-btn",onClick:()=>j(!I),title:"Search Student",children:I?y.jsx(uc,{size:18}):y.jsx(mg,{size:18})})]}),I?y.jsxs("div",{className:"search-section",children:[y.jsx("input",{type:"text",className:"search-input",placeholder:"Type student name...",value:N,onChange:ue=>S(ue.target.value),autoFocus:!0}),y.jsxs("div",{className:"search-results scroller",children:[N&&n.filter(ue=>ue.name?.toLowerCase().includes(N.toLowerCase())).map(ue=>y.jsxs("div",{className:"search-item",onClick:()=>re(ue),children:[y.jsx("div",{className:"s-avatar",children:ue.name?.[0]||"?"}),y.jsxs("div",{className:"s-info",children:[y.jsx("span",{className:"name",children:ue.name||"Unknown"}),y.jsx("span",{className:"course",children:ue.course||"No Course"})]})]},ue.id)),N&&n.filter(ue=>ue.name?.toLowerCase().includes(N.toLowerCase())).length===0&&y.jsx("p",{className:"no-res",children:"No students found"})]})]}):y.jsxs(y.Fragment,{children:[y.jsx("p",{className:"text-sm text-muted mb-4 opacity-75",children:"Select any student to generate a comprehensive quarterly report."}),w?y.jsxs("div",{className:"generating-state",children:[y.jsx(ns,{className:"animate-spin text-primary",size:40}),y.jsx("p",{children:"Analyzing class history and progress..."})]}):p?y.jsxs("div",{className:"report-card glass-panel",children:[y.jsxs("div",{className:"report-header-section",children:[y.jsxs("div",{className:"r-title",children:[y.jsx("h5",{children:p.student}),y.jsx("span",{className:"report-date",children:p.generatedAt?Tt(new Date(p.generatedAt),"dd MMM"):""})]}),y.jsxs("span",{className:`report-badge ${p.tone?.replace(" ","-").toLowerCase()}`,children:[p.tone," Outlook"]})]}),y.jsxs("div",{className:"report-body",children:[y.jsx("h6",{children:"Quarterly Summary"}),y.jsx("p",{className:"summary",children:p.summary}),p.breakdown&&y.jsx("div",{className:"breakdown-list",children:p.breakdown.map((ue,me)=>y.jsxs("div",{className:"bd-item",children:[y.jsx("span",{className:"bd-label",children:ue.label}),y.jsxs("span",{className:"bd-val",children:[ue.count," classes"]})]},me))}),y.jsxs("div",{className:"recommendation",children:[y.jsx("strong",{children:" Recommendation:"}),y.jsx("p",{children:p.recommendation})]})]}),y.jsxs("div",{className:"report-actions",children:[y.jsxs("button",{className:"whatsapp-btn",onClick:()=>{const ue=d?.phone?.replace(/\D/g,""),me=`https://wa.me/${ue?"91"+ue:""}?text=${p.whatsappMessage}`;window.open(me,"_blank")},children:[y.jsx(Fg,{size:18})," Share on WhatsApp"]}),y.jsx("button",{className:"copy-btn icon-only",onClick:()=>{navigator.clipboard.writeText(decodeURIComponent(p.whatsappMessage))},title:"Copy Text",children:y.jsx(rc,{size:18})})]})]}):y.jsxs("div",{className:"placeholder-state",children:[y.jsx(cv,{size:48}),y.jsx("p",{children:"Select a student to generate quarterly insights."})]})]})]})]})]}),U&&y.jsx("div",{className:"modal-overlay",children:y.jsxs("div",{className:"glass modal-card expense-modal",children:[y.jsxs("div",{className:"modal-header",children:[y.jsxs("div",{children:[y.jsx("h3",{children:"Manage Expenses"}),y.jsx("p",{children:"Track monthly operating costs"})]}),y.jsx("button",{className:"close-btn",onClick:()=>B(!1),children:y.jsx(uc,{size:20})})]}),y.jsxs("form",{onSubmit:q,className:"expense-form",children:[y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group flex-2",children:[y.jsx("label",{children:"Description"}),y.jsx("input",{className:"input-field",value:J.description,onChange:ue=>H({...J,description:ue.target.value}),required:!0,placeholder:"e.g. Rent, Electricity",autoFocus:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Amount ()"}),y.jsx("input",{type:"number",className:"input-field",value:J.amount,onChange:ue=>H({...J,amount:ue.target.value}),required:!0})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Date"}),y.jsx("input",{type:"date",className:"input-field",value:J.date,onChange:ue=>H({...J,date:ue.target.value}),required:!0})]}),y.jsxs("button",{className:"btn-primary full-width",children:[y.jsx(du,{size:18})," Add Expense"]})]}),y.jsx("div",{className:"section-divider",children:y.jsx("span",{children:"Recent Expenses"})}),y.jsx("div",{className:"expense-list scroller",children:Z.length>0?Z.slice(0,10).map(ue=>y.jsxs("div",{className:"expense-item-row",children:[y.jsxs("div",{className:"exp-info",children:[y.jsx("strong",{children:ue.description}),y.jsx("small",{children:Tt(new Date(ue.date),"dd MMM yyyy")})]}),y.jsxs("div",{className:"exp-actions",children:[y.jsxs("span",{className:"exp-amount",children:["-",parseFloat(ue.amount).toLocaleString()]}),y.jsx("button",{type:"button",onClick:()=>Ce(ue.id),className:"icon-btn delete",children:y.jsx(cc,{size:14})})]})]},ue.id)):y.jsx("p",{className:"text-muted text-center py-4",children:"No expenses recorded."})})]})}),y.jsx("style",{jsx:"true",children:`
                /* Modal Styles */
                .modal-overlay {
                    position: fixed; top: 0; left: 0; right: 0; bottom: 0;
                    background: rgba(0,0,0,0.5);
                    backdrop-filter: blur(4px);
                    display: flex; align-items: center; justify-content: center;
                    z-index: 1000;
                }
                .modal-card {
                    background: white;
                    padding: 30px;
                    border-radius: 20px;
                    width: 90%; max-width: 500px;
                    max-height: 85vh;
                    display: flex; flex-direction: column;
                }
                .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
                .modal-header h3 { margin: 0; font-size: 1.25rem; }
                .close-btn { background: none; border: none; cursor: pointer; color: var(--text-muted); padding: 5px; }
                .close-btn:hover { color: var(--danger); }

                .expense-form { margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid var(--border-color); }
                .form-row { display: flex; gap: 15px; }
                .flex-2 { flex: 2; }
                .full-width { width: 100%; justify-content: center; margin-top: 10px; }
                
                .section-divider { display: flex; align-items: center; margin-bottom: 15px; color: var(--text-muted); font-size: 0.85rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; }
                .section-divider::after { content: ''; flex: 1; height: 1px; background: var(--border-color); margin-left: 10px; }

                .expense-list { flex: 1; overflow-y: auto; padding-right: 5px; }
                .expense-item-row {
                    display: flex; justify-content: space-between; align-items: center;
                    padding: 10px; border-radius: 8px; margin-bottom: 8px;
                    background: var(--bg-secondary);
                    transition: all 0.2s;
                }
                .expense-item-row:hover { transform: translateX(2px); background: #f1f5f9; }
                .exp-info { display: flex; flex-direction: column; }
                .exp-info small { color: var(--text-muted); font-size: 0.75rem; }
                .exp-actions { display: flex; align-items: center; gap: 10px; }
                .exp-amount { font-weight: 700; color: var(--danger); }
                .icon-btn.delete { color: var(--text-muted); background: none; }
                .icon-btn.delete:hover { color: var(--danger); background: #fef2f2; }

                .insights-page {
                    max-width: 1200px;
                    margin: 0 auto;
                }
                
                .page-header {
                    margin-bottom: 30px;
                }
                
                .page-header h3 { font-size: 1.5rem; font-weight: 700; margin-bottom: 5px; display: flex; align-items: center; }
                .gap-2 { gap: 8px; }
                .text-primary { color: var(--primary); }
                .text-danger { color: var(--danger); }
                .text-success { color: var(--success); }
                .text-muted { color: var(--text-muted); }
                
                .insights-grid {
                    display: grid;
                    grid-template-columns: repeat(4, 1fr);
                    gap: 20px;
                }
                
                .stat-card {
                    padding: 20px;
                    display: flex;
                    align-items: center;
                    gap: 15px;
                    border-radius: 16px;
                }
                
                .icon-box {
                    width: 48px;
                    height: 48px;
                    border-radius: 12px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }
                
                .icon-box.blue { background: #eff6ff; color: #3b82f6; }
                .icon-box.green { background: #f0fdf4; color: #22c55e; }
                .icon-box.purple { background: #faf5ff; color: #a855f7; }
                .icon-box.red { background: #fef2f2; color: #ef4444; }
                
                .stat-card label { display: block; font-size: 0.8rem; color: var(--text-muted); font-weight: 600; text-transform: uppercase; }
                .stat-card h4 { margin: 2px 0; font-size: 1.4rem; font-weight: 700; }
                .stat-card .sub-text { font-size: 0.75rem; color: var(--text-muted); }
                
                .trend {
                    display: inline-flex;
                    align-items: center;
                    gap: 4px;
                    font-size: 0.75rem;
                    font-weight: 700;
                    margin-top: 4px;
                    padding: 2px 6px;
                    border-radius: 4px;
                }
                
                .trend.up { background: #ecfdf5; color: #16a34a; }
                .trend.down { background: #fef2f2; color: #dc2626; }
                
                .main-grid {
                    grid-column: 1 / -1;
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                    gap: 20px;
                    margin-top: 10px;
                }
                
                .risk-board, .ai-panel {
                    padding: 25px;
                    border-radius: 16px;
                    min-height: 400px;
                }
                
                .risk-list {
                    margin-top: 20px;
                    display: flex;
                    flex-direction: column;
                    gap: 10px;
                }
                
                .risk-item {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 12px 16px;
                    background: #fef2f2;
                    border: 1px solid #fee2e2;
                    border-radius: 10px;
                    cursor: pointer;
                    transition: all 0.2s;
                }
                
                .risk-item:hover {
                    transform: translateX(4px);
                    border-color: #fecaca;
                }
                
                .risk-info h5 { margin: 0; font-size: 0.95rem; font-weight: 700; color: #991b1b; }
                .risk-reason { font-size: 0.8rem; color: #b91c1c; }
                
                .analyze-btn {
                    display: flex;
                    align-items: center;
                    gap: 6px;
                    padding: 6px 12px;
                    background: white;
                    border: 1px solid #fecaca;
                    color: #991b1b;
                    border-radius: 8px;
                    font-size: 0.75rem;
                    font-weight: 600;
                }
                
                .empty-state {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                    height: 300px;
                    color: var(--text-muted);
                    gap: 10px;
                }

                .generating-state, .placeholder-state {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                    height: 300px;
                    text-align: center;
                    color: var(--text-muted);
                    gap: 15px;
                }
                
                .placeholder-state svg { color: #e2e8f0; }

                .report-card {
                    background: white;
                    border-radius: 12px;
                    overflow: hidden;
                    border: 1px solid var(--border-color);
                    box-shadow: var(--shadow-sm);
                }
                
                .report-header {
                    padding: 12px 20px;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                }
                
                .report-header.bg-green { background: #ecfdf5; color: #166534; }
                .report-header.bg-orange { background: #fff7ed; color: #9a3412; }
                
                .report-badge { font-weight: 700; font-size: 0.85rem; text-transform: uppercase; }
                .report-date { font-size: 0.75rem; opacity: 0.8; }
                
                .report-body { padding: 20px; }
                .report-body h5 { margin: 0 0 10px; font-size: 1.1rem; }
                
                .summary { color: var(--text-muted); line-height: 1.6; margin-bottom: 20px; }
                
                .recommendation {
                    background: #f8fafc;
                    padding: 15px;
                    border-radius: 8px;
                    border-left: 3px solid var(--primary);
                }
                
                .recommendation strong { display: block; margin-bottom: 5px; color: var(--primary); font-size: 0.85rem; }
                .recommendation p { margin: 0; font-size: 0.9rem; color: var(--text-main); }
                
                .copy-btn {
                    width: 100%;
                    padding: 12px;
                    background: #f8fafc;
                    border: none;
                    border-top: 1px solid var(--border-color);
                    color: var(--text-muted);
                    font-weight: 600;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 8px;
                }
                
                .copy-btn:hover { background: #f1f5f9; color: var(--primary); }
                
                @media (max-width: 1024px) {
                    .insights-grid { grid-template-columns: 1fr 1fr; }
                }
                
                @media (max-width: 768px) {
                    .insights-grid { grid-template-columns: 1fr; }
                    .main-grid { grid-template-columns: 1fr; }
                }

                .panel-header-row {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 10px;
                }
                
                .panel-header-row h4 { margin: 0; }

                .icon-btn {
                    width: 36px;
                    height: 36px;
                    border-radius: 8px;
                    background: var(--bg-secondary);
                    color: var(--text-muted);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }

                .icon-btn:hover { background: var(--border-color); color: var(--text-main); }

                .search-section {
                    margin-top: 10px;
                }

                .search-input {
                    width: 100%;
                    padding: 12px;
                    border: 1px solid var(--border-color);
                    border-radius: 10px;
                    margin-bottom: 12px;
                    background: var(--bg-main);
                }

                .search-input:focus {
                    border-color: var(--primary);
                    background: white;
                }

                .search-results {
                    max-height: 250px;
                    overflow-y: auto;
                    display: flex;
                    flex-direction: column;
                    gap: 6px;
                }

                .search-item {
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    padding: 8px 12px;
                    border-radius: 8px;
                    cursor: pointer;
                    transition: all 0.15s;
                }

                .search-item:hover { background: var(--bg-secondary); }

                .s-avatar {
                    width: 32px;
                    height: 32px;
                    border-radius: 8px;
                    background: var(--primary);
                    color: white;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-weight: 700;
                    font-size: 0.9rem;
                }

                .s-info .name { display: block; font-weight: 600; font-size: 0.9rem; }
                .s-info .course { display: block; font-size: 0.75rem; color: var(--text-muted); }
                
                .no-res { text-align: center; color: var(--text-muted); font-size: 0.9rem; margin-top: 10px; }
                
                .error-box {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                    padding: 40px;
                    background: #fef2f2;
                    border-radius: 12px;
                    border: 1px solid #fee2e2;
                    text-align: center;
                    gap: 15px;
                }
                
                .retry-btn {
                    padding: 8px 20px;
                    background: var(--danger);
                    color: white;
                    border-radius: 8px;
                    font-weight: 600;
                }

                .charts-row {
                    grid-column: 1 / -1;
                    display: grid;
                    grid-template-columns: 2fr 1fr;
                    gap: 20px;
                    margin-top: 10px;
                }

                .chart-card {
                    padding: 20px;
                    border-radius: 16px;
                    display: flex;
                    flex-direction: column;
                }

                .chart-card h4 {
                    margin: 0 0 20px 0;
                    font-size: 1rem;
                    font-weight: 700;
                    color: var(--text-muted);
                }

                .chart-wrapper {
                    flex: 1;
                    min-height: 250px;
                }

                @media (max-width: 1024px) {
                    .charts-row { grid-template-columns: 1fr; }
                }

                /* New Report Styles */
                .report-header-section {
                    display: flex;
                    justify-content: space-between;
                    align-items: flex-start;
                    margin-bottom: 20px;
                    padding-bottom: 15px;
                    border-bottom: 1px solid var(--border-color);
                }

                .r-title h5 { margin: 0; font-size: 1.1rem; font-weight: 700; }
                .report-date { display: block; font-size: 0.8rem; color: var(--text-muted); margin-top: 4px; }
                
                .report-badge { padding: 5px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; }
                .report-badge.positive, .report-badge.excellent, .report-badge.consistent { background: #dcfce7; color: #15803d; }
                .report-badge.needs-attention, .report-badge.needs-improvement { background: #fee2e2; color: #991b1b; }
                .report-badge.neutral { background: #e0f2fe; color: #0369a1; }

                .breakdown-list {
                    background: var(--bg-secondary);
                    padding: 15px;
                    border-radius: 12px;
                    margin: 15px 0;
                    display: grid;
                    grid-template-columns: 1fr 1fr 1fr;
                    gap: 10px;
                }
                
                .bd-item { display: flex; flex-direction: column; align-items: center; text-align: center; }
                .bd-label { font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; font-weight: 600; margin-bottom: 4px; }
                .bd-val { font-size: 0.9rem; font-weight: 700; color: var(--text-main); }
                
                .report-actions {
                    display: flex;
                    gap: 10px;
                    margin-top: 20px;
                    padding-top: 15px;
                    border-top: 1px solid var(--border-color);
                }
                
                .whatsapp-btn {
                    flex: 1;
                    background: #25D366;
                    color: white;
                    padding: 10px;
                    border-radius: 10px;
                    font-weight: 600;
                    display: flex; align-items: center; justify-content: center; gap: 8px;
                    transition: all 0.2s;
                }
                .whatsapp-btn:hover { background: #128c7e; transform: translateY(-2px); }
                
                .copy-btn.icon-only { width: 44px; padding: 0; flex: 0 0 44px; display: flex; align-items: center; justify-content: center; border-radius: 10px; background: var(--bg-secondary); color: var(--text-muted); }
                .copy-btn.icon-only:hover { background: var(--bg-hover); color: var(--primary); }

            `})]})},R9e=async()=>{try{const t={exportDate:new Date().toISOString(),version:"1.0",students:[],invoices:[],attendance:[],settings:null},e=await Zr(wr(Gt,"students"));t.students=e.docs.map(c=>({id:c.id,...c.data()}));const n=await Zr(wr(Gt,"invoices"));t.invoices=n.docs.map(c=>({id:c.id,...c.data()}));const r=await Zr(wr(Gt,"monthly_attendance"));t.attendance=r.docs.map(c=>({id:c.id,...c.data()}));try{const c=await Zr(wr(Gt,"settings"));c.docs.length>0&&(t.settings=c.docs[0].data())}catch{console.log("No settings found")}const i=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),a=URL.createObjectURL(i),s=document.createElement("a");return s.href=a,s.download=`EduBill_Backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a),{success:!0,counts:{students:t.students.length,invoices:t.invoices.length,attendance:t.attendance.length}}}catch(t){return console.error("Export error:",t),{success:!1,error:t.message}}},k9e=async(t,e={overwrite:!1})=>new Promise((n,r)=>{const i=new FileReader;i.onload=async a=>{try{const s=JSON.parse(a.target.result);if(!s.version||!s.exportDate)throw new Error("Invalid backup file format");const c={students:0,invoices:0,attendance:0};for(const d of s.students||[]){const{id:u,...p}=d;await _f(er(Gt,"students",u),p,{merge:!e.overwrite}),c.students++}for(const d of s.invoices||[]){const{id:u,...p}=d;await _f(er(Gt,"invoices",u),p,{merge:!e.overwrite}),c.invoices++}for(const d of s.attendance||[]){const{id:u,...p}=d;await _f(er(Gt,"monthly_attendance",u),p,{merge:!e.overwrite}),c.attendance++}s.settings&&await _f(er(Gt,"settings","business"),s.settings,{merge:!e.overwrite}),n({success:!0,counts:c})}catch(s){r({success:!1,error:s.message})}},i.onerror=()=>r({success:!1,error:"Failed to read file"}),i.readAsText(t)}),D9e=[{id:"modern",name:"Modern",preview:"",description:"Clean and professional",styles:{headerBg:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",headerColor:"#ffffff",accentColor:"#667eea",borderRadius:"16px",fontFamily:"'Outfit', sans-serif"}},{id:"classic",name:"Classic",preview:"",description:"Traditional business style",styles:{headerBg:"#1e293b",headerColor:"#ffffff",accentColor:"#1e293b",borderRadius:"8px",fontFamily:"'Georgia', serif"}},{id:"minimal",name:"Minimal",preview:"",description:"Simple and elegant",styles:{headerBg:"#ffffff",headerColor:"#0f172a",accentColor:"#0f172a",borderRadius:"0px",fontFamily:"'Inter', sans-serif"}},{id:"colorful",name:"Colorful",preview:"",description:"Fun and vibrant",styles:{headerBg:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",headerColor:"#ffffff",accentColor:"#f5576c",borderRadius:"20px",fontFamily:"'Poppins', sans-serif"}},{id:"dark",name:"Dark Mode",preview:"",description:"Sleek dark theme",styles:{headerBg:"#0f172a",headerColor:"#f1f5f9",accentColor:"#3b82f6",borderRadius:"12px",fontFamily:"'Outfit', sans-serif"}},{id:"corporate",name:"Corporate",preview:"",description:"Professional enterprise",styles:{headerBg:"#0369a1",headerColor:"#ffffff",accentColor:"#0369a1",borderRadius:"4px",fontFamily:"'Roboto', sans-serif"}}],P9e=()=>{const{isDark:t,toggleTheme:e}=qH(),n=Kw();R.useRef(null);const[r,i]=R.useState(!0),[a,s]=R.useState(!1),[c,d]=R.useState(!1),[u,p]=R.useState(!1),[x,w]=R.useState(!1),[A,N]=R.useState({name:"",price:""}),[S,I]=R.useState({businessName:"Makerworks Lab",tagline:"Robotics & S.T.E.A.M Education",email:"hello@makerworkslab.in",phone:"",website:"makerworkslab.in",address:"",upiId:"",logo:"",invoiceTemplate:"modern",pricing:{Beginner:999,Intermediate:1499,Advanced:1499},invoiceTerms:["Please pay by the 10th of the month","Fees once paid are non-refundable"],bankAccounts:[],defaultBankId:""});R.useEffect(()=>{P()},[]);const j=async()=>{p(!0);try{const q=await R9e();q.success?n.success(`Backup created! ${q.counts.students} students, ${q.counts.invoices} invoices exported.`):n.error("Export failed: "+q.error)}catch{n.error("Export failed")}finally{p(!1)}},D=async q=>{const Ce=q.target.files[0];if(Ce&&window.confirm("This will merge data from the backup. Existing data with same IDs will be preserved. Continue?")){w(!0);try{const re=await k9e(Ce);re.success&&(n.success(`Restored ${re.counts.students} students, ${re.counts.invoices} invoices!`),setTimeout(()=>window.location.reload(),2e3))}catch(re){n.error("Import failed: "+re.error)}finally{w(!1),q.target.value=""}}},P=async()=>{i(!0);try{const q=er(Gt,"settings","business"),Ce=await xs(q);Ce.exists()&&I({...S,...Ce.data()})}catch(q){console.error("Error loading settings:",q)}finally{i(!1)}},V=async q=>{q.preventDefault(),s(!0);try{await _f(er(Gt,"settings","business"),S),d(!0),setTimeout(()=>d(!1),3e3)}catch(Ce){console.error("Error saving:",Ce),alert("Failed to save settings")}finally{s(!1)}},K=q=>{const Ce=q.target.files[0];if(Ce){if(Ce.size>5e5){alert("Logo too large. Please use under 500KB.");return}const re=new FileReader;re.onloadend=()=>{I({...S,logo:re.result})},re.readAsDataURL(Ce)}},Z=(q,Ce)=>{I({...S,pricing:{...S.pricing,[q]:parseInt(Ce)||0}})},F=()=>{!A.name.trim()||!A.price||(I({...S,pricing:{...S.pricing,[A.name.trim()]:parseInt(A.price)}}),N({name:"",price:""}))},U=q=>{if(window.confirm(`Delete course "${q}"?`)){const Ce={...S.pricing};delete Ce[q],I({...S,pricing:Ce})}},B=()=>{const q={id:Date.now().toString(),accountName:S.businessName||"",accountNumber:"",ifsc:"",bankName:"",accountType:"Savings",upiId:S.upiId||""},Ce=[...S.bankAccounts||[],q];I({...S,bankAccounts:Ce,defaultBankId:S.defaultBankId||q.id})},J=q=>{I({...S,defaultBankId:q})},H=(q,Ce,re)=>{const ue=(S.bankAccounts||[]).map(me=>me.id===q?{...me,[Ce]:re}:me);I({...S,bankAccounts:ue})},G=q=>{window.confirm("Remove this bank account?")&&I({...S,bankAccounts:(S.bankAccounts||[]).filter(Ce=>Ce.id!==q)})};return r?y.jsx(v8e,{}):y.jsxs(xn.div,{initial:{opacity:0},animate:{opacity:1},className:"settings-page",children:[y.jsxs("div",{className:"page-header",children:[y.jsxs("div",{children:[y.jsx("h2",{children:" Settings"}),y.jsx("p",{children:"Customize your business profile and preferences"})]}),y.jsxs("button",{className:"sync-btn",onClick:P,children:[y.jsx(td,{size:18}),"Reload"]})]}),y.jsxs("form",{onSubmit:V,children:[y.jsxs("div",{className:"settings-grid",children:[y.jsxs("div",{className:"glass card settings-card",children:[y.jsxs("div",{className:"card-title",children:[y.jsx(gce,{size:20}),y.jsx("h4",{children:"Business Information"})]}),y.jsxs("div",{className:"logo-section",children:[y.jsx("div",{className:"logo-preview",children:S.logo?y.jsx("img",{src:S.logo,alt:"Logo"}):y.jsx("span",{children:"MW"})}),y.jsxs("div",{className:"logo-controls",children:[y.jsxs("label",{className:"upload-btn",children:[y.jsx(oV,{size:16}),"Upload Logo",y.jsx("input",{type:"file",accept:"image/*",onChange:K,hidden:!0})]}),S.logo&&y.jsx("button",{type:"button",className:"remove-btn",onClick:()=>I({...S,logo:""}),children:"Remove"})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Business Name"}),y.jsx("input",{type:"text",className:"input-field",value:S.businessName,onChange:q=>I({...S,businessName:q.target.value})})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Tagline"}),y.jsx("input",{type:"text",className:"input-field",value:S.tagline,onChange:q=>I({...S,tagline:q.target.value})})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{children:[y.jsx(W3,{size:14})," Email"]}),y.jsx("input",{type:"email",className:"input-field",value:S.email,onChange:q=>I({...S,email:q.target.value})})]}),y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{children:[y.jsx(G3,{size:14})," Phone"]}),y.jsx("input",{type:"tel",className:"input-field",value:S.phone,onChange:q=>I({...S,phone:q.target.value})})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{children:[y.jsx(eue,{size:14})," Website"]}),y.jsx("input",{type:"text",className:"input-field",value:S.website,onChange:q=>I({...S,website:q.target.value})})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Address"}),y.jsx("textarea",{className:"input-field",rows:"2",value:S.address,onChange:q=>I({...S,address:q.target.value})})]})]}),y.jsxs("div",{className:"glass card settings-card",children:[y.jsxs("div",{className:"card-title",children:[y.jsx(tC,{size:20}),y.jsx("h4",{children:"Payment Settings"})]}),y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{children:[y.jsx(tC,{size:14})," Default UPI ID"]}),y.jsx("input",{type:"text",className:"input-field",placeholder:"yourname@upi",value:S.upiId,onChange:q=>I({...S,upiId:q.target.value})}),y.jsx("span",{className:"hint",children:"This will be used as the default for new bank accounts"})]}),y.jsxs("div",{className:"pricing-section",children:[y.jsxs("label",{children:[y.jsx(Kb,{size:14})," Course Pricing (per class)"]}),y.jsxs("div",{className:"pricing-grid",children:[Object.entries(S.pricing).map(([q,Ce])=>y.jsxs("div",{className:"pricing-item",children:[y.jsx("span",{className:"level-badge",children:q}),y.jsxs("div",{className:"price-row-actions",children:[y.jsxs("div",{className:"price-input",children:[y.jsx("span",{children:""}),y.jsx("input",{type:"number",value:Ce,onChange:re=>Z(q,re.target.value)})]}),y.jsx("button",{type:"button",className:"delete-icon-btn",onClick:()=>U(q),title:"Delete Course",children:y.jsx(cc,{size:16})})]})]},q)),y.jsxs("div",{className:"add-course-row",children:[y.jsx("input",{type:"text",placeholder:"Course Name",value:A.name,onChange:q=>N({...A,name:q.target.value}),className:"sm-input"}),y.jsx("input",{type:"number",placeholder:"Price",value:A.price,onChange:q=>N({...A,price:q.target.value}),className:"sm-input price"}),y.jsx("button",{type:"button",className:"add-btn-sm",onClick:F,disabled:!A.name||!A.price,children:y.jsx(du,{size:16})})]})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Invoice Terms"}),y.jsx("textarea",{className:"input-field",rows:"3",value:S.invoiceTerms.join(`
`),onChange:q=>I({...S,invoiceTerms:q.target.value.split(`
`)}),placeholder:"One term per line"})]}),y.jsx("div",{className:"section-title",children:" Bank Accounts"}),y.jsx("p",{className:"hint",children:"Add one or more bank accounts. You can select one when generating an invoice."}),y.jsxs("div",{className:"bank-accounts-list",children:[(S.bankAccounts||[]).map((q,Ce)=>y.jsxs("div",{className:"bank-item-card",children:[y.jsxs("div",{className:"bank-item-header",children:[y.jsxs("div",{className:"bank-header-left",children:[y.jsxs("h5",{children:["Account #",Ce+1]}),y.jsx("button",{type:"button",className:`star-btn ${S.defaultBankId===q.id?"active":""}`,onClick:()=>J(q.id),title:S.defaultBankId===q.id?"Default Account":"Set as Default",children:y.jsx("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:S.defaultBankId===q.id?" Default":" Set Default"})})]}),y.jsx("button",{type:"button",className:"remove-btn",onClick:()=>G(q.id),children:y.jsx(cc,{size:16})})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Account Name"}),y.jsx("input",{type:"text",className:"input-field",value:q.accountName,onChange:re=>H(q.id,"accountName",re.target.value),placeholder:"e.g. Makerworks Lab PVT LTD"})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Account Number"}),y.jsx("input",{type:"text",className:"input-field",value:q.accountNumber,onChange:re=>H(q.id,"accountNumber",re.target.value)})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"IFSC Code"}),y.jsx("input",{type:"text",className:"input-field",value:q.ifsc,onChange:re=>H(q.id,"ifsc",re.target.value)})]})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Bank Name"}),y.jsx("input",{type:"text",className:"input-field",value:q.bankName,onChange:re=>H(q.id,"bankName",re.target.value)})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"UPI ID"}),y.jsx("input",{type:"text",className:"input-field",value:q.upiId,onChange:re=>H(q.id,"upiId",re.target.value)})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Account Type"}),y.jsxs("select",{className:"input-field",value:q.accountType,onChange:re=>H(q.id,"accountType",re.target.value),children:[y.jsx("option",{value:"Savings",children:"Savings"}),y.jsx("option",{value:"Current",children:"Current"})]})]})]},q.id)),y.jsxs("button",{type:"button",className:"add-bank-btn",onClick:B,children:[y.jsx(du,{size:18}),"Add Another Bank Account"]})]})]}),y.jsxs("div",{className:"glass card settings-card",children:[y.jsxs("div",{className:"card-title",children:[y.jsx(Aue,{size:20}),y.jsx("h4",{children:"Appearance"})]}),y.jsxs("div",{className:"theme-section",children:[y.jsx("p",{children:"Choose your preferred theme"}),y.jsxs("div",{className:"theme-options",children:[y.jsxs("button",{type:"button",className:`theme-option ${t?"":"active"}`,onClick:()=>t&&e(),children:[y.jsx(aV,{size:24}),y.jsx("span",{children:"Light"})]}),y.jsxs("button",{type:"button",className:`theme-option ${t?"active":""}`,onClick:()=>!t&&e(),children:[y.jsx(nV,{size:24}),y.jsx("span",{children:"Dark"})]})]})]})]}),y.jsxs("div",{className:"glass card settings-card",children:[y.jsxs("div",{className:"card-title",children:[y.jsx(rc,{size:20}),y.jsx("h4",{children:"Invoice Templates"})]}),y.jsxs("div",{className:"template-section",children:[y.jsx("p",{children:"Select a style for your invoices"}),y.jsx("div",{className:"template-grid",children:D9e.map(q=>y.jsxs("button",{type:"button",className:`template-card ${S.invoiceTemplate===q.id?"active":""}`,onClick:()=>I({...S,invoiceTemplate:q.id}),children:[y.jsx("span",{className:"template-preview",children:q.preview}),y.jsx("span",{className:"template-name",children:q.name}),y.jsx("span",{className:"template-desc",children:q.description}),S.invoiceTemplate===q.id&&y.jsx("span",{className:"template-check",children:y.jsx(ih,{size:14})})]},q.id))})]})]}),y.jsxs("div",{className:"glass card settings-card",children:[y.jsxs("div",{className:"card-title",children:[y.jsx(Uce,{size:20}),y.jsx("h4",{children:"Data Management"})]}),y.jsxs("div",{className:"backup-section",children:[y.jsxs("div",{className:"backup-info",children:[y.jsx("h5",{children:" Backup & Restore"}),y.jsx("p",{children:"Export all your data as a JSON file for safekeeping, or restore from a previous backup."})]}),y.jsxs("div",{className:"backup-actions",children:[y.jsxs("button",{type:"button",className:"backup-btn export",onClick:j,disabled:u,children:[u?y.jsx(ns,{className:"animate-spin",size:18}):y.jsx(Hce,{size:18}),y.jsx("span",{children:u?"Exporting...":"Export Backup"})]}),y.jsxs("label",{className:`backup-btn import ${x?"disabled":""}`,children:[x?y.jsx(ns,{className:"animate-spin",size:18}):y.jsx(jce,{size:18}),y.jsx("span",{children:x?"Importing...":"Import Backup"}),y.jsx("input",{type:"file",accept:".json",onChange:D,disabled:x,hidden:!0})]})]}),y.jsxs("div",{className:"backup-warning",children:[y.jsx(Yv,{size:16}),y.jsx("span",{children:"Backup includes: Students, Invoices, Attendance, and Settings"})]})]})]})]}),y.jsx("div",{className:"save-bar",children:y.jsxs("button",{type:"submit",className:"btn-primary save-btn",disabled:a,children:[a?y.jsx(ns,{className:"animate-spin",size:20}):c?y.jsx(ih,{size:20}):y.jsx(q3,{size:20}),y.jsx("span",{children:a?"Saving...":c?"Saved!":"Save Settings"})]})})]}),y.jsx("style",{jsx:"true",children:`
        .settings-page { max-width: 1000px; margin: 0 auto; }

        .page-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-end;
          margin-bottom: 30px;
        }

        .page-header h2 { margin: 0; font-size: 1.75rem; }
        .page-header p { margin: 4px 0 0; color: var(--text-muted); }

        .sync-btn {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 10px 18px;
          background: var(--bg-card);
          border: 1px solid var(--border-color);
          border-radius: 10px;
          font-weight: 600;
          color: var(--text-muted);
        }

        .settings-grid {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 24px;
        }

        .settings-card { padding: 28px; }

        .card-title {
          display: flex;
          align-items: center;
          gap: 10px;
          margin-bottom: 25px;
          color: var(--primary);
        }

        .card-title h4 { margin: 0; font-size: 1.1rem; color: var(--text-main); }

        .logo-section {
          display: flex;
          align-items: center;
          gap: 20px;
          margin-bottom: 25px;
          padding: 20px;
          background: var(--bg-secondary);
          border-radius: 12px;
        }

        .logo-preview {
          width: 70px;
          height: 70px;
          border-radius: 16px;
          background: linear-gradient(135deg, var(--primary), var(--accent-purple));
          color: white;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 800;
          font-size: 1.3rem;
          overflow: hidden;
        }

        .logo-preview img { width: 100%; height: 100%; object-fit: cover; }

        .logo-controls { display: flex; flex-direction: column; gap: 8px; }

        .upload-btn {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 10px 16px;
          background: var(--primary);
          color: white;
          border-radius: 8px;
          font-weight: 600;
          font-size: 0.85rem;
          cursor: pointer;
        }

        .remove-btn {
          background: none;
          color: var(--danger);
          font-size: 0.85rem;
          font-weight: 600;
        }

        .form-group { margin-bottom: 20px; }
        .form-group label {
          display: flex;
          align-items: center;
          gap: 6px;
          font-size: 0.85rem;
          font-weight: 600;
          color: var(--text-muted);
          margin-bottom: 8px;
        }

        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }

        .bank-accounts-list { display: flex; flex-direction: column; gap: 20px; margin-top: 15px; }
        .bank-item-card { 
            padding: 20px; 
            background: rgba(var(--primary-rgb), 0.03); 
            border: 1px solid var(--border-color); 
            border-radius: 12px;
        }
        .bank-item-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .bank-header-left { display: flex; align-items: center; gap: 15px; }
        .bank-item-header h5 { margin: 0; font-size: 0.9rem; color: var(--primary); }
        
        .star-btn {
            background: none; border: 1px solid var(--border-color); border-radius: 20px;
            padding: 4px 12px; font-size: 0.75rem; font-weight: 600; color: var(--text-muted);
            cursor: pointer; transition: all 0.2s;
        }
        .star-btn:hover { background: rgba(var(--primary-rgb), 0.05); color: var(--primary); }
        .star-btn.active { background: var(--primary); color: white; border-color: var(--primary); }

        .add-bank-btn {
            display: flex; align-items: center; justify-content: center; gap: 8px;
            padding: 12px; border: 2px dashed var(--border-color); border-radius: 12px;
            color: var(--text-muted); font-weight: 600; cursor: pointer;
        }
        .add-bank-btn:hover { border-color: var(--primary); color: var(--primary); }

        .hint { font-size: 0.75rem; color: var(--text-muted); margin-top: 4px; display: block; }

        .pricing-section { margin-bottom: 25px; }
        .pricing-section > label { margin-bottom: 15px; display: block; }

        .pricing-grid { display: flex; flex-direction: column; gap: 12px; }

        .pricing-item {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 15px;
          background: var(--bg-secondary);
          border-radius: 10px;
        }

        .level-badge {
          padding: 4px 12px;
          border-radius: 6px;
          font-size: 0.8rem;
          font-weight: 700;
        }

        .level-badge.beginner { background: #dcfce7; color: #15803d; }
        .level-badge.intermediate { background: #fef3c7; color: #92400e; }
        .level-badge.advanced { background: #fef2f2; color: #991b1b; }

        .price-input {
          display: flex;
          align-items: center;
          gap: 4px;
          font-weight: 700;
        }

        .price-input input {
          width: 80px;
          padding: 8px;
          border: 1px solid var(--border-color);
          border-radius: 8px;
          font-size: 1rem;
          font-weight: 700;
          text-align: right;
          background: var(--bg-card);
          color: var(--text-main);
        }

        .price-row-actions { display: flex; align-items: center; gap: 8px; }
        .delete-icon-btn { 
            background: none; border: none; color: var(--text-muted); cursor: pointer; padding: 4px; border-radius: 4px;
            display: flex; align-items: center; justify-content: center;
        }
        .delete-icon-btn:hover { color: var(--danger); background: #fee2e2; }

        .add-course-row {
            display: grid;
            grid-template-columns: 2fr 1fr 40px;
            gap: 10px;
            padding: 10px;
            background: rgba(37, 99, 235, 0.05); /* varying primary tint */
            border-radius: 10px;
            align-items: center;
        }

        .sm-input { padding: 8px; border: 1px solid var(--border-color); border-radius: 6px; width: 100%; font-size: 0.9rem; }
        .sm-input.price { font-weight: 700; }
        .add-btn-sm {
            width: 36px; height: 36px;
            background: var(--primary); color: white; border-radius: 8px;
            display: flex; align-items: center; justify-content: center;
        }
        .add-btn-sm:disabled { background: var(--text-muted); opacity: 0.5; }

        .theme-section p { color: var(--text-muted); margin-bottom: 15px; }

        .theme-options { display: flex; gap: 15px; }

        .theme-option {
          flex: 1;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 10px;
          padding: 25px;
          border: 2px solid var(--border-color);
          border-radius: 12px;
          background: var(--bg-secondary);
          color: var(--text-muted);
          cursor: pointer;
          transition: all 0.2s;
        }

        .theme-option:hover { border-color: var(--primary); color: var(--primary); }

        .theme-option.active {
          border-color: var(--primary);
          background: ${t?"rgba(59, 130, 246, 0.15)":"#f0f4ff"};
          color: var(--primary);
        }

        .save-bar {
          margin-top: 30px;
          display: flex;
          justify-content: flex-end;
        }

        .save-btn {
          min-width: 180px;
          padding: 14px 28px;
          font-size: 1rem;
        }

        .loader-full {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 400px;
          gap: 16px;
          color: var(--text-muted);
        }

        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        .backup-section {
          padding: 20px;
          background: var(--bg-secondary);
          border-radius: 12px;
        }

        .backup-info h5 { margin: 0 0 8px; font-size: 1rem; }
        .backup-info p { margin: 0 0 20px; color: var(--text-muted); font-size: 0.9rem; }

        .backup-actions {
          display: flex;
          gap: 12px;
          margin-bottom: 15px;
        }

        .backup-btn {
          flex: 1;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
          padding: 14px 20px;
          border-radius: 10px;
          font-weight: 600;
          font-size: 0.9rem;
          cursor: pointer;
          transition: all 0.2s;
        }

        .backup-btn.export {
          background: linear-gradient(135deg, #10b981 0%, #059669 100%);
          color: white;
        }

        .backup-btn.export:hover { transform: translateY(-2px); box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3); }

        .backup-btn.import {
          background: var(--bg-card);
          border: 2px dashed var(--border-color);
          color: var(--text-muted);
        }

        .backup-btn.import:hover { border-color: var(--primary); color: var(--primary); }
        .backup-btn.disabled { opacity: 0.6; pointer-events: none; }

        .backup-warning {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 10px 15px;
          background: rgba(245, 158, 11, 0.1);
          border-radius: 8px;
          font-size: 0.8rem;
          color: #f59e0b;
        }

        .template-section p { color: var(--text-muted); margin-bottom: 15px; }

        .template-grid {
          display: grid;
          grid-template-columns: repeat(3, 1fr);
          gap: 12px;
        }

        .template-card {
          position: relative;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 8px;
          padding: 20px 12px;
          background: var(--bg-secondary);
          border: 2px solid var(--border-color);
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.2s;
        }

        .template-card:hover {
          border-color: var(--primary);
          transform: translateY(-2px);
        }

        .template-card.active {
          border-color: var(--primary);
          background: ${t?"rgba(59, 130, 246, 0.15)":"#f0f4ff"};
        }

        .template-preview { font-size: 1.8rem; }
        .template-name { font-weight: 600; font-size: 0.85rem; }
        .template-desc { font-size: 0.7rem; color: var(--text-muted); text-align: center; }

        .template-check {
          position: absolute;
          top: 8px;
          right: 8px;
          width: 22px;
          height: 22px;
          background: var(--primary);
          color: white;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        @media (max-width: 768px) {
          .settings-grid { grid-template-columns: 1fr; }
          .form-row { grid-template-columns: 1fr; }
          .backup-actions { flex-direction: column; }
          .template-grid { grid-template-columns: repeat(2, 1fr); }
        }
      `})]})},j9e=[{value:1,label:"1 Month"},{value:2,label:"2 Months"},{value:3,label:"3 Months"},{value:4,label:"4 Months"},{value:6,label:"6 Months"}],L9e=()=>{const t=Kw(),[e,n]=R.useState([]),[r,i]=R.useState([]),[a,s]=R.useState({}),[c,d]=R.useState(!0),[u,p]=R.useState(!1),[x,w]=R.useState(!1),[A,N]=R.useState(0),[S,I]=R.useState(!1),[j,D]=R.useState([]),[P,V]=R.useState(null),[K,Z]=R.useState({studentId:"",endMonth:Tt(new Date,"MM"),endYear:Tt(new Date,"yyyy"),monthCount:1,manualClasses:"",selectedDates:[],adjustment:"",adjLabel:""});R.useEffect(()=>{(async()=>{try{const ue=await xs(er(Gt,"settings","business"));ue.exists()&&ue.data().pricing&&s(ue.data().pricing)}catch(ue){console.error(ue)}})(),F(),U()},[]),R.useEffect(()=>{u&&(async()=>{if(!K.studentId){N(0),D([]);return}I(!0);try{const ue=new Date(parseInt(K.endYear),parseInt(K.endMonth)-1,1);let me=0,Re=[];for(let Be=0;Be<K.monthCount;Be++){const be=dc(ue,Be),Q=qg(be),ee=Wg(be),se=Gg({start:Q,end:ee}).filter(Ne=>r2(Ne)||i2(Ne));Re=[...Re,...se];const fe=`${K.studentId}_${Tt(be,"MM")}_${Tt(be,"yyyy")}`,Ee=await xs(er(Gt,"monthly_attendance",fe));Ee.exists()&&(me+=Ee.data().classCount||0)}N(me),D(Re.sort((Be,be)=>Be-be))}catch(ue){console.error(ue)}finally{I(!1)}})()},[K.studentId,K.endMonth,K.endYear,K.monthCount,u]),R.useEffect(()=>{if(K.manualClasses&&j.length>0){const re=parseInt(K.manualClasses);isNaN(re)||Z(ue=>({...ue,selectedDates:j.slice(0,re).map(me=>me.toISOString())}))}else K.manualClasses||Z(re=>({...re,selectedDates:[]}))},[K.manualClasses,j]);const F=async()=>{d(!0);try{const re=kp(wr(Gt,"invoices"),Hb("createdAt","desc")),me=(await Zr(re)).docs.map(Re=>({id:Re.id,...Re.data()}));n(me.filter(Re=>Re.type==="quotation"))}catch(re){console.error(re)}finally{d(!1)}},U=async()=>{try{const re=await Zr(wr(Gt,"students"));i(re.docs.map(ue=>({id:ue.id,...ue.data()})))}catch(re){console.error(re)}},B=async re=>{if(re.preventDefault(),!!K.studentId){w(!0);try{const ue=K.studentId,me=K.endMonth,Re=K.endYear,Be=K.monthCount,be=K.manualClasses,Q=K.selectedDates,ee=K.adjustment,oe=K.adjLabel,se=await xs(er(Gt,"students",ue));if(!se.exists())throw new Error("Student not found");const fe=se.data(),Ee=new Date(parseInt(Re),parseInt(me)-1,1),Ne=[];for(let It=0;It<Be;It++){const _t=dc(Ee,It);Ne.push({month:Tt(_t,"MM"),year:Tt(_t,"yyyy"),label:Tt(_t,"MMM yyyy")})}Ne.reverse();let Ge=[],_e=0;const ze=[];for(const It of Ne){const _t=`${ue}_${It.month}_${It.year}`,bt=await xs(er(Gt,"monthly_attendance",_t)),mt=bt.exists()?bt.data():{classCount:0,sessions:[]};Ge=[...Ge,...mt.sessions||[]],_e+=mt.classCount||0,ze.push({month:It.month,year:It.year,label:It.label,classCount:mt.classCount||0})}const tt=a[fe.course]||0,Me=be?parseInt(be):_e,gt=Me*tt,nt=parseFloat(ee)||0,Ut=gt+nt;let Ct=Ge;if(Q.length>0)Ct=Q.map(It=>({date:It,location:"MAKER WORKS",topic:"Class Session"}));else if(be){const It=parseInt(be);let _t=[];for(const bt of Ne){const mt=new Date(parseInt(bt.year),parseInt(bt.month)-1,1),nr=Gg({start:qg(mt),end:Wg(mt)}).filter(Kt=>r2(Kt)||i2(Kt));_t=[..._t,...nr]}_t.sort((bt,mt)=>bt-mt),Ct=_t.slice(0,It).map(bt=>({date:bt.toISOString(),location:"MAKER WORKS",topic:"Planned Session"}))}const st={studentId:ue,startMonth:Ne[0].month,startYear:Ne[0].year,endMonth:Ne[Ne.length-1].month,endYear:Ne[Ne.length-1].year,month:me,year:Re,monthCount:Be,monthlyBreakdown:ze,classCount:Me,actualAttendanceCount:_e,sessions:Ct,ratePerClass:tt,adjustment:nt,adjLabel:oe||(nt<0?"Discount":"Additional Fee"),totalAmount:Ut,isManualBilling:!!be,status:"Quotation",type:"quotation",createdAt:new Date().toISOString(),studentSnapshot:{name:fe.name,parentName:fe.parentName,email:fe.email,phone:fe.phone,course:fe.course||"Beginner"}};await Gb(wr(Gt,"invoices"),st),await F(),p(!1),Z({studentId:"",endMonth:Tt(new Date,"MM"),endYear:Tt(new Date,"yyyy"),monthCount:1,manualClasses:"",selectedDates:[],adjustment:"",adjLabel:""}),t.success("Quotation generated successfully!")}catch(ue){console.error("Generation Error:",ue),t.error("Error: "+ue.message)}finally{w(!1)}}},J=async re=>{if(window.confirm("Delete this quotation?"))try{await Wb(er(Gt,"invoices",re)),F(),t.success("Quotation deleted")}catch(ue){console.error(ue),t.error("Failed to delete")}},H=re=>{const ue=`${window.location.origin}${window.location.pathname}#/invoice/${re}`;navigator.clipboard.writeText(ue),V(re),t.success("Quotation link copied!"),setTimeout(()=>V(null),2e3)},G=re=>{if(re.monthCount>1){const ue=Tt(new Date(2e3,parseInt(re.startMonth)-1),"MMM"),me=Tt(new Date(2e3,parseInt(re.endMonth)-1),"MMM");return`${ue} - ${me} ${re.endYear}`}return`${Tt(new Date(2e3,parseInt(re.month)-1),"MMM")} ${re.year}`},q=e.reduce((re,ue)=>re+(ue.totalAmount||0),0),Ce=e.length>0?q/e.length:0;return y.jsxs(xn.div,{initial:{opacity:0},animate:{opacity:1},className:"quotations-page",children:[y.jsxs("div",{className:"page-header glass card",children:[y.jsxs("div",{className:"title-group",children:[y.jsx("h3",{children:"Quotations"}),y.jsx("p",{children:"Manage preliminary billing estimates"})]}),y.jsxs("div",{className:"header-actions",children:[y.jsx("button",{className:"sync-btn",onClick:F,children:y.jsx(td,{size:18,className:c?"animate-spin":""})}),y.jsxs("button",{className:"btn-primary",onClick:()=>p(!0),children:[y.jsx(Y0,{size:18})," Generate Quotation"]})]})]}),!c&&e.length>0&&y.jsxs(xn.div,{className:"q-stats-row",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[y.jsxs("div",{className:"q-stat-card glass card",children:[y.jsx("div",{className:"q-stat-icon",style:{background:"rgba(59, 130, 246, 0.12)",color:"#3b82f6"},children:y.jsx(iue,{size:20})}),y.jsxs("div",{className:"q-stat-info",children:[y.jsx("span",{className:"q-stat-label",children:"Total Quotations"}),y.jsx("span",{className:"q-stat-value",children:e.length})]})]}),y.jsxs("div",{className:"q-stat-card glass card",children:[y.jsx("div",{className:"q-stat-icon",style:{background:"rgba(16, 185, 129, 0.12)",color:"#10b981"},children:y.jsx(lue,{size:20})}),y.jsxs("div",{className:"q-stat-info",children:[y.jsx("span",{className:"q-stat-label",children:"Total Value"}),y.jsxs("span",{className:"q-stat-value",children:["",q.toLocaleString()]})]})]}),y.jsxs("div",{className:"q-stat-card glass card",children:[y.jsx("div",{className:"q-stat-icon",style:{background:"rgba(245, 158, 11, 0.12)",color:"#f59e0b"},children:y.jsx(ah,{size:20})}),y.jsxs("div",{className:"q-stat-info",children:[y.jsx("span",{className:"q-stat-label",children:"Avg / Quotation"}),y.jsxs("span",{className:"q-stat-value",children:["",Math.round(Ce).toLocaleString()]})]})]})]}),y.jsx("div",{className:"glass card table-container",children:c?y.jsxs(y.Fragment,{children:[y.jsx(Mh,{}),y.jsx(hK,{})]}):e.length>0?y.jsxs(y.Fragment,{children:[y.jsxs("table",{className:"modern-table q-desktop",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Quotation #"}),y.jsx("th",{children:"Student"}),y.jsx("th",{children:"Period"}),y.jsx("th",{children:"Classes"}),y.jsx("th",{children:"Amount"}),y.jsx("th",{style:{textAlign:"right"},children:"Actions"})]})}),y.jsx("tbody",{children:e.map(re=>y.jsxs("tr",{children:[y.jsx("td",{children:y.jsxs("span",{className:"inv-code",children:["#",re.id.slice(-8).toUpperCase()]})}),y.jsx("td",{children:y.jsxs("div",{className:"st-cell",children:[y.jsx("strong",{children:re.studentSnapshot?.name}),y.jsx("span",{className:`course-tag ${re.studentSnapshot?.course?.toLowerCase()}`,children:re.studentSnapshot?.course})]})}),y.jsx("td",{children:y.jsxs("div",{className:"period-badge",children:[y.jsx(Bs,{size:14}),y.jsx("span",{children:G(re)})]})}),y.jsx("td",{children:y.jsx("span",{className:"class-count",children:re.classCount})}),y.jsx("td",{children:y.jsxs("span",{className:"total-amt",children:["",re.totalAmount?.toLocaleString()]})}),y.jsx("td",{align:"right",children:y.jsxs("div",{className:"action-row",children:[y.jsx("button",{onClick:()=>window.open(`${window.location.origin}${window.location.pathname}#/invoice/${re.id}`,"_blank"),className:"action-btn",title:"View",children:y.jsx(lp,{size:18})}),y.jsx("button",{onClick:()=>H(re.id),className:"action-btn",title:"Copy Link",children:P===re.id?y.jsx(ih,{size:18,className:"text-success"}):y.jsx(q0,{size:18})}),y.jsx("button",{onClick:()=>J(re.id),className:"action-btn delete",title:"Delete",children:y.jsx(cc,{size:18})})]})})]},re.id))})]}),y.jsx("div",{className:"mobile-cards q-mobile",children:e.map(re=>y.jsxs(xn.div,{className:"q-mobile-card glass",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[y.jsxs("div",{className:"qmc-top",children:[y.jsxs("span",{className:"inv-code",children:["#",re.id.slice(-8).toUpperCase()]}),y.jsx("span",{className:`course-tag ${re.studentSnapshot?.course?.toLowerCase()}`,children:re.studentSnapshot?.course})]}),y.jsx("div",{className:"qmc-name",children:re.studentSnapshot?.name}),y.jsxs("div",{className:"qmc-meta",children:[y.jsxs("div",{className:"period-badge",children:[y.jsx(Bs,{size:13}),y.jsx("span",{children:G(re)})]}),y.jsxs("span",{className:"class-count",children:[re.classCount," classes"]})]}),y.jsxs("div",{className:"qmc-bottom",children:[y.jsxs("span",{className:"total-amt",children:["",re.totalAmount?.toLocaleString()]}),y.jsxs("div",{className:"action-row",children:[y.jsx("button",{onClick:()=>window.open(`${window.location.origin}${window.location.pathname}#/invoice/${re.id}`,"_blank"),className:"action-btn",title:"View",children:y.jsx(lp,{size:16})}),y.jsx("button",{onClick:()=>H(re.id),className:"action-btn",title:"Copy Link",children:P===re.id?y.jsx(ih,{size:16,className:"text-success"}):y.jsx(q0,{size:16})}),y.jsx("button",{onClick:()=>J(re.id),className:"action-btn delete",title:"Delete",children:y.jsx(cc,{size:16})})]})]})]},re.id))})]}):y.jsxs("div",{className:"empty-box",children:[y.jsx("div",{className:"empty-icon-wrap",children:y.jsx(rc,{size:48})}),y.jsx("h4",{children:"No quotations yet"}),y.jsx("p",{children:"Create your first quotation to get started"}),y.jsxs("button",{className:"btn-primary",onClick:()=>p(!0),children:[y.jsx(Y0,{size:18})," Create First Quotation"]})]})}),y.jsx(Ba,{children:u&&y.jsx("div",{className:"modal-overlay",children:y.jsxs(xn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"glass modal-card",children:[y.jsxs("div",{className:"modal-header",children:[y.jsxs("div",{children:[y.jsx("h3",{children:"Generate Quotation"}),y.jsx("p",{children:"Preliminary estimate for student"})]}),y.jsx("button",{className:"close-btn",onClick:()=>p(!1),children:""})]}),y.jsxs("form",{onSubmit:B,className:"gen-form",children:[y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Student"}),y.jsxs("select",{className:"input-field",value:K.studentId,onChange:re=>Z({...K,studentId:re.target.value}),required:!0,children:[y.jsx("option",{value:"",children:"-- Select Student --"}),r.map(re=>y.jsxs("option",{value:re.id,children:[re.name," (",re.course||"Beginner",")"]},re.id))]})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Billing Type & Classes"}),y.jsxs("div",{className:"attendance-preview-box",children:[y.jsxs("div",{className:"att-info",children:[y.jsx(Bs,{size:16}),y.jsxs("span",{children:["Attendance Found: ",y.jsxs("strong",{children:[S?"...":A," classes"]})]})]}),y.jsx("input",{type:"number",className:"input-field override-input",placeholder:"Total",value:K.manualClasses,onChange:re=>Z({...K,manualClasses:re.target.value})})]})]}),j.length>0&&y.jsxs("div",{className:"input-group",children:[y.jsxs("label",{children:["Session Dates (",K.selectedDates.length," selected)"]}),y.jsx("div",{className:"dates-grid",children:j.map((re,ue)=>{const me=re.toISOString(),Re=K.selectedDates.includes(me);return y.jsxs("button",{type:"button",className:`date-chip ${Re?"selected":""}`,onClick:()=>{const Be=Re?K.selectedDates.filter(be=>be!==me):[...K.selectedDates,me];Z({...K,selectedDates:Be,manualClasses:Be.length||""})},children:[y.jsx("span",{className:"day-name",children:Tt(re,"EEE")}),y.jsx("span",{className:"day-num",children:Tt(re,"dd")}),y.jsx("span",{className:"month-name",children:Tt(re,"MMM")})]},ue)})})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"End Month"}),y.jsx("select",{className:"input-field",value:K.endMonth,onChange:re=>Z({...K,endMonth:re.target.value}),children:[...Array(12)].map((re,ue)=>{const me=String(ue+1).padStart(2,"0");return y.jsx("option",{value:me,children:Tt(new Date(2e3,ue),"MMMM")},me)})})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Year"}),y.jsx("input",{type:"number",className:"input-field",value:K.endYear,onChange:re=>Z({...K,endYear:re.target.value})})]})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Month Span"}),y.jsx("div",{className:"month-count-selector",children:j9e.map(re=>y.jsx("button",{type:"button",className:`count-option ${K.monthCount===re.value?"active":""}`,onClick:()=>Z({...K,monthCount:re.value}),children:re.label},re.value))})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Adjustment Label"}),y.jsx("input",{type:"text",className:"input-field",placeholder:"Label",value:K.adjLabel,onChange:re=>Z({...K,adjLabel:re.target.value})})]}),y.jsxs("div",{className:"input-group",children:[y.jsx("label",{children:"Amount (+/-)"}),y.jsx("input",{type:"number",className:"input-field",placeholder:"0",value:K.adjustment,onChange:re=>Z({...K,adjustment:re.target.value})})]})]}),y.jsxs("div",{className:"modal-footer",children:[y.jsx("button",{type:"button",className:"cancel-link",onClick:()=>p(!1),children:"Cancel"}),y.jsxs("button",{type:"submit",className:"btn-primary",disabled:x||!K.studentId,children:[x?y.jsx(ns,{className:"animate-spin",size:20}):y.jsx(Y0,{size:20}),y.jsx("span",{children:x?"Creating...":"Generate"})]})]})]})]})})}),y.jsx("style",{jsx:"true",children:`
                .quotations-page { padding: 20px; max-width: 1200px; margin: 0 auto; }

                /* Page Header */
                .quotations-page .page-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 24px 28px;
                    margin-bottom: 20px;
                }
                .quotations-page .title-group h3 {
                    font-size: 1.5rem;
                    font-weight: 800;
                    margin: 0;
                    color: var(--text-main);
                }
                .quotations-page .title-group p {
                    font-size: 0.85rem;
                    color: var(--text-muted);
                    margin: 4px 0 0;
                }
                .quotations-page .header-actions {
                    display: flex;
                    gap: 10px;
                    align-items: center;
                }
                .quotations-page .sync-btn {
                    width: 42px;
                    height: 42px;
                    border-radius: 12px;
                    background: var(--bg-secondary);
                    color: var(--text-muted);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border: 1px solid var(--border-color);
                    cursor: pointer;
                    transition: all 0.2s;
                }
                .quotations-page .sync-btn:hover {
                    color: var(--primary);
                    border-color: var(--primary);
                    transform: translateY(-1px);
                }
                .quotations-page .btn-primary {
                    display: flex;
                    align-items: center;
                    gap: 8px;
                    padding: 10px 20px;
                    background: var(--primary);
                    color: white;
                    border-radius: 12px;
                    font-weight: 700;
                    font-size: 0.9rem;
                    border: none;
                    cursor: pointer;
                    transition: all 0.2s;
                    box-shadow: 0 4px 14px rgba(37, 99, 235, 0.25);
                }
                .quotations-page .btn-primary:hover {
                    background: var(--primary-hover);
                    transform: translateY(-1px);
                    box-shadow: 0 6px 20px rgba(37, 99, 235, 0.35);
                }
                .quotations-page .btn-primary:disabled {
                    opacity: 0.6;
                    cursor: not-allowed;
                    transform: none;
                }

                /* Table Container */
                .quotations-page .table-container {
                    padding: 0;
                    background: var(--bg-card);
                    border-radius: 16px;
                    overflow: hidden;
                    min-height: 200px;
                }

                /* Summary Stats */
                .q-stats-row {
                    display: grid;
                    grid-template-columns: repeat(3, 1fr);
                    gap: 16px;
                    margin-bottom: 20px;
                }
                .q-stat-card {
                    display: flex;
                    align-items: center;
                    gap: 14px;
                    padding: 18px 20px;
                }
                .q-stat-icon {
                    width: 44px;
                    height: 44px;
                    border-radius: 12px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    flex-shrink: 0;
                }
                .q-stat-info {
                    display: flex;
                    flex-direction: column;
                }
                .q-stat-label {
                    font-size: 0.75rem;
                    font-weight: 600;
                    color: var(--text-muted);
                    text-transform: uppercase;
                    letter-spacing: 0.5px;
                }
                .q-stat-value {
                    font-size: 1.3rem;
                    font-weight: 800;
                    color: var(--text-main);
                }

                /* Table Styling */
                .action-btn {
                    width: 34px; height: 34px; border-radius: 8px;
                    background: var(--bg-secondary); color: var(--text-muted);
                    display: flex; align-items: center; justify-content: center;
                    border: 1px solid var(--border-color);
                    cursor: pointer;
                    transition: all 0.2s;
                }
                .action-btn:hover { background: var(--primary-light); color: var(--primary); border-color: var(--primary); transform: translateY(-1px); }
                .action-btn.delete:hover { background: #fef2f2; color: #ef4444; border-color: #ef4444; }
                .action-row { display: flex; gap: 6px; justify-content: flex-end; }
                .inv-code {
                    font-family: 'JetBrains Mono', monospace; font-weight: 700;
                    color: #0ea5e9; background: rgba(14, 165, 233, 0.1);
                    padding: 4px 10px; border-radius: 6px; font-size: 0.82rem;
                    letter-spacing: 0.5px;
                }
                .st-cell { display: flex; flex-direction: column; gap: 4px; }
                .period-badge { display: flex; align-items: center; gap: 6px; color: var(--text-muted); font-size: 0.88rem; }
                .total-amt { font-weight: 800; color: var(--text-main); font-size: 1rem; }
                .class-count { font-weight: 700; color: var(--primary); }
                .course-tag {
                    font-size: 0.62rem; font-weight: 700; padding: 2px 8px;
                    border-radius: 4px; text-transform: uppercase; width: fit-content;
                    letter-spacing: 0.3px;
                }
                .course-tag.beginner { background: #dcfce7; color: #15803d; }
                .course-tag.intermediate { background: #fef3c7; color: #92400e; }
                .course-tag.advanced { background: #fee2e2; color: #991b1b; }

                /* Desktop / Mobile Toggle */
                .q-desktop { display: table; width: 100%; }
                .q-mobile { display: none; }

                .q-mobile-card {
                    padding: 16px 18px;
                    border-radius: 14px;
                    margin: 12px;
                    border: 1px solid var(--border-color);
                    background: var(--bg-card);
                }
                .q-mobile-card:first-child { margin-top: 12px; }
                .q-mobile-card:last-child { margin-bottom: 12px; }
                .qmc-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
                .qmc-name { font-weight: 700; font-size: 1.05rem; color: var(--text-main); margin-bottom: 6px; }
                .qmc-meta {
                    display: flex; justify-content: space-between; align-items: center;
                    margin-bottom: 12px; padding-bottom: 12px;
                    border-bottom: 1px solid var(--border-color);
                }
                .qmc-bottom { display: flex; justify-content: space-between; align-items: center; }

                /* Empty State */
                .empty-box {
                    display: flex; flex-direction: column; align-items: center;
                    justify-content: center; padding: 60px 20px; text-align: center;
                }
                .empty-icon-wrap {
                    width: 80px; height: 80px; border-radius: 20px;
                    background: linear-gradient(135deg, rgba(99,102,241,0.1), rgba(139,92,246,0.1));
                    display: flex; align-items: center; justify-content: center;
                    color: #3b82f6; margin-bottom: 16px;
                }
                .empty-box h4 { font-size: 1.15rem; font-weight: 700; color: var(--text-main); margin-bottom: 4px; }
                .empty-box p { font-size: 0.9rem; color: var(--text-muted); margin-bottom: 20px; }

                /* Modal */
                .modal-overlay {
                    position: fixed;
                    top: 0; left: 0; right: 0; bottom: 0;
                    background: rgba(15, 23, 42, 0.6);
                    backdrop-filter: blur(6px);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    z-index: 1000;
                    padding: 20px;
                }
                .modal-card {
                    width: 100%;
                    max-width: 560px;
                    max-height: 85vh;
                    overflow-y: auto;
                    border-radius: 20px;
                    padding: 28px;
                    background: var(--bg-card);
                    border: 1px solid var(--border-color);
                    box-shadow: 0 24px 48px rgba(0, 0, 0, 0.15);
                }
                .modal-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: flex-start;
                    margin-bottom: 24px;
                }
                .modal-header h3 { font-size: 1.25rem; font-weight: 800; margin: 0; color: var(--text-main); }
                .modal-header p { font-size: 0.85rem; color: var(--text-muted); margin: 4px 0 0; }
                .close-btn {
                    width: 36px; height: 36px; border-radius: 10px;
                    background: var(--bg-secondary); color: var(--text-muted);
                    display: flex; align-items: center; justify-content: center;
                    font-size: 1.3rem; cursor: pointer; border: 1px solid var(--border-color);
                    transition: all 0.2s;
                }
                .close-btn:hover { color: var(--danger); border-color: var(--danger); }
                .modal-footer {
                    display: flex;
                    justify-content: flex-end;
                    gap: 12px;
                    margin-top: 24px;
                    padding-top: 20px;
                    border-top: 1px solid var(--border-color);
                }
                .cancel-link {
                    padding: 10px 20px;
                    background: none;
                    color: var(--text-muted);
                    font-weight: 600;
                    border: none;
                    cursor: pointer;
                    border-radius: 10px;
                    transition: all 0.2s;
                }
                .cancel-link:hover { background: var(--bg-secondary); color: var(--text-main); }

                /* Form */
                .gen-form { display: flex; flex-direction: column; gap: 16px; }
                .input-group { display: flex; flex-direction: column; gap: 6px; }
                .input-group label {
                    font-size: 0.8rem; font-weight: 700; color: var(--text-muted);
                    text-transform: uppercase; letter-spacing: 0.5px;
                }
                .input-field {
                    width: 100%;
                    padding: 10px 14px;
                    border-radius: 10px;
                    border: 1px solid var(--border-color);
                    background: var(--bg-secondary);
                    color: var(--text-main);
                    font-size: 0.9rem;
                    font-family: inherit;
                    transition: all 0.2s;
                    outline: none;
                }
                .input-field:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1); }
                .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
                .month-count-selector { display: flex; gap: 8px; flex-wrap: wrap; }
                .count-option {
                    padding: 8px 16px;
                    border-radius: 10px;
                    border: 1px solid var(--border-color);
                    background: var(--bg-secondary);
                    color: var(--text-muted);
                    font-weight: 600;
                    font-size: 0.85rem;
                    cursor: pointer;
                    transition: all 0.2s;
                }
                .count-option:hover { border-color: var(--primary); color: var(--primary); }
                .count-option.active {
                    background: var(--primary);
                    color: white;
                    border-color: var(--primary);
                    box-shadow: 0 2px 8px rgba(37, 99, 235, 0.3);
                }

                /* Date Chips */
                .dates-grid {
                    display: grid; grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
                    gap: 8px; max-height: 150px; overflow-y: auto; padding: 10px;
                    background: var(--bg-secondary); border-radius: 12px; margin-bottom: 8px;
                }
                .date-chip {
                    display: flex; flex-direction: column; align-items: center;
                    padding: 8px 4px; background: var(--bg-card);
                    border: 1px solid var(--border-color); border-radius: 8px;
                    cursor: pointer; transition: all 0.2s;
                }
                .date-chip:hover { border-color: var(--primary); transform: translateY(-1px); }
                .date-chip.selected { background: var(--primary); border-color: var(--primary); color: white; }
                .date-chip .day-name { font-size: 0.65rem; font-weight: 700; text-transform: uppercase; opacity: 0.7; }
                .date-chip .day-num { font-size: 1.1rem; font-weight: 800; line-height: 1.1; margin: 2px 0; }
                .date-chip .month-name { font-size: 0.65rem; font-weight: 600; opacity: 0.8; }
                .attendance-preview-box {
                    display: flex; align-items: center; gap: 12px; padding: 12px;
                    background: var(--bg-secondary); border-radius: 10px; margin-bottom: 8px;
                }
                .att-info { display: flex; align-items: center; gap: 8px; font-size: 0.9rem; color: var(--text-muted); flex: 1; }
                .override-input { width: 100px !important; margin: 0 !important; font-weight: 800; text-align: center; }

                /* Animations */
                .animate-spin { animation: spin 1s linear infinite; }
                @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

                @media (max-width: 768px) {
                    .quotations-page { padding: 12px; }
                    .quotations-page .page-header { flex-direction: column; gap: 12px; align-items: flex-start; padding: 18px 20px; }
                    .q-stats-row { grid-template-columns: 1fr; gap: 10px; }
                    .q-desktop { display: none !important; }
                    .q-mobile { display: block !important; }
                    .form-row { grid-template-columns: 1fr; }
                    .modal-card { padding: 20px; }
                }
            `})]})};function F9e(){return y.jsxs(PJ,{children:[y.jsx(so,{path:"/login",element:y.jsx(eme,{})}),y.jsx(so,{path:"/invoice/:invoiceId",element:y.jsx(N9e,{})}),y.jsxs(so,{element:y.jsx(Wme,{}),children:[y.jsx(so,{path:"/",element:y.jsx(i8e,{})}),y.jsx(so,{path:"/students",element:y.jsx(w8e,{})}),y.jsx(so,{path:"/attendance",element:y.jsx(_8e,{})}),y.jsx(so,{path:"/invoices",element:y.jsx(y9e,{})}),y.jsx(so,{path:"/quotations",element:y.jsx(L9e,{})}),y.jsx(so,{path:"/insights",element:y.jsx(M9e,{})}),y.jsx(so,{path:"/analytics",element:y.jsx(O9e,{})}),y.jsx(so,{path:"/settings",element:y.jsx(P9e,{})})]}),y.jsx(so,{path:"*",element:y.jsx(Gme,{})})]})}const B9e=R.createContext(),U9e=({children:t})=>{const[e,n]=R.useState(navigator.onLine),[r,i]=R.useState(!1);return R.useEffect(()=>{const a=()=>{n(!0),i(!0),setTimeout(()=>i(!1),3e3)},s=()=>{n(!1),i(!0)};return window.addEventListener("online",a),window.addEventListener("offline",s),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",s)}},[]),y.jsxs(B9e.Provider,{value:{isOnline:e},children:[t,r&&y.jsx("div",{className:`network-banner ${e?"online":"offline"}`,children:e?y.jsxs(y.Fragment,{children:[y.jsx(ife,{size:18}),y.jsx("span",{children:"You're back online!"})]}):y.jsxs(y.Fragment,{children:[y.jsx(nfe,{size:18}),y.jsx("span",{children:"You're offline. Some features may not work."})]})}),y.jsx("style",{jsx:"true",children:`
        .network-banner {
          position: fixed;
          bottom: 20px;
          left: 50%;
          transform: translateX(-50%);
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 12px 24px;
          border-radius: 50px;
          font-weight: 600;
          font-size: 0.9rem;
          z-index: 9999;
          animation: slideUp 0.3s ease;
          box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .network-banner.online {
          background: linear-gradient(135deg, #10b981 0%, #059669 100%);
          color: white;
        }

        .network-banner.offline {
          background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
          color: white;
        }

        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateX(-50%) translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
          }
        }
      `})]})},AT=document.getElementById("preloader");AT&&(AT.classList.add("hide"),setTimeout(()=>AT.remove(),500));kZ.createRoot(document.getElementById("root")).render(y.jsx(R.StrictMode,{children:y.jsx(aee,{children:y.jsx(tme,{children:y.jsx(U9e,{children:y.jsx(h8e,{children:y.jsx(ece,{children:y.jsx(F9e,{})})})})})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered:",t.scope)}).catch(t=>{console.log("SW registration failed:",t)})});
